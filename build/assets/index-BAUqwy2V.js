(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var gn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Od(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function s3(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var o3={exports:{}},kd={},a3={exports:{}},rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ll=Symbol.for("react.element"),p_=Symbol.for("react.portal"),g_=Symbol.for("react.fragment"),m_=Symbol.for("react.strict_mode"),y_=Symbol.for("react.profiler"),v_=Symbol.for("react.provider"),b_=Symbol.for("react.context"),w_=Symbol.for("react.forward_ref"),E_=Symbol.for("react.suspense"),__=Symbol.for("react.memo"),S_=Symbol.for("react.lazy"),Vm=Symbol.iterator;function A_(e){return e===null||typeof e!="object"?null:(e=Vm&&e[Vm]||e["@@iterator"],typeof e=="function"?e:null)}var u3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},c3=Object.assign,l3={};function gu(e,t,r){this.props=e,this.context=t,this.refs=l3,this.updater=r||u3}gu.prototype.isReactComponent={};gu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};gu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function f3(){}f3.prototype=gu.prototype;function L1(e,t,r){this.props=e,this.context=t,this.refs=l3,this.updater=r||u3}var U1=L1.prototype=new f3;U1.constructor=L1;c3(U1,gu.prototype);U1.isPureReactComponent=!0;var Wm=Array.isArray,d3=Object.prototype.hasOwnProperty,$1={current:null},h3={key:!0,ref:!0,__self:!0,__source:!0};function p3(e,t,r){var n,i={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)d3.call(t,n)&&!h3.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:ll,type:e,key:s,ref:o,props:i,_owner:$1.current}}function I_(e,t){return{$$typeof:ll,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function z1(e){return typeof e=="object"&&e!==null&&e.$$typeof===ll}function x_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Ym=/\/+/g;function kh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?x_(""+e.key):t.toString(36)}function mf(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ll:case p_:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+kh(o,0):n,Wm(i)?(r="",e!=null&&(r=e.replace(Ym,"$&/")+"/"),mf(i,t,r,"",function(c){return c})):i!=null&&(z1(i)&&(i=I_(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ym,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",Wm(e))for(var a=0;a<e.length;a++){s=e[a];var u=n+kh(s,a);o+=mf(s,t,r,u,i)}else if(u=A_(e),typeof u=="function")for(e=u.call(e),a=0;!(s=e.next()).done;)s=s.value,u=n+kh(s,a++),o+=mf(s,t,r,u,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ll(e,t,r){if(e==null)return e;var n=[],i=0;return mf(e,n,"","",function(s){return t.call(r,s,i++)}),n}function M_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Lr={current:null},yf={transition:null},R_={ReactCurrentDispatcher:Lr,ReactCurrentBatchConfig:yf,ReactCurrentOwner:$1};function g3(){throw Error("act(...) is not supported in production builds of React.")}rt.Children={map:Ll,forEach:function(e,t,r){Ll(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ll(e,function(){t++}),t},toArray:function(e){return Ll(e,function(t){return t})||[]},only:function(e){if(!z1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};rt.Component=gu;rt.Fragment=g_;rt.Profiler=y_;rt.PureComponent=L1;rt.StrictMode=m_;rt.Suspense=E_;rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R_;rt.act=g3;rt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=c3({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=$1.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)d3.call(t,u)&&!h3.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:ll,type:e.type,key:i,ref:s,props:n,_owner:o}};rt.createContext=function(e){return e={$$typeof:b_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:v_,_context:e},e.Consumer=e};rt.createElement=p3;rt.createFactory=function(e){var t=p3.bind(null,e);return t.type=e,t};rt.createRef=function(){return{current:null}};rt.forwardRef=function(e){return{$$typeof:w_,render:e}};rt.isValidElement=z1;rt.lazy=function(e){return{$$typeof:S_,_payload:{_status:-1,_result:e},_init:M_}};rt.memo=function(e,t){return{$$typeof:__,type:e,compare:t===void 0?null:t}};rt.startTransition=function(e){var t=yf.transition;yf.transition={};try{e()}finally{yf.transition=t}};rt.unstable_act=g3;rt.useCallback=function(e,t){return Lr.current.useCallback(e,t)};rt.useContext=function(e){return Lr.current.useContext(e)};rt.useDebugValue=function(){};rt.useDeferredValue=function(e){return Lr.current.useDeferredValue(e)};rt.useEffect=function(e,t){return Lr.current.useEffect(e,t)};rt.useId=function(){return Lr.current.useId()};rt.useImperativeHandle=function(e,t,r){return Lr.current.useImperativeHandle(e,t,r)};rt.useInsertionEffect=function(e,t){return Lr.current.useInsertionEffect(e,t)};rt.useLayoutEffect=function(e,t){return Lr.current.useLayoutEffect(e,t)};rt.useMemo=function(e,t){return Lr.current.useMemo(e,t)};rt.useReducer=function(e,t,r){return Lr.current.useReducer(e,t,r)};rt.useRef=function(e){return Lr.current.useRef(e)};rt.useState=function(e){return Lr.current.useState(e)};rt.useSyncExternalStore=function(e,t,r){return Lr.current.useSyncExternalStore(e,t,r)};rt.useTransition=function(){return Lr.current.useTransition()};rt.version="18.3.1";a3.exports=rt;var q1=a3.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_=q1,D_=Symbol.for("react.element"),T_=Symbol.for("react.fragment"),N_=Object.prototype.hasOwnProperty,P_=C_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,O_={key:!0,ref:!0,__self:!0,__source:!0};function m3(e,t,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)N_.call(t,n)&&!O_.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:D_,type:e,key:s,ref:o,props:i,_owner:P_.current}}kd.Fragment=T_;kd.jsx=m3;kd.jsxs=m3;o3.exports=kd;var yc=o3.exports,y3={exports:{}},An={},v3={exports:{}},b3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,I){var p=R.length;R.push(I);e:for(;0<p;){var g=p-1>>>1,B=R[g];if(0<i(B,I))R[g]=I,R[p]=B,p=g;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var I=R[0],p=R.pop();if(p!==I){R[0]=p;e:for(var g=0,B=R.length,Y=B>>>1;g<Y;){var te=2*(g+1)-1,P=R[te],J=te+1,j=R[J];if(0>i(P,p))J<B&&0>i(j,P)?(R[g]=j,R[J]=p,g=J):(R[g]=P,R[te]=p,g=te);else if(J<B&&0>i(j,p))R[g]=j,R[J]=p,g=J;else break e}}return I}function i(R,I){var p=R.sortIndex-I.sortIndex;return p!==0?p:R.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],c=[],f=1,h=null,y=3,v=!1,w=!1,C=!1,N=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(R){for(var I=r(c);I!==null;){if(I.callback===null)n(c);else if(I.startTime<=R)n(c),I.sortIndex=I.expirationTime,t(u,I);else break;I=r(c)}}function k(R){if(C=!1,O(R),!w)if(r(u)!==null)w=!0,A(L);else{var I=r(c);I!==null&&D(k,I.startTime-R)}}function L(R,I){w=!1,C&&(C=!1,T(U),U=-1),v=!0;var p=y;try{for(O(I),h=r(u);h!==null&&(!(h.expirationTime>I)||R&&!q());){var g=h.callback;if(typeof g=="function"){h.callback=null,y=h.priorityLevel;var B=g(h.expirationTime<=I);I=e.unstable_now(),typeof B=="function"?h.callback=B:h===r(u)&&n(u),O(I)}else n(u);h=r(u)}if(h!==null)var Y=!0;else{var te=r(c);te!==null&&D(k,te.startTime-I),Y=!1}return Y}finally{h=null,y=p,v=!1}}var $=!1,E=null,U=-1,Z=5,ne=-1;function q(){return!(e.unstable_now()-ne<Z)}function b(){if(E!==null){var R=e.unstable_now();ne=R;var I=!0;try{I=E(!0,R)}finally{I?l():($=!1,E=null)}}else $=!1}var l;if(typeof x=="function")l=function(){x(b)};else if(typeof MessageChannel<"u"){var d=new MessageChannel,m=d.port2;d.port1.onmessage=b,l=function(){m.postMessage(null)}}else l=function(){N(b,0)};function A(R){E=R,$||($=!0,l())}function D(R,I){U=N(function(){R(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){w||v||(w=!0,A(L))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(R){switch(y){case 1:case 2:case 3:var I=3;break;default:I=y}var p=y;y=I;try{return R()}finally{y=p}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,I){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var p=y;y=R;try{return I()}finally{y=p}},e.unstable_scheduleCallback=function(R,I,p){var g=e.unstable_now();switch(typeof p=="object"&&p!==null?(p=p.delay,p=typeof p=="number"&&0<p?g+p:g):p=g,R){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=p+B,R={id:f++,callback:I,priorityLevel:R,startTime:p,expirationTime:B,sortIndex:-1},p>g?(R.sortIndex=p,t(c,R),r(u)===null&&R===r(c)&&(C?(T(U),U=-1):C=!0,D(k,p-g))):(R.sortIndex=B,t(u,R),w||v||(w=!0,A(L))),R},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(R){var I=y;return function(){var p=y;y=I;try{return R.apply(this,arguments)}finally{y=p}}}})(b3);v3.exports=b3;var k_=v3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_=q1,_n=k_;function fe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w3=new Set,Pc={};function ra(e,t){eu(e,t),eu(e+"Capture",t)}function eu(e,t){for(Pc[e]=t,e=0;e<t.length;e++)w3.add(t[e])}var _s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ip=Object.prototype.hasOwnProperty,B_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qm={},Jm={};function L_(e){return ip.call(Jm,e)?!0:ip.call(Qm,e)?!1:B_.test(e)?Jm[e]=!0:(Qm[e]=!0,!1)}function U_(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $_(e,t,r,n){if(t===null||typeof t>"u"||U_(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ur(e,t,r,n,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var vr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vr[e]=new Ur(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];vr[t]=new Ur(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vr[e]=new Ur(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vr[e]=new Ur(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vr[e]=new Ur(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vr[e]=new Ur(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vr[e]=new Ur(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vr[e]=new Ur(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vr[e]=new Ur(e,5,!1,e.toLowerCase(),null,!1,!1)});var j1=/[\-:]([a-z])/g;function H1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(j1,H1);vr[t]=new Ur(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(j1,H1);vr[t]=new Ur(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(j1,H1);vr[t]=new Ur(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vr[e]=new Ur(e,1,!1,e.toLowerCase(),null,!1,!1)});vr.xlinkHref=new Ur("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vr[e]=new Ur(e,1,!1,e.toLowerCase(),null,!0,!0)});function K1(e,t,r,n){var i=vr.hasOwnProperty(t)?vr[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($_(t,r,i,n)&&(r=null),n||i===null?L_(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Rs=F_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ul=Symbol.for("react.element"),Ma=Symbol.for("react.portal"),Ra=Symbol.for("react.fragment"),G1=Symbol.for("react.strict_mode"),sp=Symbol.for("react.profiler"),E3=Symbol.for("react.provider"),_3=Symbol.for("react.context"),V1=Symbol.for("react.forward_ref"),op=Symbol.for("react.suspense"),ap=Symbol.for("react.suspense_list"),W1=Symbol.for("react.memo"),Fs=Symbol.for("react.lazy"),S3=Symbol.for("react.offscreen"),Xm=Symbol.iterator;function zu(e){return e===null||typeof e!="object"?null:(e=Xm&&e[Xm]||e["@@iterator"],typeof e=="function"?e:null)}var kt=Object.assign,Fh;function cc(e){if(Fh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Fh=t&&t[1]||""}return`
`+Fh+e}var Bh=!1;function Lh(e,t){if(!e||Bh)return"";Bh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{Bh=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?cc(e):""}function z_(e){switch(e.tag){case 5:return cc(e.type);case 16:return cc("Lazy");case 13:return cc("Suspense");case 19:return cc("SuspenseList");case 0:case 2:case 15:return e=Lh(e.type,!1),e;case 11:return e=Lh(e.type.render,!1),e;case 1:return e=Lh(e.type,!0),e;default:return""}}function up(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ra:return"Fragment";case Ma:return"Portal";case sp:return"Profiler";case G1:return"StrictMode";case op:return"Suspense";case ap:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _3:return(e.displayName||"Context")+".Consumer";case E3:return(e._context.displayName||"Context")+".Provider";case V1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case W1:return t=e.displayName||null,t!==null?t:up(e.type)||"Memo";case Fs:t=e._payload,e=e._init;try{return up(e(t))}catch{}}return null}function q_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return up(t);case 8:return t===G1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function no(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function A3(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function j_(e){var t=A3(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $l(e){e._valueTracker||(e._valueTracker=j_(e))}function I3(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=A3(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function qf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function cp(e,t){var r=t.checked;return kt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Zm(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=no(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function x3(e,t){t=t.checked,t!=null&&K1(e,"checked",t,!1)}function lp(e,t){x3(e,t);var r=no(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fp(e,t.type,r):t.hasOwnProperty("defaultValue")&&fp(e,t.type,no(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ey(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function fp(e,t,r){(t!=="number"||qf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var lc=Array.isArray;function za(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+no(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function dp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(fe(91));return kt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ty(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(fe(92));if(lc(r)){if(1<r.length)throw Error(fe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:no(r)}}function M3(e,t){var r=no(t.value),n=no(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ry(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function R3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?R3(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var zl,C3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(zl=zl||document.createElement("div"),zl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=zl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Oc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var vc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},H_=["Webkit","ms","Moz","O"];Object.keys(vc).forEach(function(e){H_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vc[t]=vc[e]})});function D3(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||vc.hasOwnProperty(e)&&vc[e]?(""+t).trim():t+"px"}function T3(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=D3(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var K_=kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pp(e,t){if(t){if(K_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(fe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(fe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(fe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(fe(62))}}function gp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mp=null;function Y1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yp=null,qa=null,ja=null;function ny(e){if(e=hl(e)){if(typeof yp!="function")throw Error(fe(280));var t=e.stateNode;t&&(t=$d(t),yp(e.stateNode,e.type,t))}}function N3(e){qa?ja?ja.push(e):ja=[e]:qa=e}function P3(){if(qa){var e=qa,t=ja;if(ja=qa=null,ny(e),t)for(e=0;e<t.length;e++)ny(t[e])}}function O3(e,t){return e(t)}function k3(){}var Uh=!1;function F3(e,t,r){if(Uh)return e(t,r);Uh=!0;try{return O3(e,t,r)}finally{Uh=!1,(qa!==null||ja!==null)&&(k3(),P3())}}function kc(e,t){var r=e.stateNode;if(r===null)return null;var n=$d(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(fe(231,t,typeof r));return r}var vp=!1;if(_s)try{var qu={};Object.defineProperty(qu,"passive",{get:function(){vp=!0}}),window.addEventListener("test",qu,qu),window.removeEventListener("test",qu,qu)}catch{vp=!1}function G_(e,t,r,n,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(f){this.onError(f)}}var bc=!1,jf=null,Hf=!1,bp=null,V_={onError:function(e){bc=!0,jf=e}};function W_(e,t,r,n,i,s,o,a,u){bc=!1,jf=null,G_.apply(V_,arguments)}function Y_(e,t,r,n,i,s,o,a,u){if(W_.apply(this,arguments),bc){if(bc){var c=jf;bc=!1,jf=null}else throw Error(fe(198));Hf||(Hf=!0,bp=c)}}function na(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function B3(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function iy(e){if(na(e)!==e)throw Error(fe(188))}function Q_(e){var t=e.alternate;if(!t){if(t=na(e),t===null)throw Error(fe(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return iy(i),e;if(s===n)return iy(i),t;s=s.sibling}throw Error(fe(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(fe(189))}}if(r.alternate!==n)throw Error(fe(190))}if(r.tag!==3)throw Error(fe(188));return r.stateNode.current===r?e:t}function L3(e){return e=Q_(e),e!==null?U3(e):null}function U3(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=U3(e);if(t!==null)return t;e=e.sibling}return null}var $3=_n.unstable_scheduleCallback,sy=_n.unstable_cancelCallback,J_=_n.unstable_shouldYield,X_=_n.unstable_requestPaint,Kt=_n.unstable_now,Z_=_n.unstable_getCurrentPriorityLevel,Q1=_n.unstable_ImmediatePriority,z3=_n.unstable_UserBlockingPriority,Kf=_n.unstable_NormalPriority,e7=_n.unstable_LowPriority,q3=_n.unstable_IdlePriority,Fd=null,Di=null;function t7(e){if(Di&&typeof Di.onCommitFiberRoot=="function")try{Di.onCommitFiberRoot(Fd,e,void 0,(e.current.flags&128)===128)}catch{}}var li=Math.clz32?Math.clz32:i7,r7=Math.log,n7=Math.LN2;function i7(e){return e>>>=0,e===0?32:31-(r7(e)/n7|0)|0}var ql=64,jl=4194304;function fc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=fc(a):(s&=o,s!==0&&(n=fc(s)))}else o=r&~i,o!==0?n=fc(o):s!==0&&(n=fc(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-li(t),i=1<<r,n|=e[r],t&=~i;return n}function s7(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function o7(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-li(s),a=1<<o,u=i[o];u===-1?(!(a&r)||a&n)&&(i[o]=s7(a,t)):u<=t&&(e.expiredLanes|=a),s&=~a}}function wp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function j3(){var e=ql;return ql<<=1,!(ql&4194240)&&(ql=64),e}function $h(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function fl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-li(t),e[t]=r}function a7(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-li(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function J1(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-li(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var pt=0;function H3(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var K3,X1,G3,V3,W3,Ep=!1,Hl=[],Ys=null,Qs=null,Js=null,Fc=new Map,Bc=new Map,zs=[],u7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oy(e,t){switch(e){case"focusin":case"focusout":Ys=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":Fc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bc.delete(t.pointerId)}}function ju(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=hl(t),t!==null&&X1(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function c7(e,t,r,n,i){switch(t){case"focusin":return Ys=ju(Ys,e,t,r,n,i),!0;case"dragenter":return Qs=ju(Qs,e,t,r,n,i),!0;case"mouseover":return Js=ju(Js,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return Fc.set(s,ju(Fc.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Bc.set(s,ju(Bc.get(s)||null,e,t,r,n,i)),!0}return!1}function Y3(e){var t=To(e.target);if(t!==null){var r=na(t);if(r!==null){if(t=r.tag,t===13){if(t=B3(r),t!==null){e.blockedOn=t,W3(e.priority,function(){G3(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=_p(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);mp=n,r.target.dispatchEvent(n),mp=null}else return t=hl(r),t!==null&&X1(t),e.blockedOn=r,!1;t.shift()}return!0}function ay(e,t,r){vf(e)&&r.delete(t)}function l7(){Ep=!1,Ys!==null&&vf(Ys)&&(Ys=null),Qs!==null&&vf(Qs)&&(Qs=null),Js!==null&&vf(Js)&&(Js=null),Fc.forEach(ay),Bc.forEach(ay)}function Hu(e,t){e.blockedOn===t&&(e.blockedOn=null,Ep||(Ep=!0,_n.unstable_scheduleCallback(_n.unstable_NormalPriority,l7)))}function Lc(e){function t(i){return Hu(i,e)}if(0<Hl.length){Hu(Hl[0],e);for(var r=1;r<Hl.length;r++){var n=Hl[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ys!==null&&Hu(Ys,e),Qs!==null&&Hu(Qs,e),Js!==null&&Hu(Js,e),Fc.forEach(t),Bc.forEach(t),r=0;r<zs.length;r++)n=zs[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<zs.length&&(r=zs[0],r.blockedOn===null);)Y3(r),r.blockedOn===null&&zs.shift()}var Ha=Rs.ReactCurrentBatchConfig,Vf=!0;function f7(e,t,r,n){var i=pt,s=Ha.transition;Ha.transition=null;try{pt=1,Z1(e,t,r,n)}finally{pt=i,Ha.transition=s}}function d7(e,t,r,n){var i=pt,s=Ha.transition;Ha.transition=null;try{pt=4,Z1(e,t,r,n)}finally{pt=i,Ha.transition=s}}function Z1(e,t,r,n){if(Vf){var i=_p(e,t,r,n);if(i===null)Qh(e,t,n,Wf,r),oy(e,n);else if(c7(i,e,t,r,n))n.stopPropagation();else if(oy(e,n),t&4&&-1<u7.indexOf(e)){for(;i!==null;){var s=hl(i);if(s!==null&&K3(s),s=_p(e,t,r,n),s===null&&Qh(e,t,n,Wf,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Qh(e,t,n,null,r)}}var Wf=null;function _p(e,t,r,n){if(Wf=null,e=Y1(n),e=To(e),e!==null)if(t=na(e),t===null)e=null;else if(r=t.tag,r===13){if(e=B3(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wf=e,null}function Q3(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Z_()){case Q1:return 1;case z3:return 4;case Kf:case e7:return 16;case q3:return 536870912;default:return 16}default:return 16}}var Ks=null,eg=null,bf=null;function J3(){if(bf)return bf;var e,t=eg,r=t.length,n,i="value"in Ks?Ks.value:Ks.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[s-n];n++);return bf=i.slice(e,1<n?1-n:void 0)}function wf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Kl(){return!0}function uy(){return!1}function In(e){function t(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Kl:uy,this.isPropagationStopped=uy,this}return kt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Kl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Kl)},persist:function(){},isPersistent:Kl}),t}var mu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tg=In(mu),dl=kt({},mu,{view:0,detail:0}),h7=In(dl),zh,qh,Ku,Bd=kt({},dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ku&&(Ku&&e.type==="mousemove"?(zh=e.screenX-Ku.screenX,qh=e.screenY-Ku.screenY):qh=zh=0,Ku=e),zh)},movementY:function(e){return"movementY"in e?e.movementY:qh}}),cy=In(Bd),p7=kt({},Bd,{dataTransfer:0}),g7=In(p7),m7=kt({},dl,{relatedTarget:0}),jh=In(m7),y7=kt({},mu,{animationName:0,elapsedTime:0,pseudoElement:0}),v7=In(y7),b7=kt({},mu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),w7=In(b7),E7=kt({},mu,{data:0}),ly=In(E7),_7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},S7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},A7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function I7(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=A7[e])?!!t[e]:!1}function rg(){return I7}var x7=kt({},dl,{key:function(e){if(e.key){var t=_7[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=wf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?S7[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rg,charCode:function(e){return e.type==="keypress"?wf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),M7=In(x7),R7=kt({},Bd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fy=In(R7),C7=kt({},dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rg}),D7=In(C7),T7=kt({},mu,{propertyName:0,elapsedTime:0,pseudoElement:0}),N7=In(T7),P7=kt({},Bd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),O7=In(P7),k7=[9,13,27,32],ng=_s&&"CompositionEvent"in window,wc=null;_s&&"documentMode"in document&&(wc=document.documentMode);var F7=_s&&"TextEvent"in window&&!wc,X3=_s&&(!ng||wc&&8<wc&&11>=wc),dy=" ",hy=!1;function Z3(e,t){switch(e){case"keyup":return k7.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ew(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ca=!1;function B7(e,t){switch(e){case"compositionend":return ew(t);case"keypress":return t.which!==32?null:(hy=!0,dy);case"textInput":return e=t.data,e===dy&&hy?null:e;default:return null}}function L7(e,t){if(Ca)return e==="compositionend"||!ng&&Z3(e,t)?(e=J3(),bf=eg=Ks=null,Ca=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return X3&&t.locale!=="ko"?null:t.data;default:return null}}var U7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function py(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!U7[e.type]:t==="textarea"}function tw(e,t,r,n){N3(n),t=Yf(t,"onChange"),0<t.length&&(r=new tg("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ec=null,Uc=null;function $7(e){dw(e,0)}function Ld(e){var t=Na(e);if(I3(t))return e}function z7(e,t){if(e==="change")return t}var rw=!1;if(_s){var Hh;if(_s){var Kh="oninput"in document;if(!Kh){var gy=document.createElement("div");gy.setAttribute("oninput","return;"),Kh=typeof gy.oninput=="function"}Hh=Kh}else Hh=!1;rw=Hh&&(!document.documentMode||9<document.documentMode)}function my(){Ec&&(Ec.detachEvent("onpropertychange",nw),Uc=Ec=null)}function nw(e){if(e.propertyName==="value"&&Ld(Uc)){var t=[];tw(t,Uc,e,Y1(e)),F3($7,t)}}function q7(e,t,r){e==="focusin"?(my(),Ec=t,Uc=r,Ec.attachEvent("onpropertychange",nw)):e==="focusout"&&my()}function j7(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ld(Uc)}function H7(e,t){if(e==="click")return Ld(t)}function K7(e,t){if(e==="input"||e==="change")return Ld(t)}function G7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var di=typeof Object.is=="function"?Object.is:G7;function $c(e,t){if(di(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!ip.call(t,i)||!di(e[i],t[i]))return!1}return!0}function yy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vy(e,t){var r=yy(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=yy(r)}}function iw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?iw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function sw(){for(var e=window,t=qf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=qf(e.document)}return t}function ig(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function V7(e){var t=sw(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&iw(r.ownerDocument.documentElement,r)){if(n!==null&&ig(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=vy(r,s);var o=vy(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var W7=_s&&"documentMode"in document&&11>=document.documentMode,Da=null,Sp=null,_c=null,Ap=!1;function by(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ap||Da==null||Da!==qf(n)||(n=Da,"selectionStart"in n&&ig(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),_c&&$c(_c,n)||(_c=n,n=Yf(Sp,"onSelect"),0<n.length&&(t=new tg("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Da)))}function Gl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ta={animationend:Gl("Animation","AnimationEnd"),animationiteration:Gl("Animation","AnimationIteration"),animationstart:Gl("Animation","AnimationStart"),transitionend:Gl("Transition","TransitionEnd")},Gh={},ow={};_s&&(ow=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function Ud(e){if(Gh[e])return Gh[e];if(!Ta[e])return e;var t=Ta[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in ow)return Gh[e]=t[r];return e}var aw=Ud("animationend"),uw=Ud("animationiteration"),cw=Ud("animationstart"),lw=Ud("transitionend"),fw=new Map,wy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oo(e,t){fw.set(e,t),ra(t,[e])}for(var Vh=0;Vh<wy.length;Vh++){var Wh=wy[Vh],Y7=Wh.toLowerCase(),Q7=Wh[0].toUpperCase()+Wh.slice(1);oo(Y7,"on"+Q7)}oo(aw,"onAnimationEnd");oo(uw,"onAnimationIteration");oo(cw,"onAnimationStart");oo("dblclick","onDoubleClick");oo("focusin","onFocus");oo("focusout","onBlur");oo(lw,"onTransitionEnd");eu("onMouseEnter",["mouseout","mouseover"]);eu("onMouseLeave",["mouseout","mouseover"]);eu("onPointerEnter",["pointerout","pointerover"]);eu("onPointerLeave",["pointerout","pointerover"]);ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ra("onBeforeInput",["compositionend","keypress","textInput","paste"]);ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J7=new Set("cancel close invalid load scroll toggle".split(" ").concat(dc));function Ey(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Y_(n,t,void 0,e),e.currentTarget=null}function dw(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;Ey(i,a,c),s=u}else for(o=0;o<n.length;o++){if(a=n[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;Ey(i,a,c),s=u}}}if(Hf)throw e=bp,Hf=!1,bp=null,e}function Mt(e,t){var r=t[Cp];r===void 0&&(r=t[Cp]=new Set);var n=e+"__bubble";r.has(n)||(hw(t,e,2,!1),r.add(n))}function Yh(e,t,r){var n=0;t&&(n|=4),hw(r,e,n,t)}var Vl="_reactListening"+Math.random().toString(36).slice(2);function zc(e){if(!e[Vl]){e[Vl]=!0,w3.forEach(function(r){r!=="selectionchange"&&(J7.has(r)||Yh(r,!1,e),Yh(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vl]||(t[Vl]=!0,Yh("selectionchange",!1,t))}}function hw(e,t,r,n){switch(Q3(t)){case 1:var i=f7;break;case 4:i=d7;break;default:i=Z1}r=i.bind(null,t,r,e),i=void 0,!vp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Qh(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=To(a),o===null)return;if(u=o.tag,u===5||u===6){n=s=o;continue e}a=a.parentNode}}n=n.return}F3(function(){var c=s,f=Y1(r),h=[];e:{var y=fw.get(e);if(y!==void 0){var v=tg,w=e;switch(e){case"keypress":if(wf(r)===0)break e;case"keydown":case"keyup":v=M7;break;case"focusin":w="focus",v=jh;break;case"focusout":w="blur",v=jh;break;case"beforeblur":case"afterblur":v=jh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=cy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=g7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=D7;break;case aw:case uw:case cw:v=v7;break;case lw:v=N7;break;case"scroll":v=h7;break;case"wheel":v=O7;break;case"copy":case"cut":case"paste":v=w7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=fy}var C=(t&4)!==0,N=!C&&e==="scroll",T=C?y!==null?y+"Capture":null:y;C=[];for(var x=c,O;x!==null;){O=x;var k=O.stateNode;if(O.tag===5&&k!==null&&(O=k,T!==null&&(k=kc(x,T),k!=null&&C.push(qc(x,k,O)))),N)break;x=x.return}0<C.length&&(y=new v(y,w,null,r,f),h.push({event:y,listeners:C}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",y&&r!==mp&&(w=r.relatedTarget||r.fromElement)&&(To(w)||w[Ss]))break e;if((v||y)&&(y=f.window===f?f:(y=f.ownerDocument)?y.defaultView||y.parentWindow:window,v?(w=r.relatedTarget||r.toElement,v=c,w=w?To(w):null,w!==null&&(N=na(w),w!==N||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=c),v!==w)){if(C=cy,k="onMouseLeave",T="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(C=fy,k="onPointerLeave",T="onPointerEnter",x="pointer"),N=v==null?y:Na(v),O=w==null?y:Na(w),y=new C(k,x+"leave",v,r,f),y.target=N,y.relatedTarget=O,k=null,To(f)===c&&(C=new C(T,x+"enter",w,r,f),C.target=O,C.relatedTarget=N,k=C),N=k,v&&w)t:{for(C=v,T=w,x=0,O=C;O;O=ga(O))x++;for(O=0,k=T;k;k=ga(k))O++;for(;0<x-O;)C=ga(C),x--;for(;0<O-x;)T=ga(T),O--;for(;x--;){if(C===T||T!==null&&C===T.alternate)break t;C=ga(C),T=ga(T)}C=null}else C=null;v!==null&&_y(h,y,v,C,!1),w!==null&&N!==null&&_y(h,N,w,C,!0)}}e:{if(y=c?Na(c):window,v=y.nodeName&&y.nodeName.toLowerCase(),v==="select"||v==="input"&&y.type==="file")var L=z7;else if(py(y))if(rw)L=K7;else{L=j7;var $=q7}else(v=y.nodeName)&&v.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(L=H7);if(L&&(L=L(e,c))){tw(h,L,r,f);break e}$&&$(e,y,c),e==="focusout"&&($=y._wrapperState)&&$.controlled&&y.type==="number"&&fp(y,"number",y.value)}switch($=c?Na(c):window,e){case"focusin":(py($)||$.contentEditable==="true")&&(Da=$,Sp=c,_c=null);break;case"focusout":_c=Sp=Da=null;break;case"mousedown":Ap=!0;break;case"contextmenu":case"mouseup":case"dragend":Ap=!1,by(h,r,f);break;case"selectionchange":if(W7)break;case"keydown":case"keyup":by(h,r,f)}var E;if(ng)e:{switch(e){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else Ca?Z3(e,r)&&(U="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(U="onCompositionStart");U&&(X3&&r.locale!=="ko"&&(Ca||U!=="onCompositionStart"?U==="onCompositionEnd"&&Ca&&(E=J3()):(Ks=f,eg="value"in Ks?Ks.value:Ks.textContent,Ca=!0)),$=Yf(c,U),0<$.length&&(U=new ly(U,e,null,r,f),h.push({event:U,listeners:$}),E?U.data=E:(E=ew(r),E!==null&&(U.data=E)))),(E=F7?B7(e,r):L7(e,r))&&(c=Yf(c,"onBeforeInput"),0<c.length&&(f=new ly("onBeforeInput","beforeinput",null,r,f),h.push({event:f,listeners:c}),f.data=E))}dw(h,t)})}function qc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Yf(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=kc(e,r),s!=null&&n.unshift(qc(e,s,i)),s=kc(e,t),s!=null&&n.push(qc(e,s,i))),e=e.return}return n}function ga(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _y(e,t,r,n,i){for(var s=t._reactName,o=[];r!==null&&r!==n;){var a=r,u=a.alternate,c=a.stateNode;if(u!==null&&u===n)break;a.tag===5&&c!==null&&(a=c,i?(u=kc(r,s),u!=null&&o.unshift(qc(r,u,a))):i||(u=kc(r,s),u!=null&&o.push(qc(r,u,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var X7=/\r\n?/g,Z7=/\u0000|\uFFFD/g;function Sy(e){return(typeof e=="string"?e:""+e).replace(X7,`
`).replace(Z7,"")}function Wl(e,t,r){if(t=Sy(t),Sy(e)!==t&&r)throw Error(fe(425))}function Qf(){}var Ip=null,xp=null;function Mp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Rp=typeof setTimeout=="function"?setTimeout:void 0,eS=typeof clearTimeout=="function"?clearTimeout:void 0,Ay=typeof Promise=="function"?Promise:void 0,tS=typeof queueMicrotask=="function"?queueMicrotask:typeof Ay<"u"?function(e){return Ay.resolve(null).then(e).catch(rS)}:Rp;function rS(e){setTimeout(function(){throw e})}function Jh(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Lc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Lc(t)}function Xs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Iy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var yu=Math.random().toString(36).slice(2),Mi="__reactFiber$"+yu,jc="__reactProps$"+yu,Ss="__reactContainer$"+yu,Cp="__reactEvents$"+yu,nS="__reactListeners$"+yu,iS="__reactHandles$"+yu;function To(e){var t=e[Mi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ss]||r[Mi]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Iy(e);e!==null;){if(r=e[Mi])return r;e=Iy(e)}return t}e=r,r=e.parentNode}return null}function hl(e){return e=e[Mi]||e[Ss],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Na(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(fe(33))}function $d(e){return e[jc]||null}var Dp=[],Pa=-1;function ao(e){return{current:e}}function Ct(e){0>Pa||(e.current=Dp[Pa],Dp[Pa]=null,Pa--)}function St(e,t){Pa++,Dp[Pa]=e.current,e.current=t}var io={},Dr=ao(io),tn=ao(!1),qo=io;function tu(e,t){var r=e.type.contextTypes;if(!r)return io;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function rn(e){return e=e.childContextTypes,e!=null}function Jf(){Ct(tn),Ct(Dr)}function xy(e,t,r){if(Dr.current!==io)throw Error(fe(168));St(Dr,t),St(tn,r)}function pw(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(fe(108,q_(e)||"Unknown",i));return kt({},r,n)}function Xf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||io,qo=Dr.current,St(Dr,e),St(tn,tn.current),!0}function My(e,t,r){var n=e.stateNode;if(!n)throw Error(fe(169));r?(e=pw(e,t,qo),n.__reactInternalMemoizedMergedChildContext=e,Ct(tn),Ct(Dr),St(Dr,e)):Ct(tn),St(tn,r)}var ds=null,zd=!1,Xh=!1;function gw(e){ds===null?ds=[e]:ds.push(e)}function sS(e){zd=!0,gw(e)}function uo(){if(!Xh&&ds!==null){Xh=!0;var e=0,t=pt;try{var r=ds;for(pt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ds=null,zd=!1}catch(i){throw ds!==null&&(ds=ds.slice(e+1)),$3(Q1,uo),i}finally{pt=t,Xh=!1}}return null}var Oa=[],ka=0,Zf=null,ed=0,zn=[],qn=0,jo=null,ys=1,vs="";function Mo(e,t){Oa[ka++]=ed,Oa[ka++]=Zf,Zf=e,ed=t}function mw(e,t,r){zn[qn++]=ys,zn[qn++]=vs,zn[qn++]=jo,jo=e;var n=ys;e=vs;var i=32-li(n)-1;n&=~(1<<i),r+=1;var s=32-li(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,ys=1<<32-li(t)+i|r<<i|n,vs=s+e}else ys=1<<s|r<<i|n,vs=e}function sg(e){e.return!==null&&(Mo(e,1),mw(e,1,0))}function og(e){for(;e===Zf;)Zf=Oa[--ka],Oa[ka]=null,ed=Oa[--ka],Oa[ka]=null;for(;e===jo;)jo=zn[--qn],zn[qn]=null,vs=zn[--qn],zn[qn]=null,ys=zn[--qn],zn[qn]=null}var wn=null,vn=null,Dt=!1,ui=null;function yw(e,t){var r=jn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ry(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wn=e,vn=Xs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wn=e,vn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=jo!==null?{id:ys,overflow:vs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=jn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,wn=e,vn=null,!0):!1;default:return!1}}function Tp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Np(e){if(Dt){var t=vn;if(t){var r=t;if(!Ry(e,t)){if(Tp(e))throw Error(fe(418));t=Xs(r.nextSibling);var n=wn;t&&Ry(e,t)?yw(n,r):(e.flags=e.flags&-4097|2,Dt=!1,wn=e)}}else{if(Tp(e))throw Error(fe(418));e.flags=e.flags&-4097|2,Dt=!1,wn=e}}}function Cy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wn=e}function Yl(e){if(e!==wn)return!1;if(!Dt)return Cy(e),Dt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Mp(e.type,e.memoizedProps)),t&&(t=vn)){if(Tp(e))throw vw(),Error(fe(418));for(;t;)yw(e,t),t=Xs(t.nextSibling)}if(Cy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(fe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){vn=Xs(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}vn=null}}else vn=wn?Xs(e.stateNode.nextSibling):null;return!0}function vw(){for(var e=vn;e;)e=Xs(e.nextSibling)}function ru(){vn=wn=null,Dt=!1}function ag(e){ui===null?ui=[e]:ui.push(e)}var oS=Rs.ReactCurrentBatchConfig;function Gu(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(fe(309));var n=r.stateNode}if(!n)throw Error(fe(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(fe(284));if(!r._owner)throw Error(fe(290,e))}return e}function Ql(e,t){throw e=Object.prototype.toString.call(t),Error(fe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Dy(e){var t=e._init;return t(e._payload)}function bw(e){function t(T,x){if(e){var O=T.deletions;O===null?(T.deletions=[x],T.flags|=16):O.push(x)}}function r(T,x){if(!e)return null;for(;x!==null;)t(T,x),x=x.sibling;return null}function n(T,x){for(T=new Map;x!==null;)x.key!==null?T.set(x.key,x):T.set(x.index,x),x=x.sibling;return T}function i(T,x){return T=ro(T,x),T.index=0,T.sibling=null,T}function s(T,x,O){return T.index=O,e?(O=T.alternate,O!==null?(O=O.index,O<x?(T.flags|=2,x):O):(T.flags|=2,x)):(T.flags|=1048576,x)}function o(T){return e&&T.alternate===null&&(T.flags|=2),T}function a(T,x,O,k){return x===null||x.tag!==6?(x=s0(O,T.mode,k),x.return=T,x):(x=i(x,O),x.return=T,x)}function u(T,x,O,k){var L=O.type;return L===Ra?f(T,x,O.props.children,k,O.key):x!==null&&(x.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Fs&&Dy(L)===x.type)?(k=i(x,O.props),k.ref=Gu(T,x,O),k.return=T,k):(k=Mf(O.type,O.key,O.props,null,T.mode,k),k.ref=Gu(T,x,O),k.return=T,k)}function c(T,x,O,k){return x===null||x.tag!==4||x.stateNode.containerInfo!==O.containerInfo||x.stateNode.implementation!==O.implementation?(x=o0(O,T.mode,k),x.return=T,x):(x=i(x,O.children||[]),x.return=T,x)}function f(T,x,O,k,L){return x===null||x.tag!==7?(x=Lo(O,T.mode,k,L),x.return=T,x):(x=i(x,O),x.return=T,x)}function h(T,x,O){if(typeof x=="string"&&x!==""||typeof x=="number")return x=s0(""+x,T.mode,O),x.return=T,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ul:return O=Mf(x.type,x.key,x.props,null,T.mode,O),O.ref=Gu(T,null,x),O.return=T,O;case Ma:return x=o0(x,T.mode,O),x.return=T,x;case Fs:var k=x._init;return h(T,k(x._payload),O)}if(lc(x)||zu(x))return x=Lo(x,T.mode,O,null),x.return=T,x;Ql(T,x)}return null}function y(T,x,O,k){var L=x!==null?x.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return L!==null?null:a(T,x,""+O,k);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Ul:return O.key===L?u(T,x,O,k):null;case Ma:return O.key===L?c(T,x,O,k):null;case Fs:return L=O._init,y(T,x,L(O._payload),k)}if(lc(O)||zu(O))return L!==null?null:f(T,x,O,k,null);Ql(T,O)}return null}function v(T,x,O,k,L){if(typeof k=="string"&&k!==""||typeof k=="number")return T=T.get(O)||null,a(x,T,""+k,L);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ul:return T=T.get(k.key===null?O:k.key)||null,u(x,T,k,L);case Ma:return T=T.get(k.key===null?O:k.key)||null,c(x,T,k,L);case Fs:var $=k._init;return v(T,x,O,$(k._payload),L)}if(lc(k)||zu(k))return T=T.get(O)||null,f(x,T,k,L,null);Ql(x,k)}return null}function w(T,x,O,k){for(var L=null,$=null,E=x,U=x=0,Z=null;E!==null&&U<O.length;U++){E.index>U?(Z=E,E=null):Z=E.sibling;var ne=y(T,E,O[U],k);if(ne===null){E===null&&(E=Z);break}e&&E&&ne.alternate===null&&t(T,E),x=s(ne,x,U),$===null?L=ne:$.sibling=ne,$=ne,E=Z}if(U===O.length)return r(T,E),Dt&&Mo(T,U),L;if(E===null){for(;U<O.length;U++)E=h(T,O[U],k),E!==null&&(x=s(E,x,U),$===null?L=E:$.sibling=E,$=E);return Dt&&Mo(T,U),L}for(E=n(T,E);U<O.length;U++)Z=v(E,T,U,O[U],k),Z!==null&&(e&&Z.alternate!==null&&E.delete(Z.key===null?U:Z.key),x=s(Z,x,U),$===null?L=Z:$.sibling=Z,$=Z);return e&&E.forEach(function(q){return t(T,q)}),Dt&&Mo(T,U),L}function C(T,x,O,k){var L=zu(O);if(typeof L!="function")throw Error(fe(150));if(O=L.call(O),O==null)throw Error(fe(151));for(var $=L=null,E=x,U=x=0,Z=null,ne=O.next();E!==null&&!ne.done;U++,ne=O.next()){E.index>U?(Z=E,E=null):Z=E.sibling;var q=y(T,E,ne.value,k);if(q===null){E===null&&(E=Z);break}e&&E&&q.alternate===null&&t(T,E),x=s(q,x,U),$===null?L=q:$.sibling=q,$=q,E=Z}if(ne.done)return r(T,E),Dt&&Mo(T,U),L;if(E===null){for(;!ne.done;U++,ne=O.next())ne=h(T,ne.value,k),ne!==null&&(x=s(ne,x,U),$===null?L=ne:$.sibling=ne,$=ne);return Dt&&Mo(T,U),L}for(E=n(T,E);!ne.done;U++,ne=O.next())ne=v(E,T,U,ne.value,k),ne!==null&&(e&&ne.alternate!==null&&E.delete(ne.key===null?U:ne.key),x=s(ne,x,U),$===null?L=ne:$.sibling=ne,$=ne);return e&&E.forEach(function(b){return t(T,b)}),Dt&&Mo(T,U),L}function N(T,x,O,k){if(typeof O=="object"&&O!==null&&O.type===Ra&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case Ul:e:{for(var L=O.key,$=x;$!==null;){if($.key===L){if(L=O.type,L===Ra){if($.tag===7){r(T,$.sibling),x=i($,O.props.children),x.return=T,T=x;break e}}else if($.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Fs&&Dy(L)===$.type){r(T,$.sibling),x=i($,O.props),x.ref=Gu(T,$,O),x.return=T,T=x;break e}r(T,$);break}else t(T,$);$=$.sibling}O.type===Ra?(x=Lo(O.props.children,T.mode,k,O.key),x.return=T,T=x):(k=Mf(O.type,O.key,O.props,null,T.mode,k),k.ref=Gu(T,x,O),k.return=T,T=k)}return o(T);case Ma:e:{for($=O.key;x!==null;){if(x.key===$)if(x.tag===4&&x.stateNode.containerInfo===O.containerInfo&&x.stateNode.implementation===O.implementation){r(T,x.sibling),x=i(x,O.children||[]),x.return=T,T=x;break e}else{r(T,x);break}else t(T,x);x=x.sibling}x=o0(O,T.mode,k),x.return=T,T=x}return o(T);case Fs:return $=O._init,N(T,x,$(O._payload),k)}if(lc(O))return w(T,x,O,k);if(zu(O))return C(T,x,O,k);Ql(T,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,x!==null&&x.tag===6?(r(T,x.sibling),x=i(x,O),x.return=T,T=x):(r(T,x),x=s0(O,T.mode,k),x.return=T,T=x),o(T)):r(T,x)}return N}var nu=bw(!0),ww=bw(!1),td=ao(null),rd=null,Fa=null,ug=null;function cg(){ug=Fa=rd=null}function lg(e){var t=td.current;Ct(td),e._currentValue=t}function Pp(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ka(e,t){rd=e,ug=Fa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(en=!0),e.firstContext=null)}function Gn(e){var t=e._currentValue;if(ug!==e)if(e={context:e,memoizedValue:t,next:null},Fa===null){if(rd===null)throw Error(fe(308));Fa=e,rd.dependencies={lanes:0,firstContext:e}}else Fa=Fa.next=e;return t}var No=null;function fg(e){No===null?No=[e]:No.push(e)}function Ew(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,fg(t)):(r.next=i.next,i.next=r),t.interleaved=r,As(e,n)}function As(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Bs=!1;function dg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _w(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ws(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zs(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ct&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,As(e,r)}return i=n.interleaved,i===null?(t.next=t,fg(n)):(t.next=i.next,i.next=t),n.interleaved=t,As(e,r)}function Ef(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,J1(e,r)}}function Ty(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function nd(e,t,r,n){var i=e.updateQueue;Bs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var f=e.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=u))}if(s!==null){var h=i.baseState;o=0,f=c=u=null,a=s;do{var y=a.lane,v=a.eventTime;if((n&y)===y){f!==null&&(f=f.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,C=a;switch(y=t,v=r,C.tag){case 1:if(w=C.payload,typeof w=="function"){h=w.call(v,h,y);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=C.payload,y=typeof w=="function"?w.call(v,h,y):w,y==null)break e;h=kt({},h,y);break e;case 2:Bs=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,y=i.effects,y===null?i.effects=[a]:y.push(a))}else v={eventTime:v,lane:y,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=v,u=h):f=f.next=v,o|=y;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;y=a,a=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(f===null&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Ko|=o,e.lanes=o,e.memoizedState=h}}function Ny(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(fe(191,i));i.call(n)}}}var pl={},Ti=ao(pl),Hc=ao(pl),Kc=ao(pl);function Po(e){if(e===pl)throw Error(fe(174));return e}function hg(e,t){switch(St(Kc,t),St(Hc,e),St(Ti,pl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:hp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=hp(t,e)}Ct(Ti),St(Ti,t)}function iu(){Ct(Ti),Ct(Hc),Ct(Kc)}function Sw(e){Po(Kc.current);var t=Po(Ti.current),r=hp(t,e.type);t!==r&&(St(Hc,e),St(Ti,r))}function pg(e){Hc.current===e&&(Ct(Ti),Ct(Hc))}var Pt=ao(0);function id(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zh=[];function gg(){for(var e=0;e<Zh.length;e++)Zh[e]._workInProgressVersionPrimary=null;Zh.length=0}var _f=Rs.ReactCurrentDispatcher,e0=Rs.ReactCurrentBatchConfig,Ho=0,Ot=null,Zt=null,ar=null,sd=!1,Sc=!1,Gc=0,aS=0;function Ar(){throw Error(fe(321))}function mg(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!di(e[r],t[r]))return!1;return!0}function yg(e,t,r,n,i,s){if(Ho=s,Ot=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_f.current=e===null||e.memoizedState===null?fS:dS,e=r(n,i),Sc){s=0;do{if(Sc=!1,Gc=0,25<=s)throw Error(fe(301));s+=1,ar=Zt=null,t.updateQueue=null,_f.current=hS,e=r(n,i)}while(Sc)}if(_f.current=od,t=Zt!==null&&Zt.next!==null,Ho=0,ar=Zt=Ot=null,sd=!1,t)throw Error(fe(300));return e}function vg(){var e=Gc!==0;return Gc=0,e}function bi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?Ot.memoizedState=ar=e:ar=ar.next=e,ar}function Vn(){if(Zt===null){var e=Ot.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var t=ar===null?Ot.memoizedState:ar.next;if(t!==null)ar=t,Zt=e;else{if(e===null)throw Error(fe(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},ar===null?Ot.memoizedState=ar=e:ar=ar.next=e}return ar}function Vc(e,t){return typeof t=="function"?t(e):t}function t0(e){var t=Vn(),r=t.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=e;var n=Zt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,u=null,c=s;do{var f=c.lane;if((Ho&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=h,o=n):u=u.next=h,Ot.lanes|=f,Ko|=f}c=c.next}while(c!==null&&c!==s);u===null?o=n:u.next=a,di(n,t.memoizedState)||(en=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,Ot.lanes|=s,Ko|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function r0(e){var t=Vn(),r=t.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);di(s,t.memoizedState)||(en=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function Aw(){}function Iw(e,t){var r=Ot,n=Vn(),i=t(),s=!di(n.memoizedState,i);if(s&&(n.memoizedState=i,en=!0),n=n.queue,bg(Rw.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||ar!==null&&ar.memoizedState.tag&1){if(r.flags|=2048,Wc(9,Mw.bind(null,r,n,i,t),void 0,null),ur===null)throw Error(fe(349));Ho&30||xw(r,t,i)}return i}function xw(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ot.updateQueue,t===null?(t={lastEffect:null,stores:null},Ot.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Mw(e,t,r,n){t.value=r,t.getSnapshot=n,Cw(t)&&Dw(e)}function Rw(e,t,r){return r(function(){Cw(t)&&Dw(e)})}function Cw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!di(e,r)}catch{return!0}}function Dw(e){var t=As(e,1);t!==null&&fi(t,e,1,-1)}function Py(e){var t=bi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vc,lastRenderedState:e},t.queue=e,e=e.dispatch=lS.bind(null,Ot,e),[t.memoizedState,e]}function Wc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ot.updateQueue,t===null?(t={lastEffect:null,stores:null},Ot.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Tw(){return Vn().memoizedState}function Sf(e,t,r,n){var i=bi();Ot.flags|=e,i.memoizedState=Wc(1|t,r,void 0,n===void 0?null:n)}function qd(e,t,r,n){var i=Vn();n=n===void 0?null:n;var s=void 0;if(Zt!==null){var o=Zt.memoizedState;if(s=o.destroy,n!==null&&mg(n,o.deps)){i.memoizedState=Wc(t,r,s,n);return}}Ot.flags|=e,i.memoizedState=Wc(1|t,r,s,n)}function Oy(e,t){return Sf(8390656,8,e,t)}function bg(e,t){return qd(2048,8,e,t)}function Nw(e,t){return qd(4,2,e,t)}function Pw(e,t){return qd(4,4,e,t)}function Ow(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kw(e,t,r){return r=r!=null?r.concat([e]):null,qd(4,4,Ow.bind(null,t,e),r)}function wg(){}function Fw(e,t){var r=Vn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&mg(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Bw(e,t){var r=Vn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&mg(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Lw(e,t,r){return Ho&21?(di(r,t)||(r=j3(),Ot.lanes|=r,Ko|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,en=!0),e.memoizedState=r)}function uS(e,t){var r=pt;pt=r!==0&&4>r?r:4,e(!0);var n=e0.transition;e0.transition={};try{e(!1),t()}finally{pt=r,e0.transition=n}}function Uw(){return Vn().memoizedState}function cS(e,t,r){var n=to(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},$w(e))zw(t,r);else if(r=Ew(e,t,r,n),r!==null){var i=Fr();fi(r,e,n,i),qw(r,t,n)}}function lS(e,t,r){var n=to(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if($w(e))zw(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,di(a,o)){var u=t.interleaved;u===null?(i.next=i,fg(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}r=Ew(e,t,i,n),r!==null&&(i=Fr(),fi(r,e,n,i),qw(r,t,n))}}function $w(e){var t=e.alternate;return e===Ot||t!==null&&t===Ot}function zw(e,t){Sc=sd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function qw(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,J1(e,r)}}var od={readContext:Gn,useCallback:Ar,useContext:Ar,useEffect:Ar,useImperativeHandle:Ar,useInsertionEffect:Ar,useLayoutEffect:Ar,useMemo:Ar,useReducer:Ar,useRef:Ar,useState:Ar,useDebugValue:Ar,useDeferredValue:Ar,useTransition:Ar,useMutableSource:Ar,useSyncExternalStore:Ar,useId:Ar,unstable_isNewReconciler:!1},fS={readContext:Gn,useCallback:function(e,t){return bi().memoizedState=[e,t===void 0?null:t],e},useContext:Gn,useEffect:Oy,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Sf(4194308,4,Ow.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Sf(4194308,4,e,t)},useInsertionEffect:function(e,t){return Sf(4,2,e,t)},useMemo:function(e,t){var r=bi();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=bi();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=cS.bind(null,Ot,e),[n.memoizedState,e]},useRef:function(e){var t=bi();return e={current:e},t.memoizedState=e},useState:Py,useDebugValue:wg,useDeferredValue:function(e){return bi().memoizedState=e},useTransition:function(){var e=Py(!1),t=e[0];return e=uS.bind(null,e[1]),bi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ot,i=bi();if(Dt){if(r===void 0)throw Error(fe(407));r=r()}else{if(r=t(),ur===null)throw Error(fe(349));Ho&30||xw(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,Oy(Rw.bind(null,n,s,e),[e]),n.flags|=2048,Wc(9,Mw.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=bi(),t=ur.identifierPrefix;if(Dt){var r=vs,n=ys;r=(n&~(1<<32-li(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Gc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=aS++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},dS={readContext:Gn,useCallback:Fw,useContext:Gn,useEffect:bg,useImperativeHandle:kw,useInsertionEffect:Nw,useLayoutEffect:Pw,useMemo:Bw,useReducer:t0,useRef:Tw,useState:function(){return t0(Vc)},useDebugValue:wg,useDeferredValue:function(e){var t=Vn();return Lw(t,Zt.memoizedState,e)},useTransition:function(){var e=t0(Vc)[0],t=Vn().memoizedState;return[e,t]},useMutableSource:Aw,useSyncExternalStore:Iw,useId:Uw,unstable_isNewReconciler:!1},hS={readContext:Gn,useCallback:Fw,useContext:Gn,useEffect:bg,useImperativeHandle:kw,useInsertionEffect:Nw,useLayoutEffect:Pw,useMemo:Bw,useReducer:r0,useRef:Tw,useState:function(){return r0(Vc)},useDebugValue:wg,useDeferredValue:function(e){var t=Vn();return Zt===null?t.memoizedState=e:Lw(t,Zt.memoizedState,e)},useTransition:function(){var e=r0(Vc)[0],t=Vn().memoizedState;return[e,t]},useMutableSource:Aw,useSyncExternalStore:Iw,useId:Uw,unstable_isNewReconciler:!1};function ii(e,t){if(e&&e.defaultProps){t=kt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Op(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:kt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var jd={isMounted:function(e){return(e=e._reactInternals)?na(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Fr(),i=to(e),s=ws(n,i);s.payload=t,r!=null&&(s.callback=r),t=Zs(e,s,i),t!==null&&(fi(t,e,i,n),Ef(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Fr(),i=to(e),s=ws(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Zs(e,s,i),t!==null&&(fi(t,e,i,n),Ef(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Fr(),n=to(e),i=ws(r,n);i.tag=2,t!=null&&(i.callback=t),t=Zs(e,i,n),t!==null&&(fi(t,e,n,r),Ef(t,e,n))}};function ky(e,t,r,n,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!$c(r,n)||!$c(i,s):!0}function jw(e,t,r){var n=!1,i=io,s=t.contextType;return typeof s=="object"&&s!==null?s=Gn(s):(i=rn(t)?qo:Dr.current,n=t.contextTypes,s=(n=n!=null)?tu(e,i):io),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=jd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Fy(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&jd.enqueueReplaceState(t,t.state,null)}function kp(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},dg(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Gn(s):(s=rn(t)?qo:Dr.current,i.context=tu(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Op(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&jd.enqueueReplaceState(i,i.state,null),nd(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function su(e,t){try{var r="",n=t;do r+=z_(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function n0(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Fp(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var pS=typeof WeakMap=="function"?WeakMap:Map;function Hw(e,t,r){r=ws(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ud||(ud=!0,Gp=n),Fp(e,t)},r}function Kw(e,t,r){r=ws(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Fp(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Fp(e,t),typeof n!="function"&&(eo===null?eo=new Set([this]):eo.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function By(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new pS;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=RS.bind(null,e,t,r),t.then(e,e))}function Ly(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Uy(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ws(-1,1),t.tag=2,Zs(r,t,1))),r.lanes|=1),e)}var gS=Rs.ReactCurrentOwner,en=!1;function Nr(e,t,r,n){t.child=e===null?ww(t,null,r,n):nu(t,e.child,r,n)}function $y(e,t,r,n,i){r=r.render;var s=t.ref;return Ka(t,i),n=yg(e,t,r,n,s,i),r=vg(),e!==null&&!en?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Is(e,t,i)):(Dt&&r&&sg(t),t.flags|=1,Nr(e,t,n,i),t.child)}function zy(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!Rg(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,Gw(e,t,s,n,i)):(e=Mf(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:$c,r(o,n)&&e.ref===t.ref)return Is(e,t,i)}return t.flags|=1,e=ro(s,n),e.ref=t.ref,e.return=t,t.child=e}function Gw(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if($c(s,n)&&e.ref===t.ref)if(en=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(en=!0);else return t.lanes=e.lanes,Is(e,t,i)}return Bp(e,t,r,n,i)}function Vw(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},St(La,pn),pn|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,St(La,pn),pn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,St(La,pn),pn|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,St(La,pn),pn|=n;return Nr(e,t,i,r),t.child}function Ww(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Bp(e,t,r,n,i){var s=rn(r)?qo:Dr.current;return s=tu(t,s),Ka(t,i),r=yg(e,t,r,n,s,i),n=vg(),e!==null&&!en?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Is(e,t,i)):(Dt&&n&&sg(t),t.flags|=1,Nr(e,t,r,i),t.child)}function qy(e,t,r,n,i){if(rn(r)){var s=!0;Xf(t)}else s=!1;if(Ka(t,i),t.stateNode===null)Af(e,t),jw(t,r,n),kp(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Gn(c):(c=rn(r)?qo:Dr.current,c=tu(t,c));var f=r.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||u!==c)&&Fy(t,o,n,c),Bs=!1;var y=t.memoizedState;o.state=y,nd(t,n,o,i),u=t.memoizedState,a!==n||y!==u||tn.current||Bs?(typeof f=="function"&&(Op(t,r,f,n),u=t.memoizedState),(a=Bs||ky(t,r,a,n,y,u,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),o.props=n,o.state=u,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,_w(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:ii(t.type,a),o.props=c,h=t.pendingProps,y=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=Gn(u):(u=rn(r)?qo:Dr.current,u=tu(t,u));var v=r.getDerivedStateFromProps;(f=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||y!==u)&&Fy(t,o,n,u),Bs=!1,y=t.memoizedState,o.state=y,nd(t,n,o,i);var w=t.memoizedState;a!==h||y!==w||tn.current||Bs?(typeof v=="function"&&(Op(t,r,v,n),w=t.memoizedState),(c=Bs||ky(t,r,c,n,y,w,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,w,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,w,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),o.props=n,o.state=w,o.context=u,n=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),n=!1)}return Lp(e,t,r,n,s,i)}function Lp(e,t,r,n,i,s){Ww(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&My(t,r,!1),Is(e,t,s);n=t.stateNode,gS.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=nu(t,e.child,null,s),t.child=nu(t,null,a,s)):Nr(e,t,a,s),t.memoizedState=n.state,i&&My(t,r,!0),t.child}function Yw(e){var t=e.stateNode;t.pendingContext?xy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xy(e,t.context,!1),hg(e,t.containerInfo)}function jy(e,t,r,n,i){return ru(),ag(i),t.flags|=256,Nr(e,t,r,n),t.child}var Up={dehydrated:null,treeContext:null,retryLane:0};function $p(e){return{baseLanes:e,cachePool:null,transitions:null}}function Qw(e,t,r){var n=t.pendingProps,i=Pt.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),St(Pt,i&1),e===null)return Np(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Gd(o,n,0,null),e=Lo(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=$p(r),t.memoizedState=Up,e):Eg(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return mS(e,t,o,n,a,i,r);if(s){s=n.fallback,o=t.mode,i=e.child,a=i.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=ro(i,u),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ro(a,s):(s=Lo(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?$p(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=Up,n}return s=e.child,e=s.sibling,n=ro(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Eg(e,t){return t=Gd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Jl(e,t,r,n){return n!==null&&ag(n),nu(t,e.child,null,r),e=Eg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mS(e,t,r,n,i,s,o){if(r)return t.flags&256?(t.flags&=-257,n=n0(Error(fe(422))),Jl(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=Gd({mode:"visible",children:n.children},i,0,null),s=Lo(s,i,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&nu(t,e.child,null,o),t.child.memoizedState=$p(o),t.memoizedState=Up,s);if(!(t.mode&1))return Jl(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(fe(419)),n=n0(s,n,void 0),Jl(e,t,o,n)}if(a=(o&e.childLanes)!==0,en||a){if(n=ur,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,As(e,i),fi(n,e,i,-1))}return Mg(),n=n0(Error(fe(421))),Jl(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=CS.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,vn=Xs(i.nextSibling),wn=t,Dt=!0,ui=null,e!==null&&(zn[qn++]=ys,zn[qn++]=vs,zn[qn++]=jo,ys=e.id,vs=e.overflow,jo=t),t=Eg(t,n.children),t.flags|=4096,t)}function Hy(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Pp(e.return,t,r)}function i0(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function Jw(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(Nr(e,t,n.children,r),n=Pt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hy(e,r,t);else if(e.tag===19)Hy(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(St(Pt,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&id(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),i0(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&id(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}i0(t,!0,r,null,s);break;case"together":i0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Af(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Is(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ko|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(fe(153));if(t.child!==null){for(e=t.child,r=ro(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ro(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function yS(e,t,r){switch(t.tag){case 3:Yw(t),ru();break;case 5:Sw(t);break;case 1:rn(t.type)&&Xf(t);break;case 4:hg(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;St(td,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(St(Pt,Pt.current&1),t.flags|=128,null):r&t.child.childLanes?Qw(e,t,r):(St(Pt,Pt.current&1),e=Is(e,t,r),e!==null?e.sibling:null);St(Pt,Pt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Jw(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),St(Pt,Pt.current),n)break;return null;case 22:case 23:return t.lanes=0,Vw(e,t,r)}return Is(e,t,r)}var Xw,zp,Zw,e6;Xw=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};zp=function(){};Zw=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Po(Ti.current);var s=null;switch(r){case"input":i=cp(e,i),n=cp(e,n),s=[];break;case"select":i=kt({},i,{value:void 0}),n=kt({},n,{value:void 0}),s=[];break;case"textarea":i=dp(e,i),n=dp(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Qf)}pp(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Pc.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var u=n[c];if(a=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(s||(s=[]),s.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Pc.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Mt("scroll",e),s||a===u||(s=[])):(s=s||[]).push(c,u))}r&&(s=s||[]).push("style",r);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};e6=function(e,t,r,n){r!==n&&(t.flags|=4)};function Vu(e,t){if(!Dt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ir(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function vS(e,t,r){var n=t.pendingProps;switch(og(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ir(t),null;case 1:return rn(t.type)&&Jf(),Ir(t),null;case 3:return n=t.stateNode,iu(),Ct(tn),Ct(Dr),gg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Yl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ui!==null&&(Yp(ui),ui=null))),zp(e,t),Ir(t),null;case 5:pg(t);var i=Po(Kc.current);if(r=t.type,e!==null&&t.stateNode!=null)Zw(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(fe(166));return Ir(t),null}if(e=Po(Ti.current),Yl(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Mi]=t,n[jc]=s,e=(t.mode&1)!==0,r){case"dialog":Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":case"embed":Mt("load",n);break;case"video":case"audio":for(i=0;i<dc.length;i++)Mt(dc[i],n);break;case"source":Mt("error",n);break;case"img":case"image":case"link":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"input":Zm(n,s),Mt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Mt("invalid",n);break;case"textarea":ty(n,s),Mt("invalid",n)}pp(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Wl(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Wl(n.textContent,a,e),i=["children",""+a]):Pc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Mt("scroll",n)}switch(r){case"input":$l(n),ey(n,s,!0);break;case"textarea":$l(n),ry(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Qf)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=R3(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Mi]=t,e[jc]=n,Xw(e,t,!1,!1),t.stateNode=e;e:{switch(o=gp(r,n),r){case"dialog":Mt("cancel",e),Mt("close",e),i=n;break;case"iframe":case"object":case"embed":Mt("load",e),i=n;break;case"video":case"audio":for(i=0;i<dc.length;i++)Mt(dc[i],e);i=n;break;case"source":Mt("error",e),i=n;break;case"img":case"image":case"link":Mt("error",e),Mt("load",e),i=n;break;case"details":Mt("toggle",e),i=n;break;case"input":Zm(e,n),i=cp(e,n),Mt("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=kt({},n,{value:void 0}),Mt("invalid",e);break;case"textarea":ty(e,n),i=dp(e,n),Mt("invalid",e);break;default:i=n}pp(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?T3(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&C3(e,u)):s==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Oc(e,u):typeof u=="number"&&Oc(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Pc.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Mt("scroll",e):u!=null&&K1(e,s,u,o))}switch(r){case"input":$l(e),ey(e,n,!1);break;case"textarea":$l(e),ry(e);break;case"option":n.value!=null&&e.setAttribute("value",""+no(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?za(e,!!n.multiple,s,!1):n.defaultValue!=null&&za(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Qf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ir(t),null;case 6:if(e&&t.stateNode!=null)e6(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(fe(166));if(r=Po(Kc.current),Po(Ti.current),Yl(t)){if(n=t.stateNode,r=t.memoizedProps,n[Mi]=t,(s=n.nodeValue!==r)&&(e=wn,e!==null))switch(e.tag){case 3:Wl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Wl(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Mi]=t,t.stateNode=n}return Ir(t),null;case 13:if(Ct(Pt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Dt&&vn!==null&&t.mode&1&&!(t.flags&128))vw(),ru(),t.flags|=98560,s=!1;else if(s=Yl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(fe(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(fe(317));s[Mi]=t}else ru(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ir(t),s=!1}else ui!==null&&(Yp(ui),ui=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Pt.current&1?tr===0&&(tr=3):Mg())),t.updateQueue!==null&&(t.flags|=4),Ir(t),null);case 4:return iu(),zp(e,t),e===null&&zc(t.stateNode.containerInfo),Ir(t),null;case 10:return lg(t.type._context),Ir(t),null;case 17:return rn(t.type)&&Jf(),Ir(t),null;case 19:if(Ct(Pt),s=t.memoizedState,s===null)return Ir(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Vu(s,!1);else{if(tr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=id(e),o!==null){for(t.flags|=128,Vu(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return St(Pt,Pt.current&1|2),t.child}e=e.sibling}s.tail!==null&&Kt()>ou&&(t.flags|=128,n=!0,Vu(s,!1),t.lanes=4194304)}else{if(!n)if(e=id(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Vu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Dt)return Ir(t),null}else 2*Kt()-s.renderingStartTime>ou&&r!==1073741824&&(t.flags|=128,n=!0,Vu(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Kt(),t.sibling=null,r=Pt.current,St(Pt,n?r&1|2:r&1),t):(Ir(t),null);case 22:case 23:return xg(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?pn&1073741824&&(Ir(t),t.subtreeFlags&6&&(t.flags|=8192)):Ir(t),null;case 24:return null;case 25:return null}throw Error(fe(156,t.tag))}function bS(e,t){switch(og(t),t.tag){case 1:return rn(t.type)&&Jf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return iu(),Ct(tn),Ct(Dr),gg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return pg(t),null;case 13:if(Ct(Pt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(fe(340));ru()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ct(Pt),null;case 4:return iu(),null;case 10:return lg(t.type._context),null;case 22:case 23:return xg(),null;case 24:return null;default:return null}}var Xl=!1,Rr=!1,wS=typeof WeakSet=="function"?WeakSet:Set,Re=null;function Ba(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ut(e,t,n)}else r.current=null}function qp(e,t,r){try{r()}catch(n){Ut(e,t,n)}}var Ky=!1;function ES(e,t){if(Ip=Vf,e=sw(),ig(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,u=-1,c=0,f=0,h=e,y=null;t:for(;;){for(var v;h!==r||i!==0&&h.nodeType!==3||(a=o+i),h!==s||n!==0&&h.nodeType!==3||(u=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)y=h,h=v;for(;;){if(h===e)break t;if(y===r&&++c===i&&(a=o),y===s&&++f===n&&(u=o),(v=h.nextSibling)!==null)break;h=y,y=h.parentNode}h=v}r=a===-1||u===-1?null:{start:a,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(xp={focusedElem:e,selectionRange:r},Vf=!1,Re=t;Re!==null;)if(t=Re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Re=e;else for(;Re!==null;){t=Re;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var C=w.memoizedProps,N=w.memoizedState,T=t.stateNode,x=T.getSnapshotBeforeUpdate(t.elementType===t.type?C:ii(t.type,C),N);T.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var O=t.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(k){Ut(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,Re=e;break}Re=t.return}return w=Ky,Ky=!1,w}function Ac(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&qp(t,r,s)}i=i.next}while(i!==n)}}function Hd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function jp(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function t6(e){var t=e.alternate;t!==null&&(e.alternate=null,t6(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mi],delete t[jc],delete t[Cp],delete t[nS],delete t[iS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function r6(e){return e.tag===5||e.tag===3||e.tag===4}function Gy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||r6(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Qf));else if(n!==4&&(e=e.child,e!==null))for(Hp(e,t,r),e=e.sibling;e!==null;)Hp(e,t,r),e=e.sibling}function Kp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Kp(e,t,r),e=e.sibling;e!==null;)Kp(e,t,r),e=e.sibling}var gr=null,oi=!1;function Ns(e,t,r){for(r=r.child;r!==null;)n6(e,t,r),r=r.sibling}function n6(e,t,r){if(Di&&typeof Di.onCommitFiberUnmount=="function")try{Di.onCommitFiberUnmount(Fd,r)}catch{}switch(r.tag){case 5:Rr||Ba(r,t);case 6:var n=gr,i=oi;gr=null,Ns(e,t,r),gr=n,oi=i,gr!==null&&(oi?(e=gr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):gr.removeChild(r.stateNode));break;case 18:gr!==null&&(oi?(e=gr,r=r.stateNode,e.nodeType===8?Jh(e.parentNode,r):e.nodeType===1&&Jh(e,r),Lc(e)):Jh(gr,r.stateNode));break;case 4:n=gr,i=oi,gr=r.stateNode.containerInfo,oi=!0,Ns(e,t,r),gr=n,oi=i;break;case 0:case 11:case 14:case 15:if(!Rr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&qp(r,t,o),i=i.next}while(i!==n)}Ns(e,t,r);break;case 1:if(!Rr&&(Ba(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Ut(r,t,a)}Ns(e,t,r);break;case 21:Ns(e,t,r);break;case 22:r.mode&1?(Rr=(n=Rr)||r.memoizedState!==null,Ns(e,t,r),Rr=n):Ns(e,t,r);break;default:Ns(e,t,r)}}function Vy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new wS),t.forEach(function(n){var i=DS.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Xn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:gr=a.stateNode,oi=!1;break e;case 3:gr=a.stateNode.containerInfo,oi=!0;break e;case 4:gr=a.stateNode.containerInfo,oi=!0;break e}a=a.return}if(gr===null)throw Error(fe(160));n6(s,o,i),gr=null,oi=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Ut(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)i6(t,e),t=t.sibling}function i6(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xn(t,e),gi(e),n&4){try{Ac(3,e,e.return),Hd(3,e)}catch(C){Ut(e,e.return,C)}try{Ac(5,e,e.return)}catch(C){Ut(e,e.return,C)}}break;case 1:Xn(t,e),gi(e),n&512&&r!==null&&Ba(r,r.return);break;case 5:if(Xn(t,e),gi(e),n&512&&r!==null&&Ba(r,r.return),e.flags&32){var i=e.stateNode;try{Oc(i,"")}catch(C){Ut(e,e.return,C)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&x3(i,s),gp(a,o);var c=gp(a,s);for(o=0;o<u.length;o+=2){var f=u[o],h=u[o+1];f==="style"?T3(i,h):f==="dangerouslySetInnerHTML"?C3(i,h):f==="children"?Oc(i,h):K1(i,f,h,c)}switch(a){case"input":lp(i,s);break;case"textarea":M3(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?za(i,!!s.multiple,v,!1):y!==!!s.multiple&&(s.defaultValue!=null?za(i,!!s.multiple,s.defaultValue,!0):za(i,!!s.multiple,s.multiple?[]:"",!1))}i[jc]=s}catch(C){Ut(e,e.return,C)}}break;case 6:if(Xn(t,e),gi(e),n&4){if(e.stateNode===null)throw Error(fe(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(C){Ut(e,e.return,C)}}break;case 3:if(Xn(t,e),gi(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Lc(t.containerInfo)}catch(C){Ut(e,e.return,C)}break;case 4:Xn(t,e),gi(e);break;case 13:Xn(t,e),gi(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ag=Kt())),n&4&&Vy(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Rr=(c=Rr)||f,Xn(t,e),Rr=c):Xn(t,e),gi(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(Re=e,f=e.child;f!==null;){for(h=Re=f;Re!==null;){switch(y=Re,v=y.child,y.tag){case 0:case 11:case 14:case 15:Ac(4,y,y.return);break;case 1:Ba(y,y.return);var w=y.stateNode;if(typeof w.componentWillUnmount=="function"){n=y,r=y.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(C){Ut(n,r,C)}}break;case 5:Ba(y,y.return);break;case 22:if(y.memoizedState!==null){Yy(h);continue}}v!==null?(v.return=y,Re=v):Yy(h)}f=f.sibling}e:for(f=null,h=e;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=D3("display",o))}catch(C){Ut(e,e.return,C)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(C){Ut(e,e.return,C)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Xn(t,e),gi(e),n&4&&Vy(e);break;case 21:break;default:Xn(t,e),gi(e)}}function gi(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(r6(r)){var n=r;break e}r=r.return}throw Error(fe(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Oc(i,""),n.flags&=-33);var s=Gy(e);Kp(e,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Gy(e);Hp(e,a,o);break;default:throw Error(fe(161))}}catch(u){Ut(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _S(e,t,r){Re=e,s6(e)}function s6(e,t,r){for(var n=(e.mode&1)!==0;Re!==null;){var i=Re,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Xl;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Rr;a=Xl;var c=Rr;if(Xl=o,(Rr=u)&&!c)for(Re=i;Re!==null;)o=Re,u=o.child,o.tag===22&&o.memoizedState!==null?Qy(i):u!==null?(u.return=o,Re=u):Qy(i);for(;s!==null;)Re=s,s6(s),s=s.sibling;Re=i,Xl=a,Rr=c}Wy(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Re=s):Wy(e)}}function Wy(e){for(;Re!==null;){var t=Re;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Rr||Hd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Rr)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:ii(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Ny(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Ny(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Lc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}Rr||t.flags&512&&jp(t)}catch(y){Ut(t,t.return,y)}}if(t===e){Re=null;break}if(r=t.sibling,r!==null){r.return=t.return,Re=r;break}Re=t.return}}function Yy(e){for(;Re!==null;){var t=Re;if(t===e){Re=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Re=r;break}Re=t.return}}function Qy(e){for(;Re!==null;){var t=Re;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Hd(4,t)}catch(u){Ut(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(u){Ut(t,i,u)}}var s=t.return;try{jp(t)}catch(u){Ut(t,s,u)}break;case 5:var o=t.return;try{jp(t)}catch(u){Ut(t,o,u)}}}catch(u){Ut(t,t.return,u)}if(t===e){Re=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Re=a;break}Re=t.return}}var SS=Math.ceil,ad=Rs.ReactCurrentDispatcher,_g=Rs.ReactCurrentOwner,Kn=Rs.ReactCurrentBatchConfig,ct=0,ur=null,Vt=null,yr=0,pn=0,La=ao(0),tr=0,Yc=null,Ko=0,Kd=0,Sg=0,Ic=null,Xr=null,Ag=0,ou=1/0,ls=null,ud=!1,Gp=null,eo=null,Zl=!1,Gs=null,cd=0,xc=0,Vp=null,If=-1,xf=0;function Fr(){return ct&6?Kt():If!==-1?If:If=Kt()}function to(e){return e.mode&1?ct&2&&yr!==0?yr&-yr:oS.transition!==null?(xf===0&&(xf=j3()),xf):(e=pt,e!==0||(e=window.event,e=e===void 0?16:Q3(e.type)),e):1}function fi(e,t,r,n){if(50<xc)throw xc=0,Vp=null,Error(fe(185));fl(e,r,n),(!(ct&2)||e!==ur)&&(e===ur&&(!(ct&2)&&(Kd|=r),tr===4&&qs(e,yr)),nn(e,n),r===1&&ct===0&&!(t.mode&1)&&(ou=Kt()+500,zd&&uo()))}function nn(e,t){var r=e.callbackNode;o7(e,t);var n=Gf(e,e===ur?yr:0);if(n===0)r!==null&&sy(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&sy(r),t===1)e.tag===0?sS(Jy.bind(null,e)):gw(Jy.bind(null,e)),tS(function(){!(ct&6)&&uo()}),r=null;else{switch(H3(n)){case 1:r=Q1;break;case 4:r=z3;break;case 16:r=Kf;break;case 536870912:r=q3;break;default:r=Kf}r=h6(r,o6.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function o6(e,t){if(If=-1,xf=0,ct&6)throw Error(fe(327));var r=e.callbackNode;if(Ga()&&e.callbackNode!==r)return null;var n=Gf(e,e===ur?yr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ld(e,n);else{t=n;var i=ct;ct|=2;var s=u6();(ur!==e||yr!==t)&&(ls=null,ou=Kt()+500,Bo(e,t));do try{xS();break}catch(a){a6(e,a)}while(!0);cg(),ad.current=s,ct=i,Vt!==null?t=0:(ur=null,yr=0,t=tr)}if(t!==0){if(t===2&&(i=wp(e),i!==0&&(n=i,t=Wp(e,i))),t===1)throw r=Yc,Bo(e,0),qs(e,n),nn(e,Kt()),r;if(t===6)qs(e,n);else{if(i=e.current.alternate,!(n&30)&&!AS(i)&&(t=ld(e,n),t===2&&(s=wp(e),s!==0&&(n=s,t=Wp(e,s))),t===1))throw r=Yc,Bo(e,0),qs(e,n),nn(e,Kt()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(fe(345));case 2:Ro(e,Xr,ls);break;case 3:if(qs(e,n),(n&130023424)===n&&(t=Ag+500-Kt(),10<t)){if(Gf(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Fr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Rp(Ro.bind(null,e,Xr,ls),t);break}Ro(e,Xr,ls);break;case 4:if(qs(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-li(n);s=1<<o,o=t[o],o>i&&(i=o),n&=~s}if(n=i,n=Kt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*SS(n/1960))-n,10<n){e.timeoutHandle=Rp(Ro.bind(null,e,Xr,ls),n);break}Ro(e,Xr,ls);break;case 5:Ro(e,Xr,ls);break;default:throw Error(fe(329))}}}return nn(e,Kt()),e.callbackNode===r?o6.bind(null,e):null}function Wp(e,t){var r=Ic;return e.current.memoizedState.isDehydrated&&(Bo(e,t).flags|=256),e=ld(e,t),e!==2&&(t=Xr,Xr=r,t!==null&&Yp(t)),e}function Yp(e){Xr===null?Xr=e:Xr.push.apply(Xr,e)}function AS(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!di(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qs(e,t){for(t&=~Sg,t&=~Kd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-li(t),n=1<<r;e[r]=-1,t&=~n}}function Jy(e){if(ct&6)throw Error(fe(327));Ga();var t=Gf(e,0);if(!(t&1))return nn(e,Kt()),null;var r=ld(e,t);if(e.tag!==0&&r===2){var n=wp(e);n!==0&&(t=n,r=Wp(e,n))}if(r===1)throw r=Yc,Bo(e,0),qs(e,t),nn(e,Kt()),r;if(r===6)throw Error(fe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ro(e,Xr,ls),nn(e,Kt()),null}function Ig(e,t){var r=ct;ct|=1;try{return e(t)}finally{ct=r,ct===0&&(ou=Kt()+500,zd&&uo())}}function Go(e){Gs!==null&&Gs.tag===0&&!(ct&6)&&Ga();var t=ct;ct|=1;var r=Kn.transition,n=pt;try{if(Kn.transition=null,pt=1,e)return e()}finally{pt=n,Kn.transition=r,ct=t,!(ct&6)&&uo()}}function xg(){pn=La.current,Ct(La)}function Bo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,eS(r)),Vt!==null)for(r=Vt.return;r!==null;){var n=r;switch(og(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Jf();break;case 3:iu(),Ct(tn),Ct(Dr),gg();break;case 5:pg(n);break;case 4:iu();break;case 13:Ct(Pt);break;case 19:Ct(Pt);break;case 10:lg(n.type._context);break;case 22:case 23:xg()}r=r.return}if(ur=e,Vt=e=ro(e.current,null),yr=pn=t,tr=0,Yc=null,Sg=Kd=Ko=0,Xr=Ic=null,No!==null){for(t=0;t<No.length;t++)if(r=No[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}No=null}return e}function a6(e,t){do{var r=Vt;try{if(cg(),_f.current=od,sd){for(var n=Ot.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}sd=!1}if(Ho=0,ar=Zt=Ot=null,Sc=!1,Gc=0,_g.current=null,r===null||r.return===null){tr=1,Yc=t,Vt=null;break}e:{var s=e,o=r.return,a=r,u=t;if(t=yr,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var y=f.alternate;y?(f.updateQueue=y.updateQueue,f.memoizedState=y.memoizedState,f.lanes=y.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=Ly(o);if(v!==null){v.flags&=-257,Uy(v,o,a,s,t),v.mode&1&&By(s,c,t),t=v,u=c;var w=t.updateQueue;if(w===null){var C=new Set;C.add(u),t.updateQueue=C}else w.add(u);break e}else{if(!(t&1)){By(s,c,t),Mg();break e}u=Error(fe(426))}}else if(Dt&&a.mode&1){var N=Ly(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Uy(N,o,a,s,t),ag(su(u,a));break e}}s=u=su(u,a),tr!==4&&(tr=2),Ic===null?Ic=[s]:Ic.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var T=Hw(s,u,t);Ty(s,T);break e;case 1:a=u;var x=s.type,O=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(eo===null||!eo.has(O)))){s.flags|=65536,t&=-t,s.lanes|=t;var k=Kw(s,a,t);Ty(s,k);break e}}s=s.return}while(s!==null)}l6(r)}catch(L){t=L,Vt===r&&r!==null&&(Vt=r=r.return);continue}break}while(!0)}function u6(){var e=ad.current;return ad.current=od,e===null?od:e}function Mg(){(tr===0||tr===3||tr===2)&&(tr=4),ur===null||!(Ko&268435455)&&!(Kd&268435455)||qs(ur,yr)}function ld(e,t){var r=ct;ct|=2;var n=u6();(ur!==e||yr!==t)&&(ls=null,Bo(e,t));do try{IS();break}catch(i){a6(e,i)}while(!0);if(cg(),ct=r,ad.current=n,Vt!==null)throw Error(fe(261));return ur=null,yr=0,tr}function IS(){for(;Vt!==null;)c6(Vt)}function xS(){for(;Vt!==null&&!J_();)c6(Vt)}function c6(e){var t=d6(e.alternate,e,pn);e.memoizedProps=e.pendingProps,t===null?l6(e):Vt=t,_g.current=null}function l6(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=bS(r,t),r!==null){r.flags&=32767,Vt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{tr=6,Vt=null;return}}else if(r=vS(r,t,pn),r!==null){Vt=r;return}if(t=t.sibling,t!==null){Vt=t;return}Vt=t=e}while(t!==null);tr===0&&(tr=5)}function Ro(e,t,r){var n=pt,i=Kn.transition;try{Kn.transition=null,pt=1,MS(e,t,r,n)}finally{Kn.transition=i,pt=n}return null}function MS(e,t,r,n){do Ga();while(Gs!==null);if(ct&6)throw Error(fe(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(fe(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(a7(e,s),e===ur&&(Vt=ur=null,yr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Zl||(Zl=!0,h6(Kf,function(){return Ga(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Kn.transition,Kn.transition=null;var o=pt;pt=1;var a=ct;ct|=4,_g.current=null,ES(e,r),i6(r,e),V7(xp),Vf=!!Ip,xp=Ip=null,e.current=r,_S(r),X_(),ct=a,pt=o,Kn.transition=s}else e.current=r;if(Zl&&(Zl=!1,Gs=e,cd=i),s=e.pendingLanes,s===0&&(eo=null),t7(r.stateNode),nn(e,Kt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(ud)throw ud=!1,e=Gp,Gp=null,e;return cd&1&&e.tag!==0&&Ga(),s=e.pendingLanes,s&1?e===Vp?xc++:(xc=0,Vp=e):xc=0,uo(),null}function Ga(){if(Gs!==null){var e=H3(cd),t=Kn.transition,r=pt;try{if(Kn.transition=null,pt=16>e?16:e,Gs===null)var n=!1;else{if(e=Gs,Gs=null,cd=0,ct&6)throw Error(fe(331));var i=ct;for(ct|=4,Re=e.current;Re!==null;){var s=Re,o=s.child;if(Re.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(Re=c;Re!==null;){var f=Re;switch(f.tag){case 0:case 11:case 15:Ac(8,f,s)}var h=f.child;if(h!==null)h.return=f,Re=h;else for(;Re!==null;){f=Re;var y=f.sibling,v=f.return;if(t6(f),f===c){Re=null;break}if(y!==null){y.return=v,Re=y;break}Re=v}}}var w=s.alternate;if(w!==null){var C=w.child;if(C!==null){w.child=null;do{var N=C.sibling;C.sibling=null,C=N}while(C!==null)}}Re=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Re=o;else e:for(;Re!==null;){if(s=Re,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ac(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,Re=T;break e}Re=s.return}}var x=e.current;for(Re=x;Re!==null;){o=Re;var O=o.child;if(o.subtreeFlags&2064&&O!==null)O.return=o,Re=O;else e:for(o=x;Re!==null;){if(a=Re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Hd(9,a)}}catch(L){Ut(a,a.return,L)}if(a===o){Re=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,Re=k;break e}Re=a.return}}if(ct=i,uo(),Di&&typeof Di.onPostCommitFiberRoot=="function")try{Di.onPostCommitFiberRoot(Fd,e)}catch{}n=!0}return n}finally{pt=r,Kn.transition=t}}return!1}function Xy(e,t,r){t=su(r,t),t=Hw(e,t,1),e=Zs(e,t,1),t=Fr(),e!==null&&(fl(e,1,t),nn(e,t))}function Ut(e,t,r){if(e.tag===3)Xy(e,e,r);else for(;t!==null;){if(t.tag===3){Xy(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(eo===null||!eo.has(n))){e=su(r,e),e=Kw(t,e,1),t=Zs(t,e,1),e=Fr(),t!==null&&(fl(t,1,e),nn(t,e));break}}t=t.return}}function RS(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Fr(),e.pingedLanes|=e.suspendedLanes&r,ur===e&&(yr&r)===r&&(tr===4||tr===3&&(yr&130023424)===yr&&500>Kt()-Ag?Bo(e,0):Sg|=r),nn(e,t)}function f6(e,t){t===0&&(e.mode&1?(t=jl,jl<<=1,!(jl&130023424)&&(jl=4194304)):t=1);var r=Fr();e=As(e,t),e!==null&&(fl(e,t,r),nn(e,r))}function CS(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),f6(e,r)}function DS(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(fe(314))}n!==null&&n.delete(t),f6(e,r)}var d6;d6=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||tn.current)en=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return en=!1,yS(e,t,r);en=!!(e.flags&131072)}else en=!1,Dt&&t.flags&1048576&&mw(t,ed,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Af(e,t),e=t.pendingProps;var i=tu(t,Dr.current);Ka(t,r),i=yg(null,t,n,e,i,r);var s=vg();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rn(n)?(s=!0,Xf(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,dg(t),i.updater=jd,t.stateNode=i,i._reactInternals=t,kp(t,n,e,r),t=Lp(null,t,n,!0,s,r)):(t.tag=0,Dt&&s&&sg(t),Nr(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Af(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=NS(n),e=ii(n,e),i){case 0:t=Bp(null,t,n,e,r);break e;case 1:t=qy(null,t,n,e,r);break e;case 11:t=$y(null,t,n,e,r);break e;case 14:t=zy(null,t,n,ii(n.type,e),r);break e}throw Error(fe(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ii(n,i),Bp(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ii(n,i),qy(e,t,n,i,r);case 3:e:{if(Yw(t),e===null)throw Error(fe(387));n=t.pendingProps,s=t.memoizedState,i=s.element,_w(e,t),nd(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=su(Error(fe(423)),t),t=jy(e,t,n,r,i);break e}else if(n!==i){i=su(Error(fe(424)),t),t=jy(e,t,n,r,i);break e}else for(vn=Xs(t.stateNode.containerInfo.firstChild),wn=t,Dt=!0,ui=null,r=ww(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ru(),n===i){t=Is(e,t,r);break e}Nr(e,t,n,r)}t=t.child}return t;case 5:return Sw(t),e===null&&Np(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Mp(n,i)?o=null:s!==null&&Mp(n,s)&&(t.flags|=32),Ww(e,t),Nr(e,t,o,r),t.child;case 6:return e===null&&Np(t),null;case 13:return Qw(e,t,r);case 4:return hg(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=nu(t,null,n,r):Nr(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ii(n,i),$y(e,t,n,i,r);case 7:return Nr(e,t,t.pendingProps,r),t.child;case 8:return Nr(e,t,t.pendingProps.children,r),t.child;case 12:return Nr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,St(td,n._currentValue),n._currentValue=o,s!==null)if(di(s.value,o)){if(s.children===i.children&&!tn.current){t=Is(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===n){if(s.tag===1){u=ws(-1,r&-r),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}s.lanes|=r,u=s.alternate,u!==null&&(u.lanes|=r),Pp(s.return,r,t),a.lanes|=r;break}u=u.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(fe(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Pp(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Nr(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Ka(t,r),i=Gn(i),n=n(i),t.flags|=1,Nr(e,t,n,r),t.child;case 14:return n=t.type,i=ii(n,t.pendingProps),i=ii(n.type,i),zy(e,t,n,i,r);case 15:return Gw(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ii(n,i),Af(e,t),t.tag=1,rn(n)?(e=!0,Xf(t)):e=!1,Ka(t,r),jw(t,n,i),kp(t,n,i,r),Lp(null,t,n,!0,e,r);case 19:return Jw(e,t,r);case 22:return Vw(e,t,r)}throw Error(fe(156,t.tag))};function h6(e,t){return $3(e,t)}function TS(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(e,t,r,n){return new TS(e,t,r,n)}function Rg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function NS(e){if(typeof e=="function")return Rg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===V1)return 11;if(e===W1)return 14}return 2}function ro(e,t){var r=e.alternate;return r===null?(r=jn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Mf(e,t,r,n,i,s){var o=2;if(n=e,typeof e=="function")Rg(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ra:return Lo(r.children,i,s,t);case G1:o=8,i|=8;break;case sp:return e=jn(12,r,t,i|2),e.elementType=sp,e.lanes=s,e;case op:return e=jn(13,r,t,i),e.elementType=op,e.lanes=s,e;case ap:return e=jn(19,r,t,i),e.elementType=ap,e.lanes=s,e;case S3:return Gd(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case E3:o=10;break e;case _3:o=9;break e;case V1:o=11;break e;case W1:o=14;break e;case Fs:o=16,n=null;break e}throw Error(fe(130,e==null?e:typeof e,""))}return t=jn(o,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function Lo(e,t,r,n){return e=jn(7,e,n,t),e.lanes=r,e}function Gd(e,t,r,n){return e=jn(22,e,n,t),e.elementType=S3,e.lanes=r,e.stateNode={isHidden:!1},e}function s0(e,t,r){return e=jn(6,e,null,t),e.lanes=r,e}function o0(e,t,r){return t=jn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function PS(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$h(0),this.expirationTimes=$h(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$h(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Cg(e,t,r,n,i,s,o,a,u){return e=new PS(e,t,r,a,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=jn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},dg(s),e}function OS(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ma,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function p6(e){if(!e)return io;e=e._reactInternals;e:{if(na(e)!==e||e.tag!==1)throw Error(fe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(fe(171))}if(e.tag===1){var r=e.type;if(rn(r))return pw(e,r,t)}return t}function g6(e,t,r,n,i,s,o,a,u){return e=Cg(r,n,!0,e,i,s,o,a,u),e.context=p6(null),r=e.current,n=Fr(),i=to(r),s=ws(n,i),s.callback=t??null,Zs(r,s,i),e.current.lanes=i,fl(e,i,n),nn(e,n),e}function Vd(e,t,r,n){var i=t.current,s=Fr(),o=to(i);return r=p6(r),t.context===null?t.context=r:t.pendingContext=r,t=ws(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Zs(i,t,o),e!==null&&(fi(e,i,o,s),Ef(e,i,o)),o}function fd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Zy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Dg(e,t){Zy(e,t),(e=e.alternate)&&Zy(e,t)}function kS(){return null}var m6=typeof reportError=="function"?reportError:function(e){console.error(e)};function Tg(e){this._internalRoot=e}Wd.prototype.render=Tg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(fe(409));Vd(e,t,null,null)};Wd.prototype.unmount=Tg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Go(function(){Vd(null,e,null,null)}),t[Ss]=null}};function Wd(e){this._internalRoot=e}Wd.prototype.unstable_scheduleHydration=function(e){if(e){var t=V3();e={blockedOn:null,target:e,priority:t};for(var r=0;r<zs.length&&t!==0&&t<zs[r].priority;r++);zs.splice(r,0,e),r===0&&Y3(e)}};function Ng(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ev(){}function FS(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=fd(o);s.call(c)}}var o=g6(t,n,e,0,null,!1,!1,"",ev);return e._reactRootContainer=o,e[Ss]=o.current,zc(e.nodeType===8?e.parentNode:e),Go(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var c=fd(u);a.call(c)}}var u=Cg(e,0,!1,null,null,!1,!1,"",ev);return e._reactRootContainer=u,e[Ss]=u.current,zc(e.nodeType===8?e.parentNode:e),Go(function(){Vd(t,u,r,n)}),u}function Qd(e,t,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=fd(o);a.call(u)}}Vd(t,o,e,i)}else o=FS(r,t,e,i,n);return fd(o)}K3=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=fc(t.pendingLanes);r!==0&&(J1(t,r|1),nn(t,Kt()),!(ct&6)&&(ou=Kt()+500,uo()))}break;case 13:Go(function(){var n=As(e,1);if(n!==null){var i=Fr();fi(n,e,1,i)}}),Dg(e,1)}};X1=function(e){if(e.tag===13){var t=As(e,134217728);if(t!==null){var r=Fr();fi(t,e,134217728,r)}Dg(e,134217728)}};G3=function(e){if(e.tag===13){var t=to(e),r=As(e,t);if(r!==null){var n=Fr();fi(r,e,t,n)}Dg(e,t)}};V3=function(){return pt};W3=function(e,t){var r=pt;try{return pt=e,t()}finally{pt=r}};yp=function(e,t,r){switch(t){case"input":if(lp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=$d(n);if(!i)throw Error(fe(90));I3(n),lp(n,i)}}}break;case"textarea":M3(e,r);break;case"select":t=r.value,t!=null&&za(e,!!r.multiple,t,!1)}};O3=Ig;k3=Go;var BS={usingClientEntryPoint:!1,Events:[hl,Na,$d,N3,P3,Ig]},Wu={findFiberByHostInstance:To,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LS={bundleType:Wu.bundleType,version:Wu.version,rendererPackageName:Wu.rendererPackageName,rendererConfig:Wu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=L3(e),e===null?null:e.stateNode},findFiberByHostInstance:Wu.findFiberByHostInstance||kS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ef.isDisabled&&ef.supportsFiber)try{Fd=ef.inject(LS),Di=ef}catch{}}An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BS;An.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ng(t))throw Error(fe(200));return OS(e,t,null,r)};An.createRoot=function(e,t){if(!Ng(e))throw Error(fe(299));var r=!1,n="",i=m6;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Cg(e,1,!1,null,null,r,!1,n,i),e[Ss]=t.current,zc(e.nodeType===8?e.parentNode:e),new Tg(t)};An.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(fe(188)):(e=Object.keys(e).join(","),Error(fe(268,e)));return e=L3(t),e=e===null?null:e.stateNode,e};An.flushSync=function(e){return Go(e)};An.hydrate=function(e,t,r){if(!Yd(t))throw Error(fe(200));return Qd(null,e,t,!0,r)};An.hydrateRoot=function(e,t,r){if(!Ng(e))throw Error(fe(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=m6;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=g6(t,null,e,1,r??null,i,!1,s,o),e[Ss]=t.current,zc(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Wd(t)};An.render=function(e,t,r){if(!Yd(t))throw Error(fe(200));return Qd(null,e,t,!1,r)};An.unmountComponentAtNode=function(e){if(!Yd(e))throw Error(fe(40));return e._reactRootContainer?(Go(function(){Qd(null,null,e,!1,function(){e._reactRootContainer=null,e[Ss]=null})}),!0):!1};An.unstable_batchedUpdates=Ig;An.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Yd(r))throw Error(fe(200));if(e==null||e._reactInternals===void 0)throw Error(fe(38));return Qd(e,t,r,!1,n)};An.version="18.3.1-next-f1338f8080-20240426";function y6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(y6)}catch(e){console.error(e)}}y6(),y3.exports=An;var US=y3.exports,v6,tv=US;v6=tv.createRoot,tv.hydrateRoot;let Rf=null;const $S=e=>{Rf=e};let At=function(e){return e[e.debug=5]="debug",e[e.info=4]="info",e[e.log=3]="log",e[e.warn=2]="warn",e[e.error=1]="error",e}({});const zS=e=>{const{title:t,message:r}=e;return[`
    %c${t}
    ============================

    ${r}

    ============================
    `.replace(/\n[^\S\r\n]+/g,`
`).trim(),"font-weight:bold;font-family:monospace;"]},lt=async e=>{var a;const{title:t,message:r,level:n,always:i}=e,s=await((a=Rf==null?void 0:Rf())==null?void 0:a.get("logger.level"))??At.warn;if(!i&&s<n)return;const o=zS({title:t,message:r});switch(n){case At.debug:console.debug(...o);break;case At.info:console.info(...o);break;case At.warn:console.warn(...o);break;case At.error:console.error(...o);break;default:console.log(...o)}};lt.deprecate=e=>{const{pkg:t,subject:r,transition:n,level:i=At.warn,message:s="",callback:o=null}=e,a=c=>c.charAt(0).toUpperCase()+c.slice(1),u=()=>lt({title:`${t?t+" ":""}Deprecation Notice`,message:`
      ${r?`${a(r)} is deprecated and will cease to work in future releases${t?" of "+t:""}.`:""}${s?`
`+s:""}${n?`
You can learn more (including a guide on common transition paths) here: ${n}`:""}
    `.trim(),level:i});return typeof o=="function"?async function(){return await u(),await o(...arguments)}:u()};function se(e,t){var s,o,a;if(!e){const u=new Error(`INVARIANT ${t}`);u.stack=(a=(o=(s=u.stack)==null?void 0:s.split(`
`))==null?void 0:o.filter(c=>!/at invariant/.test(c)))==null?void 0:a.join(`
`);for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];throw console.error(`

---

`,u,`

`,...n,`

---

`),u}}let tf;const qS=new Uint8Array(16);function jS(){if(!tf&&(tf=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!tf))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return tf(qS)}const pr=[];for(let e=0;e<256;++e)pr.push((e+256).toString(16).slice(1));function HS(e,t=0){return pr[e[t+0]]+pr[e[t+1]]+pr[e[t+2]]+pr[e[t+3]]+"-"+pr[e[t+4]]+pr[e[t+5]]+"-"+pr[e[t+6]]+pr[e[t+7]]+"-"+pr[e[t+8]]+pr[e[t+9]]+"-"+pr[e[t+10]]+pr[e[t+11]]+pr[e[t+12]]+pr[e[t+13]]+pr[e[t+14]]+pr[e[t+15]]}const KS=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),rv={randomUUID:KS};function Pg(e,t,r){if(rv.randomUUID&&!t&&!e)return rv.randomUUID();e=e||{};const n=e.random||(e.rng||jS)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,HS(n)}var gt=function(e){return e.UNKNOWN="UNKNOWN",e.SCRIPT="SCRIPT",e.TRANSACTION="TRANSACTION",e.GET_TRANSACTION_STATUS="GET_TRANSACTION_STATUS",e.GET_ACCOUNT="GET_ACCOUNT",e.GET_EVENTS="GET_EVENTS",e.PING="PING",e.GET_TRANSACTION="GET_TRANSACTION",e.GET_BLOCK="GET_BLOCK",e.GET_BLOCK_HEADER="GET_BLOCK_HEADER",e.GET_COLLECTION="GET_COLLECTION",e.GET_NETWORK_PARAMETERS="GET_NETWORK_PARAMETERS",e.SUBSCRIBE_EVENTS="SUBSCRIBE_EVENTS",e.GET_NODE_VERSION_INFO="GET_NODE_VERSION_INFO",e}({}),gl=function(e){return e.BAD="BAD",e.OK="OK",e}({}),Qc=function(e){return e.AUTHORIZER="authorizer",e.PAYER="payer",e.PROPOSER="proposer",e}({}),Jd=function(e){return e.ARGUMENT="ARGUMENT",e.ACCOUNT="ACCOUNT",e}({});const GS=()=>{const e=[];let t;return{async deliver(r){e.push(r),t&&(t(e.shift()),t=void 0)},receive(){return new Promise(function(n){const i=e.shift();if(i)return n(i);t=n})}}};let nv;const VS=e=>(nv||(nv=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0)),Jc="INIT",vu="SUBSCRIBE",Vo="UNSUBSCRIBE",Qp="UPDATED",b6="SNAPSHOT",Jp="EXIT",iv="TERMINATE",Cf=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||typeof window=="object"&&window.window===window&&window||{FCL_REGISTRY:null};Cf.FCL_REGISTRY=Cf.FCL_REGISTRY==null?{}:Cf.FCL_REGISTRY;const vt=Cf.FCL_REGISTRY;let a0=0;const WS=5e3;function rr(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{expectReply:!1};return new Promise((i,s)=>{const o=n.expectReply||!1,a=n.timeout!=null?n.timeout:WS;o&&a&&setTimeout(()=>s(new Error(`Timeout: ${a}ms passed without a response.`)),a);const u={to:e,from:n.from,tag:t,data:r,timeout:a,reply:i,reject:s};try{vt[e]&&vt[e].mailbox.deliver(u),o||i(!0)}catch(c){console.error("FCL.Actor -- Could Not Deliver Message",u,vt[e],c),s(c)}})}const YS=e=>{delete vt[e]},QS=e=>async t=>{var r;typeof e[Jc]=="function"&&await e[Jc](t);e:for(;;){const n=await t.receive();try{if(n.tag===Jp){typeof e[iv]=="function"&&await e[iv](t,n,n.data||{});break e}await((r=e[n.tag])==null?void 0:r.call(e,t,n,n.data||{}))}catch(i){console.error(`${t.self()} Error`,n,i)}finally{continue e}}},JS=e=>{if(e==null){for(;vt[String(a0)];)a0++;return String(a0)}return String(e)},ia=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const r=JS(t);if(vt[r]!=null)return r;vt[r]={addr:r,mailbox:GS(),subs:new Set,kvs:{},error:null};const n=XS(r);let i;return typeof e=="object"?i=QS(e):i=e,VS(async()=>{await i(n),YS(r)}),r},XS=e=>({self:()=>e,receive:()=>vt[e].mailbox.receive(),send:function(t,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(t!=null)return i.from=e,rr(t,r,n,i)},sendSelf:function(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};vt[e]&&rr(e,t,r,n)},broadcast:function(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};n.from=e;for(const i of vt[e].subs)rr(i,t,r,n)},subscribe:t=>t!=null&&vt[e].subs.add(t),unsubscribe:t=>t!=null&&vt[e].subs.delete(t),subscriberCount:()=>vt[e].subs.size,hasSubs:()=>!!vt[e].subs.size,put:(t,r)=>{t!=null&&(vt[e].kvs[t]=r)},get:function(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;const n=vt[e].kvs[t];return n??r},delete:t=>{delete vt[e].kvs[t]},update:(t,r)=>{t!=null&&(vt[e].kvs[t]=r(vt[e].kvs[t]))},keys:()=>Object.keys(vt[e].kvs),all:()=>vt[e].kvs,where:t=>Object.keys(vt[e].kvs).reduce((r,n)=>t.test(n)?{...r,[n]:vt[e].kvs[n]}:r,{}),merge:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.keys(t).forEach(r=>vt[e].kvs[r]=t[r])},fatalError:t=>{vt[e].error=t;for(const r of vt[e].subs)rr(r,Qp)}});function Og(e,t,r){t(e);const n=ia(async i=>{for(i.send(e,vu);;){const s=await i.receive(),o=vt[e].error;if(s.tag===Jp){i.send(e,Vo);return}if(o){r(null,o),i.send(e,Vo);return}r(s.data,null)}});return()=>rr(n,Jp)}function w6(e,t){return t(e),rr(e,b6,null,{expectReply:!0,timeout:0})}const u0=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n=>t.reduce((i,s)=>s(i),n)},ZS=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n=>t.reduce((i,s)=>({...i,...s(n)}),{})},c0=e=>e&&typeof e=="object"&&!Array.isArray(e),Xp=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(!r.length)return e;const i=r.shift();if(c0(e)&&c0(i))for(const s in i)c0(i[s])?(e[s]||Object.assign(e,{[s]:{}}),Xp(e[s],i[s])):Object.assign(e,{[s]:i[s]});return Xp(e,...r)},e9=e=>Array.isArray(e)?Xp({},...e):e,t9=e=>e.contracts?e.contracts:{},r9=e=>e.dependencies?e.dependencies:{},n9=e=>t=>Object.entries(t).reduce((r,n)=>{var a;let[i,s]=n;const o=(a=s==null?void 0:s.aliases)==null?void 0:a[e];return o&&(r[i]=o),r},{}),i9=e=>t=>Object.entries(t).reduce((r,n)=>{var a;let[i,s]=n;const o=(a=s==null?void 0:s.aliases)==null?void 0:a[e];return o&&(r[i]=o),r},{}),s9=e=>t=>{let{deployments:r={},accounts:n={}}=t;const i=r==null?void 0:r[e];return i?Object.entries(i).reduce((s,o)=>{var f;let[a,u]=o;const c=(f=n[a])==null?void 0:f.address;return c?u.reduce((h,y)=>({...h,[y]:c}),{}):s},{}):{}},o9=(e,t)=>u0(e9,ZS(s9(t),u0(t9,n9(t)),u0(r9,i9(t))))(e),a9=e=>typeof e!="string"?!1:/^[0-9A-Fa-f]+$/.test(e),sv=e=>Object.entries((e==null?void 0:e.accounts)??[]).reduce((t,r)=>{let[,n]=r;return t?!0:n&&Object.prototype.hasOwnProperty.call(n,"key")&&a9(n==null?void 0:n.key)},!1),u9=e=>Array.isArray(e)?e.some(sv):sv(e),c9=e=>{const t=(e==null?void 0:e.toLowerCase())==="local"?"emulator":e==null?void 0:e.toLowerCase();if(t==="emulator"||t==="testnet"||t==="mainnet"||t==="previewnet")return t;throw new Error(`Invalid network "${e}". Must be one of "emulator", "local", "testnet", or "mainnet"`)};$S(Be);const $i="config",E6="PUT_CONFIG",_6="GET_CONFIG",S6="GET_ALL_CONFIG",A6="UPDATE_CONFIG",I6="DELETE_CONFIG",x6="CLEAR_CONFIG",M6="WHERE_CONFIG",Yu="CONFIG/UPDATED",R6=e=>e,C6={[E6]:(e,t,r)=>{let{key:n,value:i}=r;if(n==null)throw new Error("Missing 'key' for config/put.");e.put(n,i),e.broadcast(Yu,{...e.all()})},[_6]:(e,t,r)=>{let{key:n,fallback:i}=r;if(n==null)throw new Error("Missing 'key' for config/get");t.reply(e.get(n,i))},[S6]:(e,t)=>{t.reply({...e.all()})},[A6]:(e,t,r)=>{let{key:n,fn:i}=r;if(n==null)throw new Error("Missing 'key' for config/update");e.update(n,i||R6),e.broadcast(Yu,{...e.all()})},[I6]:(e,t,r)=>{let{key:n}=r;if(n==null)throw new Error("Missing 'key' for config/delete");e.delete(n),e.broadcast(Yu,{...e.all()})},[x6]:e=>{const t=Object.keys(e.all());for(const r of t)e.delete(r);e.broadcast(Yu,{...e.all()})},[M6]:(e,t,r)=>{let{pattern:n}=r;if(n==null)throw new Error("Missing 'pattern' for config/where");t.reply(e.where(n))},[vu]:(e,t)=>{e.subscribe(t.from),e.send(t.from,Yu,{...e.all()})},[Vo]:(e,t)=>{e.unsubscribe(t.from)}};ia(C6,$i);function Xc(e,t){return rr($i,E6,{key:e,value:t}),Be()}function Va(e,t){return rr($i,_6,{key:e,fallback:t},{expectReply:!0,timeout:10})}async function kg(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(!e.length)return t;const[r,...n]=e,i=await Va(r);return i??kg(n,t)}function dd(){return rr($i,S6,null,{expectReply:!0,timeout:10})}function D6(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:R6;return rr($i,A6,{key:e,fn:t}),Be()}function T6(e){return rr($i,I6,{key:e}),Be()}function N6(e){return rr($i,M6,{pattern:e},{expectReply:!0,timeout:10})}function P6(e){return Og($i,()=>ia(C6,$i),e)}async function l9(){await rr($i,x6)}async function f9(e){return l9().then(()=>Be(e))}async function O6(e){let{ignoreConflicts:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=await Va("flow.network"),n=c9(r),{flowJSON:i}=e;if(se(!!i,"config.load -- 'flowJSON' must be defined"),se(!!n,'Flow Network Required -- In order for FCL to load your contracts please define "flow.network" to "emulator", "local", "testnet", or "mainnet" in your config. See more here: https://developers.flow.com/tools/fcl-js/reference/configure-fcl'),u9(i)){const s=n==="emulator";lt({title:"Private Keys Detected",message:"Private keys should be stored in a separate flow.json file for security. See more here: https://developers.flow.com/tools/flow-cli/security",level:s?At.warn:At.error}),se(s,"Private keys should be stored in a separate flow.json file for security. See more here: https://developers.flow.com/tools/flow-cli/security")}for(const[s,o]of Object.entries(o9(i,n))){const a=`0x${s}`,u=await Va(a);u&&u!==o&&!t?lt({title:"Contract Placeholder Conflict Detected",message:"A generated contract placeholder from config.load conflicts with a placeholder you've set manually in config have the same name.",level:At.warn}):Xc(a,o);const c=`system.contracts.${s}`,f=await Va(c);f&&f!==o&&!t?lt({title:"Contract Placeholder Conflict Detected",message:"A generated contract placeholder from config.load conflicts with a placeholder you've set manually in config have the same name.",level:At.warn}):Xc(c,o)}}function Be(e){return e!=null&&typeof e=="object"&&Object.keys(e).map(t=>Xc(t,e[t])),{put:Xc,get:Va,all:dd,first:kg,update:D6,delete:T6,where:N6,subscribe:P6,overload:k6,load:O6}}Be.put=Xc;Be.get=Va;Be.all=dd;Be.first=kg;Be.update=D6;Be.delete=T6;Be.where=N6;Be.subscribe=P6;Be.overload=k6;Be.load=O6;async function k6(e,t){const r=await dd();try{return Be(e),await t(await dd())}finally{await f9(r)}}var Tt={},Xd={};Xd.byteLength=p9;Xd.toByteArray=m9;Xd.fromByteArray=b9;var Ri=[],Bn=[],d9=typeof Uint8Array<"u"?Uint8Array:Array,l0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ma=0,h9=l0.length;ma<h9;++ma)Ri[ma]=l0[ma],Bn[l0.charCodeAt(ma)]=ma;Bn[45]=62;Bn[95]=63;function F6(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function p9(e){var t=F6(e),r=t[0],n=t[1];return(r+n)*3/4-n}function g9(e,t,r){return(t+r)*3/4-r}function m9(e){var t,r=F6(e),n=r[0],i=r[1],s=new d9(g9(e,n,i)),o=0,a=i>0?n-4:n,u;for(u=0;u<a;u+=4)t=Bn[e.charCodeAt(u)]<<18|Bn[e.charCodeAt(u+1)]<<12|Bn[e.charCodeAt(u+2)]<<6|Bn[e.charCodeAt(u+3)],s[o++]=t>>16&255,s[o++]=t>>8&255,s[o++]=t&255;return i===2&&(t=Bn[e.charCodeAt(u)]<<2|Bn[e.charCodeAt(u+1)]>>4,s[o++]=t&255),i===1&&(t=Bn[e.charCodeAt(u)]<<10|Bn[e.charCodeAt(u+1)]<<4|Bn[e.charCodeAt(u+2)]>>2,s[o++]=t>>8&255,s[o++]=t&255),s}function y9(e){return Ri[e>>18&63]+Ri[e>>12&63]+Ri[e>>6&63]+Ri[e&63]}function v9(e,t,r){for(var n,i=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),i.push(y9(n));return i.join("")}function b9(e){for(var t,r=e.length,n=r%3,i=[],s=16383,o=0,a=r-n;o<a;o+=s)i.push(v9(e,o,o+s>a?a:o+s));return n===1?(t=e[r-1],i.push(Ri[t>>2]+Ri[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(Ri[t>>10]+Ri[t>>4&63]+Ri[t<<2&63]+"=")),i.join("")}var Fg={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Fg.read=function(e,t,r,n,i){var s,o,a=i*8-n-1,u=(1<<a)-1,c=u>>1,f=-7,h=r?i-1:0,y=r?-1:1,v=e[t+h];for(h+=y,s=v&(1<<-f)-1,v>>=-f,f+=a;f>0;s=s*256+e[t+h],h+=y,f-=8);for(o=s&(1<<-f)-1,s>>=-f,f+=n;f>0;o=o*256+e[t+h],h+=y,f-=8);if(s===0)s=1-c;else{if(s===u)return o?NaN:(v?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-c}return(v?-1:1)*o*Math.pow(2,s-n)};Fg.write=function(e,t,r,n,i,s){var o,a,u,c=s*8-i-1,f=(1<<c)-1,h=f>>1,y=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=n?0:s-1,w=n?1:-1,C=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=f):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+h>=1?t+=y/u:t+=y*Math.pow(2,1-h),t*u>=2&&(o++,u/=2),o+h>=f?(a=0,o=f):o+h>=1?(a=(t*u-1)*Math.pow(2,i),o=o+h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[r+v]=a&255,v+=w,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;e[r+v]=o&255,v+=w,o/=256,c-=8);e[r+v-w]|=C*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=Xd,r=Fg,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=x,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const F=new Uint8Array(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(F,_),F.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(F){if(F>i)throw new RangeError('The value "'+F+'" is invalid for option "size"');const _=new Uint8Array(F);return Object.setPrototypeOf(_,a.prototype),_}function a(F,_,M){if(typeof F=="number"){if(typeof _=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(F)}return u(F,_,M)}a.poolSize=8192;function u(F,_,M){if(typeof F=="string")return y(F,_);if(ArrayBuffer.isView(F))return w(F);if(F==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F);if(le(F,ArrayBuffer)||F&&le(F.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(le(F,SharedArrayBuffer)||F&&le(F.buffer,SharedArrayBuffer)))return C(F,_,M);if(typeof F=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const z=F.valueOf&&F.valueOf();if(z!=null&&z!==F)return a.from(z,_,M);const W=N(F);if(W)return W;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof F[Symbol.toPrimitive]=="function")return a.from(F[Symbol.toPrimitive]("string"),_,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F)}a.from=function(F,_,M){return u(F,_,M)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(F){if(typeof F!="number")throw new TypeError('"size" argument must be of type number');if(F<0)throw new RangeError('The value "'+F+'" is invalid for option "size"')}function f(F,_,M){return c(F),F<=0?o(F):_!==void 0?typeof M=="string"?o(F).fill(_,M):o(F).fill(_):o(F)}a.alloc=function(F,_,M){return f(F,_,M)};function h(F){return c(F),o(F<0?0:T(F)|0)}a.allocUnsafe=function(F){return h(F)},a.allocUnsafeSlow=function(F){return h(F)};function y(F,_){if((typeof _!="string"||_==="")&&(_="utf8"),!a.isEncoding(_))throw new TypeError("Unknown encoding: "+_);const M=O(F,_)|0;let z=o(M);const W=z.write(F,_);return W!==M&&(z=z.slice(0,W)),z}function v(F){const _=F.length<0?0:T(F.length)|0,M=o(_);for(let z=0;z<_;z+=1)M[z]=F[z]&255;return M}function w(F){if(le(F,Uint8Array)){const _=new Uint8Array(F);return C(_.buffer,_.byteOffset,_.byteLength)}return v(F)}function C(F,_,M){if(_<0||F.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(F.byteLength<_+(M||0))throw new RangeError('"length" is outside of buffer bounds');let z;return _===void 0&&M===void 0?z=new Uint8Array(F):M===void 0?z=new Uint8Array(F,_):z=new Uint8Array(F,_,M),Object.setPrototypeOf(z,a.prototype),z}function N(F){if(a.isBuffer(F)){const _=T(F.length)|0,M=o(_);return M.length===0||F.copy(M,0,0,_),M}if(F.length!==void 0)return typeof F.length!="number"||we(F.length)?o(0):v(F);if(F.type==="Buffer"&&Array.isArray(F.data))return v(F.data)}function T(F){if(F>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return F|0}function x(F){return+F!=F&&(F=0),a.alloc(+F)}a.isBuffer=function(_){return _!=null&&_._isBuffer===!0&&_!==a.prototype},a.compare=function(_,M){if(le(_,Uint8Array)&&(_=a.from(_,_.offset,_.byteLength)),le(M,Uint8Array)&&(M=a.from(M,M.offset,M.byteLength)),!a.isBuffer(_)||!a.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===M)return 0;let z=_.length,W=M.length;for(let Q=0,ee=Math.min(z,W);Q<ee;++Q)if(_[Q]!==M[Q]){z=_[Q],W=M[Q];break}return z<W?-1:W<z?1:0},a.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(_,M){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(_.length===0)return a.alloc(0);let z;if(M===void 0)for(M=0,z=0;z<_.length;++z)M+=_[z].length;const W=a.allocUnsafe(M);let Q=0;for(z=0;z<_.length;++z){let ee=_[z];if(le(ee,Uint8Array))Q+ee.length>W.length?(a.isBuffer(ee)||(ee=a.from(ee)),ee.copy(W,Q)):Uint8Array.prototype.set.call(W,ee,Q);else if(a.isBuffer(ee))ee.copy(W,Q);else throw new TypeError('"list" argument must be an Array of Buffers');Q+=ee.length}return W};function O(F,_){if(a.isBuffer(F))return F.length;if(ArrayBuffer.isView(F)||le(F,ArrayBuffer))return F.byteLength;if(typeof F!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof F);const M=F.length,z=arguments.length>2&&arguments[2]===!0;if(!z&&M===0)return 0;let W=!1;for(;;)switch(_){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return Oe(F).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M*2;case"hex":return M>>>1;case"base64":return xe(F).length;default:if(W)return z?-1:Oe(F).length;_=(""+_).toLowerCase(),W=!0}}a.byteLength=O;function k(F,_,M){let z=!1;if((_===void 0||_<0)&&(_=0),_>this.length||((M===void 0||M>this.length)&&(M=this.length),M<=0)||(M>>>=0,_>>>=0,M<=_))return"";for(F||(F="utf8");;)switch(F){case"hex":return I(this,_,M);case"utf8":case"utf-8":return d(this,_,M);case"ascii":return D(this,_,M);case"latin1":case"binary":return R(this,_,M);case"base64":return l(this,_,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return p(this,_,M);default:if(z)throw new TypeError("Unknown encoding: "+F);F=(F+"").toLowerCase(),z=!0}}a.prototype._isBuffer=!0;function L(F,_,M){const z=F[_];F[_]=F[M],F[M]=z}a.prototype.swap16=function(){const _=this.length;if(_%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let M=0;M<_;M+=2)L(this,M,M+1);return this},a.prototype.swap32=function(){const _=this.length;if(_%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let M=0;M<_;M+=4)L(this,M,M+3),L(this,M+1,M+2);return this},a.prototype.swap64=function(){const _=this.length;if(_%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let M=0;M<_;M+=8)L(this,M,M+7),L(this,M+1,M+6),L(this,M+2,M+5),L(this,M+3,M+4);return this},a.prototype.toString=function(){const _=this.length;return _===0?"":arguments.length===0?d(this,0,_):k.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(_){if(!a.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_?!0:a.compare(this,_)===0},a.prototype.inspect=function(){let _="";const M=e.INSPECT_MAX_BYTES;return _=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(_+=" ... "),"<Buffer "+_+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(_,M,z,W,Q){if(le(_,Uint8Array)&&(_=a.from(_,_.offset,_.byteLength)),!a.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(M===void 0&&(M=0),z===void 0&&(z=_?_.length:0),W===void 0&&(W=0),Q===void 0&&(Q=this.length),M<0||z>_.length||W<0||Q>this.length)throw new RangeError("out of range index");if(W>=Q&&M>=z)return 0;if(W>=Q)return-1;if(M>=z)return 1;if(M>>>=0,z>>>=0,W>>>=0,Q>>>=0,this===_)return 0;let ee=Q-W,oe=z-M;const he=Math.min(ee,oe),Ce=this.slice(W,Q),me=_.slice(M,z);for(let De=0;De<he;++De)if(Ce[De]!==me[De]){ee=Ce[De],oe=me[De];break}return ee<oe?-1:oe<ee?1:0};function $(F,_,M,z,W){if(F.length===0)return-1;if(typeof M=="string"?(z=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),M=+M,we(M)&&(M=W?0:F.length-1),M<0&&(M=F.length+M),M>=F.length){if(W)return-1;M=F.length-1}else if(M<0)if(W)M=0;else return-1;if(typeof _=="string"&&(_=a.from(_,z)),a.isBuffer(_))return _.length===0?-1:E(F,_,M,z,W);if(typeof _=="number")return _=_&255,typeof Uint8Array.prototype.indexOf=="function"?W?Uint8Array.prototype.indexOf.call(F,_,M):Uint8Array.prototype.lastIndexOf.call(F,_,M):E(F,[_],M,z,W);throw new TypeError("val must be string, number or Buffer")}function E(F,_,M,z,W){let Q=1,ee=F.length,oe=_.length;if(z!==void 0&&(z=String(z).toLowerCase(),z==="ucs2"||z==="ucs-2"||z==="utf16le"||z==="utf-16le")){if(F.length<2||_.length<2)return-1;Q=2,ee/=2,oe/=2,M/=2}function he(me,De){return Q===1?me[De]:me.readUInt16BE(De*Q)}let Ce;if(W){let me=-1;for(Ce=M;Ce<ee;Ce++)if(he(F,Ce)===he(_,me===-1?0:Ce-me)){if(me===-1&&(me=Ce),Ce-me+1===oe)return me*Q}else me!==-1&&(Ce-=Ce-me),me=-1}else for(M+oe>ee&&(M=ee-oe),Ce=M;Ce>=0;Ce--){let me=!0;for(let De=0;De<oe;De++)if(he(F,Ce+De)!==he(_,De)){me=!1;break}if(me)return Ce}return-1}a.prototype.includes=function(_,M,z){return this.indexOf(_,M,z)!==-1},a.prototype.indexOf=function(_,M,z){return $(this,_,M,z,!0)},a.prototype.lastIndexOf=function(_,M,z){return $(this,_,M,z,!1)};function U(F,_,M,z){M=Number(M)||0;const W=F.length-M;z?(z=Number(z),z>W&&(z=W)):z=W;const Q=_.length;z>Q/2&&(z=Q/2);let ee;for(ee=0;ee<z;++ee){const oe=parseInt(_.substr(ee*2,2),16);if(we(oe))return ee;F[M+ee]=oe}return ee}function Z(F,_,M,z){return Ee(Oe(_,F.length-M),F,M,z)}function ne(F,_,M,z){return Ee(Le(_),F,M,z)}function q(F,_,M,z){return Ee(xe(_),F,M,z)}function b(F,_,M,z){return Ee(ve(_,F.length-M),F,M,z)}a.prototype.write=function(_,M,z,W){if(M===void 0)W="utf8",z=this.length,M=0;else if(z===void 0&&typeof M=="string")W=M,z=this.length,M=0;else if(isFinite(M))M=M>>>0,isFinite(z)?(z=z>>>0,W===void 0&&(W="utf8")):(W=z,z=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Q=this.length-M;if((z===void 0||z>Q)&&(z=Q),_.length>0&&(z<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");W||(W="utf8");let ee=!1;for(;;)switch(W){case"hex":return U(this,_,M,z);case"utf8":case"utf-8":return Z(this,_,M,z);case"ascii":case"latin1":case"binary":return ne(this,_,M,z);case"base64":return q(this,_,M,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,_,M,z);default:if(ee)throw new TypeError("Unknown encoding: "+W);W=(""+W).toLowerCase(),ee=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function l(F,_,M){return _===0&&M===F.length?t.fromByteArray(F):t.fromByteArray(F.slice(_,M))}function d(F,_,M){M=Math.min(F.length,M);const z=[];let W=_;for(;W<M;){const Q=F[W];let ee=null,oe=Q>239?4:Q>223?3:Q>191?2:1;if(W+oe<=M){let he,Ce,me,De;switch(oe){case 1:Q<128&&(ee=Q);break;case 2:he=F[W+1],(he&192)===128&&(De=(Q&31)<<6|he&63,De>127&&(ee=De));break;case 3:he=F[W+1],Ce=F[W+2],(he&192)===128&&(Ce&192)===128&&(De=(Q&15)<<12|(he&63)<<6|Ce&63,De>2047&&(De<55296||De>57343)&&(ee=De));break;case 4:he=F[W+1],Ce=F[W+2],me=F[W+3],(he&192)===128&&(Ce&192)===128&&(me&192)===128&&(De=(Q&15)<<18|(he&63)<<12|(Ce&63)<<6|me&63,De>65535&&De<1114112&&(ee=De))}}ee===null?(ee=65533,oe=1):ee>65535&&(ee-=65536,z.push(ee>>>10&1023|55296),ee=56320|ee&1023),z.push(ee),W+=oe}return A(z)}const m=4096;function A(F){const _=F.length;if(_<=m)return String.fromCharCode.apply(String,F);let M="",z=0;for(;z<_;)M+=String.fromCharCode.apply(String,F.slice(z,z+=m));return M}function D(F,_,M){let z="";M=Math.min(F.length,M);for(let W=_;W<M;++W)z+=String.fromCharCode(F[W]&127);return z}function R(F,_,M){let z="";M=Math.min(F.length,M);for(let W=_;W<M;++W)z+=String.fromCharCode(F[W]);return z}function I(F,_,M){const z=F.length;(!_||_<0)&&(_=0),(!M||M<0||M>z)&&(M=z);let W="";for(let Q=_;Q<M;++Q)W+=_e[F[Q]];return W}function p(F,_,M){const z=F.slice(_,M);let W="";for(let Q=0;Q<z.length-1;Q+=2)W+=String.fromCharCode(z[Q]+z[Q+1]*256);return W}a.prototype.slice=function(_,M){const z=this.length;_=~~_,M=M===void 0?z:~~M,_<0?(_+=z,_<0&&(_=0)):_>z&&(_=z),M<0?(M+=z,M<0&&(M=0)):M>z&&(M=z),M<_&&(M=_);const W=this.subarray(_,M);return Object.setPrototypeOf(W,a.prototype),W};function g(F,_,M){if(F%1!==0||F<0)throw new RangeError("offset is not uint");if(F+_>M)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(_,M,z){_=_>>>0,M=M>>>0,z||g(_,M,this.length);let W=this[_],Q=1,ee=0;for(;++ee<M&&(Q*=256);)W+=this[_+ee]*Q;return W},a.prototype.readUintBE=a.prototype.readUIntBE=function(_,M,z){_=_>>>0,M=M>>>0,z||g(_,M,this.length);let W=this[_+--M],Q=1;for(;M>0&&(Q*=256);)W+=this[_+--M]*Q;return W},a.prototype.readUint8=a.prototype.readUInt8=function(_,M){return _=_>>>0,M||g(_,1,this.length),this[_]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(_,M){return _=_>>>0,M||g(_,2,this.length),this[_]|this[_+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(_,M){return _=_>>>0,M||g(_,2,this.length),this[_]<<8|this[_+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(_,M){return _=_>>>0,M||g(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+this[_+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(_,M){return _=_>>>0,M||g(_,4,this.length),this[_]*16777216+(this[_+1]<<16|this[_+2]<<8|this[_+3])},a.prototype.readBigUInt64LE=ce(function(_){_=_>>>0,ie(_,"offset");const M=this[_],z=this[_+7];(M===void 0||z===void 0)&&ae(_,this.length-8);const W=M+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24,Q=this[++_]+this[++_]*2**8+this[++_]*2**16+z*2**24;return BigInt(W)+(BigInt(Q)<<BigInt(32))}),a.prototype.readBigUInt64BE=ce(function(_){_=_>>>0,ie(_,"offset");const M=this[_],z=this[_+7];(M===void 0||z===void 0)&&ae(_,this.length-8);const W=M*2**24+this[++_]*2**16+this[++_]*2**8+this[++_],Q=this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+z;return(BigInt(W)<<BigInt(32))+BigInt(Q)}),a.prototype.readIntLE=function(_,M,z){_=_>>>0,M=M>>>0,z||g(_,M,this.length);let W=this[_],Q=1,ee=0;for(;++ee<M&&(Q*=256);)W+=this[_+ee]*Q;return Q*=128,W>=Q&&(W-=Math.pow(2,8*M)),W},a.prototype.readIntBE=function(_,M,z){_=_>>>0,M=M>>>0,z||g(_,M,this.length);let W=M,Q=1,ee=this[_+--W];for(;W>0&&(Q*=256);)ee+=this[_+--W]*Q;return Q*=128,ee>=Q&&(ee-=Math.pow(2,8*M)),ee},a.prototype.readInt8=function(_,M){return _=_>>>0,M||g(_,1,this.length),this[_]&128?(255-this[_]+1)*-1:this[_]},a.prototype.readInt16LE=function(_,M){_=_>>>0,M||g(_,2,this.length);const z=this[_]|this[_+1]<<8;return z&32768?z|4294901760:z},a.prototype.readInt16BE=function(_,M){_=_>>>0,M||g(_,2,this.length);const z=this[_+1]|this[_]<<8;return z&32768?z|4294901760:z},a.prototype.readInt32LE=function(_,M){return _=_>>>0,M||g(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},a.prototype.readInt32BE=function(_,M){return _=_>>>0,M||g(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},a.prototype.readBigInt64LE=ce(function(_){_=_>>>0,ie(_,"offset");const M=this[_],z=this[_+7];(M===void 0||z===void 0)&&ae(_,this.length-8);const W=this[_+4]+this[_+5]*2**8+this[_+6]*2**16+(z<<24);return(BigInt(W)<<BigInt(32))+BigInt(M+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24)}),a.prototype.readBigInt64BE=ce(function(_){_=_>>>0,ie(_,"offset");const M=this[_],z=this[_+7];(M===void 0||z===void 0)&&ae(_,this.length-8);const W=(M<<24)+this[++_]*2**16+this[++_]*2**8+this[++_];return(BigInt(W)<<BigInt(32))+BigInt(this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+z)}),a.prototype.readFloatLE=function(_,M){return _=_>>>0,M||g(_,4,this.length),r.read(this,_,!0,23,4)},a.prototype.readFloatBE=function(_,M){return _=_>>>0,M||g(_,4,this.length),r.read(this,_,!1,23,4)},a.prototype.readDoubleLE=function(_,M){return _=_>>>0,M||g(_,8,this.length),r.read(this,_,!0,52,8)},a.prototype.readDoubleBE=function(_,M){return _=_>>>0,M||g(_,8,this.length),r.read(this,_,!1,52,8)};function B(F,_,M,z,W,Q){if(!a.isBuffer(F))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>W||_<Q)throw new RangeError('"value" argument is out of bounds');if(M+z>F.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(_,M,z,W){if(_=+_,M=M>>>0,z=z>>>0,!W){const oe=Math.pow(2,8*z)-1;B(this,_,M,z,oe,0)}let Q=1,ee=0;for(this[M]=_&255;++ee<z&&(Q*=256);)this[M+ee]=_/Q&255;return M+z},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(_,M,z,W){if(_=+_,M=M>>>0,z=z>>>0,!W){const oe=Math.pow(2,8*z)-1;B(this,_,M,z,oe,0)}let Q=z-1,ee=1;for(this[M+Q]=_&255;--Q>=0&&(ee*=256);)this[M+Q]=_/ee&255;return M+z},a.prototype.writeUint8=a.prototype.writeUInt8=function(_,M,z){return _=+_,M=M>>>0,z||B(this,_,M,1,255,0),this[M]=_&255,M+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(_,M,z){return _=+_,M=M>>>0,z||B(this,_,M,2,65535,0),this[M]=_&255,this[M+1]=_>>>8,M+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(_,M,z){return _=+_,M=M>>>0,z||B(this,_,M,2,65535,0),this[M]=_>>>8,this[M+1]=_&255,M+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(_,M,z){return _=+_,M=M>>>0,z||B(this,_,M,4,4294967295,0),this[M+3]=_>>>24,this[M+2]=_>>>16,this[M+1]=_>>>8,this[M]=_&255,M+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(_,M,z){return _=+_,M=M>>>0,z||B(this,_,M,4,4294967295,0),this[M]=_>>>24,this[M+1]=_>>>16,this[M+2]=_>>>8,this[M+3]=_&255,M+4};function Y(F,_,M,z,W){re(_,z,W,F,M,7);let Q=Number(_&BigInt(4294967295));F[M++]=Q,Q=Q>>8,F[M++]=Q,Q=Q>>8,F[M++]=Q,Q=Q>>8,F[M++]=Q;let ee=Number(_>>BigInt(32)&BigInt(4294967295));return F[M++]=ee,ee=ee>>8,F[M++]=ee,ee=ee>>8,F[M++]=ee,ee=ee>>8,F[M++]=ee,M}function te(F,_,M,z,W){re(_,z,W,F,M,7);let Q=Number(_&BigInt(4294967295));F[M+7]=Q,Q=Q>>8,F[M+6]=Q,Q=Q>>8,F[M+5]=Q,Q=Q>>8,F[M+4]=Q;let ee=Number(_>>BigInt(32)&BigInt(4294967295));return F[M+3]=ee,ee=ee>>8,F[M+2]=ee,ee=ee>>8,F[M+1]=ee,ee=ee>>8,F[M]=ee,M+8}a.prototype.writeBigUInt64LE=ce(function(_,M=0){return Y(this,_,M,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=ce(function(_,M=0){return te(this,_,M,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(_,M,z,W){if(_=+_,M=M>>>0,!W){const he=Math.pow(2,8*z-1);B(this,_,M,z,he-1,-he)}let Q=0,ee=1,oe=0;for(this[M]=_&255;++Q<z&&(ee*=256);)_<0&&oe===0&&this[M+Q-1]!==0&&(oe=1),this[M+Q]=(_/ee>>0)-oe&255;return M+z},a.prototype.writeIntBE=function(_,M,z,W){if(_=+_,M=M>>>0,!W){const he=Math.pow(2,8*z-1);B(this,_,M,z,he-1,-he)}let Q=z-1,ee=1,oe=0;for(this[M+Q]=_&255;--Q>=0&&(ee*=256);)_<0&&oe===0&&this[M+Q+1]!==0&&(oe=1),this[M+Q]=(_/ee>>0)-oe&255;return M+z},a.prototype.writeInt8=function(_,M,z){return _=+_,M=M>>>0,z||B(this,_,M,1,127,-128),_<0&&(_=255+_+1),this[M]=_&255,M+1},a.prototype.writeInt16LE=function(_,M,z){return _=+_,M=M>>>0,z||B(this,_,M,2,32767,-32768),this[M]=_&255,this[M+1]=_>>>8,M+2},a.prototype.writeInt16BE=function(_,M,z){return _=+_,M=M>>>0,z||B(this,_,M,2,32767,-32768),this[M]=_>>>8,this[M+1]=_&255,M+2},a.prototype.writeInt32LE=function(_,M,z){return _=+_,M=M>>>0,z||B(this,_,M,4,2147483647,-2147483648),this[M]=_&255,this[M+1]=_>>>8,this[M+2]=_>>>16,this[M+3]=_>>>24,M+4},a.prototype.writeInt32BE=function(_,M,z){return _=+_,M=M>>>0,z||B(this,_,M,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[M]=_>>>24,this[M+1]=_>>>16,this[M+2]=_>>>8,this[M+3]=_&255,M+4},a.prototype.writeBigInt64LE=ce(function(_,M=0){return Y(this,_,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=ce(function(_,M=0){return te(this,_,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function P(F,_,M,z,W,Q){if(M+z>F.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function J(F,_,M,z,W){return _=+_,M=M>>>0,W||P(F,_,M,4),r.write(F,_,M,z,23,4),M+4}a.prototype.writeFloatLE=function(_,M,z){return J(this,_,M,!0,z)},a.prototype.writeFloatBE=function(_,M,z){return J(this,_,M,!1,z)};function j(F,_,M,z,W){return _=+_,M=M>>>0,W||P(F,_,M,8),r.write(F,_,M,z,52,8),M+8}a.prototype.writeDoubleLE=function(_,M,z){return j(this,_,M,!0,z)},a.prototype.writeDoubleBE=function(_,M,z){return j(this,_,M,!1,z)},a.prototype.copy=function(_,M,z,W){if(!a.isBuffer(_))throw new TypeError("argument should be a Buffer");if(z||(z=0),!W&&W!==0&&(W=this.length),M>=_.length&&(M=_.length),M||(M=0),W>0&&W<z&&(W=z),W===z||_.length===0||this.length===0)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(z<0||z>=this.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("sourceEnd out of bounds");W>this.length&&(W=this.length),_.length-M<W-z&&(W=_.length-M+z);const Q=W-z;return this===_&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(M,z,W):Uint8Array.prototype.set.call(_,this.subarray(z,W),M),Q},a.prototype.fill=function(_,M,z,W){if(typeof _=="string"){if(typeof M=="string"?(W=M,M=0,z=this.length):typeof z=="string"&&(W=z,z=this.length),W!==void 0&&typeof W!="string")throw new TypeError("encoding must be a string");if(typeof W=="string"&&!a.isEncoding(W))throw new TypeError("Unknown encoding: "+W);if(_.length===1){const ee=_.charCodeAt(0);(W==="utf8"&&ee<128||W==="latin1")&&(_=ee)}}else typeof _=="number"?_=_&255:typeof _=="boolean"&&(_=Number(_));if(M<0||this.length<M||this.length<z)throw new RangeError("Out of range index");if(z<=M)return this;M=M>>>0,z=z===void 0?this.length:z>>>0,_||(_=0);let Q;if(typeof _=="number")for(Q=M;Q<z;++Q)this[Q]=_;else{const ee=a.isBuffer(_)?_:a.from(_,W),oe=ee.length;if(oe===0)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(Q=0;Q<z-M;++Q)this[Q+M]=ee[Q%oe]}return this};const K={};function G(F,_,M){K[F]=class extends M{constructor(){super(),Object.defineProperty(this,"message",{value:_.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${F}]`,this.stack,delete this.name}get code(){return F}set code(W){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:W,writable:!0})}toString(){return`${this.name} [${F}]: ${this.message}`}}}G("ERR_BUFFER_OUT_OF_BOUNDS",function(F){return F?`${F} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),G("ERR_INVALID_ARG_TYPE",function(F,_){return`The "${F}" argument must be of type number. Received type ${typeof _}`},TypeError),G("ERR_OUT_OF_RANGE",function(F,_,M){let z=`The value of "${F}" is out of range.`,W=M;return Number.isInteger(M)&&Math.abs(M)>2**32?W=S(String(M)):typeof M=="bigint"&&(W=String(M),(M>BigInt(2)**BigInt(32)||M<-(BigInt(2)**BigInt(32)))&&(W=S(W)),W+="n"),z+=` It must be ${_}. Received ${W}`,z},RangeError);function S(F){let _="",M=F.length;const z=F[0]==="-"?1:0;for(;M>=z+4;M-=3)_=`_${F.slice(M-3,M)}${_}`;return`${F.slice(0,M)}${_}`}function H(F,_,M){ie(_,"offset"),(F[_]===void 0||F[_+M]===void 0)&&ae(_,F.length-(M+1))}function re(F,_,M,z,W,Q){if(F>M||F<_){const ee=typeof _=="bigint"?"n":"";let oe;throw _===0||_===BigInt(0)?oe=`>= 0${ee} and < 2${ee} ** ${(Q+1)*8}${ee}`:oe=`>= -(2${ee} ** ${(Q+1)*8-1}${ee}) and < 2 ** ${(Q+1)*8-1}${ee}`,new K.ERR_OUT_OF_RANGE("value",oe,F)}H(z,W,Q)}function ie(F,_){if(typeof F!="number")throw new K.ERR_INVALID_ARG_TYPE(_,"number",F)}function ae(F,_,M){throw Math.floor(F)!==F?(ie(F,M),new K.ERR_OUT_OF_RANGE("offset","an integer",F)):_<0?new K.ERR_BUFFER_OUT_OF_BOUNDS:new K.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${_}`,F)}const pe=/[^+/0-9A-Za-z-_]/g;function de(F){if(F=F.split("=")[0],F=F.trim().replace(pe,""),F.length<2)return"";for(;F.length%4!==0;)F=F+"=";return F}function Oe(F,_){_=_||1/0;let M;const z=F.length;let W=null;const Q=[];for(let ee=0;ee<z;++ee){if(M=F.charCodeAt(ee),M>55295&&M<57344){if(!W){if(M>56319){(_-=3)>-1&&Q.push(239,191,189);continue}else if(ee+1===z){(_-=3)>-1&&Q.push(239,191,189);continue}W=M;continue}if(M<56320){(_-=3)>-1&&Q.push(239,191,189),W=M;continue}M=(W-55296<<10|M-56320)+65536}else W&&(_-=3)>-1&&Q.push(239,191,189);if(W=null,M<128){if((_-=1)<0)break;Q.push(M)}else if(M<2048){if((_-=2)<0)break;Q.push(M>>6|192,M&63|128)}else if(M<65536){if((_-=3)<0)break;Q.push(M>>12|224,M>>6&63|128,M&63|128)}else if(M<1114112){if((_-=4)<0)break;Q.push(M>>18|240,M>>12&63|128,M>>6&63|128,M&63|128)}else throw new Error("Invalid code point")}return Q}function Le(F){const _=[];for(let M=0;M<F.length;++M)_.push(F.charCodeAt(M)&255);return _}function ve(F,_){let M,z,W;const Q=[];for(let ee=0;ee<F.length&&!((_-=2)<0);++ee)M=F.charCodeAt(ee),z=M>>8,W=M%256,Q.push(W),Q.push(z);return Q}function xe(F){return t.toByteArray(de(F))}function Ee(F,_,M,z){let W;for(W=0;W<z&&!(W+M>=_.length||W>=F.length);++W)_[W+M]=F[W];return W}function le(F,_){return F instanceof _||F!=null&&F.constructor!=null&&F.constructor.name!=null&&F.constructor.name===_.name}function we(F){return F!==F}const _e=function(){const F="0123456789abcdef",_=new Array(256);for(let M=0;M<16;++M){const z=M*16;for(let W=0;W<16;++W)_[z+W]=F[M]+F[W]}return _}();function ce(F){return typeof BigInt>"u"?be:F}function be(){throw new Error("BigInt not supported")}})(Tt);function Bg(e){if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++)t.push(Bg(e[n]));const r=Tt.Buffer.concat(t);return Tt.Buffer.concat([ov(r.length,192),r])}else{const t=S9(e);return t.length===1&&t[0]<128?t:Tt.Buffer.concat([ov(t.length,128),t])}}function ov(e,t){if(e<56)return Tt.Buffer.from([e+t]);{const r=Zp(e),n=r.length/2,i=Zp(t+55+n);return Tt.Buffer.from(i+r,"hex")}}function B6(e){return e.slice(0,2)==="0x"}function w9(e){return typeof e!="string"?e:B6(e)?e.slice(2):e}function Zp(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");const t=e.toString(16);return t.length%2?"0"+t:t}function E9(e){return e.length%2?"0"+e:e}function _9(e){const t=Zp(e);return Tt.Buffer.from(t,"hex")}function S9(e){if(!Tt.Buffer.isBuffer(e)){if(typeof e=="string")return B6(e)?Tt.Buffer.from(E9(w9(e)),"hex"):Tt.Buffer.from(e);if(typeof e=="number")return e?_9(e):Tt.Buffer.from([]);if(e==null)return Tt.Buffer.from([]);if(e instanceof Uint8Array)return Tt.Buffer.from(e);throw new Error("invalid type")}return e}var e1={exports:{}};(function(e,t){var r=typeof self<"u"?self:gn,n=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(o){var a={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function u(d){return d&&DataView.prototype.isPrototypeOf(d)}if(a.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(d){return d&&c.indexOf(Object.prototype.toString.call(d))>-1};function h(d){if(typeof d!="string"&&(d=String(d)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(d))throw new TypeError("Invalid character in header field name");return d.toLowerCase()}function y(d){return typeof d!="string"&&(d=String(d)),d}function v(d){var m={next:function(){var A=d.shift();return{done:A===void 0,value:A}}};return a.iterable&&(m[Symbol.iterator]=function(){return m}),m}function w(d){this.map={},d instanceof w?d.forEach(function(m,A){this.append(A,m)},this):Array.isArray(d)?d.forEach(function(m){this.append(m[0],m[1])},this):d&&Object.getOwnPropertyNames(d).forEach(function(m){this.append(m,d[m])},this)}w.prototype.append=function(d,m){d=h(d),m=y(m);var A=this.map[d];this.map[d]=A?A+", "+m:m},w.prototype.delete=function(d){delete this.map[h(d)]},w.prototype.get=function(d){return d=h(d),this.has(d)?this.map[d]:null},w.prototype.has=function(d){return this.map.hasOwnProperty(h(d))},w.prototype.set=function(d,m){this.map[h(d)]=y(m)},w.prototype.forEach=function(d,m){for(var A in this.map)this.map.hasOwnProperty(A)&&d.call(m,this.map[A],A,this)},w.prototype.keys=function(){var d=[];return this.forEach(function(m,A){d.push(A)}),v(d)},w.prototype.values=function(){var d=[];return this.forEach(function(m){d.push(m)}),v(d)},w.prototype.entries=function(){var d=[];return this.forEach(function(m,A){d.push([A,m])}),v(d)},a.iterable&&(w.prototype[Symbol.iterator]=w.prototype.entries);function C(d){if(d.bodyUsed)return Promise.reject(new TypeError("Already read"));d.bodyUsed=!0}function N(d){return new Promise(function(m,A){d.onload=function(){m(d.result)},d.onerror=function(){A(d.error)}})}function T(d){var m=new FileReader,A=N(m);return m.readAsArrayBuffer(d),A}function x(d){var m=new FileReader,A=N(m);return m.readAsText(d),A}function O(d){for(var m=new Uint8Array(d),A=new Array(m.length),D=0;D<m.length;D++)A[D]=String.fromCharCode(m[D]);return A.join("")}function k(d){if(d.slice)return d.slice(0);var m=new Uint8Array(d.byteLength);return m.set(new Uint8Array(d)),m.buffer}function L(){return this.bodyUsed=!1,this._initBody=function(d){this._bodyInit=d,d?typeof d=="string"?this._bodyText=d:a.blob&&Blob.prototype.isPrototypeOf(d)?this._bodyBlob=d:a.formData&&FormData.prototype.isPrototypeOf(d)?this._bodyFormData=d:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(d)?this._bodyText=d.toString():a.arrayBuffer&&a.blob&&u(d)?(this._bodyArrayBuffer=k(d.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(d)||f(d))?this._bodyArrayBuffer=k(d):this._bodyText=d=Object.prototype.toString.call(d):this._bodyText="",this.headers.get("content-type")||(typeof d=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(d)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var d=C(this);if(d)return d;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?C(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(T)}),this.text=function(){var d=C(this);if(d)return d;if(this._bodyBlob)return x(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(O(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(Z)}),this.json=function(){return this.text().then(JSON.parse)},this}var $=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function E(d){var m=d.toUpperCase();return $.indexOf(m)>-1?m:d}function U(d,m){m=m||{};var A=m.body;if(d instanceof U){if(d.bodyUsed)throw new TypeError("Already read");this.url=d.url,this.credentials=d.credentials,m.headers||(this.headers=new w(d.headers)),this.method=d.method,this.mode=d.mode,this.signal=d.signal,!A&&d._bodyInit!=null&&(A=d._bodyInit,d.bodyUsed=!0)}else this.url=String(d);if(this.credentials=m.credentials||this.credentials||"same-origin",(m.headers||!this.headers)&&(this.headers=new w(m.headers)),this.method=E(m.method||this.method||"GET"),this.mode=m.mode||this.mode||null,this.signal=m.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&A)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(A)}U.prototype.clone=function(){return new U(this,{body:this._bodyInit})};function Z(d){var m=new FormData;return d.trim().split("&").forEach(function(A){if(A){var D=A.split("="),R=D.shift().replace(/\+/g," "),I=D.join("=").replace(/\+/g," ");m.append(decodeURIComponent(R),decodeURIComponent(I))}}),m}function ne(d){var m=new w,A=d.replace(/\r?\n[\t ]+/g," ");return A.split(/\r?\n/).forEach(function(D){var R=D.split(":"),I=R.shift().trim();if(I){var p=R.join(":").trim();m.append(I,p)}}),m}L.call(U.prototype);function q(d,m){m||(m={}),this.type="default",this.status=m.status===void 0?200:m.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in m?m.statusText:"OK",this.headers=new w(m.headers),this.url=m.url||"",this._initBody(d)}L.call(q.prototype),q.prototype.clone=function(){return new q(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new w(this.headers),url:this.url})},q.error=function(){var d=new q(null,{status:0,statusText:""});return d.type="error",d};var b=[301,302,303,307,308];q.redirect=function(d,m){if(b.indexOf(m)===-1)throw new RangeError("Invalid status code");return new q(null,{status:m,headers:{location:d}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function(m,A){this.message=m,this.name=A;var D=Error(m);this.stack=D.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function l(d,m){return new Promise(function(A,D){var R=new U(d,m);if(R.signal&&R.signal.aborted)return D(new o.DOMException("Aborted","AbortError"));var I=new XMLHttpRequest;function p(){I.abort()}I.onload=function(){var g={status:I.status,statusText:I.statusText,headers:ne(I.getAllResponseHeaders()||"")};g.url="responseURL"in I?I.responseURL:g.headers.get("X-Request-URL");var B="response"in I?I.response:I.responseText;A(new q(B,g))},I.onerror=function(){D(new TypeError("Network request failed"))},I.ontimeout=function(){D(new TypeError("Network request failed"))},I.onabort=function(){D(new o.DOMException("Aborted","AbortError"))},I.open(R.method,R.url,!0),R.credentials==="include"?I.withCredentials=!0:R.credentials==="omit"&&(I.withCredentials=!1),"responseType"in I&&a.blob&&(I.responseType="blob"),R.headers.forEach(function(g,B){I.setRequestHeader(B,g)}),R.signal&&(R.signal.addEventListener("abort",p),I.onreadystatechange=function(){I.readyState===4&&R.signal.removeEventListener("abort",p)}),I.send(typeof R._bodyInit>"u"?null:R._bodyInit)})}return l.polyfill=!0,s.fetch||(s.fetch=l,s.Headers=w,s.Request=U,s.Response=q),o.Headers=w,o.Request=U,o.Response=q,o.fetch=l,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;t=i.fetch,t.default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t})(e1,e1.exports);var A9=e1.exports;const L6=Od(A9);function er(e){return e==null?null:e.replace(/^0x/,"").replace(/^Fx/,"")}function Or(e){return e==null?null:"0x"+er(e)}var Lg={exports:{}},Wa=typeof Reflect=="object"?Reflect:null,av=Wa&&typeof Wa.apply=="function"?Wa.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},Df;Wa&&typeof Wa.ownKeys=="function"?Df=Wa.ownKeys:Object.getOwnPropertySymbols?Df=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Df=function(t){return Object.getOwnPropertyNames(t)};function I9(e){console&&console.warn&&console.warn(e)}var U6=Number.isNaN||function(t){return t!==t};function mt(){mt.init.call(this)}Lg.exports=mt;Lg.exports.once=C9;mt.EventEmitter=mt;mt.prototype._events=void 0;mt.prototype._eventsCount=0;mt.prototype._maxListeners=void 0;var uv=10;function Zd(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(mt,"defaultMaxListeners",{enumerable:!0,get:function(){return uv},set:function(e){if(typeof e!="number"||e<0||U6(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");uv=e}});mt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};mt.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||U6(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function $6(e){return e._maxListeners===void 0?mt.defaultMaxListeners:e._maxListeners}mt.prototype.getMaxListeners=function(){return $6(this)};mt.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=t==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var u=s[t];if(u===void 0)return!1;if(typeof u=="function")av(u,this,r);else for(var c=u.length,f=K6(u,c),n=0;n<c;++n)av(f[n],this,r);return!0};function z6(e,t,r,n){var i,s,o;if(Zd(r),s=e._events,s===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),o=s[t]),o===void 0)o=s[t]=r,++e._eventsCount;else if(typeof o=="function"?o=s[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=$6(e),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,I9(a)}return e}mt.prototype.addListener=function(t,r){return z6(this,t,r,!1)};mt.prototype.on=mt.prototype.addListener;mt.prototype.prependListener=function(t,r){return z6(this,t,r,!0)};function x9(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function q6(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=x9.bind(n);return i.listener=r,n.wrapFn=i,i}mt.prototype.once=function(t,r){return Zd(r),this.on(t,q6(this,t,r)),this};mt.prototype.prependOnceListener=function(t,r){return Zd(r),this.prependListener(t,q6(this,t,r)),this};mt.prototype.removeListener=function(t,r){var n,i,s,o,a;if(Zd(r),i=this._events,i===void 0)return this;if(n=i[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){a=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():M9(n,s),n.length===1&&(i[t]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",t,a||r)}return this};mt.prototype.off=mt.prototype.removeListener;mt.prototype.removeAllListeners=function(t){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(t,r[i]);return this};function j6(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?R9(i):K6(i,i.length)}mt.prototype.listeners=function(t){return j6(this,t,!0)};mt.prototype.rawListeners=function(t){return j6(this,t,!1)};mt.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):H6.call(e,t)};mt.prototype.listenerCount=H6;function H6(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}mt.prototype.eventNames=function(){return this._eventsCount>0?Df(this._events):[]};function K6(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function M9(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function R9(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function C9(e,t){return new Promise(function(r,n){function i(o){e.removeListener(t,s),n(o)}function s(){typeof e.removeListener=="function"&&e.removeListener("error",i),r([].slice.call(arguments))}G6(e,t,s,{once:!0}),t!=="error"&&D9(e,i,{once:!0})})}function D9(e,t,r){typeof e.on=="function"&&G6(e,"error",t,r)}function G6(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(s){n.once&&e.removeEventListener(t,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var xn=Lg.exports;const Ug=Od(xn);var Aa=null;typeof WebSocket<"u"?Aa=WebSocket:typeof MozWebSocket<"u"?Aa=MozWebSocket:typeof global<"u"?Aa=global.WebSocket||global.MozWebSocket:typeof window<"u"?Aa=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(Aa=self.WebSocket||self.MozWebSocket);const T9=Aa;function V6(e){try{return JSON.parse(e)}catch{return null}}function N9(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}const P9=globalThis.AbortController||require("abort-controller");class Tf extends Error{constructor(t){let{error:r,hostname:n,path:i,method:s,requestBody:o,responseBody:a,responseStatusText:u,statusCode:c}=t;const f=`
      HTTP Request Error: An error occurred when interacting with the Access API.
      ${r?`error=${r}`:""}
      ${n?`hostname=${n}`:""}
      ${i?`path=${i}`:""}
      ${s?`method=${s}`:""}
      ${o?`requestBody=${o}`:""}
      ${a?`responseBody=${a}`:""}
      ${u?`responseStatusText=${u}`:""}
      ${c?`statusCode=${c}`:""}
    `;super(f),this.name="HTTP Request Error",this.statusCode=c,this.errorMessage=r}}async function Wt(e){let{hostname:t,path:r,method:n,body:i,headers:s,retryLimit:o=5,retryIntervalMs:a=1e3,timeoutLimit:u=3e4,enableRequestLogging:c=!0}=e;const f=i?JSON.stringify(i):null;function h(){const v=new P9,w=setTimeout(()=>{v.abort()},u);return L6(N9(t,r).toString(),{method:n,body:f,headers:s,signal:v.signal}).then(async C=>{if(C.ok)return C.json();const N=await C.text().catch(()=>null),T=V6(N);throw new Tf({error:T==null?void 0:T.message,hostname:t,path:r,method:n,requestBody:f,responseBody:N,responseStatusText:C.statusText,statusCode:C.status})}).catch(async C=>{throw C instanceof Tf||C.name==="AbortError"?C:(c&&await lt({title:"Access Node Error",message:`The provided access node ${t} does not appear to be a valid REST/HTTP access node.
  Please verify that you are not unintentionally using a GRPC access node.
  See more here: https://docs.onflow.org/fcl/reference/sdk-guidelines/#connect`,level:At.error}),new Tf({error:C==null?void 0:C.message,hostname:t,path:r,method:n,requestBody:f}))}).finally(()=>{clearTimeout(w)})}async function y(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;try{return await h()}catch(w){const C=[408,429,500,502,503,504];if(w.name==="AbortError"||C.includes(w.statusCode))return await new Promise((N,T)=>{v<o?(c&&console.warn(`Access node unavailable, retrying in ${a} ms...`),setTimeout(()=>{N(y(v+1))},a)):T(w)});throw w}}return await y()}async function O9(e,t,r){const i=await(r.httpRequest||Wt)({hostname:r.node,path:`/v1/scripts?block_id=${e.block.id}`,method:"POST",body:{script:t.Buffer.from(e.message.cadence).toString("base64"),arguments:e.message.arguments.map(s=>t.Buffer.from(JSON.stringify(e.arguments[s].asArgument)).toString("base64"))}});return $g(e,t,i)}async function k9(e,t,r){const i=await(r.httpRequest||Wt)({hostname:r.node,path:`/v1/scripts?block_height=${e.block.height}`,method:"POST",body:{script:t.Buffer.from(e.message.cadence).toString("base64"),arguments:e.message.arguments.map(s=>t.Buffer.from(JSON.stringify(e.arguments[s].asArgument)).toString("base64"))}});return $g(e,t,i)}async function F9(e,t,r){const i=await(r.httpRequest||Wt)({hostname:r.node,path:"/v1/scripts?block_height=sealed",method:"POST",body:{script:t.Buffer.from(e.message.cadence).toString("base64"),arguments:e.message.arguments.map(s=>t.Buffer.from(JSON.stringify(e.arguments[s].asArgument)).toString("base64"))}});return $g(e,t,i)}function $g(e,t,r){let n=t.response();return n.tag=e.tag,n.encodedData=JSON.parse(t.Buffer.from(r,"base64").toString()),n}async function B9(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return se(r.node,"SDK Send Execute Script Error: opts.node must be defined."),se(t.response,"SDK Send Execute Script Error: context.response must be defined."),se(t.Buffer,"SDK Send Execute Script Error: context.Buffer must be defined."),e=await e,e.block.id?await O9(e,t,r):e.block.height?await k9(e,t,r):await F9(e,t,r)}const L9={SHA2_256:1,SHA2_384:2,SHA3_256:3,SHA3_384:4,KMAC128_BLS_BLS12_381:5},U9={ECDSA_P256:1,ECDSA_secp256k1:2,BLS_BLS12_381:3};async function $9(e,t,r){const i=await(r.httpRequest||Wt)({hostname:r.node,path:`/v1/accounts/${e.account.addr}?block_height=${e.block.height}&expand=contracts,keys`,method:"GET",body:null});return W6(e,t,i)}async function z9(e,t,r){const i=await(r.httpRequest||Wt)({hostname:r.node,path:`/v1/accounts/${e.account.addr}?block_height=sealed&expand=contracts,keys`,method:"GET",body:null});return W6(e,t,i)}function W6(e,t,r){var s;let n=t.response();n.tag=e.tag;const i=o=>{const a={};if(!o)return a;for(let u of Object.keys(o))a[u]=t.Buffer.from(o[u],"base64").toString();return a};return n.account={address:r.address,balance:Number(r.balance),code:"",contracts:i(r.contracts),keys:((s=r.keys)==null?void 0:s.map(o=>({index:Number(o.index),publicKey:o.public_key.replace(/^0x/,""),signAlgo:U9[o.signing_algorithm],signAlgoString:o.signing_algorithm,hashAlgo:L9[o.hashing_algorithm],hashAlgoString:o.hashing_algorithm,sequenceNumber:Number(o.sequence_number),weight:Number(o.weight),revoked:o.revoked})))??[]},n}async function q9(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return se(r.node,"SDK Send Get Account Error: opts.node must be defined."),se(t.response,"SDK Send Get Account Error: context.response must be defined."),se(t.Buffer,"SDK Send Get Account Error: context.Buffer must be defined."),e=await e,e.block.height!==null?await $9(e,t,r):await z9(e,t,r)}async function j9(e,t,r){const i=await(r.httpRequest||Wt)({hostname:r.node,path:`/v1/blocks/${e.block.id}`,method:"GET",body:null});return zg(e,t,i)}async function H9(e,t,r){const i=await(r.httpRequest||Wt)({hostname:r.node,path:`/v1/blocks?height=${e.block.height}`,method:"GET",body:null});return zg(e,t,i)}async function K9(e,t,r){var o;const n=r.httpRequest||Wt,i=(o=e.block)!=null&&o.isSealed?"sealed":"final",s=await n({hostname:r.node,path:`/v1/blocks?height=${i}`,method:"GET",body:null});return zg(e,t,s)}function zg(e,t,r){const n=r.length?r[0]:null,i=t.response();return i.tag=e.tag,i.blockHeader={id:n.header.id,parentId:n.header.parent_id,height:Number(n.header.height),timestamp:n.header.timestamp},i}async function G9(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};se(r.node,"SDK Send Get Block Header Error: opts.node must be defined."),se(t.response,"SDK Send Get Block Header Error: context.response must be defined."),e=await e;const n=e.block.id!==null,i=e.block.height!==null;return n?await j9(e,t,r):i?await H9(e,t,r):await K9(e,t,r)}async function V9(e,t,r){const i=await(r.httpRequest||Wt)({hostname:r.node,path:`/v1/blocks/${e.block.id}?expand=payload`,method:"GET",body:null});return qg(e,t,i)}async function W9(e,t,r){const i=await(r.httpRequest||Wt)({hostname:r.node,path:`/v1/blocks?height=${e.block.height}&expand=payload`,method:"GET",body:null});return qg(e,t,i)}async function Y9(e,t,r){var o;const n=r.httpRequest||Wt,i=(o=e.block)!=null&&o.isSealed?"sealed":"final",s=await n({hostname:r.node,path:`/v1/blocks?height=${i}&expand=payload`,method:"GET",body:null});return qg(e,t,s)}function qg(e,t,r){const n=r.length?r[0]:null,i=t.response();return i.tag=e.tag,i.block={id:n.header.id,parentId:n.header.parent_id,height:Number(n.header.height),timestamp:n.header.timestamp,collectionGuarantees:n.payload.collection_guarantees.map(s=>({collectionId:s.collection_id,signerIds:s.signer_ids})),blockSeals:n.payload.block_seals.map(s=>({blockId:s.block_id,executionReceiptId:s.result_id}))},i}async function Q9(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};se(r.node,"SDK Send Get Block Error: opts.node must be defined."),se(t.response,"SDK Send Get Block Error: context.response must be defined."),e=await e;const n=e.block.id!==null,i=e.block.height!==null;return n?await V9(e,t,r):i?await W9(e,t,r):await Y9(e,t,r)}async function J9(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};se(r.node,"SDK Send Get Collection Error: opts.node must be defined."),se(t.response,"SDK Send Get Collection Error: context.response must be defined.");const i=await(r.httpRequest||Wt)({hostname:r.node,path:`/v1/collections/${e.collection.id}?expand=transactions`,method:"GET",body:null}),s=t.response();return s.tag=e.tag,s.collection={id:i.id,transactionIds:i.transactions.map(o=>o.id)},s}async function X9(e,t,r){const i=await(r.httpRequest||Wt)({hostname:r.node,path:`/v1/events?type=${e.events.eventType}&start_height=${e.events.start}&end_height=${e.events.end}`,method:"GET",body:null});return Y6(e,t,i)}async function Z9(e,t,r){const i=await(r.httpRequest||Wt)({hostname:r.node,path:`/v1/events?type=${e.events.eventType}&block_ids=${e.events.blockIds.join(",")}`,method:"GET",body:null});return Y6(e,t,i)}function Y6(e,t,r){let n=t.response();return n.tag=e.tag,n.events=[],r.forEach(i=>i.events?i.events.forEach(s=>n.events.push({blockId:i.block_id,blockHeight:Number(i.block_height),blockTimestamp:i.block_timestamp,type:s.type,transactionId:s.transaction_id,transactionIndex:Number(s.transaction_index),eventIndex:Number(s.event_index),payload:JSON.parse(t.Buffer.from(s.payload,"base64").toString())})):null),n}async function eA(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};se(r.node,"SDK Send Get Events Error: opts.node must be defined."),se(t.response,"SDK Send Get Events Error: context.response must be defined."),se(t.Buffer,"SDK Send Get Events Error: context.Buffer must be defined."),e=await e;const n=e.events.start!==null,i=Array.isArray(e.events.blockIds)&&e.events.blockIds.length>0;return se(n||i,"SendGetEventsError: Unable to determine which get events request to send. Either a block height range, or block IDs must be specified."),n?await X9(e,t,r):await Z9(e,t,r)}async function tA(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};se(r.node,"SDK Send Get Transaction Error: opts.node must be defined."),se(t.response,"SDK Send Get Transaction Error: context.response must be defined."),se(t.Buffer,"SDK Send Get Transaction Error: context.Buffer must be defined.");const n=r.httpRequest||Wt;e=await e;const i=await n({hostname:r.node,path:`/v1/transactions/${e.transaction.id}`,method:"GET",body:null}),s=c=>({address:c.address,keyId:Number(c.key_id),sequenceNumber:Number(c.sequence_number)}),o=c=>({address:c.address,keyId:Number(c.key_index),signature:c.signature}),a=c=>JSON.parse(t.Buffer.from(c,"base64").toString());let u=t.response();return u.tag=e.tag,u.transaction={script:t.Buffer.from(i.script,"base64").toString(),args:[...i.arguments.map(a)],referenceBlockId:i.reference_block_id,gasLimit:Number(i.gas_limit),payer:i.payer,proposalKey:i.proposal_key?s(i.proposal_key):i.proposal_key,authorizers:i.authorizers,payloadSignatures:[...i.payload_signatures.map(o)],envelopeSignatures:[...i.envelope_signatures.map(o)]},u}const rA={UNKNOWN:0,PENDING:1,FINALIZED:2,EXECUTED:3,SEALED:4,EXPIRED:5};async function nA(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};se(r.node,"SDK Send Get Transaction Status Error: opts.node must be defined."),se(t.response,"SDK Send Get Transaction Status Error: context.response must be defined."),se(t.Buffer,"SDK Send Get Transaction Status Error: context.Buffer must be defined.");const n=r.httpRequest||Wt;e=await e;const i=await n({hostname:r.node,path:`/v1/transaction_results/${e.transaction.id}`,method:"GET",body:null});let s=t.response();return s.tag=e.tag,s.transactionStatus={blockId:i.block_id,status:rA[i.status.toUpperCase()]||"",statusString:i.status.toUpperCase(),statusCode:i.status_code,errorMessage:i.error_message,events:i.events.map(o=>({type:o.type,transactionId:o.transaction_id,transactionIndex:Number(o.transaction_index),eventIndex:Number(o.event_index),payload:JSON.parse(t.Buffer.from(o.payload,"base64").toString())}))},s}async function iA(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};se(!!r.node,"SDK Send Ping Error: opts.node must be defined."),se(!!t.response,"SDK Send Ping Error: context.response must be defined."),await(r.httpRequest||Wt)({hostname:r.node,path:"/v1/blocks?height=sealed",method:"GET",body:null});let i=typeof(t==null?void 0:t.response)=="function"?t.response():{};return i.tag=e.tag,i}const sA=e=>`${withPrefix(e.addr)}-${e.keyId}`;async function oA(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};se(r.node,"SDK Send Transaction Error: opts.node must be defined."),se(t.response,"SDK Send Transaction Error: context.response must be defined."),se(t.Buffer,"SDK Send Transaction Error: context.Buffer must be defined.");const n=r.httpRequest||Wt;e=await e;let i=[];for(let f of Object.values(e.accounts))try{if(!f.role.payer&&f.signature!=null){const h={address:er(f.addr),key_index:String(f.keyId),signature:t.Buffer.from(f.signature,"hex").toString("base64")};i.find(y=>y.address===h.address&&y.key_index===h.key_index&&y.signature===h.signature)||i.push(h)}}catch(h){throw console.error("SDK HTTP Send Error: Trouble applying payload signature",{acct:f,ix:e}),h}let s={};for(let f of Object.values(e.accounts))try{if(f.role.payer&&f.signature!=null){let h=f.tempId||sA(f);s[h]=s[h]||{address:er(f.addr),key_index:String(f.keyId),signature:t.Buffer.from(f.signature,"hex").toString("base64")}}}catch(h){throw console.error("SDK HTTP Send Error: Trouble applying envelope signature",{acct:f,ix:e}),h}s=Object.values(s);var o=Date.now();const a=await n({hostname:r.node,path:"/v1/transactions",method:"POST",body:{script:t.Buffer.from(e.message.cadence).toString("base64"),arguments:[...e.message.arguments.map(f=>t.Buffer.from(JSON.stringify(e.arguments[f].asArgument)).toString("base64"))],reference_block_id:e.message.refBlock?e.message.refBlock:null,gas_limit:String(e.message.computeLimit),payer:er(e.accounts[Array.isArray(e.payer)?e.payer[0]:e.payer].addr),proposal_key:{address:er(e.accounts[e.proposer].addr),key_index:String(e.accounts[e.proposer].keyId),sequence_number:String(e.accounts[e.proposer].sequenceNum)},authorizers:e.authorizations.map(f=>e.accounts[f].addr).reduce((f,h)=>f.find(y=>y===h)?f:[...f,h],[]).map(er),payload_signatures:i,envelope_signatures:s}});var u=Date.now();let c=t.response();return c.tag=e.tag,c.transactionId=a.id,typeof window<"u"&&typeof CustomEvent<"u"&&window.dispatchEvent(new CustomEvent("FLOW::TX",{detail:{txId:c.transactionId,delta:u-o}})),c}async function aA(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};se(r.node,"SDK Send Get Network Parameters Error: opts.node must be defined."),se(t.response,"SDK Send Get Network Parameters Error: context.response must be defined.");const n=r.httpRequest||Wt;e=await e;const i=await n({hostname:r.node,path:"/v1/network/parameters",method:"GET",body:null,enableRequestLogging:r.enableRequestLogging??!0});let s=t.response();return s.tag=e.tag,s.networkParameters={chainId:i.chain_id},s}async function uA(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};se(r.node,"SDK Send Get Node Version Info Error: opts.node must be defined."),se(t.response,"SDK Send Get Node Verison Info Error: context.response must be defined.");const n=r.httpRequest||Wt;e=await e;const i=await n({hostname:r.node,path:"/v1/node_version_info",method:"GET"});let s=t.response();return s.tag=e.tag,s.nodeVersionInfo={semver:i.semver,commit:i.commit,sporkId:i.spork_id,protocolVersion:parseInt(i.protocol_version),sporkRootBlockHeight:parseInt(i.spork_root_block_height),nodeRootBlockHeight:parseInt(i.node_root_block_height)},s}const cA=T9;class cv extends Error{constructor(t){let{code:r,reason:n,message:i,wasClean:s}=t;const o=`
      connectWs: connection closed with error${i?`: ${i}`:""}
      ${r?`code: ${r}`:""}
      ${n?`reason: ${n}`:""}
      ${s?`wasClean: ${s}`:""}
    `;super(o),this.name="WebsocketError",this.code=r,this.reason=n,this.wasClean=!1}}function lA(e){let{hostname:t,path:r,params:n,getParams:i,retryLimit:s=5,retryIntervalMs:o=1e3}=e;if(i&&n)throw new Error("connectWs: cannot specify both params and getParams");let a=new xn.EventEmitter,u=0;const c=i||(()=>n);let f=()=>{};return function h(){let y=!1,v=!1;const w=fA(t,r,c()),C=new cA(w);C.onmessage=function(N){const T=V6(N.data);T?a.emit("data",T):(a.emit("error",new cv({message:"invalid JSON data"})),this.close())},C.onclose=function(N){if(y){a.emit("close"),a.removeAllListeners();return}v?setTimeout(h,o):u<s?(u++,setTimeout(h,o)):(a.emit("error",new cv({wasClean:N.wasClean,code:N.code,reason:N.reason,message:"failed to connect"})),setTimeout(()=>{a.emit("close"),a.removeAllListeners()}))},C.onopen=function(){v=!0,u=0},f=()=>{y=!0,C.close()}}(),{on(h,y){return a.on(h,y),this},off(h,y){return a.off(h,y),this},close(){f()}}}function fA(e,t,r){const n=new URL(t||"",e);return n.protocol==="https:"?n.protocol="wss:":n.protocol==="http:"&&(n.protocol="ws:"),Object.entries(r||{}).forEach(i=>{let[s,o]=i;if(o){let a;Array.isArray(o)?a=o.join(","):a=o.toString(),n.searchParams.append(s,a)}}),n.toString()}function dA(e,t,r){var i;const n=t.response();return n.tag=e.tag,n.events=((i=r.Events)==null?void 0:i.length)>0?r.Events.map(s=>({blockId:r.BlockID,blockHeight:Number(r.Height),blockTimestamp:r.Timestamp,type:s.Type,transactionId:s.TransactionID,transactionIndex:Number(s.TransactionIndex),eventIndex:Number(s.EventIndex),payload:JSON.parse(t.Buffer.from(s.Payload,"base64").toString())})):null,n.heartbeat={blockId:r.BlockID,blockHeight:Number(r.Height),blockTimestamp:r.Timestamp},n}function hA(e,t,r){const n=t.response();return n.tag=e.tag,n.streamConnection=r,n}async function pA(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};se(r.node,"SDK Send Get Events Error: opts.node must be defined."),se(t.response,"SDK Send Get Events Error: context.response must be defined."),se(t.Buffer,"SDK Send Get Events Error: context.Buffer must be defined.");const n=await e,i=r.connectWs||lA,s=new xn.EventEmitter;let o=null;const a=i({hostname:r.node,path:"/v1/subscribe_events",getParams:()=>{var f,h,y,v,w,C;const c={event_types:(f=n.subscribeEvents)==null?void 0:f.eventTypes,addresses:(h=n.subscribeEvents)==null?void 0:h.addresses,contracts:(y=n.subscribeEvents)==null?void 0:y.contracts,heartbeat_interval:(v=n.subscribeEvents)==null?void 0:v.heartbeatInterval};return o?c.start_height=o+1:(c.start_block_id=(w=n.subscribeEvents)==null?void 0:w.startBlockId,c.start_height=(C=n.subscribeEvents)==null?void 0:C.startHeight),c}});return a.on("data",c=>{const f=dA(n,t,c);o=f.heartbeat.blockHeight,s.emit("data",f)}),a.on("error",c=>{s.emit("error",c)}),a.on("close",()=>{s.emit("close")}),hA(n,t,{on(c,f){return s.on(c,f),this},off(c,f){return s.off(c,f),this},close(){a.close()}})}const jg=async function(e,t){var n,i,s,o;let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};switch(se(!!(r!=null&&r.node),'SDK Send Error: Either opts.node or "accessNode.api" in config must be defined.'),se(!!t.ix,"SDK Send Error: context.ix must be defined."),e=await e,!0){case t.ix.isTransaction(e):return r.sendTransaction?r.sendTransaction(e,t,r):oA(e,t,r);case t.ix.isGetTransactionStatus(e):return r.sendGetTransactionStatus?r.sendGetTransactionStatus(e,t,r):nA(e,t,r);case t.ix.isGetTransaction(e):return r.sendGetTransaction?r.sendGetTransaction(e,t,r):tA(e,t,r);case t.ix.isScript(e):return r.sendExecuteScript?r.sendExecuteScript(e,t,r):B9(e,t,r);case t.ix.isGetAccount(e):return r.sendGetAccount?r.sendGetAccount(e,t,r):q9(e,t,r);case t.ix.isGetEvents(e):return r.sendGetEvents?r.sendGetEvents(e,t,r):eA(e,t,r);case((i=(n=t.ix).isSubscribeEvents)==null?void 0:i.call(n,e)):return r.connectSubscribeEvents?r.connectSubscribeEvents(e,t,r):pA(e,t,r);case t.ix.isGetBlock(e):return r.sendGetBlock?r.sendGetBlock(e,t,r):Q9(e,t,r);case t.ix.isGetBlockHeader(e):return r.sendGetBlockHeader?r.sendGetBlockHeader(e,t,r):G9(e,t,r);case t.ix.isGetCollection(e):return r.sendGetCollection?r.sendGetCollection(e,t,r):J9(e,t,r);case t.ix.isPing(e):return r.sendPing?r.sendPing(e,t,r):iA(e,t,r);case t.ix.isGetNetworkParameters(e):return r.sendGetNetworkParameters?r.sendGetNetworkParameters(e,t,r):aA(e,t,r);case((o=(s=t.ix).isGetNodeVersionInfo)==null?void 0:o.call(s,e)):return r.sendGetNodeVersionInfo?r.sendGetNodeVersionInfo(e,t,r):uA(e,t,r);default:return e}};var gA={},Q6={},J6={},X6={},mA=function(t,r){return function(n,i){var s=i*2,o=r*2;n[s]=t[o],n[s+1]=t[o+1]}},Hg=mA;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(Hg);function r(s){return s&&s.__esModule?s:{default:s}}var n=function(o){for(var a=o.A,u=o.C,c=0;c<25;c+=5){for(var f=0;f<5;f++)(0,t.default)(a,c+f)(u,f);for(var h=0;h<5;h++){var y=(c+h)*2,v=(h+1)%5*2,w=(h+2)%5*2;a[y]^=~u[v]&u[w],a[y+1]^=~u[v+1]&u[w+1]}}},i=n;e.default=i})(X6);var Z6={},e8={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=new Uint32Array([0,1,0,32898,2147483648,32906,2147483648,2147516416,0,32907,0,2147483649,2147483648,2147516545,2147483648,32777,0,138,0,136,0,2147516425,0,2147483658,0,2147516555,2147483648,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,0,32778,2147483648,2147483658,2147483648,2147516545,2147483648,32896,0,2147483649,2147483648,2147516424]),r=t;e.default=r})(e8);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(e8);function r(s){return s&&s.__esModule?s:{default:s}}var n=function(o){var a=o.A,u=o.roundIndex,c=u*2;a[0]^=t.default[c],a[1]^=t.default[c+1]},i=n;e.default=i})(Z6);var t8={},r8={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=[10,7,11,17,18,3,5,16,8,21,24,4,15,23,19,13,12,2,20,14,22,9,6,1],r=t;e.default=r})(r8);var n8={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=[1,3,6,10,15,21,28,36,45,55,2,14,27,41,56,8,25,43,62,18,39,61,20,44],r=t;e.default=r})(n8);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=i(r8),r=i(n8),n=i(Hg);function i(a){return a&&a.__esModule?a:{default:a}}var s=function(u){var c=u.A,f=u.C,h=u.W;(0,n.default)(c,1)(h,0);for(var y=0,v=0,w=0,C=32,N=0;N<24;N++){var T=t.default[N],x=r.default[N];(0,n.default)(c,T)(f,0),y=h[0],v=h[1],C=32-x,w=x<32?0:1,h[w]=y<<x|v>>>C,h[(w+1)%2]=v<<x|y>>>C,(0,n.default)(h,0)(c,T),(0,n.default)(f,0)(h,0)}},o=s;e.default=o})(t8);var i8={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(Hg);function r(s){return s&&s.__esModule?s:{default:s}}var n=function(o){for(var a=o.A,u=o.C,c=o.D,f=o.W,h=0,y=0,v=0;v<5;v++){var w=v*2,C=(v+5)*2,N=(v+10)*2,T=(v+15)*2,x=(v+20)*2;u[w]=a[w]^a[C]^a[N]^a[T]^a[x],u[w+1]=a[w+1]^a[C+1]^a[N+1]^a[T+1]^a[x+1]}for(var O=0;O<5;O++){(0,t.default)(u,(O+1)%5)(f,0),h=f[0],y=f[1],f[0]=h<<1|y>>>31,f[1]=y<<1|h>>>31,c[O*2]=u[(O+4)%5*2]^f[0],c[O*2+1]=u[(O+4)%5*2+1]^f[1];for(var k=0;k<25;k+=5)a[(k+O)*2]^=c[O*2],a[(k+O)*2+1]^=c[O*2+1]}},i=n;e.default=i})(i8);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=s(X6),r=s(Z6),n=s(t8),i=s(i8);function s(u){return u&&u.__esModule?u:{default:u}}var o=function(){var c=new Uint32Array(10),f=new Uint32Array(10),h=new Uint32Array(2);return function(y){for(var v=0;v<24;v++)(0,i.default)({A:y,C:c,D:f,W:h}),(0,n.default)({A:y,C:c,W:h}),(0,t.default)({A:y,C:c}),(0,r.default)({A:y,roundIndex:v});c.fill(0),f.fill(0),h.fill(0)}},a=o;e.default=a})(J6);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=Tt,r=n(J6);function n(u){return u&&u.__esModule?u:{default:u}}var i=function(c,f){for(var h=0;h<c.length;h+=8){var y=h/4;f[y]^=c[h+7]<<24|c[h+6]<<16|c[h+5]<<8|c[h+4],f[y+1]^=c[h+3]<<24|c[h+2]<<16|c[h+1]<<8|c[h]}return f},s=function(c,f){for(var h=0;h<f.length;h+=8){var y=h/4;f[h]=c[y+1],f[h+1]=c[y+1]>>>8,f[h+2]=c[y+1]>>>16,f[h+3]=c[y+1]>>>24,f[h+4]=c[y],f[h+5]=c[y]>>>8,f[h+6]=c[y]>>>16,f[h+7]=c[y]>>>24}return f},o=function(c){var f=this,h=c.capacity,y=c.padding,v=(0,r.default)(),w=200,C=h/8,N=w-h/4,T=0,x=new Uint32Array(w/4),O=t.Buffer.allocUnsafe(N);return this.absorb=function(k){for(var L=0;L<k.length;L++)O[T]=k[L],T+=1,T>=N&&(i(O,x),v(x),T=0);return f},this.squeeze=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},L={buffer:k.buffer||t.Buffer.allocUnsafe(C),padding:k.padding||y,queue:t.Buffer.allocUnsafe(O.length),state:new Uint32Array(x.length)};O.copy(L.queue);for(var $=0;$<x.length;$++)L.state[$]=x[$];L.queue.fill(0,T),L.queue[T]|=L.padding,L.queue[N-1]|=128,i(L.queue,L.state);for(var E=0;E<L.buffer.length;E+=N)v(L.state),s(L.state,L.buffer.slice(E,E+N));return L.buffer},this.reset=function(){return O.fill(0),x.fill(0),T=0,f},this},a=o;e.default=a})(Q6);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.SHAKE=e.SHA3Hash=e.SHA3=e.Keccak=void 0;var t=Tt,r=n(Q6);function n(f){return f&&f.__esModule?f:{default:f}}var i=function(h){var y=h.allowedSizes,v=h.defaultSize,w=h.padding;return function C(){var N=this,T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v;if(!this||this.constructor!==C)return new C(T);if(y&&!y.includes(T))throw new Error("Unsupported hash length");var x=new r.default({capacity:T});return this.update=function(O){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"utf8";if(t.Buffer.isBuffer(O))return x.absorb(O),N;if(typeof O=="string")return N.update(t.Buffer.from(O,k));throw new TypeError("Not a string or buffer")},this.digest=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"binary",k=typeof O=="string"?{format:O}:O,L=x.squeeze({buffer:k.buffer,padding:k.padding||w});return k.format&&k.format!=="binary"?L.toString(k.format):L},this.reset=function(){return x.reset(),N},this}},s=i({allowedSizes:[224,256,384,512],defaultSize:512,padding:1});e.Keccak=s;var o=i({allowedSizes:[224,256,384,512],defaultSize:512,padding:6});e.SHA3=o;var a=i({allowedSizes:[128,256],defaultSize:256,padding:31});e.SHAKE=a;var u=s;e.SHA3Hash=u,o.SHA3Hash=u;var c=o;e.default=c})(gA);function s8(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(!e.length&&!t.length||!e.length)return r;if(!t.length)return r.push(...e),r;const[n,...i]=e,[s,...o]=t;return n!==void 0&&r.push(n),s!==void 0&&r.push(s),s8(i,o,r)}function o8(e){return function(t){return typeof t=="function"?(lt.deprecate({pkg:"FCL/SDK",subject:"Interopolation of functions into template literals",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params"}),o8(e)(t(e))):String(t)}}function a8(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return typeof e=="string"?()=>e:typeof e=="function"?e:i=>s8([...e],r.map(o8(i))).join("").trim()}const yA=`{
  "kind":"${Jd.ACCOUNT}",
  "tempId":null,
  "addr":null,
  "keyId":null,
  "sequenceNum":null,
  "signature":null,
  "signingFunction":null,
  "resolve":null,
  "role": {
    "proposer":false,
    "authorizer":false,
    "payer":false,
    "param":false
  }
}`,vA=`{
  "kind":"${Jd.ARGUMENT}",
  "tempId":null,
  "value":null,
  "asArgument":null,
  "xform":null,
  "resolve": null,
  "resolveArgument": null
}`,u8=`{
  "tag":"${gt.UNKNOWN}",
  "assigns":{},
  "status":"${gl.OK}",
  "reason":null,
  "accounts":{},
  "params":{},
  "arguments":{},
  "message": {
    "cadence":null,
    "refBlock":null,
    "computeLimit":null,
    "proposer":null,
    "payer":null,
    "authorizations":[],
    "params":[],
    "arguments":[]
  },
  "proposer":null,
  "authorizations":[],
  "payer":[],
  "events": {
    "eventType":null,
    "start":null,
    "end":null,
    "blockIds":[]
  },
  "subscribeEvents": {
    "startBlockId":null,
    "startHeight":null,
    "eventTypes":null,
    "addresses":null,
    "contracts":null,
    "heartbeatInterval":null
  },
  "transaction": {
    "id":null
  },
  "block": {
    "id":null,
    "height":null,
    "isSealed":null
  },
  "account": {
    "addr":null
  },
  "collection": {
    "id":null
  }
}`,c8=new Set(Object.keys(JSON.parse(u8))),eh=()=>JSON.parse(u8),bA=()=>(lt.deprecate({pkg:"FCL/SDK",message:"The interaction been deprecated from the Flow JS-SDK/FCL. use initInteraction instead",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0010-deprecate-interaction",level:At.warn}),eh()),l8=e=>typeof e=="number",f8=e=>Array.isArray(e),d8=e=>e!==null&&typeof e=="object",Kg=e=>e==null,au=e=>typeof e=="function",h8=e=>{if(!d8(e)||Kg(e)||l8(e))return!1;for(let t of c8)if(!e.hasOwnProperty(t))return!1;return!0},Mn=e=>(e.status=gl.OK,e),Gg=(e,t)=>(e.status=gl.BAD,e.reason=t,e),cn=e=>t=>(t.tag=e,Mn(t)),lv=e=>e.keyId==null?e:(se(!isNaN(parseInt(e.keyId.toString())),"account.keyId must be an integer"),{...e,keyId:parseInt(e.keyId.toString())}),p8=()=>JSON.parse(yA),th=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r=>{se(typeof e=="function"||typeof e=="object","prepAccount must be passed an authorization function or an account object"),se(t.role!=null,"Account must have a role");const n=p8(),i=t.role,s=Pg();let o={...e};e.authorization&&au(e.authorization)&&(o={resolve:e.authorization}),!e.authorization&&au(e)&&(o={resolve:e});const a=o.resolve;return a&&(o.resolve=function(u){for(var c=arguments.length,f=new Array(c>1?c-1:0),h=1;h<c;h++)f[h-1]=arguments[h];return[a,lv].reduce(async(y,v)=>v(await y,...f),u)}),o=lv(o),r.accounts[s]={...n,tempId:s,...o,role:{...n.role,...typeof e.role=="object"?e.role:{},...i?{[i]:!0}:{}}},i===Qc.AUTHORIZER?r.authorizations.push(s):i===Qc.PAYER?r.payer.push(s):i&&(r[i]=s),r}},g8=e=>t=>{let r=Pg();return t.message.arguments.push(r),t.arguments[r]=JSON.parse(vA),t.arguments[r].tempId=r,t.arguments[r].value=e.value,t.arguments[r].asArgument=e.asArgument,t.arguments[r].xform=e.xform,t.arguments[r].resolve=e.resolve,t.arguments[r].resolveArgument=au(e.resolveArgument)?e.resolveArgument.bind(e):e.resolveArgument,Mn(t)},wA=cn(gt.UNKNOWN),m8=cn(gt.SCRIPT),y8=cn(gt.TRANSACTION),v8=cn(gt.GET_TRANSACTION_STATUS),EA=cn(gt.GET_TRANSACTION),b8=cn(gt.GET_ACCOUNT),_A=cn(gt.GET_EVENTS),SA=cn(gt.PING),w8=cn(gt.GET_BLOCK),AA=cn(gt.GET_BLOCK_HEADER),IA=cn(gt.GET_COLLECTION),E8=cn(gt.GET_NETWORK_PARAMETERS),xA=cn(gt.SUBSCRIBE_EVENTS),MA=cn(gt.GET_NODE_VERSION_INFO),ln=e=>t=>t.tag===e,RA=ln(gt.UNKNOWN),Vg=ln(gt.SCRIPT),co=ln(gt.TRANSACTION),CA=ln(gt.GET_TRANSACTION_STATUS),DA=ln(gt.GET_TRANSACTION),TA=ln(gt.GET_ACCOUNT),NA=ln(gt.GET_EVENTS),PA=ln(gt.PING),OA=ln(gt.GET_BLOCK),kA=ln(gt.GET_BLOCK_HEADER),FA=ln(gt.GET_COLLECTION),BA=ln(gt.GET_NETWORK_PARAMETERS),LA=ln(gt.GET_NODE_VERSION_INFO),UA=ln(gt.SUBSCRIBE_EVENTS),$A=e=>e.status===gl.OK,_8=e=>e.status===gl.BAD,zA=e=>e.reason,qA=e=>e.kind===Jd.ACCOUNT,jA=e=>e.kind===Jd.ARGUMENT,HA=e=>{for(let t of Object.keys(e))if(!c8.has(t))throw new Error(`"${t}" is an invalid root level Interaction property.`);return e},Nf=async function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];try{if(e=HA(await e),_8(e))throw new Error(`Interaction Error: ${e.reason}`);if(!t.length)return e;const[r,...n]=t,i=await r;if(au(i))return Nf(i(e),n);if(Kg(i)||!i)return Nf(e,n);if(h8(i))return Nf(i,n);throw new Error("Invalid Interaction Composition")}catch(r){throw r}};function $r(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[n,i]=t;return f8(n)?a=>$r(a,n):Nf(n,i)}const KA=function(e){return e},rh=(e,t,r)=>e.assigns[t]==null?r:e.assigns[t],Wg=(e,t)=>r=>(r.assigns[e]=t,Mn(r)),GA=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:KA;return r=>(r.assigns[e]=t(r.assigns[e],r),Mn(r))},VA=e=>t=>(delete t.assigns[e],Mn(t));var Yg=Object.freeze({__proto__:null,initInteraction:eh,interaction:bA,isNumber:l8,isArray:f8,isObj:d8,isNull:Kg,isFn:au,isInteraction:h8,Ok:Mn,Bad:Gg,initAccount:p8,prepAccount:th,makeArgument:g8,makeUnknown:wA,makeScript:m8,makeTransaction:y8,makeGetTransactionStatus:v8,makeGetTransaction:EA,makeGetAccount:b8,makeGetEvents:_A,makePing:SA,makeGetBlock:w8,makeGetBlockHeader:AA,makeGetCollection:IA,makeGetNetworkParameters:E8,makeSubscribeEvents:xA,makeGetNodeVerionInfo:MA,isUnknown:RA,isScript:Vg,isTransaction:co,isGetTransactionStatus:CA,isGetTransaction:DA,isGetAccount:TA,isGetEvents:NA,isPing:PA,isGetBlock:OA,isGetBlockHeader:kA,isGetCollection:FA,isGetNetworkParameters:BA,isGetNodeVersionInfo:LA,isSubscribeEvents:UA,isOk:$A,isBad:_8,why:zA,isAccount:qA,isArgument:jA,pipe:$r,get:rh,put:Wg,update:GA,destroy:VA});function S8(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $r(eh(),e)}const WA={tag:null,transaction:null,transactionStatus:null,transactionId:null,encodedData:null,events:null,account:null,block:null,blockHeader:null,latestBlock:null,collection:null,networkParameters:null,streamConnection:null,heartbeat:null,nodeVersionInfo:null},Qg=()=>({...WA});function YA(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return $r([w8,t=>(t.block.isSealed=e,Mn(t))])}function QA(e){return $r([b8,t=>(t.account.addr=er(e),Mn(t))])}const JA=(e,t,r)=>{const n=new Ug;let i=XA();e.on("data",async o=>{const a=Object.keys(o).filter(c=>o[c]!=null&&c!=="tag");let u=Promise.all(a.map(async c=>{const f={[c]:o[c]},h=await t(f,r);return{channel:c,message:h}}));i.push(async()=>{(await u).forEach(f=>{let{channel:h,message:y}=f;n.emit(h,y)})})});function s(o){e.on(o,a=>{i.push(async()=>{n.emit(o,a)})})}return s("close"),s("error"),{on(o,a){return n.on(o,a),this},off(o,a){return n.off(o,a),this},close:()=>{e.close()}}};function XA(){let e=[],t=!1;async function r(){if(!t){for(t=!0;e.length>0;){const n=e.shift();await(n==null?void 0:n())}t=!1}}return{push:n=>{e.push(n),r()}}}const ZA=()=>{lt.deprecate({pkg:"@onflow/decode",subject:"Operating upon data of the latestBlock field of the response object",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/decode/WARNINGS.md#0001-Deprecating-latestBlock-field"})},ht=async e=>e,eI=async()=>null,tI=async e=>e.staticType,rI=async(e,t,r)=>e?await Wo(e,t,r):null,nI=async(e,t,r)=>await Promise.all(e.map(n=>new Promise(async i=>i(await Wo(n,t,[...r,n.type]))))),iI=async(e,t,r)=>await e.reduce(async(n,i)=>(n=await n,n[await Wo(i.key,t,[...r,i.key])]=await Wo(i.value,t,[...r,i.key]),n),Promise.resolve({})),rf=async(e,t,r)=>{const n=await e.fields.reduce(async(s,o)=>(s=await s,s[o.name]=await Wo(o.value,t,[...r,o.name]),s),Promise.resolve({})),i=e.id&&A8(t,e.id);return i?await i(n):n},sI=async(e,t,r)=>{const n=["start","end","step"];return await Object.keys(e).reduce(async(s,o)=>(s=await s,n.includes(o)&&(s[o]=await Wo(e[o],t,[...r,o])),s),Promise.resolve({}))},fv={UInt:ht,Int:ht,UInt8:ht,Int8:ht,UInt16:ht,Int16:ht,UInt32:ht,Int32:ht,UInt64:ht,Int64:ht,UInt128:ht,Int128:ht,UInt256:ht,Int256:ht,Word8:ht,Word16:ht,Word32:ht,Word64:ht,Word128:ht,Word256:ht,UFix64:ht,Fix64:ht,String:ht,Character:ht,Bool:ht,Address:ht,Void:eI,Optional:rI,Reference:ht,Array:nI,Dictionary:iI,Event:rf,Resource:rf,Struct:rf,Enum:rf,Type:tI,Path:ht,Capability:ht,InclusiveRange:sI},A8=(e,t)=>{const r=Object.keys(e).find(n=>/^\/.*\/$/.test(n)?new RegExp(n.substring(1,n.length-1)).test(t):n===t);return t&&r&&e[r]},Wo=async(e,t,r)=>{let n=A8(t,e.type);if(!n)throw new Error(`Undefined Decoder Error: ${e.type}@${r.join(".")}`);return await n(e.value,t,r)},f0=async function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const i={...Object.keys(fv).filter(s=>!Object.keys(t).find(o=>new RegExp(o).test(s))).reduce((s,o)=>(s[o]=fv[o],s),t),...t};return Wo(e,i,r)},nh=async function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e.encodedData)return f0(e.encodedData,t);if(e.transactionStatus)return{...e.transactionStatus,events:await Promise.all(e.transactionStatus.events.map(async function(n){return{type:n.type,transactionId:n.transactionId,transactionIndex:n.transactionIndex,eventIndex:n.eventIndex,data:await f0(n.payload,t)}}))};if(e.transaction)return e.transaction;if(e.events)return await Promise.all(e.events.map(async function(n){return{blockId:n.blockId,blockHeight:n.blockHeight,blockTimestamp:n.blockTimestamp,type:n.type,transactionId:n.transactionId,transactionIndex:n.transactionIndex,eventIndex:n.eventIndex,data:await f0(n.payload,t)}}));if(e.account)return e.account;if(e.block)return e.block;if(e.blockHeader)return e.blockHeader;if(e.latestBlock)return ZA(),e.latestBlock;if(e.transactionId)return e.transactionId;if(e.collection)return e.collection;if(e.networkParameters){const r=/^flow-/,n=e.networkParameters.chainId;let i;return n==="flow-emulator"?i="local":r.test(n)?i=n.replace(r,""):i=n,{chainId:i}}else{if(e.streamConnection)return JA(e.streamConnection,nh,t);if(e.heartbeat)return e.heartbeat;if(e.nodeVersionInfo)return e.nodeVersionInfo}return null},dv=e=>typeof e=="function",hv=e=>typeof e=="string",oI=()=>/\b(0x\w+)\b/g;function pv(e){return oI().test(e)}const I8=()=>/import\s+"(\w+)"/g;function gv(e){return I8().test(e)}function aI(e){return e.matchAll(I8())}async function uI(e){if(!co(e)&&!Vg(e))return e;var t=rh(e,"ix.cadence");if(se(dv(t)||hv(t),"Cadence needs to be a function or a string."),dv(t)&&(t=await t({})),se(hv(t),"Cadence needs to be a string at this point."),se(!pv(t)||!gv(t),"Both account identifier and contract identifier syntax not simultaneously supported."),pv(t)&&(t=await Be().where(/^0x/).then(r=>Object.entries(r).reduce((n,i)=>{let[s,o]=i;const a=new RegExp("(\\b"+s+"\\b)","g");return n.replace(a,o)},t))),gv(t))for(const[r,n]of aI(t)){const i=await Be().get(`system.contracts.${n}`);i?t=t.replace(r,`import ${n} from ${Or(i)}`):lt({title:"Contract Placeholder not found",message:`Cannot find a value for contract placeholder ${n}. Please add to your flow.json or explicitly add it to the config 'contracts.*' namespace.`,level:At.warn})}return e.message.cadence=t,e}const t1=e=>typeof e=="function";function cI(e){if(se(typeof e.xform!=null,`No type specified for argument: ${e.value}`),t1(e.xform))return e.xform(e.value);if(t1(e.xform.asArgument))return e.xform.asArgument(e.value);se(!1,"Invalid Argument",e)}async function x8(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3;if(se(t>0,`Argument Resolve Recursion Limit Exceeded for Arg: ${e.tempId}`),t1(e.resolveArgument)){const r=await e.resolveArgument();return x8(r,t-1)}else return e}async function lI(e){if(co(e)||Vg(e))for(let[t,r]of Object.entries(e.arguments)){const n=await x8(r);e.arguments[t].asArgument=cI(n)}return e}const fI=e=>R8(C8(D8(e))),dI=e=>R8(C8(bI(e))),hI=(e,t)=>Tt.Buffer.from(e.padEnd(t*2,"0"),"hex"),M8=(e,t)=>Tt.Buffer.from(e.padStart(t*2,"0"),"hex"),pI=hI(Tt.Buffer.from("FLOW-V0.0-transaction").toString("hex"),32).toString("hex"),R8=e=>pI+e,d0=e=>M8(e,8),gI=e=>M8(e,32),mI=e=>Tt.Buffer.from(JSON.stringify(e),"utf8"),yI=e=>Tt.Buffer.from(e,"utf8"),vI=e=>Tt.Buffer.from(e,"hex"),C8=e=>Bg(e).toString("hex"),D8=e=>(_I(e),[yI(e.cadence||""),e.arguments.map(mI),gI(e.refBlock||""),e.computeLimit,d0(er(e.proposalKey.address||"")),e.proposalKey.keyId,e.proposalKey.sequenceNum,d0(er(e.payer)),e.authorizers.map(t=>d0(er(t)))]),bI=e=>(SI(e),[D8(e),wI(e)]),wI=e=>{var r;const t=EI(e);return(r=e.payloadSigs)==null?void 0:r.map(n=>({signerIndex:t.get(n.address)||"",keyId:n.keyId,sig:n.sig})).sort((n,i)=>n.signerIndex>i.signerIndex?1:n.signerIndex<i.signerIndex?-1:n.keyId>i.keyId?1:n.keyId<i.keyId?-1:0).map(n=>[n.signerIndex,n.keyId,vI(n.sig)])},EI=e=>{const t=new Map;let r=0;const n=i=>{t.has(i)||(t.set(i,r),r++)};return e.proposalKey.address&&n(e.proposalKey.address),n(e.payer),e.authorizers.forEach(n),t},_I=e=>{AI.forEach(t=>pd(e,t)),II.forEach(t=>pd(e.proposalKey,t,"proposalKey"))},SI=e=>{var t;xI.forEach(r=>pd(e,r)),(t=e.payloadSigs)==null||t.forEach((r,n)=>{MI.forEach(i=>pd(r,i,"payloadSigs",n))})},hd=e=>typeof e=="number",Ya=e=>typeof e=="string",T8=e=>e!==null&&typeof e=="object",r1=e=>T8(e)&&e instanceof Array,AI=[{name:"cadence",check:Ya},{name:"arguments",check:r1},{name:"refBlock",check:Ya,defaultVal:"0"},{name:"computeLimit",check:hd},{name:"proposalKey",check:T8},{name:"payer",check:Ya},{name:"authorizers",check:r1}],II=[{name:"address",check:Ya},{name:"keyId",check:hd},{name:"sequenceNum",check:hd}],xI=[{name:"payloadSigs",check:r1}],MI=[{name:"address",check:Ya},{name:"keyId",check:hd},{name:"sig",check:Ya}],pd=(e,t,r,n)=>{const{name:i,check:s,defaultVal:o}=t;if(e[i]==null&&o!=null&&(e[i]=o),e[i]==null)throw RI(i,r,n);if(!s(e[i]))throw CI(i,r,n)},N8=(e,t,r)=>t?r==null?`${t}.${e}`:`${t}.${r}.${e}`:e,RI=(e,t,r)=>new Error(`Missing field ${N8(e,t,r)}`),CI=(e,t,r)=>new Error(`Invalid field ${N8(e,t,r)}`);function P8(e){let t=new Set(e.authorizations);return e.proposer&&t.add(e.proposer),Array.isArray(e.payer)?e.payer.forEach(r=>t.delete(r)):t.delete(e.payer),Array.from(t)}function O8(e){let t=new Set(Array.isArray(e.payer)?e.payer:[e.payer]);return Array.from(t)}const Jg=e=>{const t=()=>e.authorizations.map(o=>Or(e.accounts[o].addr)).reduce((o,a)=>o.find(u=>u===a)?o:[...o,a],[]),r=()=>P8(e).map(s=>({address:Or(e.accounts[s].addr),keyId:e.accounts[s].keyId,sig:e.accounts[s].signature})),n=()=>O8(e).map(s=>({address:Or(e.accounts[s].addr),keyId:e.accounts[s].keyId,sig:e.accounts[s].signature})),i=e.proposer?{address:Or(e.accounts[e.proposer].addr),keyId:e.accounts[e.proposer].keyId,sequenceNum:e.accounts[e.proposer].sequenceNum}:{};return{cadence:e.message.cadence,refBlock:e.message.refBlock||null,computeLimit:e.message.computeLimit,arguments:e.message.arguments.map(s=>e.arguments[s].asArgument),proposalKey:i,payer:Or(e.accounts[Array.isArray(e.payer)?e.payer[0]:e.payer].addr),authorizers:t(),payloadSigs:r(),envelopeSigs:n()}},Ai=5,DI=e=>`${Or(e.addr)}-${e.keyId}`,TI=e=>e&&(Object.prototype.toString.call(e)==="[object Function]"||typeof e=="function"||e instanceof Function),NI=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.join("-")};var mn=function(e){return e.PAYER="payer",e.PROPOSER="proposer",e.AUTHORIZATIONS="authorizations",e}(mn||{});function PI(){const e=" ",r=[];return[function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;r.push(Array(i*4).fill(e).join("-")+n)},function(){return r.reduce((n,i)=>n+`
`+i)}]}function Xg(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3;return t<=0||!Array.isArray(e)?e:Xg(e.flatMap(r=>r),t-1)}function OI(e,t){try{return{f_type:"PreSignable",f_vsn:"1.0.1",roles:e.role,cadence:t.message.cadence,args:t.message.arguments.map(r=>t.arguments[r].asArgument),data:{},interaction:t,voucher:Jg(t)}}catch(r){throw console.error("buildPreSignable",r),r}}async function kI(e,t){const r=Array.isArray(e.payer)?e.payer:[e.payer],n=Array.isArray(e.authorizations)?e.authorizations:[e.authorizations],i=e.proposer===null?[]:Array.isArray(e.proposer)?e.proposer:[e.proposer],s=Object.keys(e.accounts),o=[...new Set(r.concat(n,i))];for(const a of s)o.find(u=>u===a)||delete e.accounts[a]}function mv(e,t){typeof t.addr=="string"&&(typeof t.keyId=="number"||typeof t.keyId=="string")?t.tempId=DI(t):t.tempId=t.tempId||Pg();const r=e.accounts[t.tempId]||t;return e.accounts[t.tempId]||(e.accounts[t.tempId]=t),e.accounts[t.tempId].role.proposer=r.role.proposer||t.role.proposer,e.accounts[t.tempId].role.payer=r.role.payer||t.role.payer,e.accounts[t.tempId].role.authorizer=r.role.authorizer||t.role.authorizer,e.accounts[t.tempId]}function FI(e){const t=Xg(e),r=new Set;return t.map(i=>{const s=NI(i.tempId,i.role.payer,i.role.proposer,i.role.authorizer,i.role.param);return r.has(s)?null:(r.add(s),i)}).filter(i=>i!==null)}async function BI(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ai,{debugLogger:n}=arguments.length>3?arguments[3]:void 0;if(r<=0)throw new Error(`recurseResolveAccount Error: Depth limit (${Ai}) reached. Ensure your authorization functions resolve to an account after ${Ai} resolves.`);let i=e.accounts[t];if(!i)return[[],!1];if(n(`account: ${i.tempId}`,Math.max(Ai-r,0)),i!=null&&i.resolve)if(TI(i==null?void 0:i.resolve)){n(`account: ${i.tempId} -- cache MISS`,Math.max(Ai-r,0));const{resolve:s,...o}=i;let a=await s(o,OI(o,e));a=Array.isArray(a)?a:[a];let u=Xg(a);return u=u.map(c=>mv(e,c)),i.resolve=u.map(c=>c.tempId),i=mv(e,i),[u.map(c=>c.tempId),!0]}else return n(`account: ${i.tempId} -- cache HIT`,Math.max(Ai-r,0)),[i.resolve,!1];return[i.tempId?[i.tempId]:[],!1]}const hc=e=>e===null?[]:Array.isArray(e)?e:[e];async function LI(e,t,r){var n;for(let i of Object.values(mn))if(i===mn.AUTHORIZATIONS||i===mn.PAYER)e[i]=hc(e[i]).reduce((s,o)=>o===t?s.concat(...r.filter(a=>i===mn.PAYER&&a.role.payer||i===mn.AUTHORIZATIONS&&a.role.authorizer).map(a=>a.tempId)):s.concat(o),[]);else if(i===mn.PROPOSER){const s=r.filter(o=>o.role.proposer);if(s.length>1)throw new Error("replaceRoles Error: Multiple proposer keys were resolved, but only one is allowed");e[i]=((n=s[0])==null?void 0:n.tempId)??e[i]}}async function UI(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ai,{debugLogger:n}=arguments.length>3?arguments[3]:void 0;se(e&&typeof e=="object","resolveAccountType Error: ix not defined");let i=new Set;for(let o of t){let a=e.accounts[o];se(!!a,"resolveAccountType Error: account not found");const[u,c]=await BI(e,o,r,{debugLogger:n});if(c){const f=u.map(y=>e.accounts[y]),h=FI(f);h.forEach(y=>i.add(y.tempId)),LI(e,o,h)}}let s;for(const o of e[mn.PAYER]){let a=e.accounts[o];if(!s)s=a.addr;else if(s!==a.addr)throw new Error("resolveAccountType Error: payers from different accounts detected")}return i}async function $I(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(co(e)){Array.isArray(e.payer)||lt.deprecate({pkg:"FCL",subject:'"ix.payer" must be an array. Support for ix.payer as a singular',message:"See changelog for more info."});let[r,n]=PI();try{let i=Ai,s=new Set([...hc(e[mn.PAYER]),...hc(e[mn.PROPOSER]),...hc(e[mn.AUTHORIZATIONS])]);for(;s.size>0;){if(i<=0)throw new Error(`resolveAccounts Error: Depth limit (${Ai}) reached. Ensure your authorization functions resolve to an account after ${Ai} resolves.`);s=await UI(e,s,i,{debugLogger:r}),i--}await kI(e,{debugLogger:r});for(const o of Object.values(mn))se(hc(e[o]).length>0||o===mn.AUTHORIZATIONS,`resolveAccountType Error: no accounts for role "${o}" found`);t.enableDebug&&console.debug(n())}catch(i){throw console.error(`=== SAD PANDA ===

`,i,`

=== SAD PANDA ===`),i}}return e}async function zI(e){if(co(e))try{let t=P8(e);const r=fI(vv(e));await Promise.all(t.map(yv(e,r)));let n=O8(e);const i=dI({...vv(e),payloadSigs:t.map(s=>({address:e.accounts[s].addr||"",keyId:e.accounts[s].keyId||0,sig:e.accounts[s].signature||""}))});await Promise.all(n.map(yv(e,i)))}catch(t){throw console.error("Signatures",t,{ix:e}),t}return e}function yv(e,t){return async function(n){const i=e.accounts[n];if(i.signature!=null&&i.signature!==void 0)return;const{signature:s}=await i.signingFunction(qI(i,t,e));e.accounts[n].signature=s}}function qI(e,t,r){try{return{f_type:"Signable",f_vsn:"1.0.1",message:t,addr:er(e.addr),keyId:e.keyId,roles:e.role,cadence:r.message.cadence,args:r.message.arguments.map(n=>r.arguments[n].asArgument),data:{},interaction:r,voucher:Jg(r)}}catch(n){throw console.error("buildSignable",n),n}}function vv(e){const t=er((Array.isArray(e.payer)?e.accounts[e.payer[0]]:e.accounts[e.payer]).addr||""),r=e.proposer?{address:er(e.accounts[e.proposer].addr)||"",keyId:e.accounts[e.proposer].keyId||0,sequenceNum:e.accounts[e.proposer].sequenceNum||0}:{};return{cadence:e.message.cadence,refBlock:e.message.refBlock,computeLimit:e.message.computeLimit,arguments:e.message.arguments.map(n=>e.arguments[n].asArgument),proposalKey:r,payer:t,authorizers:e.authorizations.map(n=>er(e.accounts[n].addr)||"").reduce((n,i)=>n.find(s=>s===i)?n:[...n,i],[])}}async function jI(e){const t=rh(e,"ix.validators",[]);return $r(e,t.map(r=>n=>r(n,{Ok:Mn,Bad:Gg})))}async function HI(e){for(let t of Object.keys(e.accounts))e.accounts[t].addr=er(e.accounts[t].addr);return e}async function KI(e){const t=rh(e,"ix.voucher-intercept");return au(t)&&await t(Jg(e)),e}const GI=100;async function VI(e){return co(e)&&(e.message.computeLimit=e.message.computeLimit||await Be.get("fcl.limit"),e.message.computeLimit||(lt.deprecate({pkg:"FCL/SDK",subject:"The built-in default compute limit (DEFAULT_COMPUTE_LIMIT=10)",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0009-deprecate-default-compute-limit"}),e.message.computeLimit=GI)),e}const WI=e=>e,ya=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:WI;return async r=>{const n=s=>[`
Accounts:`,{proposer:s.proposer,authorizations:s.authorizations,payer:s.payer},`

Details:`,s.accounts].filter(Boolean),i=function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];console.log(`debug[${e}] ---
`,...o,`


---`)};return await Be.get(`debug.${e}`)&&await t(r,i,n),r}},YI=$r([uI,ya("cadence",(e,t)=>t(e.message.cadence)),VI,ya("compute limit",(e,t)=>t(e.message.computeLimit)),lI,ya("arguments",(e,t)=>t(e.message.arguments,e.message)),$I,ya("accounts",(e,t,r)=>t(...r(e))),QI,JI,zI,ya("signatures",(e,t,r)=>t(...r(e))),HI,jI,KI,ya("resolved",(e,t)=>t(e))]);async function QI(e){if(co(e)&&e.message.refBlock==null){const t=await Be().get("accessNode.api"),r=await Be.first(["sdk.transport","sdk.send"],jg);se(r,"Required value for sdk.transport is not defined in config. See: https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21"),e.message.refBlock=(await r(S8([YA()]),{config:Be,response:Qg,Buffer:Tt.Buffer,ix:Yg},{node:t}).then(nh)).id}return e}async function JI(e){if(co(e)){var t=Object.values(e.accounts).find(r=>r.role.proposer);if(se(t,"Transactions require a proposer"),t.sequenceNum==null){const r=await Be().get("accessNode.api"),n=await Be.first(["sdk.transport","sdk.send"],jg);se(n,"Required value for sdk.transport is not defined in config. See: https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21"),e.accounts[t.tempId].sequenceNum=await n(await S8([QA(t.addr)]),{config:Be,response:Qg,Buffer:Tt.Buffer,ix:Yg},{node:r}).then(nh).then(i=>i.keys).then(i=>i.find(s=>s.index===t.keyId)).then(i=>i.sequenceNumber)}}return e}function k8(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1){const[i,s]=t;return k8((o,a)=>{let{Ok:u,Bad:c}=a;return i?u(o):c(o,s)})}const[n]=t;return i=>n(i,{Ok:Mn,Bad:Gg})}const ih=async function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=await Be.first(["sdk.transport","sdk.send"],t.send||jg);k8(r,"Required value for sdk.transport is not defined in config. See: https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21");const n=await Be.first(["sdk.resolve"],t.resolve||YI);return t.node=t.node||await Be().get("accessNode.api"),Array.isArray(e)&&(e=$r(eh(),e)),r(await n(e),{config:Be,response:Qg,ix:Yg,Buffer:Tt.Buffer},t)};async function sh(e){const t=await Be().where(/^decoder\./),r=Object.entries(t).map(n=>{let[i,s]=n;return i=`/${i.replace(/^decoder\./,"")}$/`,[i,s]});return nh(e,Object.fromEntries(r))}function XI(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $r(e.map(t=>th(t,{role:Qc.AUTHORIZER})))}function ZI(e){return $r([v8,t=>(t.transaction.id=e,Mn(t))])}function ex(){return $r([E8,e=>Mn(e)])}function F8(e){return t=>(t.message.computeLimit=e,t)}function B8(e){return $r(e.map(g8))}function L8(e,t){return{value:e,xform:t}}function tx(e){return th(e,{role:Qc.PROPOSER})}function rx(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Array.isArray(e)||(e=[e]),$r(e.map(t=>th(t,{role:Qc.PAYER})))}function nx(){return $r([m8,Wg("ix.cadence",a8(...arguments))])}const ix=[],sx=null;function ox(){return $r([y8,Wg("ix.cadence",a8(...arguments)),e=>(e.message.refBlock=e.message.refBlock||sx,e.authorizations=e.authorizations||ix,Mn(e))])}const nt=(e,t,r)=>({label:e,asArgument:t,asInjection:n=>(lt.deprecate({pkg:"@onflow/types",subject:`Passing in ${e} as value for ${e}`,message:`Going forward, use ${e} as value for ${e}.`}),r(n))}),Yo=e=>Array.isArray(e),lo=e=>typeof e=="object",U8=e=>e==null,ax=e=>typeof e=="boolean",qt=e=>typeof e=="number",Yt=e=>Number.isInteger(e),bt=e=>typeof e=="string",Qe=e=>{throw new Error("Type Error: "+e)},Qt=e=>{lt.deprecate({pkg:"@onflow/types",subject:`Passing in Number as value for ${e}`,message:`Going forward, use String as value for ${e}.`,transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/types/WARNINGS.md#0002-[U]Int*-and-Word*-as-Number"})};let bv=!1;const ux={label:"Identity",asArgument:e=>(bv||(lt.deprecate({pkg:"@onflow/types",subject:"Identity",message:"Identity type is deprecated and will be removed in v2.0.0.  Please remove it from your code."}),bv=!0),e),asInjection:e=>e},cx=nt("UInt",e=>qt(e)&&Yt(e)?(Qt("UInt"),{type:"UInt",value:e.toString()}):bt(e)?{type:"UInt",value:e}:Qe("Expected Positive Integer for type Unsigned Int"),e=>e),lx=nt("Int",e=>qt(e)&&Yt(e)?(Qt("Int"),{type:"Int",value:e.toString()}):bt(e)?{type:"Int",value:e}:Qe("Expected Integer for type Int"),e=>e),fx=nt("UInt8",e=>qt(e)&&Yt(e)?(Qt("UInt8"),{type:"UInt8",value:e.toString()}):bt(e)?{type:"UInt8",value:e}:Qe("Expected integer for UInt8"),e=>e),dx=nt("Int8",e=>qt(e)&&Yt(e)?(Qt("Int8"),{type:"Int8",value:e.toString()}):bt(e)?{type:"Int8",value:e}:Qe("Expected positive integer for Int8"),e=>e),hx=nt("UInt16",e=>qt(e)&&Yt(e)?(Qt("UInt16"),{type:"UInt16",value:e.toString()}):bt(e)?{type:"UInt16",value:e}:Qe("Expected integer for UInt16"),e=>e),px=nt("Int16",e=>qt(e)&&Yt(e)?(Qt("Int16"),{type:"Int16",value:e.toString()}):bt(e)?{type:"Int16",value:e}:Qe("Expected positive integer for Int16"),e=>e),gx=nt("UInt32",e=>qt(e)&&Yt(e)?(Qt("UInt32"),{type:"UInt32",value:e.toString()}):bt(e)?{type:"UInt32",value:e}:Qe("Expected integer for UInt32"),e=>e),mx=nt("Int32",e=>qt(e)&&Yt(e)?(Qt("Int32"),{type:"Int32",value:e.toString()}):bt(e)?{type:"Int32",value:e}:Qe("Expected positive integer for Int32"),e=>e),yx=nt("UInt64",e=>qt(e)&&Yt(e)?(Qt("UInt64"),{type:"UInt64",value:e.toString()}):bt(e)?{type:"UInt64",value:e}:Qe("Expected integer for UInt64"),e=>e),vx=nt("Int64",e=>qt(e)&&Yt(e)?(Qt("Int64"),{type:"Int64",value:e.toString()}):bt(e)?{type:"Int64",value:e}:Qe("Expected positive integer for Int64"),e=>e),bx=nt("UInt128",e=>qt(e)&&Yt(e)?(Qt("UInt128"),{type:"UInt128",value:e.toString()}):bt(e)?{type:"UInt128",value:e}:Qe("Expected integer for UInt128"),e=>e),wx=nt("Int128",e=>qt(e)&&Yt(e)?(Qt("Int128"),{type:"Int128",value:e.toString()}):bt(e)?{type:"Int128",value:e}:Qe("Expected positive integer for Int128"),e=>e),Ex=nt("UInt256",e=>qt(e)&&Yt(e)?(Qt("UInt256"),{type:"UInt256",value:e.toString()}):bt(e)?{type:"UInt256",value:e}:Qe("Expected integer for UInt256"),e=>e),_x=nt("Int256",e=>qt(e)&&Yt(e)?(Qt("Int256"),{type:"Int256",value:e.toString()}):bt(e)?{type:"Int256",value:e}:Qe("Expected integer for Int256"),e=>e),Sx=nt("Word8",e=>qt(e)&&Yt(e)?(Qt("Word8"),{type:"Word8",value:e.toString()}):bt(e)?{type:"Word8",value:e}:Qe("Expected positive number for Word8"),e=>e),Ax=nt("Word16",e=>qt(e)&&Yt(e)?(Qt("Word16"),{type:"Word16",value:e.toString()}):bt(e)?{type:"Word16",value:e}:Qe("Expected positive number for Word16"),e=>e),Ix=nt("Word32",e=>qt(e)&&Yt(e)?(Qt("Word32"),{type:"Word32",value:e.toString()}):bt(e)?{type:"Word32",value:e}:Qe("Expected positive number for Word32"),e=>e),xx=nt("Word64",e=>qt(e)&&Yt(e)?(Qt("Word64"),{type:"Word64",value:e.toString()}):bt(e)?{type:"Word64",value:e}:Qe("Expected positive number for Word64"),e=>e),Mx=nt("Word128",e=>qt(e)&&Yt(e)?(Qt("Word128"),{type:"Word128",value:e.toString()}):bt(e)?{type:"Word128",value:e}:Qe("Expected positive number for Word128"),e=>e),Rx=nt("Word256",e=>qt(e)&&Yt(e)?(Qt("Word256"),{type:"Word256",value:e.toString()}):bt(e)?{type:"Word256",value:e}:Qe("Expected positive number for Word256"),e=>e),$8=()=>{lt.deprecate({subject:"Passing in Numbers as values for Fix64 and UFix64 types",pkg:"@onflow/types",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/types/WARNINGS.md#0001-[U]Fix64-as-Number"})},Cx=nt("UFix64",e=>{if(bt(e)){const t=e.split(".");return t.length!==2?Qe(`Expected one decimal but found ${t.length} in the [U]Fix64 value. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers`):t[1].length==0||t[1].length>8?Qe(`Expected at least one digit, and at most 8 digits following the decimal of the [U]Fix64 value but found ${t[1].length} digits. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers`):(t[1]=t[1].padEnd(8,"0"),e=t.join("."),{type:"UFix64",value:e})}else if(qt(e))return $8(),{type:"UFix64",value:e.toString()};return Qe("Expected String for UFix64")},e=>e),Dx=nt("Fix64",e=>{if(bt(e)){const t=e.split(".");return t.length!==2?Qe(`Expected one decimal but found ${t.length} in the [U]Fix64 value. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers`):t[1].length==0||t[1].length>8?Qe(`Expected at least one digit, and at most 8 digits following the decimal of the [U]Fix64 value but found ${t[1].length} digits. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers`):(t[1]=t[1].padEnd(8,"0"),e=t.join("."),{type:"Fix64",value:e})}else if(qt(e))return $8(),{type:"Fix64",value:e.toString()};return Qe("Expected String for Fix64")},e=>e),Tx=nt("String",e=>bt(e)?{type:"String",value:e}:Qe("Expected String for type String"),e=>e),Nx=nt("Character",e=>bt(e)?{type:"Character",value:e}:Qe("Expected Character for type Character"),e=>e),Px=nt("Bool",e=>ax(e)?{type:"Bool",value:e}:Qe("Expected Boolean for type Bool"),e=>e),z8=nt("Address",e=>bt(e)?{type:"Address",value:e}:Qe("Expected Address for type Address"),e=>e),Ox=nt("Void",e=>!e||U8(e)?{type:"Void",value:null}:Qe("Expected Void for type Void"),e=>e),kx=e=>nt("Optional",t=>({type:"Optional",value:U8(t)?null:e.asArgument(t)}),t=>t),Fx=nt("Reference",e=>lo(e)?{type:"Reference",value:e}:Qe("Expected Object for type Reference"),e=>e),wv=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return nt("Array",t=>({type:"Array",value:Yo(e)?e.map((r,n)=>r.asArgument(t[n])):t.map(r=>e.asArgument(r))}),t=>t)},Bx=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return nt("Dictionary",t=>{const r=Yo(t),n=Yo(e);return lo(t)?{type:"Dictionary",value:n&&r?e.map((i,s)=>({key:i.key.asArgument(t[s].key),value:i.value.asArgument(t[s].value)})):r&&!n?t.map(i=>({key:e.key.asArgument(i.key),value:e.value.asArgument(i.value)})):!r&&!n?[{key:e.key.asArgument(t.key),value:e.value.asArgument(t.value)}]:Qe("Invalid arguments for Dictionary.")}:Qe("Expected Object for type Dictionary")},t=>t)},Lx=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return nt("Event",r=>lo(r)?{type:"Event",value:{id:e,fields:Yo(t)?t.map((n,i)=>({name:r.fields[i].name,value:n.value.asArgument(r.fields[i].value)})):r.fields.map(n=>({name:n.name,value:t.value.asArgument(n.value)}))}}:Qe("Expected Object for type Event"),r=>r)},Ux=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return nt("Resource",r=>lo(r)?{type:"Resource",value:{id:e,fields:Yo(t)?t.map((n,i)=>({name:r.fields[i].name,value:n.value.asArgument(r.fields[i].value)})):r.fields.map(n=>({name:n.name,value:t.value.asArgument(n.value)}))}}:Qe("Expected Object for type Resource"),r=>r)},$x=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return nt("Struct",r=>lo(r)?{type:"Struct",value:{id:e,fields:Yo(t)?t.map((n,i)=>({name:r.fields[i].name,value:n.value.asArgument(r.fields[i].value)})):r.fields.map(n=>({name:n.name,value:t.value.asArgument(n.value)}))}}:Qe("Expected Object for type Struct"),r=>r)},zx=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return nt("Enum",r=>lo(r)?{type:"Enum",value:{id:e,fields:Yo(t)?t.map((n,i)=>({name:r.fields[i].name,value:n.value.asArgument(r.fields[i].value)})):r.fields.map(n=>({name:n.name,value:t.value.asArgument(n.value)}))}}:Qe("Expected Object for type Enum"),r=>r)},qx=nt("Path",e=>lo(e)?bt(e.domain)?e.domain==="storage"||e.domain==="private"||e.domain==="public"?bt(e.identifier)?{type:"Path",value:{domain:e.domain,identifier:e.identifier}}:Qe(`Expected a string for the Path identifier but found ${e.identifier}. Find out more about the Path type here: https://docs.onflow.org/cadence/json-cadence-spec/#path`):Qe(`Expected either "storage", "private" or "public" as the Path domain but found ${e.domain}. Find out more about the Path type here: https://docs.onflow.org/cadence/json-cadence-spec/#path`):Qe(`Expected a string for the Path domain but found ${e.domain}. Find out more about the Path type here: https://docs.onflow.org/cadence/json-cadence-spec/#path`):Qe("Expected Object for type Path"),e=>e),jx=e=>nt("InclusiveRange",t=>{if(lo(t)){const{start:r,end:n,step:i}=t;return{type:"InclusiveRange",value:{start:e.asArgument(r),end:e.asArgument(n),step:e.asArgument(i)}}}return Qe("Expected Object for type InclusiveRange")},t=>t),Hx=Object.freeze(Object.defineProperty({__proto__:null,Address:z8,Array:wv,Bool:Px,Character:Nx,Dictionary:Bx,Enum:zx,Event:Lx,Fix64:Dx,Identity:ux,InclusiveRange:jx,Int:lx,Int128:wx,Int16:px,Int256:_x,Int32:mx,Int64:vx,Int8:dx,Optional:kx,Path:qx,Reference:Fx,Resource:Ux,String:Tx,Struct:$x,UFix64:Cx,UInt:cx,UInt128:bx,UInt16:hx,UInt256:Ex,UInt32:gx,UInt64:yx,UInt8:fx,Void:Ox,Word128:Mx,Word16:Ax,Word256:Rx,Word32:Ix,Word64:xx,Word8:Sx,_Array:wv},Symbol.toStringTag,{value:"Module"}));var q8={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(gn,function(){return r={418:function(i,s){(function(o,a){for(var u in a)o[u]=a[u]})(s,function(o){var a={};function u(c){if(a[c])return a[c].exports;var f=a[c]={i:c,l:!1,exports:{}};return o[c].call(f.exports,f,f.exports,u),f.l=!0,f.exports}return u.m=o,u.c=a,u.i=function(c){return c},u.d=function(c,f,h){u.o(c,f)||Object.defineProperty(c,f,{configurable:!1,enumerable:!0,get:h})},u.n=function(c){var f=c&&c.__esModule?function(){return c.default}:function(){return c};return u.d(f,"a",f),f},u.o=function(c,f){return Object.prototype.hasOwnProperty.call(c,f)},u.p="",u(u.s=1)}([function(o,a,u){Object.defineProperty(a,"__esModule",{value:!0});var c=u(3),f=function(){function h(y,v){y===void 0&&(y={}),v===void 0&&(v={splitValues:!1});var w,C=this;this.headersMap={},y&&(typeof Headers<"u"&&y instanceof Headers?c.getHeaderKeys(y).forEach(function(N){c.getHeaderValues(y,N).forEach(function(T){v.splitValues?C.append(N,c.splitHeaderValue(T)):C.append(N,T)})}):typeof(w=y)=="object"&&typeof w.headersMap=="object"&&typeof w.forEach=="function"?y.forEach(function(N,T){C.append(N,T)}):typeof Map<"u"&&y instanceof Map?y.forEach(function(N,T){C.append(T,N)}):typeof y=="string"?this.appendFromString(y):typeof y=="object"&&Object.getOwnPropertyNames(y).forEach(function(N){var T=y[N];Array.isArray(T)?T.forEach(function(x){C.append(N,x)}):C.append(N,T)}))}return h.prototype.appendFromString=function(y){for(var v=y.split(`\r
`),w=0;w<v.length;w++){var C=v[w],N=C.indexOf(":");if(N>0){var T=C.substring(0,N).trim(),x=C.substring(N+1).trim();this.append(T,x)}}},h.prototype.delete=function(y,v){var w=c.normalizeName(y);if(v===void 0)delete this.headersMap[w];else{var C=this.headersMap[w];if(C){var N=C.indexOf(v);N>=0&&C.splice(N,1),C.length===0&&delete this.headersMap[w]}}},h.prototype.append=function(y,v){var w=this,C=c.normalizeName(y);Array.isArray(this.headersMap[C])||(this.headersMap[C]=[]),Array.isArray(v)?v.forEach(function(N){w.headersMap[C].push(c.normalizeValue(N))}):this.headersMap[C].push(c.normalizeValue(v))},h.prototype.set=function(y,v){var w=c.normalizeName(y);if(Array.isArray(v)){var C=[];v.forEach(function(N){C.push(c.normalizeValue(N))}),this.headersMap[w]=C}else this.headersMap[w]=[c.normalizeValue(v)]},h.prototype.has=function(y,v){var w=this.headersMap[c.normalizeName(y)];if(!Array.isArray(w))return!1;if(v!==void 0){var C=c.normalizeValue(v);return w.indexOf(C)>=0}return!0},h.prototype.get=function(y){var v=this.headersMap[c.normalizeName(y)];return v!==void 0?v.concat():[]},h.prototype.forEach=function(y){var v=this;Object.getOwnPropertyNames(this.headersMap).forEach(function(w){y(w,v.headersMap[w])},this)},h.prototype.toHeaders=function(){if(typeof Headers<"u"){var y=new Headers;return this.forEach(function(v,w){w.forEach(function(C){y.append(v,C)})}),y}throw new Error("Headers class is not defined")},h}();a.BrowserHeaders=f},function(o,a,u){Object.defineProperty(a,"__esModule",{value:!0});var c=u(0);a.BrowserHeaders=c.BrowserHeaders},function(o,a,u){Object.defineProperty(a,"__esModule",{value:!0}),a.iterateHeaders=function(c,f){for(var h=c[Symbol.iterator](),y=h.next();!y.done;)f(y.value[0]),y=h.next()},a.iterateHeadersKeys=function(c,f){for(var h=c.keys(),y=h.next();!y.done;)f(y.value),y=h.next()}},function(o,a,u){Object.defineProperty(a,"__esModule",{value:!0});var c=u(2);a.normalizeName=function(f){if(typeof f!="string"&&(f=String(f)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(f))throw new TypeError("Invalid character in header field name");return f.toLowerCase()},a.normalizeValue=function(f){return typeof f!="string"&&(f=String(f)),f},a.getHeaderValues=function(f,h){var y=f;if(y instanceof Headers&&y.getAll)return y.getAll(h);var v=y.get(h);return v&&typeof v=="string"?[v]:v},a.getHeaderKeys=function(f){var h=f,y={},v=[];return h.keys?c.iterateHeadersKeys(h,function(w){y[w]||(y[w]=!0,v.push(w))}):h.forEach?h.forEach(function(w,C){y[C]||(y[C]=!0,v.push(C))}):c.iterateHeaders(h,function(w){var C=w[0];y[C]||(y[C]=!0,v.push(C))}),v},a.splitHeaderValue=function(f){var h=[];return f.split(", ").forEach(function(y){y.split(",").forEach(function(v){h.push(v)})}),h}}]))},617:function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0}),s.ChunkParser=s.ChunkType=s.encodeASCII=s.decodeASCII=void 0;var a,u=o(65);function c(N){return(T=N)===9||T===10||T===13||N>=32&&N<=126;var T}function f(N){for(var T=0;T!==N.length;++T)if(!c(N[T]))throw new Error("Metadata is not valid (printable) ASCII");return String.fromCharCode.apply(String,Array.prototype.slice.call(N))}function h(N){return(128&N.getUint8(0))==128}function y(N){return N.getUint32(1,!1)}function v(N,T,x){return N.byteLength-T>=x}function w(N,T,x){if(N.slice)return N.slice(T,x);var O=N.length;x!==void 0&&(O=x);for(var k=new Uint8Array(O-T),L=0,$=T;$<O;$++)k[L++]=N[$];return k}s.decodeASCII=f,s.encodeASCII=function(N){for(var T=new Uint8Array(N.length),x=0;x!==N.length;++x){var O=N.charCodeAt(x);if(!c(O))throw new Error("Metadata contains invalid ASCII");T[x]=O}return T},function(N){N[N.MESSAGE=1]="MESSAGE",N[N.TRAILERS=2]="TRAILERS"}(a=s.ChunkType||(s.ChunkType={}));var C=function(){function N(){this.buffer=null,this.position=0}return N.prototype.parse=function(T,x){if(T.length===0&&x)return[];var O,k=[];if(this.buffer==null)this.buffer=T,this.position=0;else if(this.position===this.buffer.byteLength)this.buffer=T,this.position=0;else{var L=this.buffer.byteLength-this.position,$=new Uint8Array(L+T.byteLength),E=w(this.buffer,this.position);$.set(E,0);var U=new Uint8Array(T);$.set(U,L),this.buffer=$,this.position=0}for(;;){if(!v(this.buffer,this.position,5))return k;var Z=w(this.buffer,this.position,this.position+5),ne=new DataView(Z.buffer,Z.byteOffset,Z.byteLength),q=y(ne);if(!v(this.buffer,this.position,5+q))return k;var b=w(this.buffer,this.position+5,this.position+5+q);if(this.position+=5+q,h(ne))return k.push({chunkType:a.TRAILERS,trailers:(O=b,new u.Metadata(f(O)))}),k;k.push({chunkType:a.MESSAGE,data:b})}},N}();s.ChunkParser=C},8:function(i,s){var o;Object.defineProperty(s,"__esModule",{value:!0}),s.httpStatusToCode=s.Code=void 0,function(a){a[a.OK=0]="OK",a[a.Canceled=1]="Canceled",a[a.Unknown=2]="Unknown",a[a.InvalidArgument=3]="InvalidArgument",a[a.DeadlineExceeded=4]="DeadlineExceeded",a[a.NotFound=5]="NotFound",a[a.AlreadyExists=6]="AlreadyExists",a[a.PermissionDenied=7]="PermissionDenied",a[a.ResourceExhausted=8]="ResourceExhausted",a[a.FailedPrecondition=9]="FailedPrecondition",a[a.Aborted=10]="Aborted",a[a.OutOfRange=11]="OutOfRange",a[a.Unimplemented=12]="Unimplemented",a[a.Internal=13]="Internal",a[a.Unavailable=14]="Unavailable",a[a.DataLoss=15]="DataLoss",a[a.Unauthenticated=16]="Unauthenticated"}(o=s.Code||(s.Code={})),s.httpStatusToCode=function(a){switch(a){case 0:return o.Internal;case 200:return o.OK;case 400:return o.InvalidArgument;case 401:return o.Unauthenticated;case 403:return o.PermissionDenied;case 404:return o.NotFound;case 409:return o.Aborted;case 412:return o.FailedPrecondition;case 429:return o.ResourceExhausted;case 499:return o.Canceled;case 500:return o.Unknown;case 501:return o.Unimplemented;case 503:return o.Unavailable;case 504:return o.DeadlineExceeded;default:return o.Unknown}}},934:function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0}),s.client=void 0;var a=o(65),u=o(617),c=o(8),f=o(346),h=o(57),y=o(882);s.client=function(C,N){return new v(C,N)};var v=function(){function C(N,T){this.started=!1,this.sentFirstMessage=!1,this.completed=!1,this.closed=!1,this.finishedSending=!1,this.onHeadersCallbacks=[],this.onMessageCallbacks=[],this.onEndCallbacks=[],this.parser=new u.ChunkParser,this.methodDefinition=N,this.props=T,this.createTransport()}return C.prototype.createTransport=function(){var N=this.props.host+"/"+this.methodDefinition.service.serviceName+"/"+this.methodDefinition.methodName,T={methodDefinition:this.methodDefinition,debug:this.props.debug||!1,url:N,onHeaders:this.onTransportHeaders.bind(this),onChunk:this.onTransportChunk.bind(this),onEnd:this.onTransportEnd.bind(this)};this.props.transport?this.transport=this.props.transport(T):this.transport=h.makeDefaultTransport(T)},C.prototype.onTransportHeaders=function(N,T){if(this.props.debug&&f.debug("onHeaders",N,T),this.closed)this.props.debug&&f.debug("grpc.onHeaders received after request was closed - ignoring");else if(T!==0){this.responseHeaders=N,this.props.debug&&f.debug("onHeaders.responseHeaders",JSON.stringify(this.responseHeaders,null,2));var x=w(N);this.props.debug&&f.debug("onHeaders.gRPCStatus",x);var O=x&&x>=0?x:c.httpStatusToCode(T);this.props.debug&&f.debug("onHeaders.code",O);var k=N.get("grpc-message")||[];if(this.props.debug&&f.debug("onHeaders.gRPCMessage",k),this.rawOnHeaders(N),O!==c.Code.OK){var L=this.decodeGRPCStatus(k[0]);this.rawOnError(O,L,N)}}},C.prototype.onTransportChunk=function(N){var T=this;if(this.closed)this.props.debug&&f.debug("grpc.onChunk received after request was closed - ignoring");else{var x=[];try{x=this.parser.parse(N)}catch(O){return this.props.debug&&f.debug("onChunk.parsing error",O,O.message),void this.rawOnError(c.Code.Internal,"parsing error: "+O.message)}x.forEach(function(O){if(O.chunkType===u.ChunkType.MESSAGE){var k=T.methodDefinition.responseType.deserializeBinary(O.data);T.rawOnMessage(k)}else O.chunkType===u.ChunkType.TRAILERS&&(T.responseHeaders?(T.responseTrailers=new a.Metadata(O.trailers),T.props.debug&&f.debug("onChunk.trailers",T.responseTrailers)):(T.responseHeaders=new a.Metadata(O.trailers),T.rawOnHeaders(T.responseHeaders)))})}},C.prototype.onTransportEnd=function(){if(this.props.debug&&f.debug("grpc.onEnd"),this.closed)this.props.debug&&f.debug("grpc.onEnd received after request was closed - ignoring");else if(this.responseTrailers!==void 0){var N=w(this.responseTrailers);if(N!==null){var T=this.responseTrailers.get("grpc-message"),x=this.decodeGRPCStatus(T[0]);this.rawOnEnd(N,x,this.responseTrailers)}else this.rawOnError(c.Code.Internal,"Response closed without grpc-status (Trailers provided)")}else{if(this.responseHeaders===void 0)return void this.rawOnError(c.Code.Unknown,"Response closed without headers");var O=w(this.responseHeaders),k=this.responseHeaders.get("grpc-message");if(this.props.debug&&f.debug("grpc.headers only response ",O,k),O===null)return void this.rawOnEnd(c.Code.Unknown,"Response closed without grpc-status (Headers only)",this.responseHeaders);var L=this.decodeGRPCStatus(k[0]);this.rawOnEnd(O,L,this.responseHeaders)}},C.prototype.decodeGRPCStatus=function(N){if(!N)return"";try{return decodeURIComponent(N)}catch{return N}},C.prototype.rawOnEnd=function(N,T,x){var O=this;this.props.debug&&f.debug("rawOnEnd",N,T,x),this.completed||(this.completed=!0,this.onEndCallbacks.forEach(function(k){if(!O.closed)try{k(N,T,x)}catch(L){setTimeout(function(){throw L},0)}}))},C.prototype.rawOnHeaders=function(N){this.props.debug&&f.debug("rawOnHeaders",N),this.completed||this.onHeadersCallbacks.forEach(function(T){try{T(N)}catch(x){setTimeout(function(){throw x},0)}})},C.prototype.rawOnError=function(N,T,x){var O=this;x===void 0&&(x=new a.Metadata),this.props.debug&&f.debug("rawOnError",N,T),this.completed||(this.completed=!0,this.onEndCallbacks.forEach(function(k){if(!O.closed)try{k(N,T,x)}catch(L){setTimeout(function(){throw L},0)}}))},C.prototype.rawOnMessage=function(N){var T=this;this.props.debug&&f.debug("rawOnMessage",N.toObject()),this.completed||this.closed||this.onMessageCallbacks.forEach(function(x){if(!T.closed)try{x(N)}catch(O){setTimeout(function(){throw O},0)}})},C.prototype.onHeaders=function(N){this.onHeadersCallbacks.push(N)},C.prototype.onMessage=function(N){this.onMessageCallbacks.push(N)},C.prototype.onEnd=function(N){this.onEndCallbacks.push(N)},C.prototype.start=function(N){if(this.started)throw new Error("Client already started - cannot .start()");this.started=!0;var T=new a.Metadata(N||{});T.set("content-type","application/grpc-web+proto"),T.set("x-grpc-web","1"),this.transport.start(T)},C.prototype.send=function(N){if(!this.started)throw new Error("Client not started - .start() must be called before .send()");if(this.closed)throw new Error("Client already closed - cannot .send()");if(this.finishedSending)throw new Error("Client already finished sending - cannot .send()");if(!this.methodDefinition.requestStream&&this.sentFirstMessage)throw new Error("Message already sent for non-client-streaming method - cannot .send()");this.sentFirstMessage=!0;var T=y.frameRequest(N);this.transport.sendMessage(T)},C.prototype.finishSend=function(){if(!this.started)throw new Error("Client not started - .finishSend() must be called before .close()");if(this.closed)throw new Error("Client already closed - cannot .send()");if(this.finishedSending)throw new Error("Client already finished sending - cannot .finishSend()");this.finishedSending=!0,this.transport.finishSend()},C.prototype.close=function(){if(!this.started)throw new Error("Client not started - .start() must be called before .close()");if(this.closed)throw new Error("Client already closed - cannot .close()");this.closed=!0,this.props.debug&&f.debug("request.abort aborting request"),this.transport.cancel()},C}();function w(C){var N=C.get("grpc-status")||[];if(N.length>0)try{var T=N[0];return parseInt(T,10)}catch{return null}return null}},346:function(i,s){Object.defineProperty(s,"__esModule",{value:!0}),s.debug=void 0,s.debug=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];console.debug?console.debug.apply(null,o):console.log.apply(null,o)}},607:function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0}),s.grpc=void 0;var a,u=o(418),c=o(57),f=o(229),h=o(540),y=o(210),v=o(859),w=o(8),C=o(938),N=o(35),T=o(934);(a=s.grpc||(s.grpc={})).setDefaultTransport=c.setDefaultTransportFactory,a.CrossBrowserHttpTransport=v.CrossBrowserHttpTransport,a.FetchReadableStreamTransport=f.FetchReadableStreamTransport,a.XhrTransport=y.XhrTransport,a.WebsocketTransport=h.WebsocketTransport,a.Code=w.Code,a.Metadata=u.BrowserHeaders,a.client=function(x,O){return T.client(x,O)},a.invoke=C.invoke,a.unary=N.unary},938:function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0}),s.invoke=void 0;var a=o(934);s.invoke=function(u,c){if(u.requestStream)throw new Error(".invoke cannot be used with client-streaming methods. Use .client instead.");var f=a.client(u,{host:c.host,transport:c.transport,debug:c.debug});return c.onHeaders&&f.onHeaders(c.onHeaders),c.onMessage&&f.onMessage(c.onMessage),c.onEnd&&f.onEnd(c.onEnd),f.start(c.metadata),f.send(c.request),f.finishSend(),{close:function(){f.close()}}}},65:function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0}),s.Metadata=void 0;var a=o(418);Object.defineProperty(s,"Metadata",{enumerable:!0,get:function(){return a.BrowserHeaders}})},57:function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0}),s.makeDefaultTransport=s.setDefaultTransportFactory=void 0;var a=o(859),u=function(c){return a.CrossBrowserHttpTransport({withCredentials:!1})(c)};s.setDefaultTransportFactory=function(c){u=c},s.makeDefaultTransport=function(c){return u(c)}},229:function(i,s,o){var a=this&&this.__assign||function(){return(a=Object.assign||function(h){for(var y,v=1,w=arguments.length;v<w;v++)for(var C in y=arguments[v])Object.prototype.hasOwnProperty.call(y,C)&&(h[C]=y[C]);return h}).apply(this,arguments)};Object.defineProperty(s,"__esModule",{value:!0}),s.detectFetchSupport=s.FetchReadableStreamTransport=void 0;var u=o(65),c=o(346);s.FetchReadableStreamTransport=function(h){return function(y){return function(v,w){return v.debug&&c.debug("fetchRequest",v),new f(v,w)}(y,h)}};var f=function(){function h(y,v){this.cancelled=!1,this.controller=self.AbortController&&new AbortController,this.options=y,this.init=v}return h.prototype.pump=function(y,v){var w=this;if(this.reader=y,this.cancelled)return this.options.debug&&c.debug("Fetch.pump.cancel at first pump"),void this.reader.cancel().catch(function(C){w.options.debug&&c.debug("Fetch.pump.reader.cancel exception",C)});this.reader.read().then(function(C){if(C.done)return w.options.onEnd(),v;w.options.onChunk(C.value),w.pump(w.reader,v)}).catch(function(C){w.cancelled?w.options.debug&&c.debug("Fetch.catch - request cancelled"):(w.cancelled=!0,w.options.debug&&c.debug("Fetch.catch",C.message),w.options.onEnd(C))})},h.prototype.send=function(y){var v=this;fetch(this.options.url,a(a({},this.init),{headers:this.metadata.toHeaders(),method:"POST",body:y,signal:this.controller&&this.controller.signal})).then(function(w){if(v.options.debug&&c.debug("Fetch.response",w),v.options.onHeaders(new u.Metadata(w.headers),w.status),!w.body)return w;v.pump(w.body.getReader(),w)}).catch(function(w){v.cancelled?v.options.debug&&c.debug("Fetch.catch - request cancelled"):(v.cancelled=!0,v.options.debug&&c.debug("Fetch.catch",w.message),v.options.onEnd(w))})},h.prototype.sendMessage=function(y){this.send(y)},h.prototype.finishSend=function(){},h.prototype.start=function(y){this.metadata=y},h.prototype.cancel=function(){var y=this;this.cancelled?this.options.debug&&c.debug("Fetch.cancel already cancelled"):(this.cancelled=!0,this.controller?(this.options.debug&&c.debug("Fetch.cancel.controller.abort"),this.controller.abort()):this.options.debug&&c.debug("Fetch.cancel.missing abort controller"),this.reader?(this.options.debug&&c.debug("Fetch.cancel.reader.cancel"),this.reader.cancel().catch(function(v){y.options.debug&&c.debug("Fetch.cancel.reader.cancel exception",v)})):this.options.debug&&c.debug("Fetch.cancel before reader"))},h}();s.detectFetchSupport=function(){return typeof Response<"u"&&Response.prototype.hasOwnProperty("body")&&typeof Headers=="function"}},859:function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0}),s.CrossBrowserHttpTransport=void 0;var a=o(229),u=o(210);s.CrossBrowserHttpTransport=function(c){if(a.detectFetchSupport()){var f={credentials:c.withCredentials?"include":"same-origin"};return a.FetchReadableStreamTransport(f)}return u.XhrTransport({withCredentials:c.withCredentials})}},210:function(i,s,o){var a,u=this&&this.__extends||(a=function(N,T){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,O){x.__proto__=O}||function(x,O){for(var k in O)Object.prototype.hasOwnProperty.call(O,k)&&(x[k]=O[k])})(N,T)},function(N,T){function x(){this.constructor=N}a(N,T),N.prototype=T===null?Object.create(T):(x.prototype=T.prototype,new x)});Object.defineProperty(s,"__esModule",{value:!0}),s.stringToArrayBuffer=s.MozChunkedArrayBufferXHR=s.XHR=s.XhrTransport=void 0;var c=o(65),f=o(346),h=o(849);s.XhrTransport=function(N){return function(T){if(h.detectMozXHRSupport())return new v(T,N);if(h.detectXHROverrideMimeTypeSupport())return new y(T,N);throw new Error("This environment's XHR implementation cannot support binary transfer.")}};var y=function(){function N(T,x){this.options=T,this.init=x}return N.prototype.onProgressEvent=function(){this.options.debug&&f.debug("XHR.onProgressEvent.length: ",this.xhr.response.length);var T=this.xhr.response.substr(this.index);this.index=this.xhr.response.length;var x=C(T);this.options.onChunk(x)},N.prototype.onLoadEvent=function(){this.options.debug&&f.debug("XHR.onLoadEvent"),this.options.onEnd()},N.prototype.onStateChange=function(){this.options.debug&&f.debug("XHR.onStateChange",this.xhr.readyState),this.xhr.readyState===XMLHttpRequest.HEADERS_RECEIVED&&this.options.onHeaders(new c.Metadata(this.xhr.getAllResponseHeaders()),this.xhr.status)},N.prototype.sendMessage=function(T){this.xhr.send(T)},N.prototype.finishSend=function(){},N.prototype.start=function(T){var x=this;this.metadata=T;var O=new XMLHttpRequest;this.xhr=O,O.open("POST",this.options.url),this.configureXhr(),this.metadata.forEach(function(k,L){O.setRequestHeader(k,L.join(", "))}),O.withCredentials=!!this.init.withCredentials,O.addEventListener("readystatechange",this.onStateChange.bind(this)),O.addEventListener("progress",this.onProgressEvent.bind(this)),O.addEventListener("loadend",this.onLoadEvent.bind(this)),O.addEventListener("error",function(k){x.options.debug&&f.debug("XHR.error",k),x.options.onEnd(k.error)})},N.prototype.configureXhr=function(){this.xhr.responseType="text",this.xhr.overrideMimeType("text/plain; charset=x-user-defined")},N.prototype.cancel=function(){this.options.debug&&f.debug("XHR.abort"),this.xhr.abort()},N}();s.XHR=y;var v=function(N){function T(){return N!==null&&N.apply(this,arguments)||this}return u(T,N),T.prototype.configureXhr=function(){this.options.debug&&f.debug("MozXHR.configureXhr: setting responseType to 'moz-chunked-arraybuffer'"),this.xhr.responseType="moz-chunked-arraybuffer"},T.prototype.onProgressEvent=function(){var x=this.xhr.response;this.options.debug&&f.debug("MozXHR.onProgressEvent: ",new Uint8Array(x)),this.options.onChunk(new Uint8Array(x))},T}(y);function w(N,T){var x=N.charCodeAt(T);if(x>=55296&&x<=56319){var O=N.charCodeAt(T+1);O>=56320&&O<=57343&&(x=65536+(x-55296<<10)+(O-56320))}return x}function C(N){for(var T=new Uint8Array(N.length),x=0,O=0;O<N.length;O++){var k=String.prototype.codePointAt?N.codePointAt(O):w(N,O);T[x++]=255&k}return T}s.MozChunkedArrayBufferXHR=v,s.stringToArrayBuffer=C},849:function(i,s){var o;function a(){if(o!==void 0)return o;if(XMLHttpRequest){o=new XMLHttpRequest;try{o.open("GET","https://localhost")}catch{}}return o}function u(c){var f=a();if(!f)return!1;try{return f.responseType=c,f.responseType===c}catch{}return!1}Object.defineProperty(s,"__esModule",{value:!0}),s.detectXHROverrideMimeTypeSupport=s.detectMozXHRSupport=s.xhrSupportsResponseType=void 0,s.xhrSupportsResponseType=u,s.detectMozXHRSupport=function(){return typeof XMLHttpRequest<"u"&&u("moz-chunked-arraybuffer")},s.detectXHROverrideMimeTypeSupport=function(){return typeof XMLHttpRequest<"u"&&XMLHttpRequest.prototype.hasOwnProperty("overrideMimeType")}},540:function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0}),s.WebsocketTransport=void 0;var a,u=o(346),c=o(617);(function(h){h[h.FINISH_SEND=1]="FINISH_SEND"})(a||(a={}));var f=new Uint8Array([1]);s.WebsocketTransport=function(){return function(h){return function(y){y.debug&&u.debug("websocketRequest",y);var v,w=function(T){if(T.substr(0,8)==="https://")return"wss://"+T.substr(8);if(T.substr(0,7)==="http://")return"ws://"+T.substr(7);throw new Error("Websocket transport constructed with non-https:// or http:// host.")}(y.url),C=[];function N(T){if(T===a.FINISH_SEND)v.send(f);else{var x=T,O=new Int8Array(x.byteLength+1);O.set(new Uint8Array([0])),O.set(x,1),v.send(O)}}return{sendMessage:function(T){v&&v.readyState!==v.CONNECTING?N(T):C.push(T)},finishSend:function(){v&&v.readyState!==v.CONNECTING?N(a.FINISH_SEND):C.push(a.FINISH_SEND)},start:function(T){(v=new WebSocket(w,["grpc-websockets"])).binaryType="arraybuffer",v.onopen=function(){var x;y.debug&&u.debug("websocketRequest.onopen"),v.send((x="",T.forEach(function(O,k){x+=O+": "+k.join(", ")+`\r
`}),c.encodeASCII(x))),C.forEach(function(O){N(O)})},v.onclose=function(x){y.debug&&u.debug("websocketRequest.onclose",x),y.onEnd()},v.onerror=function(x){y.debug&&u.debug("websocketRequest.onerror",x)},v.onmessage=function(x){y.onChunk(new Uint8Array(x.data))}},cancel:function(){y.debug&&u.debug("websocket.abort"),v.close()}}}(h)}}},35:function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0}),s.unary=void 0;var a=o(65),u=o(934);s.unary=function(c,f){if(c.responseStream)throw new Error(".unary cannot be used with server-streaming methods. Use .invoke or .client instead.");if(c.requestStream)throw new Error(".unary cannot be used with client-streaming methods. Use .client instead.");var h=null,y=null,v=u.client(c,{host:f.host,transport:f.transport,debug:f.debug});return v.onHeaders(function(w){h=w}),v.onMessage(function(w){y=w}),v.onEnd(function(w,C,N){f.onEnd({status:w,statusMessage:C,headers:h||new a.Metadata,message:y,trailers:N})}),v.start(f.metadata),v.send(f.request),v.finishSend(),{close:function(){v.close()}}}},882:function(i,s){Object.defineProperty(s,"__esModule",{value:!0}),s.frameRequest=void 0,s.frameRequest=function(o){var a=o.serializeBinary(),u=new ArrayBuffer(a.byteLength+5);return new DataView(u,1,4).setUint32(0,a.length,!1),new Uint8Array(u,5).set(a),new Uint8Array(u)}}},n={},function i(s){if(n[s])return n[s].exports;var o=n[s]={exports:{}};return r[s].call(o.exports,o,o.exports,i),o.exports}(607);var r,n})})(q8);var Kx=q8.exports,Ev=/^[0-9]+$/,Gx=function(t,r){var n=Ev.test(t),i=Ev.test(r);return n&&i&&(t=+t,r=+r),t===r?0:n&&!i?-1:i&&!n?1:t<r?-1:1},_v=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/,Vx=function(t,r){if(typeof t!="string"||typeof r!="string")throw new Error("Invalid input");var n=t.match(_v),i=r.match(_v);if(!n||!i)throw new Error("Invalid input");for(var s=1;s<=3;s++){if(parseInt(n[s])>parseInt(i[s]))return 1;if(parseInt(n[s])<parseInt(i[s]))return-1}if(n[4]&&i[4])for(var o=(n[4]||"").split("."),a=(i[4]||"").split("."),u=0;u<Math.max(o.length,a.length);u++){if(o[u]===void 0)return-1;if(a[u]===void 0)return 1;var c=Gx(o[u],a[u]);if(c!==0)return c}return 0};const Zg="1.11.0",oh=e=>t=>typeof t===e,ps=e=>e!=null,Wx=oh("object"),Qa=oh("string"),j8=oh("function"),Yx=oh("number");function H8(e){return j8(e)?e(L8,Hx):[]}async function Sv(e){let{url:t}=e;se(typeof t<"u","retrieve({ url }) -- url must be defined");let r;try{r=await L6(t)}catch{throw new Error("httpDocumentResolver Error: Failed to retrieve document.")}return r.ok?await r.json():null}const Av=new Map([["http",Sv],["https",Sv]]);async function Qx(e){let{url:t}=e;se(typeof t<"u","retrieve({ url }) -- url must be defined"),se(typeof t=="string","retrieve({ url }) -- url must be a string");const r=await Be().where(/^document\.resolver\./);Object.keys(r).map(a=>{const u=r[a],c=a.replace(/^document\.resolver\./,"");Av.set(c,u)});const n=/^(.*):\/\/([A-Za-z0-9\-\.]+)(:[0-9]+)?(.*)$/.exec(t);se(n,"Failed to parse URL");const i=n[1];se(n,"Failed to parse URL protocol");const s=Av.get(i);return se(s,`No resolver found for protcol=${i}`),await s({url:t})}async function Jx(e){var i;let{network:t,template:r}=e;return se(r.f_version==="1.0.0","deriveCadenceByNetwork100({ template }) -- template must be version 1.0.0"),Object.keys((i=r==null?void 0:r.data)==null?void 0:i.dependencies).map(s=>{var c,f;const o=Object.values((f=(c=r==null?void 0:r.data)==null?void 0:c.dependencies)==null?void 0:f[s]);se(o!==void 0,`deriveCadenceByNetwork100 -- Could not find contracts for dependency placeholder: ${s}`),se(o.length>0,`deriveCadenceByNetwork100 -- Could not find contracts for dependency placeholder: ${s}`);const a=o[0],u=a==null?void 0:a[t];return se(u,`deriveCadenceByNetwork100 -- Could not find ${t} network information for dependency: ${s}`),[s,u==null?void 0:u.address]}).reduce((s,o)=>{let[a,u]=o;const c=new RegExp("(\\b"+a+"\\b)","g");return s.replace(c,u)},r.data.cadence)}function Xx(e){let{cadence:t,networkDependencies:r}=e;return Object.keys(r).reduce((n,i)=>{const s=r[i],o=new RegExp(`import "\\b${i}\\b"`,"g");return n.replace(o,`import ${i} from ${s}`)},t)}async function Zx(e){var i,s,o,a,u,c;let{network:t,template:r}=e;se(r.f_version==="1.1.0","deriveCadenceByNetwork110({ template }) -- template must be version 1.0.0");const n={};return(i=r==null?void 0:r.data)==null||i.dependencies.forEach(f=>{f.contracts.forEach(h=>{const y=h.contract;h.networks.forEach(v=>{v.network===t&&(n[y]=v.address)}),se(n[y]!==void 0,`deriveCadenceByNetwork110 -- Could not find contracts Network Address: ${t} ${y}`)})}),se(Object.keys(n).length===((s=r==null?void 0:r.data)==null?void 0:s.dependencies.length),`deriveCadenceByNetwork110 -- Could not find contracts for import dependencies: ${n}`),se(Object.keys(n).length===Object.values(n).length,`deriveCadenceByNetwork110 -- Could not find all addresses for network ${t} dependencies:  ${n}`),se((a=(o=r==null?void 0:r.data)==null?void 0:o.cadence)==null?void 0:a.body,`no cadence found -- Could not replace import dependencies: ${n}`),Xx({cadence:(c=(u=r==null?void 0:r.data)==null?void 0:u.cadence)==null?void 0:c.body,networkDependencies:n})}async function eM(e){let{network:t,template:r}=e;switch(se(t!=null,"deriveCadenceByNetwork({ network }) -- network must be defined"),se(typeof t=="string","deriveCadenceByNetwork({ network }) -- network must be a string"),se(r!=null,"deriveCadenceByNetwork({ template }) -- template must be defined"),se(typeof r=="object","deriveCadenceByNetwork({ template }) -- template must be an object"),se(r.f_type==="InteractionTemplate","deriveCadenceByNetwork({ template }) -- template must be an InteractionTemplate"),r.f_version){case"1.1.0":return await Zx({network:t,template:r});case"1.0.0":return await Jx({network:t,template:r});default:throw new Error("deriveCadenceByNetwork Error: Unsupported template version")}}async function tM(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(await ih([ex()],e).then(sh)).chainId}let va={},Iv=!1;async function bu(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=await Be.get("flow.network"),r=await Be.get("env");r&&!Iv&&(lt.deprecate({pkg:"FCL",subject:'Using the "env" configuration key for specifying the flow network',message:"Configuring to specify flow network is no longer required",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/TRANSITIONS.md#0001-deprecate-env-config-key"}),Iv=!0);const n=e.node||await Be.get("accessNode.api");if(!n){if(t)return t;if(r)return r;throw new Error('Either the "accessNode.api" config key or opts.node must be set')}if(va[n])try{return await va[n]}catch{}va[n]||(va[n]=tM(e).catch(i=>{throw va[n]=null,i}));try{return await va[n]}catch(i){if(t)return t;if(r)return r;throw new Error(`Error getting chainId from access node - are you using the correct access node endpoint.  If running locally, is your emulator up-to-date? ${i.message}`)}}function rM(){return Be.subscribe(()=>{bu({enableRequestLogging:!1}).catch(()=>{})})}function nM(){return typeof navigator<"u"&&/android/i.test(navigator.userAgent)}function iM(){return typeof navigator<"u"&&/iPhone|iPod/.test(navigator.userAgent)}function sM(){return typeof navigator<"u"&&/iPad/.test(navigator.userAgent)}function oM(){return iM()||sM()}function aM(){return nM()||oM()}async function K8(e){Qa(e==null?void 0:e.template)&&(e.template=await Qx({url:e==null?void 0:e.template}));const t=e.cadence||await eM({template:e.template,network:await bu(e)});return e.cadence=t,e}async function G8(e,t){se(ps(t),`${e}(opts) -- opts is required`),se(Wx(t),`${e}(opts) -- opts must be an object`),se(!(t.cadence&&t.template),`${e}({ template, cadence }) -- cannot pass both cadence and template`),se(ps(t.cadence||(t==null?void 0:t.template)),`${e}({ cadence }) -- cadence is required`),se(Qa(t.cadence)||(t==null?void 0:t.template),`${e}({ cadence }) -- cadence must be a string`),se(await Be().get("accessNode.api"),`${e}(opts) -- Required value for "accessNode.api" not defined in config. See: https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/src/exec/query.md#configuration`)}async function uM(e){return G8("mutate",e)}async function cM(e){return G8("query",e)}async function lM(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return await cM(e),e=await K8(e),ih([nx(e.cadence),B8(H8(e.args||[])),e.limit&&typeof e.limit=="number"&&F8(e.limit)]).then(sh)}const yn={"HTTP/RPC":"HTTP/RPC","HTTP/POST":"HTTP/POST","IFRAME/RPC":"IFRAME/RPC","POP/RPC":"POP/RPC","TAB/RPC":"TAB/RPC","EXT/RPC":"EXT/RPC","DEEPLINK/RPC":"DEEPLINK/RPC"},fM=globalThis.URL;let em=class extends fM{constructor(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];super(t,r,...i)}};const wu={f_type:"Service",f_vsn:"1.0.0"},V8={f_type:"Identity",f_vsn:"1.0.0"},dM={f_type:"USER",f_vsn:"1.0.0"},hM={f_type:"PollingResponse",f_vsn:"1.0.0"},pM={f_type:"CompositeSignature",f_vsn:"1.0.0"},gM="USER_SIGNATURE",mM=e=>{if(e.appIdentifier){const{appIdentifier:t,address:r,nonce:n,signatures:i}=e;return se(Qa(t),"verifyAccountProof({ appIdentifier }) -- appIdentifier must be a string"),se(Qa(r)&&er(r).length===16,"verifyAccountProof({ address }) -- address must be a valid address"),se(/^[0-9a-f]+$/i.test(n),"nonce must be a hex string"),se(Array.isArray(i)&&i.every((s,o,a)=>s.f_type==="CompositeSignature"),"Must include an Array of CompositeSignatures to verify"),se(i.map(s=>s.addr).every((s,o,a)=>s===a[0]),"User signatures to be verified must be from a single account address"),!0}else{const{message:t,address:r,compSigs:n}=e;return se(/^[0-9a-f]+$/i.test(t),"Signed message must be a hex string"),se(Qa(r)&&er(r).length===16,"verifyUserSignatures({ address }) -- address must be a valid address"),se(Array.isArray(n)&&n.every((i,s,o)=>i.f_type==="CompositeSignature"),"Must include an Array of CompositeSignatures to verify"),se(n.map(i=>i.addr).every((i,s,o)=>i===o[0]),"User signatures to be verified must be from a single account address"),!0}},yM=async(e,t)=>{const r="verifyUserSignatures";let n=await bu(t);const i={testnet:"0x74daa6f9c7ef24b1",mainnet:"0xb4b82a1c9d21d284",previewnet:"0x40b5b8b2ce81ea4a"},s=t.fclCryptoContract||i[n];return se(s,`${r}({ fclCryptoContract }) -- FCLCrypto contract address is unknown for network: ${n}. Please manually specify the FCLCrypto contract address.`),`
      import FCLCrypto from ${s}

      access(all) fun main(
          address: Address, 
          message: String, 
          keyIndices: [Int], 
          signatures: [String]
      ): Bool {
        return FCLCrypto.${r}(address: address, message: message, keyIndices: keyIndices, signatures: signatures)
      }
    `};async function vM(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=Or(t[0].addr);mM({message:e,address:n,compSigs:t});let i=[],s=[];for(const o of t)i.push(o.signature),s.push(o.keyId.toString());return lM({cadence:await yM(gM,r),args:(o,a)=>[o(n,a.Address),o(e,a.String),o(s,a.Array(a.Int)),o(i,a.Array(a.String))]})}lt.deprecate({pkg:"FCL",subject:"fcl.verifyUserSignatures()",message:"Please use fcl.AppUtils.verifyUserSignatures()",callback:function(t,r){return vM(t,r)}});async function xv(e){return Object.fromEntries(Object.entries(await Be().where(e)).map(t=>{let[r,n]=t;return[r.replace(e,""),n]}))}const bM=/^[0-9a-fA-F]{64}$/,h0="POLL",Mv="TIMEOUT",wM=async e=>ih([ZI(e)]).then(sh),EM=e=>e.status===5,tm=e=>e.status>=4,W8=e=>e.status>=3,Y8=e=>e.status>=2,_M=e=>e.status>=1,SM=e=>e.status>=0,AM=(e,t)=>JSON.stringify(e)!==JSON.stringify(t),IM=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{[Jc]:async t=>{setTimeout(()=>t.sendSelf(Mv),e.txNotFoundTimeout),t.sendSelf(h0)},[vu]:(t,r)=>{t.subscribe(r.from),t.send(r.from,Qp,t.all())},[Vo]:(t,r)=>{t.unsubscribe(r.from)},[b6]:async(t,r)=>{r.reply(t.all())},[Mv]:async t=>{Object.keys(t.all()).length===0&&t.fatalError(new Error(`TX status polling failed: no transaction was found within timeout interval (${e.txNotFoundTimeout}ms)`))},[h0]:async t=>{const r=()=>setTimeout(()=>t.sendSelf(h0),e.pollRate);let n;const i=t.all();try{n=await wM(t.self())}catch(s){const o=s instanceof Tf&&s.statusCode===404,a=s.code===Kx.grpc.Code.NotFound;return o||a?r():t.fatalError(s)}tm(n)||r(),AM(i,n)&&t.broadcast(Qp,n),t.merge(n)}}},n1=e=>{if(typeof e=="object"&&(e=e.transactionId),e==null)throw new Error("transactionId required");return e},Rv=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t=>ia(IM(e),n1(t))};function sa(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{txNotFoundTimeout:12500,pollRate:2500};if(!bM.test(n1(e)))throw new Error("Invalid transactionId");function r(){return w6(e,Rv(t))}function n(s){return Og(n1(e),Rv(t),s)}function i(s){return function(){const u=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).suppress||!1;return new Promise((c,f)=>{const h=n((y,v)=>{(v||y.statusCode)&&!u?(f(v||y.errorMessage),h()):s(y)&&(c(y),h())})})}}return{snapshot:r,subscribe:n,onceFinalized:i(Y8),onceExecuted:i(W8),onceSealed:i(tm)}}sa.isUnknown=SM;sa.isPending=_M;sa.isFinalized=Y8;sa.isExecuted=W8;sa.isSealed=tm;sa.isExpired=EM;const ba=()=>{throw new Error("Platform specific Core Strategies are not initialized")},xM={[yn["EXT/RPC"]]:ba,[yn["HTTP/POST"]]:ba,[yn["IFRAME/RPC"]]:ba,[yn["POP/RPC"]]:ba,[yn["TAB/RPC"]]:ba,[yn["EXT/RPC"]]:ba},MM=["ServicePlugin"],RM=["discovery-service"],CM=e=>{const{services:t=[],serviceStrategy:r}=e;se(Array.isArray(t),"Services must be an array");for(const n of t)se(ps(n.f_type)&&n.f_type==="Service","Service is required"),se(ps(n.type)&&n.type==="authn",`Service must be type authn. Received ${n.type}`),se(n.method in yn||r.method===n.method,`Service method ${n.method} is not supported`);return se(ps(r),"Service strategy is required"),se(ps(r.method)&&Qa(r.method),"Service strategy method is required"),se(ps(r.exec)&&j8(r.exec),"Service strategy exec function is required"),{discoveryServices:t,serviceStrategy:r}},DM=e=>{let{coreStrategies:t}=e,r=new Set,n=new Map(Object.entries(t));const i=c=>{if(se(RM.includes(c.type),`Service Plugin type ${c.type} is not supported`),c.type==="discovery-service"){const{discoveryServices:f,serviceStrategy:h}=CM(c);s(f),n.has(h.method)?lt({title:"Add Service Plugin",message:`Service strategy for ${h.method} already exists`,level:At.warn}):n.set(h.method,h.exec)}},s=c=>r=new Set([...c]);return Object.freeze({add:i,getServices:()=>[...r],getStrategy:c=>n.get(c),getStrategies:()=>[...n.keys()]})},TM=e=>{let t;se(!!e,"No plugins supplied"),Array.isArray(e)?t=[...e]:t=[e];for(const r of t)se(ps(r.name),"Plugin name is required"),se(ps(r.f_type),"Plugin f_type is required"),se(MM.includes(r.f_type),`Plugin type ${r.f_type} is not supported`);return t},NM=()=>{const e=new Map;return Object.freeze({add:n=>{const i=TM(n);for(const s of i)e.set(s.name,s),s.f_type==="ServicePlugin"&&Zc.add(s)},getPlugins:()=>e})};let Zc;const Q8=()=>typeof Zc<"u",J8=e=>{let{coreStrategies:t}=e;if(Q8())return Zc;const r=DM({coreStrategies:t});return Zc=r,r},ml=()=>Q8()?Zc:(console.warn("Registry is not initalized, it will be initialized with stub core strategies"),J8({coreStrategies:xM})),Cv=NM(),X8=async()=>[...(window==null?void 0:window.fcl_extensions)||[],...ml().getServices()];async function PM(e){const t=await Be.get("discovery.authn.include",[]),r=await Be.get("discovery.features.suggested",[]),n=await Be.first(["discovery.wallet.method","discovery.wallet.method.default"]),i=e!=null&&e.method?e.method:n,s=(e==null?void 0:e.endpoint)??await Be.first(["discovery.wallet","challenge.handshake"]);return se(s,`
    If no service is passed to "authenticate," then "discovery.wallet" must be defined in fcl config.
    See: "https://docs.onflow.org/fcl/reference/api/#setting-configuration-values"
    `),{...e,type:"authn",endpoint:s,method:i,discoveryAuthnInclude:t,discoveryFeaturesSuggested:r}}async function OM(e){var s;let{types:t}=e;const r=await Be.get("discovery.authn.endpoint");se(!!r,'"discovery.authn.endpoint" in config must be defined.');const n=await Be.get("discovery.authn.include",[]),i=new em(r);return fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:t,fclVersion:Zg,include:n,features:{suggested:await Be.get("discovery.features.suggested",[])},clientServices:await X8(),supportedStrategies:ml().getStrategies(),userAgent:(s=window==null?void 0:window.navigator)==null?void 0:s.userAgent,network:await bu()})}).then(o=>o.json())}const Ci={AUTHN:"authn",RESULTS:"results",SNAPSHOT:"SNAPSHOT",UPDATED:"UPDATED",UPDATE_RESULTS:"UPDATE_RESULTS"},kM=(e,t)=>{e&&console.warn(`
      %cFCL Warning
      ============================
      ${t}
      For more info, please see the docs: https://docs.onflow.org/fcl/
      ============================
      `,"font-weight:bold;font-family:monospace;")},i1=async()=>{try{const e=await OM({types:[Ci.AUTHN]});rr(Ci.AUTHN,Ci.UPDATE_RESULTS,{results:e})}catch(e){lt({title:`${e.name} Error fetching Discovery API services.`,message:e.message,level:At.error})}},FM={[Jc]:async e=>{kM(typeof window>"u",'"fcl.discovery" is only available in the browser.'),document.readyState==="complete"?i1():window.addEventListener("load",()=>{i1()})},[Ci.UPDATE_RESULTS]:(e,t,r)=>{e.merge(r),e.broadcast(Ci.UPDATED,{...e.all()})},[vu]:(e,t)=>{e.subscribe(t.from),e.send(t.from,Ci.UPDATED,{...e.all()})},[Vo]:(e,t)=>e.unsubscribe(t.from),[Ci.SNAPSHOT]:async(e,t)=>t.reply({...e.all()})},Dv=()=>ia(FM,Ci.AUTHN),BM={subscribe:e=>Og(Ci.AUTHN,Dv,e),snapshot:()=>w6(Ci.AUTHN,Dv),update:()=>{document.readyState==="complete"&&i1()}},LM={authn:BM};async function UM(e,t){if(e==null||t==null)return[];const r=new em(e);r.searchParams.append("code",t);const n=await fetch(r,{method:"GET",headers:{"Content-Type":"application/json"}}).then(s=>s.json());if(Array.isArray(n))return n;const i=[];if(Array.isArray(n.authorizations))for(let s of n.authorizations)i.push({type:"authz",keyId:n.keyId,...s});return n.provider!=null&&i.push({type:"authn",id:"wallet-provider#authn",...n.provider}),i}function $M(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return[...e,...t]}function zM(e){if(e==null)return null;if(!e.f_vsn)return{...wu,type:e.type,uid:e.id,endpoint:e.authn,id:e.pid,provider:{address:Or(e.addr),name:e.name,icon:e.icon}};switch(e.f_vsn){case"1.0.0":return e;default:return null}}function qM(e){if(e==null)return null;if(!e.f_vsn)return{...wu,type:e.type,uid:e.id,endpoint:e.endpoint,method:e.method,identity:{...V8,address:Or(e.addr),keyId:e.keyId},params:e.params,data:e.data};switch(e.f_vsn){case"1.0.0":return e;default:return null}}function jM(e){if(e==null)return null;if(!e.f_vsn)return{...wu,type:e.type,uid:e.id,endpoint:e.endpoint,method:e.method,identity:{...V8,address:Or(e.addr),keyId:e.keyId},params:e.params,data:e.data};switch(e.f_vsn){case"1.0.0":return e;default:return null}}function Z8(e){if(e==null)return null;if(!e.f_vsn)return{old:e,...wu,type:"frame",endpoint:e.endpoint,params:e.params||{},data:e.data||{}};switch(e.f_vsn){case"1.0.0":return e;default:return null}}function e4(e){if(e==null)return null;if(!e.f_vsn)return{...wu,type:"back-channel-rpc",endpoint:e.endpoint,method:e.method,params:e.params||{},data:e.data||{}};switch(e.f_vsn){case"1.0.0":return e;default:return null}}function HM(e){if(e==null)return null;switch(e.f_vsn){case"1.0.0":return e;default:return null}}function KM(e){if(e==null)return null;if(!e.f_vsn)throw new Error("Invalid user-signature service");switch(e.f_vsn){case"1.0.0":return e;default:return null}}function t4(e){if(e==null)return null;if(e.method==null&&(e={...e,type:"local-view",method:"VIEW/IFRAME"}),!e.f_vsn)return{...wu,type:e.type||"local-view",method:e.method,endpoint:e.endpoint,data:e.data||{},params:e.params||{}};switch(e.f_vsn){case"1.0.0":return e;default:return null}}function GM(e){if(e==null)return null;if(!e.f_vsn)throw new Error("FCL Normalizer Error: Invalid account-proof service");switch(e.f_vsn){case"1.0.0":return e;default:return null}}function VM(e){if(e==null)return null;if(!e.f_vsn)throw new Error("Invalid authn-refresh service");switch(e.f_vsn){case"1.0.0":return e;default:return null}}function WM(e,t){return e.map(r=>QM(r,t)).filter(Boolean)}const YM={"back-channel-rpc":e4,"pre-authz":jM,authz:qM,authn:zM,frame:Z8,"open-id":HM,"user-signature":KM,"local-view":t4,"account-proof":GM,"authn-refresh":VM};function QM(e,t){try{var r=YM[e.type](e,t);return r}catch(n){return console.error(`Unrecognized FCL Service Type [${e.type}]`,e,n),e}}function el(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.reduce((r,n)=>n.type===t&&(!r||Vx(n.f_vsn,r.f_vsn)>0)?n:r,null)}function JM(e){var t,r;return Bg([((t=e.provider)==null?void 0:t.address)||((r=e.provider)==null?void 0:r.name)||"UNSPECIFIED",e.id]).toString("hex")}function XM(e){return e.addr=e.addr?Or(e.addr):null,e.paddr=e.paddr?Or(e.paddr):null,e}async function Tv(e){e=XM(e);var t=WM($M(e.services||[],await UM(e.hks,e.code)));const r=el(t,"authn");return{...dM,addr:Or(e.addr),cid:JM(r),loggedIn:!0,services:t,expiresAt:e.expires}}const ZM="WC/RPC",eR=typeof window>"u";function tR(){if(eR)return;ml().getStrategies().includes(ZM)||lt({title:"FCL WalletConnect Service Plugin",level:At.error,message:"All dApps are expected to register for a WalletConnect projectId & add this to their FCL configuration.  If you do not do so, users will be unable to use certain wallets to interact with your dApp.  See https://developers.flow.com/tools/clients/fcl-js/configure-fcl for more information."})}const rR=globalThis.AbortController||require("abort-controller"),ah=async e=>{let{service:t,body:r,config:n,abortSignal:i,customRpc:s,opts:o}=e;return ml().getStrategy(t.method)({service:t,body:r,config:n,abortSignal:i,customRpc:s,opts:o})};async function Qo(e){var c;let{service:t,msg:r={},config:n={},opts:i={},platform:s,abortSignal:o=new rR().signal,execStrategy:a}=e;tR(),r.data=t.data;const u={services:await xv(/^service\./),app:await xv(/^app\.detail\./),client:{...n.client,platform:s,fclVersion:Zg,fclLibrary:"https://github.com/onflow/fcl-js",hostname:((c=window==null?void 0:window.location)==null?void 0:c.hostname)??null,network:await bu(i)}};try{const f=await(a||ah)({service:t,body:r,config:u,opts:i,abortSignal:o});return f.status==="REDIRECT"?(se(t.type===f.data.type,"Cannot shift recursive service type in execService"),await Qo({service:f.data,msg:r,config:u,opts:i,abortSignal:o})):f}catch(f){throw lt({title:`Error on execService ${t==null?void 0:t.type}`,message:f,level:At.error}),f}}function s1(e){if(e==null)return null;if(!e.f_vsn)return{...pM,addr:er(e.addr||e.address),signature:e.signature||e.sig,keyId:e.keyId};switch(e.f_vsn){case"1.0.0":return e;default:return null}}const nR=e=>typeof e=="function",hi="CURRENT_USER",p0="CURRENT_USER/UPDATED",r4="SNAPSHOT",o1="SET_CURRENT_USER",n4="DEL_CURRENT_USER",a1=`{
  "f_type": "User",
  "f_vsn": "1.0.0",
  "addr":null,
  "cid":null,
  "loggedIn":null,
  "expiresAt":null,
  "services":[]
}`,iR=async e=>{const t=JSON.parse(a1),r=await e.get(hi);return r!=null&&t.f_vsn!==r.f_vsn?(e.removeItem(hi),t):r||t},sR={[Jc]:async e=>{typeof window>"u"&&console.warn(`
        %cFCL Warning
        ============================
        "currentUser" is only available in the browser.
        For more info, please see the docs: https://docs.onflow.org/fcl/
        ============================
        `,"font-weight:bold;font-family:monospace;"),e.merge(JSON.parse(a1));const t=await Be.first(["fcl.storage","fcl.storage.default"]);if(t.can){const r=await iR(t);oR(r)&&e.merge(r)}},[vu]:(e,t)=>{e.subscribe(t.from),e.send(t.from,p0,{...e.all()})},[Vo]:(e,t)=>{e.unsubscribe(t.from)},[r4]:async(e,t)=>{t.reply({...e.all()})},[o1]:async(e,t,r)=>{e.merge(r);const n=await Be.first(["fcl.storage","fcl.storage.default"]);n.can&&n.put(hi,e.all()),e.broadcast(p0,{...e.all()})},[n4]:async(e,t)=>{e.merge(JSON.parse(a1));const r=await Be.first(["fcl.storage","fcl.storage.default"]);r.can&&r.put(hi,e.all()),e.broadcast(p0,{...e.all()})}},Eu=()=>ia(sR,hi);function oR(e){return e.expiresAt==null||e.expiresAt===0||e.expiresAt>Date.now()}async function aR(){let e=await Be.get("fcl.accountProof.resolver");if(e==null)return;if(!nR(e)){lt({title:"Account Proof Data Resolver must be a function",message:`Check fcl.accountProof.resolver configuration.
                Expected: fcl.accountProof.resolver: async () => { ... }
                Received: fcl.accountProof.resolver: ${typeof e}
                `,level:At.warn});return}const t=await e();if(t!=null)return se(typeof t.appIdentifier=="string","appIdentifier must be a string"),se(/^[0-9a-f]+$/i.test(t.nonce),"Nonce must be a hex string"),t}const uR=async e=>{let{discoveryAuthnInclude:t,discoveryFeaturesSuggested:r}=e;return{client:{discoveryAuthnInclude:t,discoveryFeaturesSuggested:r,clientServices:await X8(),supportedStrategies:ml().getStrategies()}}},tl=e=>{let{platform:t,discovery:r}=e;return async function(){var s,o,a;let{service:n,redir:i=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n&&!((s=n==null?void 0:n.provider)!=null&&s.is_installed)&&((o=n==null?void 0:n.provider)!=null&&o.requires_install)){window.location.href=(a=n==null?void 0:n.provider)==null?void 0:a.install_link;return}return new Promise(async(u,c)=>{Eu();const f={redir:i},h=await Mc(),y=await PM(n),v=el(h.services,"authn-refresh");let w;if(h.loggedIn)if(v)try{const C=await Qo({service:v,msg:w,opts:f,platform:t});rr(hi,o1,await Tv(C))}catch(C){lt({title:`${C.name} Could not refresh wallet authentication.`,message:C.message,level:At.error})}finally{return u(await Mc())}else return u(h);try{w=await aR()}catch(C){return lt({title:`${C.name} On Authentication: Could not resolve account proof data.`,message:C.message,level:At.error}),c(C)}try{const C=await Qo({service:y,msg:w,config:await uR(y),opts:f,platform:t,execStrategy:r==null?void 0:r.execStrategy});rr(hi,o1,await Tv(C))}catch(C){lt({title:`${C} On Authentication`,message:C,level:At.error})}finally{u(await Mc())}})}};function Nv(){Eu(),rr(hi,n4)}const cR=e=>({f_type:"PreAuthzResponse",f_vsn:"1.0.0",proposer:(e||{}).proposer,payer:(e||{}).payer||[],authorization:(e||{}).authorization||[]}),lR=e=>{let{platform:t}=e;return r=>{const n=cR(r),i=[];n.proposer!=null&&i.push(["PROPOSER",n.proposer]);for(let o of n.payer||[])i.push(["PAYER",o]);for(let o of n.authorization||[])i.push(["AUTHORIZER",o]);var s=i.map(o=>{let[a,u]=o;return{tempId:[u.identity.address,u.identity.keyId].join("|"),addr:u.identity.address,keyId:u.identity.keyId,signingFunction(c){return Qo({service:u,msg:c,platform:t})},role:{proposer:a==="PROPOSER",payer:a==="PAYER",authorizer:a==="AUTHORIZER"}}});return s}},Pv=e=>{let{platform:t,discovery:r}=e;return async n=>(Eu(),{...n,tempId:"CURRENT_USER",async resolve(i,s){const o=await tl({platform:t,discovery:r})({redir:!0}),a=el(o.services,"authz"),u=el(o.services,"pre-authz");if(u)return lR({platform:t,discovery:r})(await Qo({service:u,msg:s,platform:t}));if(a){let c;return aM()&&a.method==="WC/RPC"&&(c=window.open("","_blank")),{...i,tempId:"CURRENT_USER",resolve:null,addr:er(a.identity.address),keyId:a.identity.keyId,sequenceNum:null,signature:null,async signingFunction(f){return s1(await Qo({service:a,msg:f,opts:{includeOlderJsonRpcCall:!0,windowRef:c},platform:t}))}}}throw new Error("No Authz or PreAuthz Service configured for CURRENT_USER")}})};function Ov(e){Eu();const t="@EXIT",r=ia(async n=>{for(n.send(hi,vu);;){const i=await n.receive();if(i.tag===t){n.send(hi,Vo);return}e(i.data)}});return()=>rr(r,t)}function Mc(){return Eu(),rr(hi,r4,null,{expectReply:!0,timeout:0})}const kv=e=>{let{platform:t,discovery:r}=e;return async()=>{const{addr:n}=await tl({platform:t,discovery:r})();return L8(Or(n),z8)}},fR=e=>(se(/^[0-9a-f]+$/i.test(e),"Message must be a hex string"),{message:e}),Fv=e=>{let{platform:t,discovery:r}=e;return async n=>{Eu();const i=await tl({platform:t,discovery:r})({redir:!0}),s=el(i.services,"user-signature");se(s,"Current user must have authorized a signing service.");try{const o=await Qo({service:s,msg:fR(n),platform:t});return Array.isArray(o)?o.map(a=>s1(a)):[s1(o)]}catch(o){return o}}},i4=e=>{let{platform:t,discovery:r}=e,n=()=>({authenticate:tl({platform:t,discovery:r}),unauthenticate:Nv,authorization:Pv({platform:t,discovery:r}),signUserMessage:Fv({platform:t,discovery:r}),subscribe:Ov,snapshot:Mc,resolveArgument:kv({platform:t,discovery:r})});return n.authenticate=tl({platform:t,discovery:r}),n.unauthenticate=Nv,n.authorization=Pv({platform:t,discovery:r}),n.signUserMessage=Fv({platform:t,discovery:r}),n.subscribe=Ov,n.snapshot=Mc,n.resolveArgument=kv({platform:t,discovery:r}),n},dR=e=>{let{platform:t,discovery:r}=e;return async function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var s;try{await uM(i),i=await K8(i);const o=i4({platform:t,discovery:r}),a=await Be().get("fcl.authz",o().authorization);return s=ih([ox(i.cadence),B8(H8(i.args||[])),i.limit&&Yx(i.limit)&&F8(i.limit),tx(i.proposer||i.authz||a),rx(i.payer||i.authz||a),XI(i.authorizations||[i.authz||a])]).then(sh),s}catch(o){throw o}}};function yl(e){var r;const t=new em(e.endpoint);if((r=window==null?void 0:window.location)!=null&&r.origin&&t.searchParams.append("l6n",window.location.origin),e.params!=null)for(let[n,i]of Object.entries(e.params||{}))t.searchParams.append(n,i);return t}function s4(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=t.method||"POST",n=r==="GET"?void 0:JSON.stringify(t.data||e.data||{});return fetch(yl(e),{method:r,headers:{...e.headers||{},...t.headers||{},"Content-Type":"application/json"},body:n}).then(i=>i.json())}function zi(e){if(e==null)return null;if(!e.f_vsn)return{...hM,status:e.status??"APPROVED",reason:e.reason??null,data:e.compositeSignature||e.data||{...e},updates:e4(e.authorizationUpdates),local:Z8((e.local||[])[0])};switch(e.f_vsn){case"1.0.0":return e;default:return null}}const Bv={"HTTP/GET":"GET","HTTP/POST":"POST"},hR=e=>(se(Bv[e.method],"Invalid Service Method for type back-channel-rpc",{service:e}),Bv[e.method]);async function u1(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:()=>!0;if(se(e,"Missing Polling Service",{service:e}),!t())throw new Error("Externally Halted");let n;try{if(typeof document<"u"&&document.visibilityState==="hidden")return await new Promise(i=>setTimeout(i,500)),u1(e,t);n=await s4(e,{method:hR(e)}).then(zi)}catch(i){throw i}switch(n.status){case"APPROVED":return n.data;case"DECLINED":throw new Error(`Declined: ${n.reason||"No reason supplied."}`);default:return await new Promise(i=>setTimeout(i,500)),u1(n.updates,t)}}const Lv=e=>async t=>{let{service:r,body:n,config:i,opts:s}=t;const o=await s4(r,{data:{fclVersion:Zg,service:{params:r.params,data:r.data,type:r.type},config:i,...n}}).then(zi);if(o.status==="APPROVED")return o.data;if(o.status==="DECLINED")throw new Error(`Declined: ${o.reason||"No reason supplied."}`);if(o.status==="REDIRECT")return o;if(o.status==="PENDING"){var a=!0,u=!0;const[c,f]=await e(t4(o.local),{serviceEndpoint:yl,onClose:()=>u=!1}),h=()=>{try{f(),u=!1}catch(v){console.error("Frame Close Error",v)}},y=()=>{const v=a;return a=u,v};return u1(o.updates,y).then(v=>(h(),v)).catch(v=>{throw console.error(v),h(),v})}else throw console.error("Auto Decline: Invalid Response",{service:r,resp:o}),new Error("Auto Decline: Invalid Response")},nf="FCL:VIEW:CLOSE",g0="FCL:VIEW:READY",m0="FCL:VIEW:RESPONSE",pR="FCL:VIEW:CUSTOM_RPC",Bt=e=>typeof e=="string"&&e.toLowerCase(),gR=new Set(["monetizationstart","monetizationpending","monetizationprogress","monetizationstop"]),yo=(e,t)=>console.warn("DEPRECATION NOTICE",`Received ${e}, please use ${t} for this and future versions of FCL`),uh=e=>{let{close:t,send:r,onReady:n,onResponse:i,onMessage:s,onCustomRpc:o,getSource:a}=e,u;return c=>{try{u=(a==null?void 0:a())||u}catch{u=null}try{if(typeof c.data!="object"||gR.has(c.data.type)||u!=null&&c.source!==u)return;Bt(c.data.type)===Bt(nf)&&t(),Bt(c.data.type)===Bt(g0)&&(n(c,{send:r,close:t}),u||(u=c.source)),Bt(c.data.type)===Bt(m0)&&i(c,{send:r,close:t}),Bt(c.data.type)===Bt(pR)&&o(c.data.payload,{send:r,close:t}),s(c,{send:r,close:t}),Bt(c.data.type)===Bt("FCL:FRAME:READY")&&(yo(c.data.type,g0),n(c,{send:r,close:t}),u||(u=c.source)),Bt(c.data.type)===Bt("FCL:FRAME:RESPONSE")&&(yo(c.data.type,m0),i(c,{send:r,close:t})),Bt(c.data.type)===Bt("FCL:FRAME:CLOSE")&&(yo(c.data.type,nf),t()),Bt(c.data.type)===Bt("FCL::CHALLENGE::RESPONSE")&&(yo(c.data.type,m0),i(c,{send:r,close:t})),Bt(c.data.type)===Bt("FCL::AUTHZ_READY")&&(yo(c.data.type,g0),n(c,{send:r,close:t}),u||(u=c.source)),Bt(c.data.type)===Bt("FCL::CHALLENGE::CANCEL")&&(yo(c.data.type,nf),t()),Bt(c.data.type)===Bt("FCL::CANCEL")&&(yo(c.data.type,nf),t())}catch(f){console.error("Frame Callback Error",f),t()}}};rM();function rl(e){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rl(e)}function mR(e,t){if(rl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yR(e){var t=mR(e,"string");return rl(t)=="symbol"?t:t+""}function Ps(e,t,r){return(t=yR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let Uv=function(e){return e[e.INVALID_REQUEST=-32600]="INVALID_REQUEST",e[e.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",e[e.INVALID_PARAMS=-32602]="INVALID_PARAMS",e[e.INTERNAL_ERROR=-32603]="INTERNAL_ERROR",e[e.PARSE_ERROR=-32700]="PARSE_ERROR",e}({});class $v extends Error{constructor(t,r,n){super(r),this.code=t,this.message=r,this.data=n}}var c1=function(e){return e.HELLO="rpc_hello",e}(c1||{});class vR{constructor(t){let{notifications:r}=t;Ps(this,"id",0),Ps(this,"setSend",()=>{}),Ps(this,"_send",new Promise(n=>{this.setSend=n})),Ps(this,"peerInfo",new Promise((n,i)=>{this.resolvePeerInfo=n,this.rejectPeerInfo=i})),Ps(this,"enabledNotifications",[]),Ps(this,"requestHandlers",{}),Ps(this,"subscriptions",{}),Ps(this,"messageListeners",[]),this.enabledNotifications=r||[],this.on(c1.HELLO,n=>(this.resolvePeerInfo(n),this.ownInfo()))}connect(t){let{send:r}=t;this.setSend(r),this.requestWithoutConnection(c1.HELLO,this.ownInfo()).then(n=>{this.resolvePeerInfo(n)}).catch(this.rejectPeerInfo)}ownInfo(){return{requests:Object.keys(this.requestHandlers),notifications:this.enabledNotifications}}async send(t){return(await this._send)(t)}receive(t){(t==null?void 0:t.jsonrpc)==="2.0"&&("method"in t&&("id"in t?this.handleRequest(t):this.handleNotification(t)),this.messageListeners.forEach(r=>r(t)))}async handleRequest(t){const r=this.requestHandlers[t.method];if(r)try{const n=await r(t.params);this.send({jsonrpc:"2.0",id:t.id,result:n})}catch(n){n instanceof $v?this.send({jsonrpc:"2.0",id:t.id,error:{code:n.code,message:n.message,data:n.data}}):this.send({jsonrpc:"2.0",id:t.id,error:{code:Uv.INTERNAL_ERROR,message:n==null?void 0:n.message}})}else this.send({jsonrpc:"2.0",id:t.id,error:{code:Uv.METHOD_NOT_FOUND,message:`Method not found: ${t.method}`}})}handleNotification(t){this.subscriptions[t.method]&&this.subscriptions[t.method].forEach(r=>r(t.params))}onMessage(t){return this.messageListeners.push(t),()=>{this.messageListeners=this.messageListeners.filter(r=>r!==t)}}async notify(t,r){await this.onceConnected(),this.send({jsonrpc:"2.0",method:t,params:r})}async request(t,r){return await this.onceConnected(),this.requestWithoutConnection(t,r)}async requestWithoutConnection(t,r){const n=this.id++;let i=()=>{};const s=new Promise((o,a)=>{i=this.onMessage(u=>{if(u.id===n&&("result"in u||"error"in u)){if(u.error){const c=new $v(u.error.code,u.error.message,u.error.data);a(c)}o(u.result)}})}).finally(i);return this.send({jsonrpc:"2.0",method:t,params:r,id:n}),s}on(t,r){this.requestHandlers[t]=r}subscribe(t,r){this.subscriptions[t]=this.subscriptions[t]||new Set,this.subscriptions[t].add(r)}unsubscribe(t,r){var n;(n=this.subscriptions[t])==null||n.delete(r)}async onceConnected(){return this.peerInfo.then(()=>{})}async getAvailableRequests(){return this.peerInfo.then(t=>t.requests)}async getAvailableNotifications(){return this.peerInfo.then(t=>t.notifications)}}const bR="modulepreload",wR=function(e){return"/"+e},zv={},ER=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(u=>{if(u=wR(u),u in zv)return;zv[u]=!0;const c=u.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":bR,c||(h.as="script"),h.crossOrigin="",h.href=u,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((y,v)=>{h.addEventListener("load",y),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};var ye={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var l1=function(e,t){return l1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},l1(e,t)};function _R(e,t){l1(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var f1=function(){return f1=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},f1.apply(this,arguments)};function SR(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function AR(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function IR(e,t){return function(r,n){t(r,n,e)}}function xR(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function MR(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{c(n.next(f))}catch(h){o(h)}}function u(f){try{c(n.throw(f))}catch(h){o(h)}}function c(f){f.done?s(f.value):i(f.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function RR(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(f){return u([c,f])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(f){c=[6,f],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function CR(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function DR(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function d1(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function o4(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function TR(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o4(arguments[t]));return e}function NR(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function nl(e){return this instanceof nl?(this.v=e,this):new nl(e)}function PR(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(y){n[y]&&(i[y]=function(v){return new Promise(function(w,C){s.push([y,v,w,C])>1||a(y,v)})})}function a(y,v){try{u(n[y](v))}catch(w){h(s[0][3],w)}}function u(y){y.value instanceof nl?Promise.resolve(y.value.v).then(c,f):h(s[0][2],y)}function c(y){a("next",y)}function f(y){a("throw",y)}function h(y,v){y(v),s.shift(),s.length&&a(s[0][0],s[0][1])}}function OR(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:nl(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function kR(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof d1=="function"?d1(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function FR(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function BR(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function LR(e){return e&&e.__esModule?e:{default:e}}function UR(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function $R(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const zR=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return f1},__asyncDelegator:OR,__asyncGenerator:PR,__asyncValues:kR,__await:nl,__awaiter:MR,__classPrivateFieldGet:UR,__classPrivateFieldSet:$R,__createBinding:CR,__decorate:AR,__exportStar:DR,__extends:_R,__generator:RR,__importDefault:LR,__importStar:BR,__makeTemplateObject:FR,__metadata:xR,__param:IR,__read:o4,__rest:SR,__spread:TR,__spreadArrays:NR,__values:d1},Symbol.toStringTag,{value:"Module"})),vl=s3(zR);var y0={},Qu={},qv;function qR(){if(qv)return Qu;qv=1,Object.defineProperty(Qu,"__esModule",{value:!0}),Qu.delay=void 0;function e(t){return new Promise(r=>{setTimeout(()=>{r(!0)},t)})}return Qu.delay=e,Qu}var vo={},v0={},bo={},jv;function jR(){return jv||(jv=1,Object.defineProperty(bo,"__esModule",{value:!0}),bo.ONE_THOUSAND=bo.ONE_HUNDRED=void 0,bo.ONE_HUNDRED=100,bo.ONE_THOUSAND=1e3),bo}var b0={},Hv;function HR(){return Hv||(Hv=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_YEAR=e.FOUR_WEEKS=e.THREE_WEEKS=e.TWO_WEEKS=e.ONE_WEEK=e.THIRTY_DAYS=e.SEVEN_DAYS=e.FIVE_DAYS=e.THREE_DAYS=e.ONE_DAY=e.TWENTY_FOUR_HOURS=e.TWELVE_HOURS=e.SIX_HOURS=e.THREE_HOURS=e.ONE_HOUR=e.SIXTY_MINUTES=e.THIRTY_MINUTES=e.TEN_MINUTES=e.FIVE_MINUTES=e.ONE_MINUTE=e.SIXTY_SECONDS=e.THIRTY_SECONDS=e.TEN_SECONDS=e.FIVE_SECONDS=e.ONE_SECOND=void 0,e.ONE_SECOND=1,e.FIVE_SECONDS=5,e.TEN_SECONDS=10,e.THIRTY_SECONDS=30,e.SIXTY_SECONDS=60,e.ONE_MINUTE=e.SIXTY_SECONDS,e.FIVE_MINUTES=e.ONE_MINUTE*5,e.TEN_MINUTES=e.ONE_MINUTE*10,e.THIRTY_MINUTES=e.ONE_MINUTE*30,e.SIXTY_MINUTES=e.ONE_MINUTE*60,e.ONE_HOUR=e.SIXTY_MINUTES,e.THREE_HOURS=e.ONE_HOUR*3,e.SIX_HOURS=e.ONE_HOUR*6,e.TWELVE_HOURS=e.ONE_HOUR*12,e.TWENTY_FOUR_HOURS=e.ONE_HOUR*24,e.ONE_DAY=e.TWENTY_FOUR_HOURS,e.THREE_DAYS=e.ONE_DAY*3,e.FIVE_DAYS=e.ONE_DAY*5,e.SEVEN_DAYS=e.ONE_DAY*7,e.THIRTY_DAYS=e.ONE_DAY*30,e.ONE_WEEK=e.SEVEN_DAYS,e.TWO_WEEKS=e.ONE_WEEK*2,e.THREE_WEEKS=e.ONE_WEEK*3,e.FOUR_WEEKS=e.ONE_WEEK*4,e.ONE_YEAR=e.ONE_DAY*365}(b0)),b0}var Kv;function a4(){return Kv||(Kv=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=vl;t.__exportStar(jR(),e),t.__exportStar(HR(),e)}(v0)),v0}var Gv;function KR(){if(Gv)return vo;Gv=1,Object.defineProperty(vo,"__esModule",{value:!0}),vo.fromMiliseconds=vo.toMiliseconds=void 0;const e=a4();function t(n){return n*e.ONE_THOUSAND}vo.toMiliseconds=t;function r(n){return Math.floor(n/e.ONE_THOUSAND)}return vo.fromMiliseconds=r,vo}var Vv;function GR(){return Vv||(Vv=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=vl;t.__exportStar(qR(),e),t.__exportStar(KR(),e)}(y0)),y0}var wa={},Wv;function VR(){if(Wv)return wa;Wv=1,Object.defineProperty(wa,"__esModule",{value:!0}),wa.Watch=void 0;class e{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const i=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:i})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return wa.Watch=e,wa.default=e,wa}var w0={},Ju={},Yv;function WR(){if(Yv)return Ju;Yv=1,Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.IWatch=void 0;class e{}return Ju.IWatch=e,Ju}var Qv;function YR(){return Qv||(Qv=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),vl.__exportStar(WR(),e)}(w0)),w0}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=vl;t.__exportStar(GR(),e),t.__exportStar(VR(),e),t.__exportStar(YR(),e),t.__exportStar(a4(),e)})(ye);class oa{}let QR=class extends oa{constructor(t){super()}};const Jv=ye.FIVE_SECONDS,_u={pulse:"heartbeat_pulse"};let JR=class u4 extends QR{constructor(t){super(t),this.events=new xn.EventEmitter,this.interval=Jv,this.interval=(t==null?void 0:t.interval)||Jv}static async init(t){const r=new u4(t);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),ye.toMiliseconds(this.interval))}pulse(){this.events.emit(_u.pulse)}};const XR=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,ZR=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,eC=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function tC(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){rC(e);return}return t}function rC(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function sf(e,t={}){if(typeof e!="string")return e;const r=e.trim();if(e[0]==='"'&&e.endsWith('"')&&!e.includes("\\"))return r.slice(1,-1);if(r.length<=9){const n=r.toLowerCase();if(n==="true")return!0;if(n==="false")return!1;if(n==="undefined")return;if(n==="null")return null;if(n==="nan")return Number.NaN;if(n==="infinity")return Number.POSITIVE_INFINITY;if(n==="-infinity")return Number.NEGATIVE_INFINITY}if(!eC.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(XR.test(e)||ZR.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,tC)}return JSON.parse(e)}catch(n){if(t.strict)throw n;return e}}function nC(e){return!e||typeof e.then!="function"?Promise.resolve(e):e}function or(e,...t){try{return nC(e(...t))}catch(r){return Promise.reject(r)}}function iC(e){const t=typeof e;return e===null||t!=="object"&&t!=="function"}function sC(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}function Pf(e){if(iC(e))return String(e);if(sC(e)||Array.isArray(e))return JSON.stringify(e);if(typeof e.toJSON=="function")return Pf(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function c4(){if(typeof Buffer>"u")throw new TypeError("[unstorage] Buffer is not supported!")}const h1="base64:";function oC(e){if(typeof e=="string")return e;c4();const t=Buffer.from(e).toString("base64");return h1+t}function aC(e){return typeof e!="string"||!e.startsWith(h1)?e:(c4(),Buffer.from(e.slice(h1.length),"base64"))}function Yr(e){return e?e.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function uC(...e){return Yr(e.join(":"))}function of(e){return e=Yr(e),e?e+":":""}const cC="memory",lC=()=>{const e=new Map;return{name:cC,getInstance:()=>e,hasItem(t){return e.has(t)},getItem(t){return e.get(t)??null},getItemRaw(t){return e.get(t)??null},setItem(t,r){e.set(t,r)},setItemRaw(t,r){e.set(t,r)},removeItem(t){e.delete(t)},getKeys(){return[...e.keys()]},clear(){e.clear()},dispose(){e.clear()}}};function fC(e={}){const t={mounts:{"":e.driver||lC()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=c=>{for(const f of t.mountpoints)if(c.startsWith(f))return{base:f,relativeKey:c.slice(f.length),driver:t.mounts[f]};return{base:"",relativeKey:c,driver:t.mounts[""]}},n=(c,f)=>t.mountpoints.filter(h=>h.startsWith(c)||f&&c.startsWith(h)).map(h=>({relativeBase:c.length>h.length?c.slice(h.length):void 0,mountpoint:h,driver:t.mounts[h]})),i=(c,f)=>{if(t.watching){f=Yr(f);for(const h of t.watchListeners)h(c,f)}},s=async()=>{if(!t.watching){t.watching=!0;for(const c in t.mounts)t.unwatch[c]=await Xv(t.mounts[c],i,c)}},o=async()=>{if(t.watching){for(const c in t.unwatch)await t.unwatch[c]();t.unwatch={},t.watching=!1}},a=(c,f,h)=>{const y=new Map,v=w=>{let C=y.get(w.base);return C||(C={driver:w.driver,base:w.base,items:[]},y.set(w.base,C)),C};for(const w of c){const C=typeof w=="string",N=Yr(C?w:w.key),T=C?void 0:w.value,x=C||!w.options?f:{...f,...w.options},O=r(N);v(O).items.push({key:N,value:T,relativeKey:O.relativeKey,options:x})}return Promise.all([...y.values()].map(w=>h(w))).then(w=>w.flat())},u={hasItem(c,f={}){c=Yr(c);const{relativeKey:h,driver:y}=r(c);return or(y.hasItem,h,f)},getItem(c,f={}){c=Yr(c);const{relativeKey:h,driver:y}=r(c);return or(y.getItem,h,f).then(v=>sf(v))},getItems(c,f){return a(c,f,h=>h.driver.getItems?or(h.driver.getItems,h.items.map(y=>({key:y.relativeKey,options:y.options})),f).then(y=>y.map(v=>({key:uC(h.base,v.key),value:sf(v.value)}))):Promise.all(h.items.map(y=>or(h.driver.getItem,y.relativeKey,y.options).then(v=>({key:y.key,value:sf(v)})))))},getItemRaw(c,f={}){c=Yr(c);const{relativeKey:h,driver:y}=r(c);return y.getItemRaw?or(y.getItemRaw,h,f):or(y.getItem,h,f).then(v=>aC(v))},async setItem(c,f,h={}){if(f===void 0)return u.removeItem(c);c=Yr(c);const{relativeKey:y,driver:v}=r(c);v.setItem&&(await or(v.setItem,y,Pf(f),h),v.watch||i("update",c))},async setItems(c,f){await a(c,f,async h=>{if(h.driver.setItems)return or(h.driver.setItems,h.items.map(y=>({key:y.relativeKey,value:Pf(y.value),options:y.options})),f);h.driver.setItem&&await Promise.all(h.items.map(y=>or(h.driver.setItem,y.relativeKey,Pf(y.value),y.options)))})},async setItemRaw(c,f,h={}){if(f===void 0)return u.removeItem(c,h);c=Yr(c);const{relativeKey:y,driver:v}=r(c);if(v.setItemRaw)await or(v.setItemRaw,y,f,h);else if(v.setItem)await or(v.setItem,y,oC(f),h);else return;v.watch||i("update",c)},async removeItem(c,f={}){typeof f=="boolean"&&(f={removeMeta:f}),c=Yr(c);const{relativeKey:h,driver:y}=r(c);y.removeItem&&(await or(y.removeItem,h,f),(f.removeMeta||f.removeMata)&&await or(y.removeItem,h+"$",f),y.watch||i("remove",c))},async getMeta(c,f={}){typeof f=="boolean"&&(f={nativeOnly:f}),c=Yr(c);const{relativeKey:h,driver:y}=r(c),v=Object.create(null);if(y.getMeta&&Object.assign(v,await or(y.getMeta,h,f)),!f.nativeOnly){const w=await or(y.getItem,h+"$",f).then(C=>sf(C));w&&typeof w=="object"&&(typeof w.atime=="string"&&(w.atime=new Date(w.atime)),typeof w.mtime=="string"&&(w.mtime=new Date(w.mtime)),Object.assign(v,w))}return v},setMeta(c,f,h={}){return this.setItem(c+"$",f,h)},removeMeta(c,f={}){return this.removeItem(c+"$",f)},async getKeys(c,f={}){c=of(c);const h=n(c,!0);let y=[];const v=[];for(const w of h){const C=await or(w.driver.getKeys,w.relativeBase,f);for(const N of C){const T=w.mountpoint+Yr(N);y.some(x=>T.startsWith(x))||v.push(T)}y=[w.mountpoint,...y.filter(N=>!N.startsWith(w.mountpoint))]}return c?v.filter(w=>w.startsWith(c)&&w[w.length-1]!=="$"):v.filter(w=>w[w.length-1]!=="$")},async clear(c,f={}){c=of(c),await Promise.all(n(c,!1).map(async h=>{if(h.driver.clear)return or(h.driver.clear,h.relativeBase,f);if(h.driver.removeItem){const y=await h.driver.getKeys(h.relativeBase||"",f);return Promise.all(y.map(v=>h.driver.removeItem(v,f)))}}))},async dispose(){await Promise.all(Object.values(t.mounts).map(c=>Zv(c)))},async watch(c){return await s(),t.watchListeners.push(c),async()=>{t.watchListeners=t.watchListeners.filter(f=>f!==c),t.watchListeners.length===0&&await o()}},async unwatch(){t.watchListeners=[],await o()},mount(c,f){if(c=of(c),c&&t.mounts[c])throw new Error(`already mounted at ${c}`);return c&&(t.mountpoints.push(c),t.mountpoints.sort((h,y)=>y.length-h.length)),t.mounts[c]=f,t.watching&&Promise.resolve(Xv(f,i,c)).then(h=>{t.unwatch[c]=h}).catch(console.error),u},async unmount(c,f=!0){c=of(c),!(!c||!t.mounts[c])&&(t.watching&&c in t.unwatch&&(t.unwatch[c](),delete t.unwatch[c]),f&&await Zv(t.mounts[c]),t.mountpoints=t.mountpoints.filter(h=>h!==c),delete t.mounts[c])},getMount(c=""){c=Yr(c)+":";const f=r(c);return{driver:f.driver,base:f.base}},getMounts(c="",f={}){return c=Yr(c),n(c,f.parents).map(y=>({driver:y.driver,base:y.mountpoint}))},keys:(c,f={})=>u.getKeys(c,f),get:(c,f={})=>u.getItem(c,f),set:(c,f,h={})=>u.setItem(c,f,h),has:(c,f={})=>u.hasItem(c,f),del:(c,f={})=>u.removeItem(c,f),remove:(c,f={})=>u.removeItem(c,f)};return u}function Xv(e,t,r){return e.watch?e.watch((n,i)=>t(n,r+i)):()=>{}}async function Zv(e){typeof e.dispose=="function"&&await or(e.dispose)}function aa(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function l4(e,t){const r=indexedDB.open(e);r.onupgradeneeded=()=>r.result.createObjectStore(t);const n=aa(r);return(i,s)=>n.then(o=>s(o.transaction(t,i).objectStore(t)))}let E0;function bl(){return E0||(E0=l4("keyval-store","keyval")),E0}function e2(e,t=bl()){return t("readonly",r=>aa(r.get(e)))}function dC(e,t,r=bl()){return r("readwrite",n=>(n.put(t,e),aa(n.transaction)))}function hC(e,t=bl()){return t("readwrite",r=>(r.delete(e),aa(r.transaction)))}function pC(e=bl()){return e("readwrite",t=>(t.clear(),aa(t.transaction)))}function gC(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},aa(e.transaction)}function mC(e=bl()){return e("readonly",t=>{if(t.getAllKeys)return aa(t.getAllKeys());const r=[];return gC(t,n=>r.push(n.key)).then(()=>r)})}const yC=e=>JSON.stringify(e,(t,r)=>typeof r=="bigint"?r.toString()+"n":r),vC=e=>{const t=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=e.replace(t,'$1"$2n"$3');return JSON.parse(r,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function uu(e){if(typeof e!="string")throw new Error(`Cannot safe json parse value of type ${typeof e}`);try{return vC(e)}catch{return e}}function Jo(e){return typeof e=="string"?e:yC(e)||""}const bC="idb-keyval";var wC=(e={})=>{const t=e.base&&e.base.length>0?`${e.base}:`:"",r=i=>t+i;let n;return e.dbName&&e.storeName&&(n=l4(e.dbName,e.storeName)),{name:bC,options:e,async hasItem(i){return!(typeof await e2(r(i),n)>"u")},async getItem(i){return await e2(r(i),n)??null},setItem(i,s){return dC(r(i),s,n)},removeItem(i){return hC(r(i),n)},getKeys(){return mC(n)},clear(){return pC(n)}}};const EC="WALLET_CONNECT_V2_INDEXED_DB",_C="keyvaluestorage";let SC=class{constructor(){this.indexedDb=fC({driver:wC({dbName:EC,storeName:_C})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(t=>[t.key,t.value])}async getItem(t){const r=await this.indexedDb.getItem(t);if(r!==null)return r}async setItem(t,r){await this.indexedDb.setItem(t,Jo(r))}async removeItem(t){await this.indexedDb.removeItem(t)}};var _0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Of={exports:{}};(function(){let e;function t(){}e=t,e.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},e.prototype.setItem=function(r,n){this[r]=String(n)},e.prototype.removeItem=function(r){delete this[r]},e.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},e.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof _0<"u"&&_0.localStorage?Of.exports=_0.localStorage:typeof window<"u"&&window.localStorage?Of.exports=window.localStorage:Of.exports=new t})();function AC(e){var t;return[e[0],uu((t=e[1])!=null?t:"")]}let IC=class{constructor(){this.localStorage=Of.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(AC)}async getItem(t){const r=this.localStorage.getItem(t);if(r!==null)return uu(r)}async setItem(t,r){this.localStorage.setItem(t,Jo(r))}async removeItem(t){this.localStorage.removeItem(t)}};const xC="wc_storage_version",t2=1,MC=async(e,t,r)=>{const n=xC,i=await t.getItem(n);if(i&&i>=t2){r(t);return}const s=await e.getKeys();if(!s.length){r(t);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const u=a.toLowerCase();if(u.includes("wc@")||u.includes("walletconnect")||u.includes("wc_")||u.includes("wallet_connect")){const c=await e.getItem(a);await t.setItem(a,c),o.push(a)}}await t.setItem(n,t2),r(t),RC(e,o)},RC=async(e,t)=>{t.length&&t.forEach(async r=>{await e.removeItem(r)})};let CC=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const t=new IC;this.storage=t;try{const r=new SC;MC(t,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,r){return await this.initialize(),this.storage.setItem(t,r)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise(t=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),t())},20)})}};function DC(e){try{return JSON.stringify(e)}catch{return'"[Circular]"'}}var TC=NC;function NC(e,t,r){var n=r&&r.stringify||DC,i=1;if(typeof e=="object"&&e!==null){var s=t.length+i;if(s===1)return e;var o=new Array(s);o[0]=n(e);for(var a=1;a<s;a++)o[a]=n(t[a]);return o.join(" ")}if(typeof e!="string")return e;var u=t.length;if(u===0)return e;for(var c="",f=1-i,h=-1,y=e&&e.length||0,v=0;v<y;){if(e.charCodeAt(v)===37&&v+1<y){switch(h=h>-1?h:0,e.charCodeAt(v+1)){case 100:case 102:if(f>=u||t[f]==null)break;h<v&&(c+=e.slice(h,v)),c+=Number(t[f]),h=v+2,v++;break;case 105:if(f>=u||t[f]==null)break;h<v&&(c+=e.slice(h,v)),c+=Math.floor(Number(t[f])),h=v+2,v++;break;case 79:case 111:case 106:if(f>=u||t[f]===void 0)break;h<v&&(c+=e.slice(h,v));var w=typeof t[f];if(w==="string"){c+="'"+t[f]+"'",h=v+2,v++;break}if(w==="function"){c+=t[f].name||"<anonymous>",h=v+2,v++;break}c+=n(t[f]),h=v+2,v++;break;case 115:if(f>=u)break;h<v&&(c+=e.slice(h,v)),c+=String(t[f]),h=v+2,v++;break;case 37:h<v&&(c+=e.slice(h,v)),c+="%",h=v+2,v++,f--;break}++f}++v}return h===-1?e:(h<y&&(c+=e.slice(h)),c)}const r2=TC;var Ia=Ni;const il=qC().console||{},PC={mapHttpRequest:af,mapHttpResponse:af,wrapRequestSerializer:S0,wrapResponseSerializer:S0,wrapErrorSerializer:S0,req:af,res:af,err:LC};function OC(e,t){return Array.isArray(e)?e.filter(function(n){return n!=="!stdSerializers.err"}):e===!0?Object.keys(t):!1}function Ni(e){e=e||{},e.browser=e.browser||{};const t=e.browser.transmit;if(t&&typeof t.send!="function")throw Error("pino: transmit option must have a send function");const r=e.browser.write||il;e.browser.write&&(e.browser.asObject=!0);const n=e.serializers||{},i=OC(e.browser.serialize,n);let s=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const o=["error","fatal","warn","info","debug","trace"];typeof r=="function"&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),e.enabled===!1&&(e.level="silent");const a=e.level||"info",u=Object.create(r);u.log||(u.log=sl),Object.defineProperty(u,"levelVal",{get:f}),Object.defineProperty(u,"level",{get:h,set:y});const c={transmit:t,serialize:i,asObject:e.browser.asObject,levels:o,timestamp:UC(e)};u.levels=Ni.levels,u.level=a,u.setMaxListeners=u.getMaxListeners=u.emit=u.addListener=u.on=u.prependListener=u.once=u.prependOnceListener=u.removeListener=u.removeAllListeners=u.listeners=u.listenerCount=u.eventNames=u.write=u.flush=sl,u.serializers=n,u._serialize=i,u._stdErrSerialize=s,u.child=v,t&&(u._logEvent=p1());function f(){return this.level==="silent"?1/0:this.levels.values[this.level]}function h(){return this._level}function y(w){if(w!=="silent"&&!this.levels.values[w])throw Error("unknown level "+w);this._level=w,Ea(c,u,"error","log"),Ea(c,u,"fatal","error"),Ea(c,u,"warn","error"),Ea(c,u,"info","log"),Ea(c,u,"debug","log"),Ea(c,u,"trace","log")}function v(w,C){if(!w)throw new Error("missing bindings for child Pino");C=C||{},i&&w.serializers&&(C.serializers=w.serializers);const N=C.serializers;if(i&&N){var T=Object.assign({},n,N),x=e.browser.serialize===!0?Object.keys(T):i;delete w.serializers,ch([w],x,T,this._stdErrSerialize)}function O(k){this._childLevel=(k._childLevel|0)+1,this.error=_a(k,w,"error"),this.fatal=_a(k,w,"fatal"),this.warn=_a(k,w,"warn"),this.info=_a(k,w,"info"),this.debug=_a(k,w,"debug"),this.trace=_a(k,w,"trace"),T&&(this.serializers=T,this._serialize=x),t&&(this._logEvent=p1([].concat(k._logEvent.bindings,w)))}return O.prototype=this,new O(this)}return u}Ni.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};Ni.stdSerializers=PC;Ni.stdTimeFunctions=Object.assign({},{nullTime:f4,epochTime:d4,unixTime:$C,isoTime:zC});function Ea(e,t,r,n){const i=Object.getPrototypeOf(t);t[r]=t.levelVal>t.levels.values[r]?sl:i[r]?i[r]:il[r]||il[n]||sl,kC(e,t,r)}function kC(e,t,r){!e.transmit&&t[r]===sl||(t[r]=function(n){return function(){const s=e.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===il?il:this;for(var u=0;u<o.length;u++)o[u]=arguments[u];if(e.serialize&&!e.asObject&&ch(o,this._serialize,this.serializers,this._stdErrSerialize),e.asObject?n.call(a,FC(this,r,o,s)):n.apply(a,o),e.transmit){const c=e.transmit.level||t.level,f=Ni.levels.values[c],h=Ni.levels.values[r];if(h<f)return;BC(this,{ts:s,methodLevel:r,methodValue:h,transmitLevel:c,transmitValue:Ni.levels.values[e.transmit.level||t.level],send:e.transmit.send,val:t.levelVal},o)}}}(t[r]))}function FC(e,t,r,n){e._serialize&&ch(r,e._serialize,e.serializers,e._stdErrSerialize);const i=r.slice();let s=i[0];const o={};n&&(o.time=n),o.level=Ni.levels.values[t];let a=(e._childLevel|0)+1;if(a<1&&(a=1),s!==null&&typeof s=="object"){for(;a--&&typeof i[0]=="object";)Object.assign(o,i.shift());s=i.length?r2(i.shift(),i):void 0}else typeof s=="string"&&(s=r2(i.shift(),i));return s!==void 0&&(o.msg=s),o}function ch(e,t,r,n){for(const i in e)if(n&&e[i]instanceof Error)e[i]=Ni.stdSerializers.err(e[i]);else if(typeof e[i]=="object"&&!Array.isArray(e[i]))for(const s in e[i])t&&t.indexOf(s)>-1&&s in r&&(e[i][s]=r[s](e[i][s]))}function _a(e,t,r){return function(){const n=new Array(1+arguments.length);n[0]=t;for(var i=1;i<n.length;i++)n[i]=arguments[i-1];return e[r].apply(this,n)}}function BC(e,t,r){const n=t.send,i=t.ts,s=t.methodLevel,o=t.methodValue,a=t.val,u=e._logEvent.bindings;ch(r,e._serialize||Object.keys(e.serializers),e.serializers,e._stdErrSerialize===void 0?!0:e._stdErrSerialize),e._logEvent.ts=i,e._logEvent.messages=r.filter(function(c){return u.indexOf(c)===-1}),e._logEvent.level.label=s,e._logEvent.level.value=o,n(s,e._logEvent,a),e._logEvent=p1(u)}function p1(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function LC(e){const t={type:e.constructor.name,msg:e.message,stack:e.stack};for(const r in e)t[r]===void 0&&(t[r]=e[r]);return t}function UC(e){return typeof e.timestamp=="function"?e.timestamp:e.timestamp===!1?f4:d4}function af(){return{}}function S0(e){return e}function sl(){}function f4(){return!1}function d4(){return Date.now()}function $C(){return Math.round(Date.now()/1e3)}function zC(){return new Date(Date.now()).toISOString()}function qC(){function e(t){return typeof t<"u"&&t}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return e(self)||e(window)||e(this)||{}}}const lh=Od(Ia),jC={level:"info"},wl="custom_context",rm=1e3*1024;let HC=class{constructor(t){this.nodeValue=t,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},n2=class{constructor(t){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=t,this.sizeInBytes=0}append(t){const r=new HC(t);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${t} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const t=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=t.size}toArray(){const t=[];let r=this.head;for(;r!==null;)t.push(r.value),r=r.next;return t}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let t=this.head;return{next:()=>{if(!t)return{done:!0,value:null};const r=t.value;return t=t.next,{done:!1,value:r}}}}};class h4{constructor(t,r=rm){this.level=t??"error",this.levelValue=Ia.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new n2(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(t,r){r===Ia.levels.values.error?console.error(t):r===Ia.levels.values.warn?console.warn(t):r===Ia.levels.values.debug?console.debug(t):r===Ia.levels.values.trace?console.trace(t):console.log(t)}appendToLogs(t){this.logs.append(Jo({timestamp:new Date().toISOString(),log:t}));const r=typeof t=="string"?JSON.parse(t).level:t.level;r>=this.levelValue&&this.forwardToConsole(t,r)}getLogs(){return this.logs}clearLogs(){this.logs=new n2(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(t){const r=this.getLogArray();return r.push(Jo({extraMetadata:t})),new Blob(r,{type:"application/json"})}}class KC{constructor(t,r=rm){this.baseChunkLogger=new h4(t,r)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}downloadLogsBlobInBrowser(t){const r=URL.createObjectURL(this.logsToBlob(t)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}}class GC{constructor(t,r=rm){this.baseChunkLogger=new h4(t,r)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}}var VC=Object.defineProperty,WC=Object.defineProperties,YC=Object.getOwnPropertyDescriptors,i2=Object.getOwnPropertySymbols,QC=Object.prototype.hasOwnProperty,JC=Object.prototype.propertyIsEnumerable,s2=(e,t,r)=>t in e?VC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,gd=(e,t)=>{for(var r in t||(t={}))QC.call(t,r)&&s2(e,r,t[r]);if(i2)for(var r of i2(t))JC.call(t,r)&&s2(e,r,t[r]);return e},md=(e,t)=>WC(e,YC(t));function nm(e){return md(gd({},e),{level:(e==null?void 0:e.level)||jC.level})}function XC(e,t=wl){return e[t]||""}function ZC(e,t,r=wl){return e[r]=t,e}function fn(e,t=wl){let r="";return typeof e.bindings>"u"?r=XC(e,t):r=e.bindings().context||"",r}function eD(e,t,r=wl){const n=fn(e,r);return n.trim()?`${n}/${t}`:t}function zr(e,t,r=wl){const n=eD(e,t,r),i=e.child({context:n});return ZC(i,n,r)}function tD(e){var t,r;const n=new KC((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:lh(md(gd({},e.opts),{level:"trace",browser:md(gd({},(r=e.opts)==null?void 0:r.browser),{write:i=>n.write(i)})})),chunkLoggerController:n}}function rD(e){var t;const r=new GC((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:lh(md(gd({},e.opts),{level:"trace"}),r),chunkLoggerController:r}}function nD(e){return typeof e.loggerOverride<"u"&&typeof e.loggerOverride!="string"?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?tD(e):rD(e)}let iD=class extends oa{constructor(t){super(),this.opts=t,this.protocol="wc",this.version=2}},sD=class extends oa{constructor(t,r){super(),this.core=t,this.logger=r,this.records=new Map}},oD=class{constructor(t,r){this.logger=t,this.core=r}};class aD extends oa{constructor(t,r){super(),this.relayer=t,this.logger=r}}class uD extends oa{constructor(t){super()}}class cD{constructor(t,r,n,i){this.core=t,this.logger=r,this.name=n}}class lD extends oa{constructor(t,r){super(),this.relayer=t,this.logger=r}}let fD=class extends oa{constructor(t,r){super(),this.core=t,this.logger=r}},dD=class{constructor(t,r,n){this.core=t,this.logger=r,this.store=n}},hD=class{constructor(t,r){this.projectId=t,this.logger=r}},pD=class{constructor(t,r,n){this.core=t,this.logger=r,this.telemetryEnabled=n}},gD=class{constructor(t){this.opts=t,this.protocol="wc",this.version=2}},mD=class{constructor(t){this.client=t}};var im={},fo={},fh={},dh={};Object.defineProperty(dh,"__esModule",{value:!0});dh.BrowserRandomSource=void 0;const o2=65536;class yD{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const t=typeof self<"u"?self.crypto||self.msCrypto:null;t&&t.getRandomValues!==void 0&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const r=new Uint8Array(t);for(let n=0;n<r.length;n+=o2)this._crypto.getRandomValues(r.subarray(n,n+Math.min(r.length-n,o2)));return r}}dh.BrowserRandomSource=yD;function vD(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var hh={},Rn={};Object.defineProperty(Rn,"__esModule",{value:!0});function bD(e){for(var t=0;t<e.length;t++)e[t]=0;return e}Rn.wipe=bD;const wD={},ED=Object.freeze(Object.defineProperty({__proto__:null,default:wD},Symbol.toStringTag,{value:"Module"})),sm=s3(ED);Object.defineProperty(hh,"__esModule",{value:!0});hh.NodeRandomSource=void 0;const _D=Rn;class SD{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof vD<"u"){const t=sm;t&&t.randomBytes&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let r=this._crypto.randomBytes(t);if(r.length!==t)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(t);for(let i=0;i<n.length;i++)n[i]=r[i];return(0,_D.wipe)(r),n}}hh.NodeRandomSource=SD;Object.defineProperty(fh,"__esModule",{value:!0});fh.SystemRandomSource=void 0;const AD=dh,ID=hh;class xD{constructor(){if(this.isAvailable=!1,this.name="",this._source=new AD.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new ID.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(t){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(t)}}fh.SystemRandomSource=xD;var Xe={},p4={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(a,u){var c=a>>>16&65535,f=a&65535,h=u>>>16&65535,y=u&65535;return f*y+(c*y+f*h<<16>>>0)|0}e.mul=Math.imul||t;function r(a,u){return a+u|0}e.add=r;function n(a,u){return a-u|0}e.sub=n;function i(a,u){return a<<u|a>>>32-u}e.rotl=i;function s(a,u){return a<<32-u|a>>>u}e.rotr=s;function o(a){return typeof a=="number"&&isFinite(a)&&Math.floor(a)===a}e.isInteger=Number.isInteger||o,e.MAX_SAFE_INTEGER=9007199254740991,e.isSafeInteger=function(a){return e.isInteger(a)&&a>=-e.MAX_SAFE_INTEGER&&a<=e.MAX_SAFE_INTEGER}})(p4);Object.defineProperty(Xe,"__esModule",{value:!0});var g4=p4;function MD(e,t){return t===void 0&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16}Xe.readInt16BE=MD;function RD(e,t){return t===void 0&&(t=0),(e[t+0]<<8|e[t+1])>>>0}Xe.readUint16BE=RD;function CD(e,t){return t===void 0&&(t=0),(e[t+1]<<8|e[t])<<16>>16}Xe.readInt16LE=CD;function DD(e,t){return t===void 0&&(t=0),(e[t+1]<<8|e[t])>>>0}Xe.readUint16LE=DD;function m4(e,t,r){return t===void 0&&(t=new Uint8Array(2)),r===void 0&&(r=0),t[r+0]=e>>>8,t[r+1]=e>>>0,t}Xe.writeUint16BE=m4;Xe.writeInt16BE=m4;function y4(e,t,r){return t===void 0&&(t=new Uint8Array(2)),r===void 0&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t}Xe.writeUint16LE=y4;Xe.writeInt16LE=y4;function g1(e,t){return t===void 0&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}Xe.readInt32BE=g1;function m1(e,t){return t===void 0&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}Xe.readUint32BE=m1;function y1(e,t){return t===void 0&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}Xe.readInt32LE=y1;function v1(e,t){return t===void 0&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}Xe.readUint32LE=v1;function yd(e,t,r){return t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0),t[r+0]=e>>>24,t[r+1]=e>>>16,t[r+2]=e>>>8,t[r+3]=e>>>0,t}Xe.writeUint32BE=yd;Xe.writeInt32BE=yd;function vd(e,t,r){return t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24,t}Xe.writeUint32LE=vd;Xe.writeInt32LE=vd;function TD(e,t){t===void 0&&(t=0);var r=g1(e,t),n=g1(e,t+4);return r*4294967296+n-(n>>31)*4294967296}Xe.readInt64BE=TD;function ND(e,t){t===void 0&&(t=0);var r=m1(e,t),n=m1(e,t+4);return r*4294967296+n}Xe.readUint64BE=ND;function PD(e,t){t===void 0&&(t=0);var r=y1(e,t),n=y1(e,t+4);return n*4294967296+r-(r>>31)*4294967296}Xe.readInt64LE=PD;function OD(e,t){t===void 0&&(t=0);var r=v1(e,t),n=v1(e,t+4);return n*4294967296+r}Xe.readUint64LE=OD;function v4(e,t,r){return t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0),yd(e/4294967296>>>0,t,r),yd(e>>>0,t,r+4),t}Xe.writeUint64BE=v4;Xe.writeInt64BE=v4;function b4(e,t,r){return t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0),vd(e>>>0,t,r),vd(e/4294967296>>>0,t,r+4),t}Xe.writeUint64LE=b4;Xe.writeInt64LE=b4;function kD(e,t,r){if(r===void 0&&(r=0),e%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,s=e/8+r-1;s>=r;s--)n+=t[s]*i,i*=256;return n}Xe.readUintBE=kD;function FD(e,t,r){if(r===void 0&&(r=0),e%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,s=r;s<r+e/8;s++)n+=t[s]*i,i*=256;return n}Xe.readUintLE=FD;function BD(e,t,r,n){if(r===void 0&&(r=new Uint8Array(e/8)),n===void 0&&(n=0),e%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!g4.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var i=1,s=e/8+n-1;s>=n;s--)r[s]=t/i&255,i*=256;return r}Xe.writeUintBE=BD;function LD(e,t,r,n){if(r===void 0&&(r=new Uint8Array(e/8)),n===void 0&&(n=0),e%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!g4.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var i=1,s=n;s<n+e/8;s++)r[s]=t/i&255,i*=256;return r}Xe.writeUintLE=LD;function UD(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat32(t)}Xe.readFloat32BE=UD;function $D(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat32(t,!0)}Xe.readFloat32LE=$D;function zD(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat64(t)}Xe.readFloat64BE=zD;function qD(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat64(t,!0)}Xe.readFloat64LE=qD;function jD(e,t,r){t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.setFloat32(r,e),t}Xe.writeFloat32BE=jD;function HD(e,t,r){t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.setFloat32(r,e,!0),t}Xe.writeFloat32LE=HD;function KD(e,t,r){t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.setFloat64(r,e),t}Xe.writeFloat64BE=KD;function GD(e,t,r){t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.setFloat64(r,e,!0),t}Xe.writeFloat64LE=GD;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.randomStringForEntropy=e.randomString=e.randomUint32=e.randomBytes=e.defaultRandomSource=void 0;const t=fh,r=Xe,n=Rn;e.defaultRandomSource=new t.SystemRandomSource;function i(c,f=e.defaultRandomSource){return f.randomBytes(c)}e.randomBytes=i;function s(c=e.defaultRandomSource){const f=i(4,c),h=(0,r.readUint32LE)(f);return(0,n.wipe)(f),h}e.randomUint32=s;const o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function a(c,f=o,h=e.defaultRandomSource){if(f.length<2)throw new Error("randomString charset is too short");if(f.length>256)throw new Error("randomString charset is too long");let y="";const v=f.length,w=256-256%v;for(;c>0;){const C=i(Math.ceil(c*256/w),h);for(let N=0;N<C.length&&c>0;N++){const T=C[N];T<w&&(y+=f.charAt(T%v),c--)}(0,n.wipe)(C)}return y}e.randomString=a;function u(c,f=o,h=e.defaultRandomSource){const y=Math.ceil(c/(Math.log(f.length)/Math.LN2));return a(y,f,h)}e.randomStringForEntropy=u})(fo);var w4={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Xe,r=Rn;e.DIGEST_LENGTH=64,e.BLOCK_SIZE=128;var n=function(){function a(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return a.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},a.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},a.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._tempHi),r.wipe(this._tempLo),this.reset()},a.prototype.update=function(u,c){if(c===void 0&&(c=u.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var f=0;if(this._bytesHashed+=c,this._bufferLength>0){for(;this._bufferLength<e.BLOCK_SIZE&&c>0;)this._buffer[this._bufferLength++]=u[f++],c--;this._bufferLength===this.blockSize&&(s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(c>=this.blockSize&&(f=s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,u,f,c),c%=this.blockSize);c>0;)this._buffer[this._bufferLength++]=u[f++],c--;return this},a.prototype.finish=function(u){if(!this._finished){var c=this._bytesHashed,f=this._bufferLength,h=c/536870912|0,y=c<<3,v=c%128<112?128:256;this._buffer[f]=128;for(var w=f+1;w<v-8;w++)this._buffer[w]=0;t.writeUint32BE(h,this._buffer,v-8),t.writeUint32BE(y,this._buffer,v-4),s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,v),this._finished=!0}for(var w=0;w<this.digestLength/8;w++)t.writeUint32BE(this._stateHi[w],u,w*8),t.writeUint32BE(this._stateLo[w],u,w*8+4);return this},a.prototype.digest=function(){var u=new Uint8Array(this.digestLength);return this.finish(u),u},a.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},a.prototype.restoreState=function(u){return this._stateHi.set(u.stateHi),this._stateLo.set(u.stateLo),this._bufferLength=u.bufferLength,u.buffer&&this._buffer.set(u.buffer),this._bytesHashed=u.bytesHashed,this._finished=!1,this},a.prototype.cleanSavedState=function(u){r.wipe(u.stateHi),r.wipe(u.stateLo),u.buffer&&r.wipe(u.buffer),u.bufferLength=0,u.bytesHashed=0},a}();e.SHA512=n;var i=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function s(a,u,c,f,h,y,v){for(var w=c[0],C=c[1],N=c[2],T=c[3],x=c[4],O=c[5],k=c[6],L=c[7],$=f[0],E=f[1],U=f[2],Z=f[3],ne=f[4],q=f[5],b=f[6],l=f[7],d,m,A,D,R,I,p,g;v>=128;){for(var B=0;B<16;B++){var Y=8*B+y;a[B]=t.readUint32BE(h,Y),u[B]=t.readUint32BE(h,Y+4)}for(var B=0;B<80;B++){var te=w,P=C,J=N,j=T,K=x,G=O,S=k,H=L,re=$,ie=E,ae=U,pe=Z,de=ne,Oe=q,Le=b,ve=l;if(d=L,m=l,R=m&65535,I=m>>>16,p=d&65535,g=d>>>16,d=(x>>>14|ne<<18)^(x>>>18|ne<<14)^(ne>>>9|x<<23),m=(ne>>>14|x<<18)^(ne>>>18|x<<14)^(x>>>9|ne<<23),R+=m&65535,I+=m>>>16,p+=d&65535,g+=d>>>16,d=x&O^~x&k,m=ne&q^~ne&b,R+=m&65535,I+=m>>>16,p+=d&65535,g+=d>>>16,d=i[B*2],m=i[B*2+1],R+=m&65535,I+=m>>>16,p+=d&65535,g+=d>>>16,d=a[B%16],m=u[B%16],R+=m&65535,I+=m>>>16,p+=d&65535,g+=d>>>16,I+=R>>>16,p+=I>>>16,g+=p>>>16,A=p&65535|g<<16,D=R&65535|I<<16,d=A,m=D,R=m&65535,I=m>>>16,p=d&65535,g=d>>>16,d=(w>>>28|$<<4)^($>>>2|w<<30)^($>>>7|w<<25),m=($>>>28|w<<4)^(w>>>2|$<<30)^(w>>>7|$<<25),R+=m&65535,I+=m>>>16,p+=d&65535,g+=d>>>16,d=w&C^w&N^C&N,m=$&E^$&U^E&U,R+=m&65535,I+=m>>>16,p+=d&65535,g+=d>>>16,I+=R>>>16,p+=I>>>16,g+=p>>>16,H=p&65535|g<<16,ve=R&65535|I<<16,d=j,m=pe,R=m&65535,I=m>>>16,p=d&65535,g=d>>>16,d=A,m=D,R+=m&65535,I+=m>>>16,p+=d&65535,g+=d>>>16,I+=R>>>16,p+=I>>>16,g+=p>>>16,j=p&65535|g<<16,pe=R&65535|I<<16,C=te,N=P,T=J,x=j,O=K,k=G,L=S,w=H,E=re,U=ie,Z=ae,ne=pe,q=de,b=Oe,l=Le,$=ve,B%16===15)for(var Y=0;Y<16;Y++)d=a[Y],m=u[Y],R=m&65535,I=m>>>16,p=d&65535,g=d>>>16,d=a[(Y+9)%16],m=u[(Y+9)%16],R+=m&65535,I+=m>>>16,p+=d&65535,g+=d>>>16,A=a[(Y+1)%16],D=u[(Y+1)%16],d=(A>>>1|D<<31)^(A>>>8|D<<24)^A>>>7,m=(D>>>1|A<<31)^(D>>>8|A<<24)^(D>>>7|A<<25),R+=m&65535,I+=m>>>16,p+=d&65535,g+=d>>>16,A=a[(Y+14)%16],D=u[(Y+14)%16],d=(A>>>19|D<<13)^(D>>>29|A<<3)^A>>>6,m=(D>>>19|A<<13)^(A>>>29|D<<3)^(D>>>6|A<<26),R+=m&65535,I+=m>>>16,p+=d&65535,g+=d>>>16,I+=R>>>16,p+=I>>>16,g+=p>>>16,a[Y]=p&65535|g<<16,u[Y]=R&65535|I<<16}d=w,m=$,R=m&65535,I=m>>>16,p=d&65535,g=d>>>16,d=c[0],m=f[0],R+=m&65535,I+=m>>>16,p+=d&65535,g+=d>>>16,I+=R>>>16,p+=I>>>16,g+=p>>>16,c[0]=w=p&65535|g<<16,f[0]=$=R&65535|I<<16,d=C,m=E,R=m&65535,I=m>>>16,p=d&65535,g=d>>>16,d=c[1],m=f[1],R+=m&65535,I+=m>>>16,p+=d&65535,g+=d>>>16,I+=R>>>16,p+=I>>>16,g+=p>>>16,c[1]=C=p&65535|g<<16,f[1]=E=R&65535|I<<16,d=N,m=U,R=m&65535,I=m>>>16,p=d&65535,g=d>>>16,d=c[2],m=f[2],R+=m&65535,I+=m>>>16,p+=d&65535,g+=d>>>16,I+=R>>>16,p+=I>>>16,g+=p>>>16,c[2]=N=p&65535|g<<16,f[2]=U=R&65535|I<<16,d=T,m=Z,R=m&65535,I=m>>>16,p=d&65535,g=d>>>16,d=c[3],m=f[3],R+=m&65535,I+=m>>>16,p+=d&65535,g+=d>>>16,I+=R>>>16,p+=I>>>16,g+=p>>>16,c[3]=T=p&65535|g<<16,f[3]=Z=R&65535|I<<16,d=x,m=ne,R=m&65535,I=m>>>16,p=d&65535,g=d>>>16,d=c[4],m=f[4],R+=m&65535,I+=m>>>16,p+=d&65535,g+=d>>>16,I+=R>>>16,p+=I>>>16,g+=p>>>16,c[4]=x=p&65535|g<<16,f[4]=ne=R&65535|I<<16,d=O,m=q,R=m&65535,I=m>>>16,p=d&65535,g=d>>>16,d=c[5],m=f[5],R+=m&65535,I+=m>>>16,p+=d&65535,g+=d>>>16,I+=R>>>16,p+=I>>>16,g+=p>>>16,c[5]=O=p&65535|g<<16,f[5]=q=R&65535|I<<16,d=k,m=b,R=m&65535,I=m>>>16,p=d&65535,g=d>>>16,d=c[6],m=f[6],R+=m&65535,I+=m>>>16,p+=d&65535,g+=d>>>16,I+=R>>>16,p+=I>>>16,g+=p>>>16,c[6]=k=p&65535|g<<16,f[6]=b=R&65535|I<<16,d=L,m=l,R=m&65535,I=m>>>16,p=d&65535,g=d>>>16,d=c[7],m=f[7],R+=m&65535,I+=m>>>16,p+=d&65535,g+=d>>>16,I+=R>>>16,p+=I>>>16,g+=p>>>16,c[7]=L=p&65535|g<<16,f[7]=l=R&65535|I<<16,y+=128,v-=128}return y}function o(a){var u=new n;u.update(a);var c=u.digest();return u.clean(),c}e.hash=o})(w4);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.convertSecretKeyToX25519=e.convertPublicKeyToX25519=e.verify=e.sign=e.extractPublicKeyFromSecretKey=e.generateKeyPair=e.generateKeyPairFromSeed=e.SEED_LENGTH=e.SECRET_KEY_LENGTH=e.PUBLIC_KEY_LENGTH=e.SIGNATURE_LENGTH=void 0;const t=fo,r=w4,n=Rn;e.SIGNATURE_LENGTH=64,e.PUBLIC_KEY_LENGTH=32,e.SECRET_KEY_LENGTH=64,e.SEED_LENGTH=32;function i(j){const K=new Float64Array(16);if(j)for(let G=0;G<j.length;G++)K[G]=j[G];return K}const s=new Uint8Array(32);s[0]=9;const o=i(),a=i([1]),u=i([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=i([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=i([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=i([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),y=i([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function v(j,K){for(let G=0;G<16;G++)j[G]=K[G]|0}function w(j){let K=1;for(let G=0;G<16;G++){let S=j[G]+K+65535;K=Math.floor(S/65536),j[G]=S-K*65536}j[0]+=K-1+37*(K-1)}function C(j,K,G){const S=~(G-1);for(let H=0;H<16;H++){const re=S&(j[H]^K[H]);j[H]^=re,K[H]^=re}}function N(j,K){const G=i(),S=i();for(let H=0;H<16;H++)S[H]=K[H];w(S),w(S),w(S);for(let H=0;H<2;H++){G[0]=S[0]-65517;for(let ie=1;ie<15;ie++)G[ie]=S[ie]-65535-(G[ie-1]>>16&1),G[ie-1]&=65535;G[15]=S[15]-32767-(G[14]>>16&1);const re=G[15]>>16&1;G[14]&=65535,C(S,G,1-re)}for(let H=0;H<16;H++)j[2*H]=S[H]&255,j[2*H+1]=S[H]>>8}function T(j,K){let G=0;for(let S=0;S<32;S++)G|=j[S]^K[S];return(1&G-1>>>8)-1}function x(j,K){const G=new Uint8Array(32),S=new Uint8Array(32);return N(G,j),N(S,K),T(G,S)}function O(j){const K=new Uint8Array(32);return N(K,j),K[0]&1}function k(j,K){for(let G=0;G<16;G++)j[G]=K[2*G]+(K[2*G+1]<<8);j[15]&=32767}function L(j,K,G){for(let S=0;S<16;S++)j[S]=K[S]+G[S]}function $(j,K,G){for(let S=0;S<16;S++)j[S]=K[S]-G[S]}function E(j,K,G){let S,H,re=0,ie=0,ae=0,pe=0,de=0,Oe=0,Le=0,ve=0,xe=0,Ee=0,le=0,we=0,_e=0,ce=0,be=0,F=0,_=0,M=0,z=0,W=0,Q=0,ee=0,oe=0,he=0,Ce=0,me=0,De=0,Je=0,ke=0,at=0,ut=0,Se=G[0],Ue=G[1],ze=G[2],Ae=G[3],qe=G[4],$e=G[5],Te=G[6],Ke=G[7],Ge=G[8],Ne=G[9],Ve=G[10],je=G[11],Ie=G[12],Fe=G[13],We=G[14],Pe=G[15];S=K[0],re+=S*Se,ie+=S*Ue,ae+=S*ze,pe+=S*Ae,de+=S*qe,Oe+=S*$e,Le+=S*Te,ve+=S*Ke,xe+=S*Ge,Ee+=S*Ne,le+=S*Ve,we+=S*je,_e+=S*Ie,ce+=S*Fe,be+=S*We,F+=S*Pe,S=K[1],ie+=S*Se,ae+=S*Ue,pe+=S*ze,de+=S*Ae,Oe+=S*qe,Le+=S*$e,ve+=S*Te,xe+=S*Ke,Ee+=S*Ge,le+=S*Ne,we+=S*Ve,_e+=S*je,ce+=S*Ie,be+=S*Fe,F+=S*We,_+=S*Pe,S=K[2],ae+=S*Se,pe+=S*Ue,de+=S*ze,Oe+=S*Ae,Le+=S*qe,ve+=S*$e,xe+=S*Te,Ee+=S*Ke,le+=S*Ge,we+=S*Ne,_e+=S*Ve,ce+=S*je,be+=S*Ie,F+=S*Fe,_+=S*We,M+=S*Pe,S=K[3],pe+=S*Se,de+=S*Ue,Oe+=S*ze,Le+=S*Ae,ve+=S*qe,xe+=S*$e,Ee+=S*Te,le+=S*Ke,we+=S*Ge,_e+=S*Ne,ce+=S*Ve,be+=S*je,F+=S*Ie,_+=S*Fe,M+=S*We,z+=S*Pe,S=K[4],de+=S*Se,Oe+=S*Ue,Le+=S*ze,ve+=S*Ae,xe+=S*qe,Ee+=S*$e,le+=S*Te,we+=S*Ke,_e+=S*Ge,ce+=S*Ne,be+=S*Ve,F+=S*je,_+=S*Ie,M+=S*Fe,z+=S*We,W+=S*Pe,S=K[5],Oe+=S*Se,Le+=S*Ue,ve+=S*ze,xe+=S*Ae,Ee+=S*qe,le+=S*$e,we+=S*Te,_e+=S*Ke,ce+=S*Ge,be+=S*Ne,F+=S*Ve,_+=S*je,M+=S*Ie,z+=S*Fe,W+=S*We,Q+=S*Pe,S=K[6],Le+=S*Se,ve+=S*Ue,xe+=S*ze,Ee+=S*Ae,le+=S*qe,we+=S*$e,_e+=S*Te,ce+=S*Ke,be+=S*Ge,F+=S*Ne,_+=S*Ve,M+=S*je,z+=S*Ie,W+=S*Fe,Q+=S*We,ee+=S*Pe,S=K[7],ve+=S*Se,xe+=S*Ue,Ee+=S*ze,le+=S*Ae,we+=S*qe,_e+=S*$e,ce+=S*Te,be+=S*Ke,F+=S*Ge,_+=S*Ne,M+=S*Ve,z+=S*je,W+=S*Ie,Q+=S*Fe,ee+=S*We,oe+=S*Pe,S=K[8],xe+=S*Se,Ee+=S*Ue,le+=S*ze,we+=S*Ae,_e+=S*qe,ce+=S*$e,be+=S*Te,F+=S*Ke,_+=S*Ge,M+=S*Ne,z+=S*Ve,W+=S*je,Q+=S*Ie,ee+=S*Fe,oe+=S*We,he+=S*Pe,S=K[9],Ee+=S*Se,le+=S*Ue,we+=S*ze,_e+=S*Ae,ce+=S*qe,be+=S*$e,F+=S*Te,_+=S*Ke,M+=S*Ge,z+=S*Ne,W+=S*Ve,Q+=S*je,ee+=S*Ie,oe+=S*Fe,he+=S*We,Ce+=S*Pe,S=K[10],le+=S*Se,we+=S*Ue,_e+=S*ze,ce+=S*Ae,be+=S*qe,F+=S*$e,_+=S*Te,M+=S*Ke,z+=S*Ge,W+=S*Ne,Q+=S*Ve,ee+=S*je,oe+=S*Ie,he+=S*Fe,Ce+=S*We,me+=S*Pe,S=K[11],we+=S*Se,_e+=S*Ue,ce+=S*ze,be+=S*Ae,F+=S*qe,_+=S*$e,M+=S*Te,z+=S*Ke,W+=S*Ge,Q+=S*Ne,ee+=S*Ve,oe+=S*je,he+=S*Ie,Ce+=S*Fe,me+=S*We,De+=S*Pe,S=K[12],_e+=S*Se,ce+=S*Ue,be+=S*ze,F+=S*Ae,_+=S*qe,M+=S*$e,z+=S*Te,W+=S*Ke,Q+=S*Ge,ee+=S*Ne,oe+=S*Ve,he+=S*je,Ce+=S*Ie,me+=S*Fe,De+=S*We,Je+=S*Pe,S=K[13],ce+=S*Se,be+=S*Ue,F+=S*ze,_+=S*Ae,M+=S*qe,z+=S*$e,W+=S*Te,Q+=S*Ke,ee+=S*Ge,oe+=S*Ne,he+=S*Ve,Ce+=S*je,me+=S*Ie,De+=S*Fe,Je+=S*We,ke+=S*Pe,S=K[14],be+=S*Se,F+=S*Ue,_+=S*ze,M+=S*Ae,z+=S*qe,W+=S*$e,Q+=S*Te,ee+=S*Ke,oe+=S*Ge,he+=S*Ne,Ce+=S*Ve,me+=S*je,De+=S*Ie,Je+=S*Fe,ke+=S*We,at+=S*Pe,S=K[15],F+=S*Se,_+=S*Ue,M+=S*ze,z+=S*Ae,W+=S*qe,Q+=S*$e,ee+=S*Te,oe+=S*Ke,he+=S*Ge,Ce+=S*Ne,me+=S*Ve,De+=S*je,Je+=S*Ie,ke+=S*Fe,at+=S*We,ut+=S*Pe,re+=38*_,ie+=38*M,ae+=38*z,pe+=38*W,de+=38*Q,Oe+=38*ee,Le+=38*oe,ve+=38*he,xe+=38*Ce,Ee+=38*me,le+=38*De,we+=38*Je,_e+=38*ke,ce+=38*at,be+=38*ut,H=1,S=re+H+65535,H=Math.floor(S/65536),re=S-H*65536,S=ie+H+65535,H=Math.floor(S/65536),ie=S-H*65536,S=ae+H+65535,H=Math.floor(S/65536),ae=S-H*65536,S=pe+H+65535,H=Math.floor(S/65536),pe=S-H*65536,S=de+H+65535,H=Math.floor(S/65536),de=S-H*65536,S=Oe+H+65535,H=Math.floor(S/65536),Oe=S-H*65536,S=Le+H+65535,H=Math.floor(S/65536),Le=S-H*65536,S=ve+H+65535,H=Math.floor(S/65536),ve=S-H*65536,S=xe+H+65535,H=Math.floor(S/65536),xe=S-H*65536,S=Ee+H+65535,H=Math.floor(S/65536),Ee=S-H*65536,S=le+H+65535,H=Math.floor(S/65536),le=S-H*65536,S=we+H+65535,H=Math.floor(S/65536),we=S-H*65536,S=_e+H+65535,H=Math.floor(S/65536),_e=S-H*65536,S=ce+H+65535,H=Math.floor(S/65536),ce=S-H*65536,S=be+H+65535,H=Math.floor(S/65536),be=S-H*65536,S=F+H+65535,H=Math.floor(S/65536),F=S-H*65536,re+=H-1+37*(H-1),H=1,S=re+H+65535,H=Math.floor(S/65536),re=S-H*65536,S=ie+H+65535,H=Math.floor(S/65536),ie=S-H*65536,S=ae+H+65535,H=Math.floor(S/65536),ae=S-H*65536,S=pe+H+65535,H=Math.floor(S/65536),pe=S-H*65536,S=de+H+65535,H=Math.floor(S/65536),de=S-H*65536,S=Oe+H+65535,H=Math.floor(S/65536),Oe=S-H*65536,S=Le+H+65535,H=Math.floor(S/65536),Le=S-H*65536,S=ve+H+65535,H=Math.floor(S/65536),ve=S-H*65536,S=xe+H+65535,H=Math.floor(S/65536),xe=S-H*65536,S=Ee+H+65535,H=Math.floor(S/65536),Ee=S-H*65536,S=le+H+65535,H=Math.floor(S/65536),le=S-H*65536,S=we+H+65535,H=Math.floor(S/65536),we=S-H*65536,S=_e+H+65535,H=Math.floor(S/65536),_e=S-H*65536,S=ce+H+65535,H=Math.floor(S/65536),ce=S-H*65536,S=be+H+65535,H=Math.floor(S/65536),be=S-H*65536,S=F+H+65535,H=Math.floor(S/65536),F=S-H*65536,re+=H-1+37*(H-1),j[0]=re,j[1]=ie,j[2]=ae,j[3]=pe,j[4]=de,j[5]=Oe,j[6]=Le,j[7]=ve,j[8]=xe,j[9]=Ee,j[10]=le,j[11]=we,j[12]=_e,j[13]=ce,j[14]=be,j[15]=F}function U(j,K){E(j,K,K)}function Z(j,K){const G=i();let S;for(S=0;S<16;S++)G[S]=K[S];for(S=253;S>=0;S--)U(G,G),S!==2&&S!==4&&E(G,G,K);for(S=0;S<16;S++)j[S]=G[S]}function ne(j,K){const G=i();let S;for(S=0;S<16;S++)G[S]=K[S];for(S=250;S>=0;S--)U(G,G),S!==1&&E(G,G,K);for(S=0;S<16;S++)j[S]=G[S]}function q(j,K){const G=i(),S=i(),H=i(),re=i(),ie=i(),ae=i(),pe=i(),de=i(),Oe=i();$(G,j[1],j[0]),$(Oe,K[1],K[0]),E(G,G,Oe),L(S,j[0],j[1]),L(Oe,K[0],K[1]),E(S,S,Oe),E(H,j[3],K[3]),E(H,H,c),E(re,j[2],K[2]),L(re,re,re),$(ie,S,G),$(ae,re,H),L(pe,re,H),L(de,S,G),E(j[0],ie,ae),E(j[1],de,pe),E(j[2],pe,ae),E(j[3],ie,de)}function b(j,K,G){for(let S=0;S<4;S++)C(j[S],K[S],G)}function l(j,K){const G=i(),S=i(),H=i();Z(H,K[2]),E(G,K[0],H),E(S,K[1],H),N(j,S),j[31]^=O(G)<<7}function d(j,K,G){v(j[0],o),v(j[1],a),v(j[2],a),v(j[3],o);for(let S=255;S>=0;--S){const H=G[S/8|0]>>(S&7)&1;b(j,K,H),q(K,j),q(j,j),b(j,K,H)}}function m(j,K){const G=[i(),i(),i(),i()];v(G[0],f),v(G[1],h),v(G[2],a),E(G[3],f,h),d(j,G,K)}function A(j){if(j.length!==e.SEED_LENGTH)throw new Error(`ed25519: seed must be ${e.SEED_LENGTH} bytes`);const K=(0,r.hash)(j);K[0]&=248,K[31]&=127,K[31]|=64;const G=new Uint8Array(32),S=[i(),i(),i(),i()];m(S,K),l(G,S);const H=new Uint8Array(64);return H.set(j),H.set(G,32),{publicKey:G,secretKey:H}}e.generateKeyPairFromSeed=A;function D(j){const K=(0,t.randomBytes)(32,j),G=A(K);return(0,n.wipe)(K),G}e.generateKeyPair=D;function R(j){if(j.length!==e.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${e.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(j.subarray(32))}e.extractPublicKeyFromSecretKey=R;const I=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function p(j,K){let G,S,H,re;for(S=63;S>=32;--S){for(G=0,H=S-32,re=S-12;H<re;++H)K[H]+=G-16*K[S]*I[H-(S-32)],G=Math.floor((K[H]+128)/256),K[H]-=G*256;K[H]+=G,K[S]=0}for(G=0,H=0;H<32;H++)K[H]+=G-(K[31]>>4)*I[H],G=K[H]>>8,K[H]&=255;for(H=0;H<32;H++)K[H]-=G*I[H];for(S=0;S<32;S++)K[S+1]+=K[S]>>8,j[S]=K[S]&255}function g(j){const K=new Float64Array(64);for(let G=0;G<64;G++)K[G]=j[G];for(let G=0;G<64;G++)j[G]=0;p(j,K)}function B(j,K){const G=new Float64Array(64),S=[i(),i(),i(),i()],H=(0,r.hash)(j.subarray(0,32));H[0]&=248,H[31]&=127,H[31]|=64;const re=new Uint8Array(64);re.set(H.subarray(32),32);const ie=new r.SHA512;ie.update(re.subarray(32)),ie.update(K);const ae=ie.digest();ie.clean(),g(ae),m(S,ae),l(re,S),ie.reset(),ie.update(re.subarray(0,32)),ie.update(j.subarray(32)),ie.update(K);const pe=ie.digest();g(pe);for(let de=0;de<32;de++)G[de]=ae[de];for(let de=0;de<32;de++)for(let Oe=0;Oe<32;Oe++)G[de+Oe]+=pe[de]*H[Oe];return p(re.subarray(32),G),re}e.sign=B;function Y(j,K){const G=i(),S=i(),H=i(),re=i(),ie=i(),ae=i(),pe=i();return v(j[2],a),k(j[1],K),U(H,j[1]),E(re,H,u),$(H,H,j[2]),L(re,j[2],re),U(ie,re),U(ae,ie),E(pe,ae,ie),E(G,pe,H),E(G,G,re),ne(G,G),E(G,G,H),E(G,G,re),E(G,G,re),E(j[0],G,re),U(S,j[0]),E(S,S,re),x(S,H)&&E(j[0],j[0],y),U(S,j[0]),E(S,S,re),x(S,H)?-1:(O(j[0])===K[31]>>7&&$(j[0],o,j[0]),E(j[3],j[0],j[1]),0)}function te(j,K,G){const S=new Uint8Array(32),H=[i(),i(),i(),i()],re=[i(),i(),i(),i()];if(G.length!==e.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${e.SIGNATURE_LENGTH} bytes`);if(Y(re,j))return!1;const ie=new r.SHA512;ie.update(G.subarray(0,32)),ie.update(j),ie.update(K);const ae=ie.digest();return g(ae),d(H,re,ae),m(re,G.subarray(32)),q(H,re),l(S,H),!T(G,S)}e.verify=te;function P(j){let K=[i(),i(),i(),i()];if(Y(K,j))throw new Error("Ed25519: invalid public key");let G=i(),S=i(),H=K[1];L(G,a,H),$(S,a,H),Z(S,S),E(G,G,S);let re=new Uint8Array(32);return N(re,G),re}e.convertPublicKeyToX25519=P;function J(j){const K=(0,r.hash)(j.subarray(0,32));K[0]&=248,K[31]&=127,K[31]|=64;const G=new Uint8Array(K.subarray(0,32));return(0,n.wipe)(K),G}e.convertSecretKeyToX25519=J})(im);const VD="EdDSA",WD="JWT",bd=".",ph="base64url",E4="utf8",_4="utf8",YD=":",QD="did",JD="key",a2="base58btc",XD="z",ZD="K36",eT=32;function om(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function S4(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?om(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function tT(e,t){t||(t=e.reduce((i,s)=>i+s.length,0));const r=S4(t);let n=0;for(const i of e)r.set(i,n),n+=i.length;return om(r)}function rT(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=e.length,u=e.charAt(0),c=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function h(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";for(var C=0,N=0,T=0,x=w.length;T!==x&&w[T]===0;)T++,C++;for(var O=(x-T)*f+1>>>0,k=new Uint8Array(O);T!==x;){for(var L=w[T],$=0,E=O-1;(L!==0||$<N)&&E!==-1;E--,$++)L+=256*k[E]>>>0,k[E]=L%a>>>0,L=L/a>>>0;if(L!==0)throw new Error("Non-zero carry");N=$,T++}for(var U=O-N;U!==O&&k[U]===0;)U++;for(var Z=u.repeat(C);U<O;++U)Z+=e.charAt(k[U]);return Z}function y(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;var C=0;if(w[C]!==" "){for(var N=0,T=0;w[C]===u;)N++,C++;for(var x=(w.length-C)*c+1>>>0,O=new Uint8Array(x);w[C];){var k=r[w.charCodeAt(C)];if(k===255)return;for(var L=0,$=x-1;(k!==0||L<T)&&$!==-1;$--,L++)k+=a*O[$]>>>0,O[$]=k%256>>>0,k=k/256>>>0;if(k!==0)throw new Error("Non-zero carry");T=L,C++}if(w[C]!==" "){for(var E=x-T;E!==x&&O[E]===0;)E++;for(var U=new Uint8Array(N+(x-E)),Z=N;E!==x;)U[Z++]=O[E++];return U}}}function v(w){var C=y(w);if(C)return C;throw new Error(`Non-${t} character`)}return{encode:h,decodeUnsafe:y,decode:v}}var nT=rT,iT=nT;const sT=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},oT=e=>new TextEncoder().encode(e),aT=e=>new TextDecoder().decode(e);class uT{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class cT{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return A4(this,t)}}class lT{constructor(t){this.decoders=t}or(t){return A4(this,t)}decode(t){const r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const A4=(e,t)=>new lT({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class fT{constructor(t,r,n,i){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new uT(t,r,n),this.decoder=new cT(t,r,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const gh=({name:e,prefix:t,encode:r,decode:n})=>new fT(e,t,r,n),El=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:i}=iT(r,t);return gh({prefix:e,name:t,encode:n,decode:s=>sT(i(s))})},dT=(e,t,r,n)=>{const i={};for(let f=0;f<t.length;++f)i[t[f]]=f;let s=e.length;for(;e[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,u=0,c=0;for(let f=0;f<s;++f){const h=i[e[f]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<r|h,a+=r,a>=8&&(a-=8,o[c++]=255&u>>a)}if(a>=r||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return o},hT=(e,t,r)=>{const n=t[t.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let u=0;u<e.length;++u)for(a=a<<8|e[u],o+=8;o>r;)o-=r,s+=t[i&a>>o];if(o&&(s+=t[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},br=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>gh({prefix:t,name:e,encode(i){return hT(i,n,r)},decode(i){return dT(i,n,r,e)}}),pT=gh({prefix:"\0",name:"identity",encode:e=>aT(e),decode:e=>oT(e)}),gT=Object.freeze(Object.defineProperty({__proto__:null,identity:pT},Symbol.toStringTag,{value:"Module"})),mT=br({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),yT=Object.freeze(Object.defineProperty({__proto__:null,base2:mT},Symbol.toStringTag,{value:"Module"})),vT=br({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),bT=Object.freeze(Object.defineProperty({__proto__:null,base8:vT},Symbol.toStringTag,{value:"Module"})),wT=El({prefix:"9",name:"base10",alphabet:"0123456789"}),ET=Object.freeze(Object.defineProperty({__proto__:null,base10:wT},Symbol.toStringTag,{value:"Module"})),_T=br({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),ST=br({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),AT=Object.freeze(Object.defineProperty({__proto__:null,base16:_T,base16upper:ST},Symbol.toStringTag,{value:"Module"})),IT=br({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),xT=br({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),MT=br({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),RT=br({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),CT=br({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),DT=br({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),TT=br({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),NT=br({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),PT=br({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),OT=Object.freeze(Object.defineProperty({__proto__:null,base32:IT,base32hex:CT,base32hexpad:TT,base32hexpadupper:NT,base32hexupper:DT,base32pad:MT,base32padupper:RT,base32upper:xT,base32z:PT},Symbol.toStringTag,{value:"Module"})),kT=El({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),FT=El({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),BT=Object.freeze(Object.defineProperty({__proto__:null,base36:kT,base36upper:FT},Symbol.toStringTag,{value:"Module"})),LT=El({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),UT=El({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),$T=Object.freeze(Object.defineProperty({__proto__:null,base58btc:LT,base58flickr:UT},Symbol.toStringTag,{value:"Module"})),zT=br({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),qT=br({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),jT=br({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),HT=br({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),KT=Object.freeze(Object.defineProperty({__proto__:null,base64:zT,base64pad:qT,base64url:jT,base64urlpad:HT},Symbol.toStringTag,{value:"Module"})),I4=Array.from(""),GT=I4.reduce((e,t,r)=>(e[r]=t,e),[]),VT=I4.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function WT(e){return e.reduce((t,r)=>(t+=GT[r],t),"")}function YT(e){const t=[];for(const r of e){const n=VT[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}const QT=gh({prefix:"",name:"base256emoji",encode:WT,decode:YT}),JT=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:QT},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const wd={...gT,...yT,...bT,...ET,...AT,...OT,...BT,...$T,...KT,...JT};function x4(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const u2=x4("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),A0=x4("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=S4(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),M4={utf8:u2,"utf-8":u2,hex:wd.base16,latin1:A0,ascii:A0,binary:A0,...wd};function mh(e,t="utf8"){const r=M4[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}function Su(e,t="utf8"){const r=M4[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?om(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}function c2(e){return uu(mh(Su(e,ph),E4))}function Ed(e){return mh(Su(Jo(e),E4),ph)}function R4(e){const t=Su(ZD,a2),r=XD+mh(tT([t,e]),a2);return[QD,JD,r].join(YD)}function XT(e){return mh(e,ph)}function ZT(e){return Su(e,ph)}function eN(e){return Su([Ed(e.header),Ed(e.payload)].join(bd),_4)}function tN(e){return[Ed(e.header),Ed(e.payload),XT(e.signature)].join(bd)}function b1(e){const t=e.split(bd),r=c2(t[0]),n=c2(t[1]),i=ZT(t[2]),s=Su(t.slice(0,2).join(bd),_4);return{header:r,payload:n,signature:i,data:s}}function l2(e=fo.randomBytes(eT)){return im.generateKeyPairFromSeed(e)}async function rN(e,t,r,n,i=ye.fromMiliseconds(Date.now())){const s={alg:VD,typ:WD},o=R4(n.publicKey),a=i+r,u={iss:o,sub:e,aud:t,iat:i,exp:a},c=eN({header:s,payload:u}),f=im.sign(n.secretKey,c);return tN({header:s,payload:u,signature:f})}var f2=function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))},nN=function(){function e(t,r,n){this.name=t,this.version=r,this.os=n,this.type="browser"}return e}(),iN=function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return e}(),sN=function(){function e(t,r,n,i){this.name=t,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return e}(),oN=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),aN=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),uN=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,cN=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,d2=3,lN=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",uN]],h2=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function fN(e){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new aN:typeof navigator<"u"?hN(navigator.userAgent):gN()}function dN(e){return e!==""&&lN.reduce(function(t,r){var n=r[0],i=r[1];if(t)return t;var s=i.exec(e);return!!s&&[n,s]},!1)}function hN(e){var t=dN(e);if(!t)return null;var r=t[0],n=t[1];if(r==="searchbot")return new oN;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<d2&&(i=f2(f2([],i,!0),mN(d2-i.length),!0)):i=[];var s=i.join("."),o=pN(e),a=cN.exec(e);return a&&a[1]?new sN(r,s,o,a[1]):new nN(r,s,o)}function pN(e){for(var t=0,r=h2.length;t<r;t++){var n=h2[t],i=n[0],s=n[1],o=s.exec(e);if(o)return i}return null}function gN(){var e=typeof process<"u"&&process.version;return e?new iN(process.version.slice(1)):null}function mN(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}var Et={};Object.defineProperty(Et,"__esModule",{value:!0});Et.getLocalStorage=Et.getLocalStorageOrThrow=Et.getCrypto=Et.getCryptoOrThrow=C4=Et.getLocation=Et.getLocationOrThrow=am=Et.getNavigator=Et.getNavigatorOrThrow=yh=Et.getDocument=Et.getDocumentOrThrow=Et.getFromWindowOrThrow=Et.getFromWindow=void 0;function ua(e){let t;return typeof window<"u"&&typeof window[e]<"u"&&(t=window[e]),t}Et.getFromWindow=ua;function Au(e){const t=ua(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}Et.getFromWindowOrThrow=Au;function yN(){return Au("document")}Et.getDocumentOrThrow=yN;function vN(){return ua("document")}var yh=Et.getDocument=vN;function bN(){return Au("navigator")}Et.getNavigatorOrThrow=bN;function wN(){return ua("navigator")}var am=Et.getNavigator=wN;function EN(){return Au("location")}Et.getLocationOrThrow=EN;function _N(){return ua("location")}var C4=Et.getLocation=_N;function SN(){return Au("crypto")}Et.getCryptoOrThrow=SN;function AN(){return ua("crypto")}Et.getCrypto=AN;function IN(){return Au("localStorage")}Et.getLocalStorageOrThrow=IN;function xN(){return ua("localStorage")}Et.getLocalStorage=xN;var um={};Object.defineProperty(um,"__esModule",{value:!0});var D4=um.getWindowMetadata=void 0;const p2=Et;function MN(){let e,t;try{e=p2.getDocumentOrThrow(),t=p2.getLocationOrThrow()}catch{return null}function r(){const h=e.getElementsByTagName("link"),y=[];for(let v=0;v<h.length;v++){const w=h[v],C=w.getAttribute("rel");if(C&&C.toLowerCase().indexOf("icon")>-1){const N=w.getAttribute("href");if(N)if(N.toLowerCase().indexOf("https:")===-1&&N.toLowerCase().indexOf("http:")===-1&&N.indexOf("//")!==0){let T=t.protocol+"//"+t.host;if(N.indexOf("/")===0)T+=N;else{const x=t.pathname.split("/");x.pop();const O=x.join("/");T+=O+"/"+N}y.push(T)}else if(N.indexOf("//")===0){const T=t.protocol+N;y.push(T)}else y.push(N)}}return y}function n(...h){const y=e.getElementsByTagName("meta");for(let v=0;v<y.length;v++){const w=y[v],C=["itemprop","property","name"].map(N=>w.getAttribute(N)).filter(N=>N?h.includes(N):!1);if(C.length&&C){const N=w.getAttribute("content");if(N)return N}}return""}function i(){let h=n("name","og:site_name","og:title","twitter:title");return h||(h=e.title),h}function s(){return n("description","og:description","twitter:description","keywords")}const o=i(),a=s(),u=t.origin,c=r();return{description:a,url:u,icons:c,name:o}}D4=um.getWindowMetadata=MN;var ol={},RN=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),T4="%[a-f0-9]{2}",g2=new RegExp("("+T4+")|([^%]+?)","gi"),m2=new RegExp("("+T4+")+","gi");function w1(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],w1(r),w1(n))}function CN(e){try{return decodeURIComponent(e)}catch{for(var t=e.match(g2)||[],r=1;r<t.length;r++)e=w1(t,r).join(""),t=e.match(g2)||[];return e}}function DN(e){for(var t={"%FE%FF":"","%FF%FE":""},r=m2.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch{var n=CN(r[0]);n!==r[0]&&(t[r[0]]=n)}r=m2.exec(e)}t["%C2"]="";for(var i=Object.keys(t),s=0;s<i.length;s++){var o=i[s];e=e.replace(new RegExp(o,"g"),t[o])}return e}var TN=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch{return DN(e)}},NN=(e,t)=>{if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[e];const r=e.indexOf(t);return r===-1?[e]:[e.slice(0,r),e.slice(r+t.length)]},PN=function(e,t){for(var r={},n=Object.keys(e),i=Array.isArray(t),s=0;s<n.length;s++){var o=n[s],a=e[o];(i?t.indexOf(o)!==-1:t(o,a,e))&&(r[o]=a)}return r};(function(e){const t=RN,r=TN,n=NN,i=PN,s=x=>x==null,o=Symbol("encodeFragmentIdentifier");function a(x){switch(x.arrayFormat){case"index":return O=>(k,L)=>{const $=k.length;return L===void 0||x.skipNull&&L===null||x.skipEmptyString&&L===""?k:L===null?[...k,[f(O,x),"[",$,"]"].join("")]:[...k,[f(O,x),"[",f($,x),"]=",f(L,x)].join("")]};case"bracket":return O=>(k,L)=>L===void 0||x.skipNull&&L===null||x.skipEmptyString&&L===""?k:L===null?[...k,[f(O,x),"[]"].join("")]:[...k,[f(O,x),"[]=",f(L,x)].join("")];case"colon-list-separator":return O=>(k,L)=>L===void 0||x.skipNull&&L===null||x.skipEmptyString&&L===""?k:L===null?[...k,[f(O,x),":list="].join("")]:[...k,[f(O,x),":list=",f(L,x)].join("")];case"comma":case"separator":case"bracket-separator":{const O=x.arrayFormat==="bracket-separator"?"[]=":"=";return k=>(L,$)=>$===void 0||x.skipNull&&$===null||x.skipEmptyString&&$===""?L:($=$===null?"":$,L.length===0?[[f(k,x),O,f($,x)].join("")]:[[L,f($,x)].join(x.arrayFormatSeparator)])}default:return O=>(k,L)=>L===void 0||x.skipNull&&L===null||x.skipEmptyString&&L===""?k:L===null?[...k,f(O,x)]:[...k,[f(O,x),"=",f(L,x)].join("")]}}function u(x){let O;switch(x.arrayFormat){case"index":return(k,L,$)=>{if(O=/\[(\d*)\]$/.exec(k),k=k.replace(/\[\d*\]$/,""),!O){$[k]=L;return}$[k]===void 0&&($[k]={}),$[k][O[1]]=L};case"bracket":return(k,L,$)=>{if(O=/(\[\])$/.exec(k),k=k.replace(/\[\]$/,""),!O){$[k]=L;return}if($[k]===void 0){$[k]=[L];return}$[k]=[].concat($[k],L)};case"colon-list-separator":return(k,L,$)=>{if(O=/(:list)$/.exec(k),k=k.replace(/:list$/,""),!O){$[k]=L;return}if($[k]===void 0){$[k]=[L];return}$[k]=[].concat($[k],L)};case"comma":case"separator":return(k,L,$)=>{const E=typeof L=="string"&&L.includes(x.arrayFormatSeparator),U=typeof L=="string"&&!E&&h(L,x).includes(x.arrayFormatSeparator);L=U?h(L,x):L;const Z=E||U?L.split(x.arrayFormatSeparator).map(ne=>h(ne,x)):L===null?L:h(L,x);$[k]=Z};case"bracket-separator":return(k,L,$)=>{const E=/(\[\])$/.test(k);if(k=k.replace(/\[\]$/,""),!E){$[k]=L&&h(L,x);return}const U=L===null?[]:L.split(x.arrayFormatSeparator).map(Z=>h(Z,x));if($[k]===void 0){$[k]=U;return}$[k]=[].concat($[k],U)};default:return(k,L,$)=>{if($[k]===void 0){$[k]=L;return}$[k]=[].concat($[k],L)}}}function c(x){if(typeof x!="string"||x.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function f(x,O){return O.encode?O.strict?t(x):encodeURIComponent(x):x}function h(x,O){return O.decode?r(x):x}function y(x){return Array.isArray(x)?x.sort():typeof x=="object"?y(Object.keys(x)).sort((O,k)=>Number(O)-Number(k)).map(O=>x[O]):x}function v(x){const O=x.indexOf("#");return O!==-1&&(x=x.slice(0,O)),x}function w(x){let O="";const k=x.indexOf("#");return k!==-1&&(O=x.slice(k)),O}function C(x){x=v(x);const O=x.indexOf("?");return O===-1?"":x.slice(O+1)}function N(x,O){return O.parseNumbers&&!Number.isNaN(Number(x))&&typeof x=="string"&&x.trim()!==""?x=Number(x):O.parseBooleans&&x!==null&&(x.toLowerCase()==="true"||x.toLowerCase()==="false")&&(x=x.toLowerCase()==="true"),x}function T(x,O){O=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},O),c(O.arrayFormatSeparator);const k=u(O),L=Object.create(null);if(typeof x!="string"||(x=x.trim().replace(/^[?#&]/,""),!x))return L;for(const $ of x.split("&")){if($==="")continue;let[E,U]=n(O.decode?$.replace(/\+/g," "):$,"=");U=U===void 0?null:["comma","separator","bracket-separator"].includes(O.arrayFormat)?U:h(U,O),k(h(E,O),U,L)}for(const $ of Object.keys(L)){const E=L[$];if(typeof E=="object"&&E!==null)for(const U of Object.keys(E))E[U]=N(E[U],O);else L[$]=N(E,O)}return O.sort===!1?L:(O.sort===!0?Object.keys(L).sort():Object.keys(L).sort(O.sort)).reduce(($,E)=>{const U=L[E];return U&&typeof U=="object"&&!Array.isArray(U)?$[E]=y(U):$[E]=U,$},Object.create(null))}e.extract=C,e.parse=T,e.stringify=(x,O)=>{if(!x)return"";O=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},O),c(O.arrayFormatSeparator);const k=U=>O.skipNull&&s(x[U])||O.skipEmptyString&&x[U]==="",L=a(O),$={};for(const U of Object.keys(x))k(U)||($[U]=x[U]);const E=Object.keys($);return O.sort!==!1&&E.sort(O.sort),E.map(U=>{const Z=x[U];return Z===void 0?"":Z===null?f(U,O):Array.isArray(Z)?Z.length===0&&O.arrayFormat==="bracket-separator"?f(U,O)+"[]":Z.reduce(L(U),[]).join("&"):f(U,O)+"="+f(Z,O)}).filter(U=>U.length>0).join("&")},e.parseUrl=(x,O)=>{O=Object.assign({decode:!0},O);const[k,L]=n(x,"#");return Object.assign({url:k.split("?")[0]||"",query:T(C(x),O)},O&&O.parseFragmentIdentifier&&L?{fragmentIdentifier:h(L,O)}:{})},e.stringifyUrl=(x,O)=>{O=Object.assign({encode:!0,strict:!0,[o]:!0},O);const k=v(x.url).split("?")[0]||"",L=e.extract(x.url),$=e.parse(L,{sort:!1}),E=Object.assign($,x.query);let U=e.stringify(E,O);U&&(U=`?${U}`);let Z=w(x.url);return x.fragmentIdentifier&&(Z=`#${O[o]?f(x.fragmentIdentifier,O):x.fragmentIdentifier}`),`${k}${U}${Z}`},e.pick=(x,O,k)=>{k=Object.assign({parseFragmentIdentifier:!0,[o]:!1},k);const{url:L,query:$,fragmentIdentifier:E}=e.parseUrl(x,k);return e.stringifyUrl({url:L,query:i($,O),fragmentIdentifier:E},k)},e.exclude=(x,O,k)=>{const L=Array.isArray(O)?$=>!O.includes($):($,E)=>!O($,E);return e.pick(x,L,k)}})(ol);var cm={},vh={};Object.defineProperty(vh,"__esModule",{value:!0});var xr=Xe,E1=Rn,ON=20;function kN(e,t,r){for(var n=1634760805,i=857760878,s=2036477234,o=1797285236,a=r[3]<<24|r[2]<<16|r[1]<<8|r[0],u=r[7]<<24|r[6]<<16|r[5]<<8|r[4],c=r[11]<<24|r[10]<<16|r[9]<<8|r[8],f=r[15]<<24|r[14]<<16|r[13]<<8|r[12],h=r[19]<<24|r[18]<<16|r[17]<<8|r[16],y=r[23]<<24|r[22]<<16|r[21]<<8|r[20],v=r[27]<<24|r[26]<<16|r[25]<<8|r[24],w=r[31]<<24|r[30]<<16|r[29]<<8|r[28],C=t[3]<<24|t[2]<<16|t[1]<<8|t[0],N=t[7]<<24|t[6]<<16|t[5]<<8|t[4],T=t[11]<<24|t[10]<<16|t[9]<<8|t[8],x=t[15]<<24|t[14]<<16|t[13]<<8|t[12],O=n,k=i,L=s,$=o,E=a,U=u,Z=c,ne=f,q=h,b=y,l=v,d=w,m=C,A=N,D=T,R=x,I=0;I<ON;I+=2)O=O+E|0,m^=O,m=m>>>16|m<<16,q=q+m|0,E^=q,E=E>>>20|E<<12,k=k+U|0,A^=k,A=A>>>16|A<<16,b=b+A|0,U^=b,U=U>>>20|U<<12,L=L+Z|0,D^=L,D=D>>>16|D<<16,l=l+D|0,Z^=l,Z=Z>>>20|Z<<12,$=$+ne|0,R^=$,R=R>>>16|R<<16,d=d+R|0,ne^=d,ne=ne>>>20|ne<<12,L=L+Z|0,D^=L,D=D>>>24|D<<8,l=l+D|0,Z^=l,Z=Z>>>25|Z<<7,$=$+ne|0,R^=$,R=R>>>24|R<<8,d=d+R|0,ne^=d,ne=ne>>>25|ne<<7,k=k+U|0,A^=k,A=A>>>24|A<<8,b=b+A|0,U^=b,U=U>>>25|U<<7,O=O+E|0,m^=O,m=m>>>24|m<<8,q=q+m|0,E^=q,E=E>>>25|E<<7,O=O+U|0,R^=O,R=R>>>16|R<<16,l=l+R|0,U^=l,U=U>>>20|U<<12,k=k+Z|0,m^=k,m=m>>>16|m<<16,d=d+m|0,Z^=d,Z=Z>>>20|Z<<12,L=L+ne|0,A^=L,A=A>>>16|A<<16,q=q+A|0,ne^=q,ne=ne>>>20|ne<<12,$=$+E|0,D^=$,D=D>>>16|D<<16,b=b+D|0,E^=b,E=E>>>20|E<<12,L=L+ne|0,A^=L,A=A>>>24|A<<8,q=q+A|0,ne^=q,ne=ne>>>25|ne<<7,$=$+E|0,D^=$,D=D>>>24|D<<8,b=b+D|0,E^=b,E=E>>>25|E<<7,k=k+Z|0,m^=k,m=m>>>24|m<<8,d=d+m|0,Z^=d,Z=Z>>>25|Z<<7,O=O+U|0,R^=O,R=R>>>24|R<<8,l=l+R|0,U^=l,U=U>>>25|U<<7;xr.writeUint32LE(O+n|0,e,0),xr.writeUint32LE(k+i|0,e,4),xr.writeUint32LE(L+s|0,e,8),xr.writeUint32LE($+o|0,e,12),xr.writeUint32LE(E+a|0,e,16),xr.writeUint32LE(U+u|0,e,20),xr.writeUint32LE(Z+c|0,e,24),xr.writeUint32LE(ne+f|0,e,28),xr.writeUint32LE(q+h|0,e,32),xr.writeUint32LE(b+y|0,e,36),xr.writeUint32LE(l+v|0,e,40),xr.writeUint32LE(d+w|0,e,44),xr.writeUint32LE(m+C|0,e,48),xr.writeUint32LE(A+N|0,e,52),xr.writeUint32LE(D+T|0,e,56),xr.writeUint32LE(R+x|0,e,60)}function N4(e,t,r,n,i){if(i===void 0&&(i=0),e.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var s,o;if(i===0){if(t.length!==8&&t.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");s=new Uint8Array(16),o=s.length-t.length,s.set(t,o)}else{if(t.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");s=t,o=i}for(var a=new Uint8Array(64),u=0;u<r.length;u+=64){kN(a,s,e);for(var c=u;c<u+64&&c<r.length;c++)n[c]=r[c]^a[c-u];BN(s,0,o)}return E1.wipe(a),i===0&&E1.wipe(s),n}vh.streamXOR=N4;function FN(e,t,r,n){return n===void 0&&(n=0),E1.wipe(r),N4(e,t,r,r,n)}vh.stream=FN;function BN(e,t,r){for(var n=1;r--;)n=n+(e[t]&255)|0,e[t]=n&255,n>>>=8,t++;if(n>0)throw new Error("ChaCha: counter overflow")}var P4={},ho={};Object.defineProperty(ho,"__esModule",{value:!0});function LN(e,t,r){return~(e-1)&t|e-1&r}ho.select=LN;function UN(e,t){return(e|0)-(t|0)-1>>>31&1}ho.lessOrEqual=UN;function O4(e,t){if(e.length!==t.length)return 0;for(var r=0,n=0;n<e.length;n++)r|=e[n]^t[n];return 1&r-1>>>8}ho.compare=O4;function $N(e,t){return e.length===0||t.length===0?!1:O4(e,t)!==0}ho.equal=$N;(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=ho,r=Rn;e.DIGEST_LENGTH=16;var n=function(){function o(a){this.digestLength=e.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var u=a[0]|a[1]<<8;this._r[0]=u&8191;var c=a[2]|a[3]<<8;this._r[1]=(u>>>13|c<<3)&8191;var f=a[4]|a[5]<<8;this._r[2]=(c>>>10|f<<6)&7939;var h=a[6]|a[7]<<8;this._r[3]=(f>>>7|h<<9)&8191;var y=a[8]|a[9]<<8;this._r[4]=(h>>>4|y<<12)&255,this._r[5]=y>>>1&8190;var v=a[10]|a[11]<<8;this._r[6]=(y>>>14|v<<2)&8191;var w=a[12]|a[13]<<8;this._r[7]=(v>>>11|w<<5)&8065;var C=a[14]|a[15]<<8;this._r[8]=(w>>>8|C<<8)&8191,this._r[9]=C>>>5&127,this._pad[0]=a[16]|a[17]<<8,this._pad[1]=a[18]|a[19]<<8,this._pad[2]=a[20]|a[21]<<8,this._pad[3]=a[22]|a[23]<<8,this._pad[4]=a[24]|a[25]<<8,this._pad[5]=a[26]|a[27]<<8,this._pad[6]=a[28]|a[29]<<8,this._pad[7]=a[30]|a[31]<<8}return o.prototype._blocks=function(a,u,c){for(var f=this._fin?0:2048,h=this._h[0],y=this._h[1],v=this._h[2],w=this._h[3],C=this._h[4],N=this._h[5],T=this._h[6],x=this._h[7],O=this._h[8],k=this._h[9],L=this._r[0],$=this._r[1],E=this._r[2],U=this._r[3],Z=this._r[4],ne=this._r[5],q=this._r[6],b=this._r[7],l=this._r[8],d=this._r[9];c>=16;){var m=a[u+0]|a[u+1]<<8;h+=m&8191;var A=a[u+2]|a[u+3]<<8;y+=(m>>>13|A<<3)&8191;var D=a[u+4]|a[u+5]<<8;v+=(A>>>10|D<<6)&8191;var R=a[u+6]|a[u+7]<<8;w+=(D>>>7|R<<9)&8191;var I=a[u+8]|a[u+9]<<8;C+=(R>>>4|I<<12)&8191,N+=I>>>1&8191;var p=a[u+10]|a[u+11]<<8;T+=(I>>>14|p<<2)&8191;var g=a[u+12]|a[u+13]<<8;x+=(p>>>11|g<<5)&8191;var B=a[u+14]|a[u+15]<<8;O+=(g>>>8|B<<8)&8191,k+=B>>>5|f;var Y=0,te=Y;te+=h*L,te+=y*(5*d),te+=v*(5*l),te+=w*(5*b),te+=C*(5*q),Y=te>>>13,te&=8191,te+=N*(5*ne),te+=T*(5*Z),te+=x*(5*U),te+=O*(5*E),te+=k*(5*$),Y+=te>>>13,te&=8191;var P=Y;P+=h*$,P+=y*L,P+=v*(5*d),P+=w*(5*l),P+=C*(5*b),Y=P>>>13,P&=8191,P+=N*(5*q),P+=T*(5*ne),P+=x*(5*Z),P+=O*(5*U),P+=k*(5*E),Y+=P>>>13,P&=8191;var J=Y;J+=h*E,J+=y*$,J+=v*L,J+=w*(5*d),J+=C*(5*l),Y=J>>>13,J&=8191,J+=N*(5*b),J+=T*(5*q),J+=x*(5*ne),J+=O*(5*Z),J+=k*(5*U),Y+=J>>>13,J&=8191;var j=Y;j+=h*U,j+=y*E,j+=v*$,j+=w*L,j+=C*(5*d),Y=j>>>13,j&=8191,j+=N*(5*l),j+=T*(5*b),j+=x*(5*q),j+=O*(5*ne),j+=k*(5*Z),Y+=j>>>13,j&=8191;var K=Y;K+=h*Z,K+=y*U,K+=v*E,K+=w*$,K+=C*L,Y=K>>>13,K&=8191,K+=N*(5*d),K+=T*(5*l),K+=x*(5*b),K+=O*(5*q),K+=k*(5*ne),Y+=K>>>13,K&=8191;var G=Y;G+=h*ne,G+=y*Z,G+=v*U,G+=w*E,G+=C*$,Y=G>>>13,G&=8191,G+=N*L,G+=T*(5*d),G+=x*(5*l),G+=O*(5*b),G+=k*(5*q),Y+=G>>>13,G&=8191;var S=Y;S+=h*q,S+=y*ne,S+=v*Z,S+=w*U,S+=C*E,Y=S>>>13,S&=8191,S+=N*$,S+=T*L,S+=x*(5*d),S+=O*(5*l),S+=k*(5*b),Y+=S>>>13,S&=8191;var H=Y;H+=h*b,H+=y*q,H+=v*ne,H+=w*Z,H+=C*U,Y=H>>>13,H&=8191,H+=N*E,H+=T*$,H+=x*L,H+=O*(5*d),H+=k*(5*l),Y+=H>>>13,H&=8191;var re=Y;re+=h*l,re+=y*b,re+=v*q,re+=w*ne,re+=C*Z,Y=re>>>13,re&=8191,re+=N*U,re+=T*E,re+=x*$,re+=O*L,re+=k*(5*d),Y+=re>>>13,re&=8191;var ie=Y;ie+=h*d,ie+=y*l,ie+=v*b,ie+=w*q,ie+=C*ne,Y=ie>>>13,ie&=8191,ie+=N*Z,ie+=T*U,ie+=x*E,ie+=O*$,ie+=k*L,Y+=ie>>>13,ie&=8191,Y=(Y<<2)+Y|0,Y=Y+te|0,te=Y&8191,Y=Y>>>13,P+=Y,h=te,y=P,v=J,w=j,C=K,N=G,T=S,x=H,O=re,k=ie,u+=16,c-=16}this._h[0]=h,this._h[1]=y,this._h[2]=v,this._h[3]=w,this._h[4]=C,this._h[5]=N,this._h[6]=T,this._h[7]=x,this._h[8]=O,this._h[9]=k},o.prototype.finish=function(a,u){u===void 0&&(u=0);var c=new Uint16Array(10),f,h,y,v;if(this._leftover){for(v=this._leftover,this._buffer[v++]=1;v<16;v++)this._buffer[v]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(f=this._h[1]>>>13,this._h[1]&=8191,v=2;v<10;v++)this._h[v]+=f,f=this._h[v]>>>13,this._h[v]&=8191;for(this._h[0]+=f*5,f=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=f,f=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=f,c[0]=this._h[0]+5,f=c[0]>>>13,c[0]&=8191,v=1;v<10;v++)c[v]=this._h[v]+f,f=c[v]>>>13,c[v]&=8191;for(c[9]-=8192,h=(f^1)-1,v=0;v<10;v++)c[v]&=h;for(h=~h,v=0;v<10;v++)this._h[v]=this._h[v]&h|c[v];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,y=this._h[0]+this._pad[0],this._h[0]=y&65535,v=1;v<8;v++)y=(this._h[v]+this._pad[v]|0)+(y>>>16)|0,this._h[v]=y&65535;return a[u+0]=this._h[0]>>>0,a[u+1]=this._h[0]>>>8,a[u+2]=this._h[1]>>>0,a[u+3]=this._h[1]>>>8,a[u+4]=this._h[2]>>>0,a[u+5]=this._h[2]>>>8,a[u+6]=this._h[3]>>>0,a[u+7]=this._h[3]>>>8,a[u+8]=this._h[4]>>>0,a[u+9]=this._h[4]>>>8,a[u+10]=this._h[5]>>>0,a[u+11]=this._h[5]>>>8,a[u+12]=this._h[6]>>>0,a[u+13]=this._h[6]>>>8,a[u+14]=this._h[7]>>>0,a[u+15]=this._h[7]>>>8,this._finished=!0,this},o.prototype.update=function(a){var u=0,c=a.length,f;if(this._leftover){f=16-this._leftover,f>c&&(f=c);for(var h=0;h<f;h++)this._buffer[this._leftover+h]=a[u+h];if(c-=f,u+=f,this._leftover+=f,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(c>=16&&(f=c-c%16,this._blocks(a,u,f),u+=f,c-=f),c){for(var h=0;h<c;h++)this._buffer[this._leftover+h]=a[u+h];this._leftover+=c}return this},o.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var a=new Uint8Array(16);return this.finish(a),a},o.prototype.clean=function(){return r.wipe(this._buffer),r.wipe(this._r),r.wipe(this._h),r.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},o}();e.Poly1305=n;function i(o,a){var u=new n(o);u.update(a);var c=u.digest();return u.clean(),c}e.oneTimeAuth=i;function s(o,a){return o.length!==e.DIGEST_LENGTH||a.length!==e.DIGEST_LENGTH?!1:t.equal(o,a)}e.equal=s})(P4);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=vh,r=P4,n=Rn,i=Xe,s=ho;e.KEY_LENGTH=32,e.NONCE_LENGTH=12,e.TAG_LENGTH=16;var o=new Uint8Array(16),a=function(){function u(c){if(this.nonceLength=e.NONCE_LENGTH,this.tagLength=e.TAG_LENGTH,c.length!==e.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(c)}return u.prototype.seal=function(c,f,h,y){if(c.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var v=new Uint8Array(16);v.set(c,v.length-c.length);var w=new Uint8Array(32);t.stream(this._key,v,w,4);var C=f.length+this.tagLength,N;if(y){if(y.length!==C)throw new Error("ChaCha20Poly1305: incorrect destination length");N=y}else N=new Uint8Array(C);return t.streamXOR(this._key,v,f,N,4),this._authenticate(N.subarray(N.length-this.tagLength,N.length),w,N.subarray(0,N.length-this.tagLength),h),n.wipe(v),N},u.prototype.open=function(c,f,h,y){if(c.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(f.length<this.tagLength)return null;var v=new Uint8Array(16);v.set(c,v.length-c.length);var w=new Uint8Array(32);t.stream(this._key,v,w,4);var C=new Uint8Array(this.tagLength);if(this._authenticate(C,w,f.subarray(0,f.length-this.tagLength),h),!s.equal(C,f.subarray(f.length-this.tagLength,f.length)))return null;var N=f.length-this.tagLength,T;if(y){if(y.length!==N)throw new Error("ChaCha20Poly1305: incorrect destination length");T=y}else T=new Uint8Array(N);return t.streamXOR(this._key,v,f.subarray(0,f.length-this.tagLength),T,4),n.wipe(v),T},u.prototype.clean=function(){return n.wipe(this._key),this},u.prototype._authenticate=function(c,f,h,y){var v=new r.Poly1305(f);y&&(v.update(y),y.length%16>0&&v.update(o.subarray(y.length%16))),v.update(h),h.length%16>0&&v.update(o.subarray(h.length%16));var w=new Uint8Array(8);y&&i.writeUint64LE(y.length,w),v.update(w),i.writeUint64LE(h.length,w),v.update(w);for(var C=v.digest(),N=0;N<C.length;N++)c[N]=C[N];v.clean(),n.wipe(C),n.wipe(w)},u}();e.ChaCha20Poly1305=a})(cm);var k4={},_l={},lm={};Object.defineProperty(lm,"__esModule",{value:!0});function zN(e){return typeof e.saveState<"u"&&typeof e.restoreState<"u"&&typeof e.cleanSavedState<"u"}lm.isSerializableHash=zN;Object.defineProperty(_l,"__esModule",{value:!0});var mi=lm,qN=ho,jN=Rn,F4=function(){function e(t,r){this._finished=!1,this._inner=new t,this._outer=new t,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);r.length>this.blockSize?this._inner.update(r).finish(n).clean():n.set(r);for(var i=0;i<n.length;i++)n[i]^=54;this._inner.update(n);for(var i=0;i<n.length;i++)n[i]^=106;this._outer.update(n),mi.isSerializableHash(this._inner)&&mi.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),jN.wipe(n)}return e.prototype.reset=function(){if(!mi.isSerializableHash(this._inner)||!mi.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.clean=function(){mi.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),mi.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},e.prototype.update=function(t){return this._inner.update(t),this},e.prototype.finish=function(t){return this._finished?(this._outer.finish(t),this):(this._inner.finish(t),this._outer.update(t.subarray(0,this.digestLength)).finish(t),this._finished=!0,this)},e.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},e.prototype.saveState=function(){if(!mi.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},e.prototype.restoreState=function(t){if(!mi.isSerializableHash(this._inner)||!mi.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(t),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.cleanSavedState=function(t){if(!mi.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(t)},e}();_l.HMAC=F4;function HN(e,t,r){var n=new F4(e,t);n.update(r);var i=n.digest();return n.clean(),i}_l.hmac=HN;_l.equal=qN.equal;Object.defineProperty(k4,"__esModule",{value:!0});var y2=_l,v2=Rn,KN=function(){function e(t,r,n,i){n===void 0&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=t,this._info=i;var s=y2.hmac(this._hash,n,r);this._hmac=new y2.HMAC(t,s),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return e.prototype._fillBuffer=function(){this._counter[0]++;var t=this._counter[0];if(t===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),t>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},e.prototype.expand=function(t){for(var r=new Uint8Array(t),n=0;n<r.length;n++)this._bufpos===this._buffer.length&&this._fillBuffer(),r[n]=this._buffer[this._bufpos++];return r},e.prototype.clean=function(){this._hmac.clean(),v2.wipe(this._buffer),v2.wipe(this._counter),this._bufpos=0},e}(),GN=k4.HKDF=KN,Sl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Xe,r=Rn;e.DIGEST_LENGTH=32,e.BLOCK_SIZE=64;var n=function(){function a(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return a.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},a.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},a.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._temp),this.reset()},a.prototype.update=function(u,c){if(c===void 0&&(c=u.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var f=0;if(this._bytesHashed+=c,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&c>0;)this._buffer[this._bufferLength++]=u[f++],c--;this._bufferLength===this.blockSize&&(s(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(c>=this.blockSize&&(f=s(this._temp,this._state,u,f,c),c%=this.blockSize);c>0;)this._buffer[this._bufferLength++]=u[f++],c--;return this},a.prototype.finish=function(u){if(!this._finished){var c=this._bytesHashed,f=this._bufferLength,h=c/536870912|0,y=c<<3,v=c%64<56?64:128;this._buffer[f]=128;for(var w=f+1;w<v-8;w++)this._buffer[w]=0;t.writeUint32BE(h,this._buffer,v-8),t.writeUint32BE(y,this._buffer,v-4),s(this._temp,this._state,this._buffer,0,v),this._finished=!0}for(var w=0;w<this.digestLength/4;w++)t.writeUint32BE(this._state[w],u,w*4);return this},a.prototype.digest=function(){var u=new Uint8Array(this.digestLength);return this.finish(u),u},a.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},a.prototype.restoreState=function(u){return this._state.set(u.state),this._bufferLength=u.bufferLength,u.buffer&&this._buffer.set(u.buffer),this._bytesHashed=u.bytesHashed,this._finished=!1,this},a.prototype.cleanSavedState=function(u){r.wipe(u.state),u.buffer&&r.wipe(u.buffer),u.bufferLength=0,u.bytesHashed=0},a}();e.SHA256=n;var i=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function s(a,u,c,f,h){for(;h>=64;){for(var y=u[0],v=u[1],w=u[2],C=u[3],N=u[4],T=u[5],x=u[6],O=u[7],k=0;k<16;k++){var L=f+k*4;a[k]=t.readUint32BE(c,L)}for(var k=16;k<64;k++){var $=a[k-2],E=($>>>17|$<<15)^($>>>19|$<<13)^$>>>10;$=a[k-15];var U=($>>>7|$<<25)^($>>>18|$<<14)^$>>>3;a[k]=(E+a[k-7]|0)+(U+a[k-16]|0)}for(var k=0;k<64;k++){var E=(((N>>>6|N<<26)^(N>>>11|N<<21)^(N>>>25|N<<7))+(N&T^~N&x)|0)+(O+(i[k]+a[k]|0)|0)|0,U=((y>>>2|y<<30)^(y>>>13|y<<19)^(y>>>22|y<<10))+(y&v^y&w^v&w)|0;O=x,x=T,T=N,N=C+E|0,C=w,w=v,v=y,y=E+U|0}u[0]+=y,u[1]+=v,u[2]+=w,u[3]+=C,u[4]+=N,u[5]+=T,u[6]+=x,u[7]+=O,f+=64,h-=64}return f}function o(a){var u=new n;u.update(a);var c=u.digest();return u.clean(),c}e.hash=o})(Sl);var fm={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.sharedKey=e.generateKeyPair=e.generateKeyPairFromSeed=e.scalarMultBase=e.scalarMult=e.SHARED_KEY_LENGTH=e.SECRET_KEY_LENGTH=e.PUBLIC_KEY_LENGTH=void 0;const t=fo,r=Rn;e.PUBLIC_KEY_LENGTH=32,e.SECRET_KEY_LENGTH=32,e.SHARED_KEY_LENGTH=32;function n(k){const L=new Float64Array(16);if(k)for(let $=0;$<k.length;$++)L[$]=k[$];return L}const i=new Uint8Array(32);i[0]=9;const s=n([56129,1]);function o(k){let L=1;for(let $=0;$<16;$++){let E=k[$]+L+65535;L=Math.floor(E/65536),k[$]=E-L*65536}k[0]+=L-1+37*(L-1)}function a(k,L,$){const E=~($-1);for(let U=0;U<16;U++){const Z=E&(k[U]^L[U]);k[U]^=Z,L[U]^=Z}}function u(k,L){const $=n(),E=n();for(let U=0;U<16;U++)E[U]=L[U];o(E),o(E),o(E);for(let U=0;U<2;U++){$[0]=E[0]-65517;for(let ne=1;ne<15;ne++)$[ne]=E[ne]-65535-($[ne-1]>>16&1),$[ne-1]&=65535;$[15]=E[15]-32767-($[14]>>16&1);const Z=$[15]>>16&1;$[14]&=65535,a(E,$,1-Z)}for(let U=0;U<16;U++)k[2*U]=E[U]&255,k[2*U+1]=E[U]>>8}function c(k,L){for(let $=0;$<16;$++)k[$]=L[2*$]+(L[2*$+1]<<8);k[15]&=32767}function f(k,L,$){for(let E=0;E<16;E++)k[E]=L[E]+$[E]}function h(k,L,$){for(let E=0;E<16;E++)k[E]=L[E]-$[E]}function y(k,L,$){let E,U,Z=0,ne=0,q=0,b=0,l=0,d=0,m=0,A=0,D=0,R=0,I=0,p=0,g=0,B=0,Y=0,te=0,P=0,J=0,j=0,K=0,G=0,S=0,H=0,re=0,ie=0,ae=0,pe=0,de=0,Oe=0,Le=0,ve=0,xe=$[0],Ee=$[1],le=$[2],we=$[3],_e=$[4],ce=$[5],be=$[6],F=$[7],_=$[8],M=$[9],z=$[10],W=$[11],Q=$[12],ee=$[13],oe=$[14],he=$[15];E=L[0],Z+=E*xe,ne+=E*Ee,q+=E*le,b+=E*we,l+=E*_e,d+=E*ce,m+=E*be,A+=E*F,D+=E*_,R+=E*M,I+=E*z,p+=E*W,g+=E*Q,B+=E*ee,Y+=E*oe,te+=E*he,E=L[1],ne+=E*xe,q+=E*Ee,b+=E*le,l+=E*we,d+=E*_e,m+=E*ce,A+=E*be,D+=E*F,R+=E*_,I+=E*M,p+=E*z,g+=E*W,B+=E*Q,Y+=E*ee,te+=E*oe,P+=E*he,E=L[2],q+=E*xe,b+=E*Ee,l+=E*le,d+=E*we,m+=E*_e,A+=E*ce,D+=E*be,R+=E*F,I+=E*_,p+=E*M,g+=E*z,B+=E*W,Y+=E*Q,te+=E*ee,P+=E*oe,J+=E*he,E=L[3],b+=E*xe,l+=E*Ee,d+=E*le,m+=E*we,A+=E*_e,D+=E*ce,R+=E*be,I+=E*F,p+=E*_,g+=E*M,B+=E*z,Y+=E*W,te+=E*Q,P+=E*ee,J+=E*oe,j+=E*he,E=L[4],l+=E*xe,d+=E*Ee,m+=E*le,A+=E*we,D+=E*_e,R+=E*ce,I+=E*be,p+=E*F,g+=E*_,B+=E*M,Y+=E*z,te+=E*W,P+=E*Q,J+=E*ee,j+=E*oe,K+=E*he,E=L[5],d+=E*xe,m+=E*Ee,A+=E*le,D+=E*we,R+=E*_e,I+=E*ce,p+=E*be,g+=E*F,B+=E*_,Y+=E*M,te+=E*z,P+=E*W,J+=E*Q,j+=E*ee,K+=E*oe,G+=E*he,E=L[6],m+=E*xe,A+=E*Ee,D+=E*le,R+=E*we,I+=E*_e,p+=E*ce,g+=E*be,B+=E*F,Y+=E*_,te+=E*M,P+=E*z,J+=E*W,j+=E*Q,K+=E*ee,G+=E*oe,S+=E*he,E=L[7],A+=E*xe,D+=E*Ee,R+=E*le,I+=E*we,p+=E*_e,g+=E*ce,B+=E*be,Y+=E*F,te+=E*_,P+=E*M,J+=E*z,j+=E*W,K+=E*Q,G+=E*ee,S+=E*oe,H+=E*he,E=L[8],D+=E*xe,R+=E*Ee,I+=E*le,p+=E*we,g+=E*_e,B+=E*ce,Y+=E*be,te+=E*F,P+=E*_,J+=E*M,j+=E*z,K+=E*W,G+=E*Q,S+=E*ee,H+=E*oe,re+=E*he,E=L[9],R+=E*xe,I+=E*Ee,p+=E*le,g+=E*we,B+=E*_e,Y+=E*ce,te+=E*be,P+=E*F,J+=E*_,j+=E*M,K+=E*z,G+=E*W,S+=E*Q,H+=E*ee,re+=E*oe,ie+=E*he,E=L[10],I+=E*xe,p+=E*Ee,g+=E*le,B+=E*we,Y+=E*_e,te+=E*ce,P+=E*be,J+=E*F,j+=E*_,K+=E*M,G+=E*z,S+=E*W,H+=E*Q,re+=E*ee,ie+=E*oe,ae+=E*he,E=L[11],p+=E*xe,g+=E*Ee,B+=E*le,Y+=E*we,te+=E*_e,P+=E*ce,J+=E*be,j+=E*F,K+=E*_,G+=E*M,S+=E*z,H+=E*W,re+=E*Q,ie+=E*ee,ae+=E*oe,pe+=E*he,E=L[12],g+=E*xe,B+=E*Ee,Y+=E*le,te+=E*we,P+=E*_e,J+=E*ce,j+=E*be,K+=E*F,G+=E*_,S+=E*M,H+=E*z,re+=E*W,ie+=E*Q,ae+=E*ee,pe+=E*oe,de+=E*he,E=L[13],B+=E*xe,Y+=E*Ee,te+=E*le,P+=E*we,J+=E*_e,j+=E*ce,K+=E*be,G+=E*F,S+=E*_,H+=E*M,re+=E*z,ie+=E*W,ae+=E*Q,pe+=E*ee,de+=E*oe,Oe+=E*he,E=L[14],Y+=E*xe,te+=E*Ee,P+=E*le,J+=E*we,j+=E*_e,K+=E*ce,G+=E*be,S+=E*F,H+=E*_,re+=E*M,ie+=E*z,ae+=E*W,pe+=E*Q,de+=E*ee,Oe+=E*oe,Le+=E*he,E=L[15],te+=E*xe,P+=E*Ee,J+=E*le,j+=E*we,K+=E*_e,G+=E*ce,S+=E*be,H+=E*F,re+=E*_,ie+=E*M,ae+=E*z,pe+=E*W,de+=E*Q,Oe+=E*ee,Le+=E*oe,ve+=E*he,Z+=38*P,ne+=38*J,q+=38*j,b+=38*K,l+=38*G,d+=38*S,m+=38*H,A+=38*re,D+=38*ie,R+=38*ae,I+=38*pe,p+=38*de,g+=38*Oe,B+=38*Le,Y+=38*ve,U=1,E=Z+U+65535,U=Math.floor(E/65536),Z=E-U*65536,E=ne+U+65535,U=Math.floor(E/65536),ne=E-U*65536,E=q+U+65535,U=Math.floor(E/65536),q=E-U*65536,E=b+U+65535,U=Math.floor(E/65536),b=E-U*65536,E=l+U+65535,U=Math.floor(E/65536),l=E-U*65536,E=d+U+65535,U=Math.floor(E/65536),d=E-U*65536,E=m+U+65535,U=Math.floor(E/65536),m=E-U*65536,E=A+U+65535,U=Math.floor(E/65536),A=E-U*65536,E=D+U+65535,U=Math.floor(E/65536),D=E-U*65536,E=R+U+65535,U=Math.floor(E/65536),R=E-U*65536,E=I+U+65535,U=Math.floor(E/65536),I=E-U*65536,E=p+U+65535,U=Math.floor(E/65536),p=E-U*65536,E=g+U+65535,U=Math.floor(E/65536),g=E-U*65536,E=B+U+65535,U=Math.floor(E/65536),B=E-U*65536,E=Y+U+65535,U=Math.floor(E/65536),Y=E-U*65536,E=te+U+65535,U=Math.floor(E/65536),te=E-U*65536,Z+=U-1+37*(U-1),U=1,E=Z+U+65535,U=Math.floor(E/65536),Z=E-U*65536,E=ne+U+65535,U=Math.floor(E/65536),ne=E-U*65536,E=q+U+65535,U=Math.floor(E/65536),q=E-U*65536,E=b+U+65535,U=Math.floor(E/65536),b=E-U*65536,E=l+U+65535,U=Math.floor(E/65536),l=E-U*65536,E=d+U+65535,U=Math.floor(E/65536),d=E-U*65536,E=m+U+65535,U=Math.floor(E/65536),m=E-U*65536,E=A+U+65535,U=Math.floor(E/65536),A=E-U*65536,E=D+U+65535,U=Math.floor(E/65536),D=E-U*65536,E=R+U+65535,U=Math.floor(E/65536),R=E-U*65536,E=I+U+65535,U=Math.floor(E/65536),I=E-U*65536,E=p+U+65535,U=Math.floor(E/65536),p=E-U*65536,E=g+U+65535,U=Math.floor(E/65536),g=E-U*65536,E=B+U+65535,U=Math.floor(E/65536),B=E-U*65536,E=Y+U+65535,U=Math.floor(E/65536),Y=E-U*65536,E=te+U+65535,U=Math.floor(E/65536),te=E-U*65536,Z+=U-1+37*(U-1),k[0]=Z,k[1]=ne,k[2]=q,k[3]=b,k[4]=l,k[5]=d,k[6]=m,k[7]=A,k[8]=D,k[9]=R,k[10]=I,k[11]=p,k[12]=g,k[13]=B,k[14]=Y,k[15]=te}function v(k,L){y(k,L,L)}function w(k,L){const $=n();for(let E=0;E<16;E++)$[E]=L[E];for(let E=253;E>=0;E--)v($,$),E!==2&&E!==4&&y($,$,L);for(let E=0;E<16;E++)k[E]=$[E]}function C(k,L){const $=new Uint8Array(32),E=new Float64Array(80),U=n(),Z=n(),ne=n(),q=n(),b=n(),l=n();for(let D=0;D<31;D++)$[D]=k[D];$[31]=k[31]&127|64,$[0]&=248,c(E,L);for(let D=0;D<16;D++)Z[D]=E[D];U[0]=q[0]=1;for(let D=254;D>=0;--D){const R=$[D>>>3]>>>(D&7)&1;a(U,Z,R),a(ne,q,R),f(b,U,ne),h(U,U,ne),f(ne,Z,q),h(Z,Z,q),v(q,b),v(l,U),y(U,ne,U),y(ne,Z,b),f(b,U,ne),h(U,U,ne),v(Z,U),h(ne,q,l),y(U,ne,s),f(U,U,q),y(ne,ne,U),y(U,q,l),y(q,Z,E),v(Z,b),a(U,Z,R),a(ne,q,R)}for(let D=0;D<16;D++)E[D+16]=U[D],E[D+32]=ne[D],E[D+48]=Z[D],E[D+64]=q[D];const d=E.subarray(32),m=E.subarray(16);w(d,d),y(m,m,d);const A=new Uint8Array(32);return u(A,m),A}e.scalarMult=C;function N(k){return C(k,i)}e.scalarMultBase=N;function T(k){if(k.length!==e.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${e.SECRET_KEY_LENGTH} bytes`);const L=new Uint8Array(k);return{publicKey:N(L),secretKey:L}}e.generateKeyPairFromSeed=T;function x(k){const L=(0,t.randomBytes)(32,k),$=T(L);return(0,r.wipe)(L),$}e.generateKeyPair=x;function O(k,L,$=!1){if(k.length!==e.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(L.length!==e.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const E=C(k,L);if($){let U=0;for(let Z=0;Z<E.length;Z++)U|=E[Z];if(U===0)throw new Error("X25519: invalid shared key")}return E}e.sharedKey=O})(fm);function B4(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}function I0(e,t){t||(t=e.reduce((i,s)=>i+s.length,0));const r=B4(t);let n=0;for(const i of e)r.set(i,n),n+=i.length;return r}function L4(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const b2=L4("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),x0=L4("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=B4(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),U4={utf8:b2,"utf-8":b2,hex:wd.base16,latin1:x0,ascii:x0,binary:x0,...wd};function Hn(e,t="utf8"){const r=U4[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}function sn(e,t="utf8"){const r=U4[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}var $4={};const VN="elliptic",WN="6.5.7",YN="EC cryptography",QN="lib/elliptic.js",JN=["lib"],XN={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},ZN={type:"git",url:"git@github.com:indutny/elliptic"},eP=["EC","Elliptic","curve","Cryptography"],tP="Fedor Indutny <fedor@indutny.com>",rP="MIT",nP={url:"https://github.com/indutny/elliptic/issues"},iP="https://github.com/indutny/elliptic",sP={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},oP={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},aP={name:VN,version:WN,description:YN,main:QN,files:JN,scripts:XN,repository:ZN,keywords:eP,author:tP,license:rP,bugs:nP,homepage:iP,devDependencies:sP,dependencies:oP};var Cn={},dm={exports:{}};dm.exports;(function(e){(function(t,r){function n(q,b){if(!q)throw new Error(b||"Assertion failed")}function i(q,b){q.super_=b;var l=function(){};l.prototype=b.prototype,q.prototype=new l,q.prototype.constructor=q}function s(q,b,l){if(s.isBN(q))return q;this.negative=0,this.words=null,this.length=0,this.red=null,q!==null&&((b==="le"||b==="be")&&(l=b,b=10),this._init(q||0,b||10,l||"be"))}typeof t=="object"?t.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=sm.Buffer}catch{}s.isBN=function(b){return b instanceof s?!0:b!==null&&typeof b=="object"&&b.constructor.wordSize===s.wordSize&&Array.isArray(b.words)},s.max=function(b,l){return b.cmp(l)>0?b:l},s.min=function(b,l){return b.cmp(l)<0?b:l},s.prototype._init=function(b,l,d){if(typeof b=="number")return this._initNumber(b,l,d);if(typeof b=="object")return this._initArray(b,l,d);l==="hex"&&(l=16),n(l===(l|0)&&l>=2&&l<=36),b=b.toString().replace(/\s+/g,"");var m=0;b[0]==="-"&&(m++,this.negative=1),m<b.length&&(l===16?this._parseHex(b,m,d):(this._parseBase(b,l,m),d==="le"&&this._initArray(this.toArray(),l,d)))},s.prototype._initNumber=function(b,l,d){b<0&&(this.negative=1,b=-b),b<67108864?(this.words=[b&67108863],this.length=1):b<4503599627370496?(this.words=[b&67108863,b/67108864&67108863],this.length=2):(n(b<9007199254740992),this.words=[b&67108863,b/67108864&67108863,1],this.length=3),d==="le"&&this._initArray(this.toArray(),l,d)},s.prototype._initArray=function(b,l,d){if(n(typeof b.length=="number"),b.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(b.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var A,D,R=0;if(d==="be")for(m=b.length-1,A=0;m>=0;m-=3)D=b[m]|b[m-1]<<8|b[m-2]<<16,this.words[A]|=D<<R&67108863,this.words[A+1]=D>>>26-R&67108863,R+=24,R>=26&&(R-=26,A++);else if(d==="le")for(m=0,A=0;m<b.length;m+=3)D=b[m]|b[m+1]<<8|b[m+2]<<16,this.words[A]|=D<<R&67108863,this.words[A+1]=D>>>26-R&67108863,R+=24,R>=26&&(R-=26,A++);return this.strip()};function a(q,b){var l=q.charCodeAt(b);return l>=65&&l<=70?l-55:l>=97&&l<=102?l-87:l-48&15}function u(q,b,l){var d=a(q,l);return l-1>=b&&(d|=a(q,l-1)<<4),d}s.prototype._parseHex=function(b,l,d){this.length=Math.ceil((b.length-l)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var A=0,D=0,R;if(d==="be")for(m=b.length-1;m>=l;m-=2)R=u(b,l,m)<<A,this.words[D]|=R&67108863,A>=18?(A-=18,D+=1,this.words[D]|=R>>>26):A+=8;else{var I=b.length-l;for(m=I%2===0?l+1:l;m<b.length;m+=2)R=u(b,l,m)<<A,this.words[D]|=R&67108863,A>=18?(A-=18,D+=1,this.words[D]|=R>>>26):A+=8}this.strip()};function c(q,b,l,d){for(var m=0,A=Math.min(q.length,l),D=b;D<A;D++){var R=q.charCodeAt(D)-48;m*=d,R>=49?m+=R-49+10:R>=17?m+=R-17+10:m+=R}return m}s.prototype._parseBase=function(b,l,d){this.words=[0],this.length=1;for(var m=0,A=1;A<=67108863;A*=l)m++;m--,A=A/l|0;for(var D=b.length-d,R=D%m,I=Math.min(D,D-R)+d,p=0,g=d;g<I;g+=m)p=c(b,g,g+m,l),this.imuln(A),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(R!==0){var B=1;for(p=c(b,g,b.length,l),g=0;g<R;g++)B*=l;this.imuln(B),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this.strip()},s.prototype.copy=function(b){b.words=new Array(this.length);for(var l=0;l<this.length;l++)b.words[l]=this.words[l];b.length=this.length,b.negative=this.negative,b.red=this.red},s.prototype.clone=function(){var b=new s(null);return this.copy(b),b},s.prototype._expand=function(b){for(;this.length<b;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(b,l){b=b||10,l=l|0||1;var d;if(b===16||b==="hex"){d="";for(var m=0,A=0,D=0;D<this.length;D++){var R=this.words[D],I=((R<<m|A)&16777215).toString(16);A=R>>>24-m&16777215,A!==0||D!==this.length-1?d=f[6-I.length]+I+d:d=I+d,m+=2,m>=26&&(m-=26,D--)}for(A!==0&&(d=A.toString(16)+d);d.length%l!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}if(b===(b|0)&&b>=2&&b<=36){var p=h[b],g=y[b];d="";var B=this.clone();for(B.negative=0;!B.isZero();){var Y=B.modn(g).toString(b);B=B.idivn(g),B.isZero()?d=Y+d:d=f[p-Y.length]+Y+d}for(this.isZero()&&(d="0"+d);d.length%l!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var b=this.words[0];return this.length===2?b+=this.words[1]*67108864:this.length===3&&this.words[2]===1?b+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-b:b},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(b,l){return n(typeof o<"u"),this.toArrayLike(o,b,l)},s.prototype.toArray=function(b,l){return this.toArrayLike(Array,b,l)},s.prototype.toArrayLike=function(b,l,d){var m=this.byteLength(),A=d||Math.max(1,m);n(m<=A,"byte array longer than desired length"),n(A>0,"Requested array length <= 0"),this.strip();var D=l==="le",R=new b(A),I,p,g=this.clone();if(D){for(p=0;!g.isZero();p++)I=g.andln(255),g.iushrn(8),R[p]=I;for(;p<A;p++)R[p]=0}else{for(p=0;p<A-m;p++)R[p]=0;for(p=0;!g.isZero();p++)I=g.andln(255),g.iushrn(8),R[A-p-1]=I}return R},Math.clz32?s.prototype._countBits=function(b){return 32-Math.clz32(b)}:s.prototype._countBits=function(b){var l=b,d=0;return l>=4096&&(d+=13,l>>>=13),l>=64&&(d+=7,l>>>=7),l>=8&&(d+=4,l>>>=4),l>=2&&(d+=2,l>>>=2),d+l},s.prototype._zeroBits=function(b){if(b===0)return 26;var l=b,d=0;return l&8191||(d+=13,l>>>=13),l&127||(d+=7,l>>>=7),l&15||(d+=4,l>>>=4),l&3||(d+=2,l>>>=2),l&1||d++,d},s.prototype.bitLength=function(){var b=this.words[this.length-1],l=this._countBits(b);return(this.length-1)*26+l};function v(q){for(var b=new Array(q.bitLength()),l=0;l<b.length;l++){var d=l/26|0,m=l%26;b[l]=(q.words[d]&1<<m)>>>m}return b}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var b=0,l=0;l<this.length;l++){var d=this._zeroBits(this.words[l]);if(b+=d,d!==26)break}return b},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(b){return this.negative!==0?this.abs().inotn(b).iaddn(1):this.clone()},s.prototype.fromTwos=function(b){return this.testn(b-1)?this.notn(b).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(b){for(;this.length<b.length;)this.words[this.length++]=0;for(var l=0;l<b.length;l++)this.words[l]=this.words[l]|b.words[l];return this.strip()},s.prototype.ior=function(b){return n((this.negative|b.negative)===0),this.iuor(b)},s.prototype.or=function(b){return this.length>b.length?this.clone().ior(b):b.clone().ior(this)},s.prototype.uor=function(b){return this.length>b.length?this.clone().iuor(b):b.clone().iuor(this)},s.prototype.iuand=function(b){var l;this.length>b.length?l=b:l=this;for(var d=0;d<l.length;d++)this.words[d]=this.words[d]&b.words[d];return this.length=l.length,this.strip()},s.prototype.iand=function(b){return n((this.negative|b.negative)===0),this.iuand(b)},s.prototype.and=function(b){return this.length>b.length?this.clone().iand(b):b.clone().iand(this)},s.prototype.uand=function(b){return this.length>b.length?this.clone().iuand(b):b.clone().iuand(this)},s.prototype.iuxor=function(b){var l,d;this.length>b.length?(l=this,d=b):(l=b,d=this);for(var m=0;m<d.length;m++)this.words[m]=l.words[m]^d.words[m];if(this!==l)for(;m<l.length;m++)this.words[m]=l.words[m];return this.length=l.length,this.strip()},s.prototype.ixor=function(b){return n((this.negative|b.negative)===0),this.iuxor(b)},s.prototype.xor=function(b){return this.length>b.length?this.clone().ixor(b):b.clone().ixor(this)},s.prototype.uxor=function(b){return this.length>b.length?this.clone().iuxor(b):b.clone().iuxor(this)},s.prototype.inotn=function(b){n(typeof b=="number"&&b>=0);var l=Math.ceil(b/26)|0,d=b%26;this._expand(l),d>0&&l--;for(var m=0;m<l;m++)this.words[m]=~this.words[m]&67108863;return d>0&&(this.words[m]=~this.words[m]&67108863>>26-d),this.strip()},s.prototype.notn=function(b){return this.clone().inotn(b)},s.prototype.setn=function(b,l){n(typeof b=="number"&&b>=0);var d=b/26|0,m=b%26;return this._expand(d+1),l?this.words[d]=this.words[d]|1<<m:this.words[d]=this.words[d]&~(1<<m),this.strip()},s.prototype.iadd=function(b){var l;if(this.negative!==0&&b.negative===0)return this.negative=0,l=this.isub(b),this.negative^=1,this._normSign();if(this.negative===0&&b.negative!==0)return b.negative=0,l=this.isub(b),b.negative=1,l._normSign();var d,m;this.length>b.length?(d=this,m=b):(d=b,m=this);for(var A=0,D=0;D<m.length;D++)l=(d.words[D]|0)+(m.words[D]|0)+A,this.words[D]=l&67108863,A=l>>>26;for(;A!==0&&D<d.length;D++)l=(d.words[D]|0)+A,this.words[D]=l&67108863,A=l>>>26;if(this.length=d.length,A!==0)this.words[this.length]=A,this.length++;else if(d!==this)for(;D<d.length;D++)this.words[D]=d.words[D];return this},s.prototype.add=function(b){var l;return b.negative!==0&&this.negative===0?(b.negative=0,l=this.sub(b),b.negative^=1,l):b.negative===0&&this.negative!==0?(this.negative=0,l=b.sub(this),this.negative=1,l):this.length>b.length?this.clone().iadd(b):b.clone().iadd(this)},s.prototype.isub=function(b){if(b.negative!==0){b.negative=0;var l=this.iadd(b);return b.negative=1,l._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(b),this.negative=1,this._normSign();var d=this.cmp(b);if(d===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,A;d>0?(m=this,A=b):(m=b,A=this);for(var D=0,R=0;R<A.length;R++)l=(m.words[R]|0)-(A.words[R]|0)+D,D=l>>26,this.words[R]=l&67108863;for(;D!==0&&R<m.length;R++)l=(m.words[R]|0)+D,D=l>>26,this.words[R]=l&67108863;if(D===0&&R<m.length&&m!==this)for(;R<m.length;R++)this.words[R]=m.words[R];return this.length=Math.max(this.length,R),m!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(b){return this.clone().isub(b)};function w(q,b,l){l.negative=b.negative^q.negative;var d=q.length+b.length|0;l.length=d,d=d-1|0;var m=q.words[0]|0,A=b.words[0]|0,D=m*A,R=D&67108863,I=D/67108864|0;l.words[0]=R;for(var p=1;p<d;p++){for(var g=I>>>26,B=I&67108863,Y=Math.min(p,b.length-1),te=Math.max(0,p-q.length+1);te<=Y;te++){var P=p-te|0;m=q.words[P]|0,A=b.words[te]|0,D=m*A+B,g+=D/67108864|0,B=D&67108863}l.words[p]=B|0,I=g|0}return I!==0?l.words[p]=I|0:l.length--,l.strip()}var C=function(b,l,d){var m=b.words,A=l.words,D=d.words,R=0,I,p,g,B=m[0]|0,Y=B&8191,te=B>>>13,P=m[1]|0,J=P&8191,j=P>>>13,K=m[2]|0,G=K&8191,S=K>>>13,H=m[3]|0,re=H&8191,ie=H>>>13,ae=m[4]|0,pe=ae&8191,de=ae>>>13,Oe=m[5]|0,Le=Oe&8191,ve=Oe>>>13,xe=m[6]|0,Ee=xe&8191,le=xe>>>13,we=m[7]|0,_e=we&8191,ce=we>>>13,be=m[8]|0,F=be&8191,_=be>>>13,M=m[9]|0,z=M&8191,W=M>>>13,Q=A[0]|0,ee=Q&8191,oe=Q>>>13,he=A[1]|0,Ce=he&8191,me=he>>>13,De=A[2]|0,Je=De&8191,ke=De>>>13,at=A[3]|0,ut=at&8191,Se=at>>>13,Ue=A[4]|0,ze=Ue&8191,Ae=Ue>>>13,qe=A[5]|0,$e=qe&8191,Te=qe>>>13,Ke=A[6]|0,Ge=Ke&8191,Ne=Ke>>>13,Ve=A[7]|0,je=Ve&8191,Ie=Ve>>>13,Fe=A[8]|0,We=Fe&8191,Pe=Fe>>>13,ft=A[9]|0,dt=ft&8191,He=ft>>>13;d.negative=b.negative^l.negative,d.length=19,I=Math.imul(Y,ee),p=Math.imul(Y,oe),p=p+Math.imul(te,ee)|0,g=Math.imul(te,oe);var et=(R+I|0)+((p&8191)<<13)|0;R=(g+(p>>>13)|0)+(et>>>26)|0,et&=67108863,I=Math.imul(J,ee),p=Math.imul(J,oe),p=p+Math.imul(j,ee)|0,g=Math.imul(j,oe),I=I+Math.imul(Y,Ce)|0,p=p+Math.imul(Y,me)|0,p=p+Math.imul(te,Ce)|0,g=g+Math.imul(te,me)|0;var qr=(R+I|0)+((p&8191)<<13)|0;R=(g+(p>>>13)|0)+(qr>>>26)|0,qr&=67108863,I=Math.imul(G,ee),p=Math.imul(G,oe),p=p+Math.imul(S,ee)|0,g=Math.imul(S,oe),I=I+Math.imul(J,Ce)|0,p=p+Math.imul(J,me)|0,p=p+Math.imul(j,Ce)|0,g=g+Math.imul(j,me)|0,I=I+Math.imul(Y,Je)|0,p=p+Math.imul(Y,ke)|0,p=p+Math.imul(te,Je)|0,g=g+Math.imul(te,ke)|0;var jr=(R+I|0)+((p&8191)<<13)|0;R=(g+(p>>>13)|0)+(jr>>>26)|0,jr&=67108863,I=Math.imul(re,ee),p=Math.imul(re,oe),p=p+Math.imul(ie,ee)|0,g=Math.imul(ie,oe),I=I+Math.imul(G,Ce)|0,p=p+Math.imul(G,me)|0,p=p+Math.imul(S,Ce)|0,g=g+Math.imul(S,me)|0,I=I+Math.imul(J,Je)|0,p=p+Math.imul(J,ke)|0,p=p+Math.imul(j,Je)|0,g=g+Math.imul(j,ke)|0,I=I+Math.imul(Y,ut)|0,p=p+Math.imul(Y,Se)|0,p=p+Math.imul(te,ut)|0,g=g+Math.imul(te,Se)|0;var Hr=(R+I|0)+((p&8191)<<13)|0;R=(g+(p>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,I=Math.imul(pe,ee),p=Math.imul(pe,oe),p=p+Math.imul(de,ee)|0,g=Math.imul(de,oe),I=I+Math.imul(re,Ce)|0,p=p+Math.imul(re,me)|0,p=p+Math.imul(ie,Ce)|0,g=g+Math.imul(ie,me)|0,I=I+Math.imul(G,Je)|0,p=p+Math.imul(G,ke)|0,p=p+Math.imul(S,Je)|0,g=g+Math.imul(S,ke)|0,I=I+Math.imul(J,ut)|0,p=p+Math.imul(J,Se)|0,p=p+Math.imul(j,ut)|0,g=g+Math.imul(j,Se)|0,I=I+Math.imul(Y,ze)|0,p=p+Math.imul(Y,Ae)|0,p=p+Math.imul(te,ze)|0,g=g+Math.imul(te,Ae)|0;var Kr=(R+I|0)+((p&8191)<<13)|0;R=(g+(p>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,I=Math.imul(Le,ee),p=Math.imul(Le,oe),p=p+Math.imul(ve,ee)|0,g=Math.imul(ve,oe),I=I+Math.imul(pe,Ce)|0,p=p+Math.imul(pe,me)|0,p=p+Math.imul(de,Ce)|0,g=g+Math.imul(de,me)|0,I=I+Math.imul(re,Je)|0,p=p+Math.imul(re,ke)|0,p=p+Math.imul(ie,Je)|0,g=g+Math.imul(ie,ke)|0,I=I+Math.imul(G,ut)|0,p=p+Math.imul(G,Se)|0,p=p+Math.imul(S,ut)|0,g=g+Math.imul(S,Se)|0,I=I+Math.imul(J,ze)|0,p=p+Math.imul(J,Ae)|0,p=p+Math.imul(j,ze)|0,g=g+Math.imul(j,Ae)|0,I=I+Math.imul(Y,$e)|0,p=p+Math.imul(Y,Te)|0,p=p+Math.imul(te,$e)|0,g=g+Math.imul(te,Te)|0;var Gr=(R+I|0)+((p&8191)<<13)|0;R=(g+(p>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,I=Math.imul(Ee,ee),p=Math.imul(Ee,oe),p=p+Math.imul(le,ee)|0,g=Math.imul(le,oe),I=I+Math.imul(Le,Ce)|0,p=p+Math.imul(Le,me)|0,p=p+Math.imul(ve,Ce)|0,g=g+Math.imul(ve,me)|0,I=I+Math.imul(pe,Je)|0,p=p+Math.imul(pe,ke)|0,p=p+Math.imul(de,Je)|0,g=g+Math.imul(de,ke)|0,I=I+Math.imul(re,ut)|0,p=p+Math.imul(re,Se)|0,p=p+Math.imul(ie,ut)|0,g=g+Math.imul(ie,Se)|0,I=I+Math.imul(G,ze)|0,p=p+Math.imul(G,Ae)|0,p=p+Math.imul(S,ze)|0,g=g+Math.imul(S,Ae)|0,I=I+Math.imul(J,$e)|0,p=p+Math.imul(J,Te)|0,p=p+Math.imul(j,$e)|0,g=g+Math.imul(j,Te)|0,I=I+Math.imul(Y,Ge)|0,p=p+Math.imul(Y,Ne)|0,p=p+Math.imul(te,Ge)|0,g=g+Math.imul(te,Ne)|0;var Gt=(R+I|0)+((p&8191)<<13)|0;R=(g+(p>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,I=Math.imul(_e,ee),p=Math.imul(_e,oe),p=p+Math.imul(ce,ee)|0,g=Math.imul(ce,oe),I=I+Math.imul(Ee,Ce)|0,p=p+Math.imul(Ee,me)|0,p=p+Math.imul(le,Ce)|0,g=g+Math.imul(le,me)|0,I=I+Math.imul(Le,Je)|0,p=p+Math.imul(Le,ke)|0,p=p+Math.imul(ve,Je)|0,g=g+Math.imul(ve,ke)|0,I=I+Math.imul(pe,ut)|0,p=p+Math.imul(pe,Se)|0,p=p+Math.imul(de,ut)|0,g=g+Math.imul(de,Se)|0,I=I+Math.imul(re,ze)|0,p=p+Math.imul(re,Ae)|0,p=p+Math.imul(ie,ze)|0,g=g+Math.imul(ie,Ae)|0,I=I+Math.imul(G,$e)|0,p=p+Math.imul(G,Te)|0,p=p+Math.imul(S,$e)|0,g=g+Math.imul(S,Te)|0,I=I+Math.imul(J,Ge)|0,p=p+Math.imul(J,Ne)|0,p=p+Math.imul(j,Ge)|0,g=g+Math.imul(j,Ne)|0,I=I+Math.imul(Y,je)|0,p=p+Math.imul(Y,Ie)|0,p=p+Math.imul(te,je)|0,g=g+Math.imul(te,Ie)|0;var Yi=(R+I|0)+((p&8191)<<13)|0;R=(g+(p>>>13)|0)+(Yi>>>26)|0,Yi&=67108863,I=Math.imul(F,ee),p=Math.imul(F,oe),p=p+Math.imul(_,ee)|0,g=Math.imul(_,oe),I=I+Math.imul(_e,Ce)|0,p=p+Math.imul(_e,me)|0,p=p+Math.imul(ce,Ce)|0,g=g+Math.imul(ce,me)|0,I=I+Math.imul(Ee,Je)|0,p=p+Math.imul(Ee,ke)|0,p=p+Math.imul(le,Je)|0,g=g+Math.imul(le,ke)|0,I=I+Math.imul(Le,ut)|0,p=p+Math.imul(Le,Se)|0,p=p+Math.imul(ve,ut)|0,g=g+Math.imul(ve,Se)|0,I=I+Math.imul(pe,ze)|0,p=p+Math.imul(pe,Ae)|0,p=p+Math.imul(de,ze)|0,g=g+Math.imul(de,Ae)|0,I=I+Math.imul(re,$e)|0,p=p+Math.imul(re,Te)|0,p=p+Math.imul(ie,$e)|0,g=g+Math.imul(ie,Te)|0,I=I+Math.imul(G,Ge)|0,p=p+Math.imul(G,Ne)|0,p=p+Math.imul(S,Ge)|0,g=g+Math.imul(S,Ne)|0,I=I+Math.imul(J,je)|0,p=p+Math.imul(J,Ie)|0,p=p+Math.imul(j,je)|0,g=g+Math.imul(j,Ie)|0,I=I+Math.imul(Y,We)|0,p=p+Math.imul(Y,Pe)|0,p=p+Math.imul(te,We)|0,g=g+Math.imul(te,Pe)|0;var Qi=(R+I|0)+((p&8191)<<13)|0;R=(g+(p>>>13)|0)+(Qi>>>26)|0,Qi&=67108863,I=Math.imul(z,ee),p=Math.imul(z,oe),p=p+Math.imul(W,ee)|0,g=Math.imul(W,oe),I=I+Math.imul(F,Ce)|0,p=p+Math.imul(F,me)|0,p=p+Math.imul(_,Ce)|0,g=g+Math.imul(_,me)|0,I=I+Math.imul(_e,Je)|0,p=p+Math.imul(_e,ke)|0,p=p+Math.imul(ce,Je)|0,g=g+Math.imul(ce,ke)|0,I=I+Math.imul(Ee,ut)|0,p=p+Math.imul(Ee,Se)|0,p=p+Math.imul(le,ut)|0,g=g+Math.imul(le,Se)|0,I=I+Math.imul(Le,ze)|0,p=p+Math.imul(Le,Ae)|0,p=p+Math.imul(ve,ze)|0,g=g+Math.imul(ve,Ae)|0,I=I+Math.imul(pe,$e)|0,p=p+Math.imul(pe,Te)|0,p=p+Math.imul(de,$e)|0,g=g+Math.imul(de,Te)|0,I=I+Math.imul(re,Ge)|0,p=p+Math.imul(re,Ne)|0,p=p+Math.imul(ie,Ge)|0,g=g+Math.imul(ie,Ne)|0,I=I+Math.imul(G,je)|0,p=p+Math.imul(G,Ie)|0,p=p+Math.imul(S,je)|0,g=g+Math.imul(S,Ie)|0,I=I+Math.imul(J,We)|0,p=p+Math.imul(J,Pe)|0,p=p+Math.imul(j,We)|0,g=g+Math.imul(j,Pe)|0,I=I+Math.imul(Y,dt)|0,p=p+Math.imul(Y,He)|0,p=p+Math.imul(te,dt)|0,g=g+Math.imul(te,He)|0;var Ji=(R+I|0)+((p&8191)<<13)|0;R=(g+(p>>>13)|0)+(Ji>>>26)|0,Ji&=67108863,I=Math.imul(z,Ce),p=Math.imul(z,me),p=p+Math.imul(W,Ce)|0,g=Math.imul(W,me),I=I+Math.imul(F,Je)|0,p=p+Math.imul(F,ke)|0,p=p+Math.imul(_,Je)|0,g=g+Math.imul(_,ke)|0,I=I+Math.imul(_e,ut)|0,p=p+Math.imul(_e,Se)|0,p=p+Math.imul(ce,ut)|0,g=g+Math.imul(ce,Se)|0,I=I+Math.imul(Ee,ze)|0,p=p+Math.imul(Ee,Ae)|0,p=p+Math.imul(le,ze)|0,g=g+Math.imul(le,Ae)|0,I=I+Math.imul(Le,$e)|0,p=p+Math.imul(Le,Te)|0,p=p+Math.imul(ve,$e)|0,g=g+Math.imul(ve,Te)|0,I=I+Math.imul(pe,Ge)|0,p=p+Math.imul(pe,Ne)|0,p=p+Math.imul(de,Ge)|0,g=g+Math.imul(de,Ne)|0,I=I+Math.imul(re,je)|0,p=p+Math.imul(re,Ie)|0,p=p+Math.imul(ie,je)|0,g=g+Math.imul(ie,Ie)|0,I=I+Math.imul(G,We)|0,p=p+Math.imul(G,Pe)|0,p=p+Math.imul(S,We)|0,g=g+Math.imul(S,Pe)|0,I=I+Math.imul(J,dt)|0,p=p+Math.imul(J,He)|0,p=p+Math.imul(j,dt)|0,g=g+Math.imul(j,He)|0;var Xi=(R+I|0)+((p&8191)<<13)|0;R=(g+(p>>>13)|0)+(Xi>>>26)|0,Xi&=67108863,I=Math.imul(z,Je),p=Math.imul(z,ke),p=p+Math.imul(W,Je)|0,g=Math.imul(W,ke),I=I+Math.imul(F,ut)|0,p=p+Math.imul(F,Se)|0,p=p+Math.imul(_,ut)|0,g=g+Math.imul(_,Se)|0,I=I+Math.imul(_e,ze)|0,p=p+Math.imul(_e,Ae)|0,p=p+Math.imul(ce,ze)|0,g=g+Math.imul(ce,Ae)|0,I=I+Math.imul(Ee,$e)|0,p=p+Math.imul(Ee,Te)|0,p=p+Math.imul(le,$e)|0,g=g+Math.imul(le,Te)|0,I=I+Math.imul(Le,Ge)|0,p=p+Math.imul(Le,Ne)|0,p=p+Math.imul(ve,Ge)|0,g=g+Math.imul(ve,Ne)|0,I=I+Math.imul(pe,je)|0,p=p+Math.imul(pe,Ie)|0,p=p+Math.imul(de,je)|0,g=g+Math.imul(de,Ie)|0,I=I+Math.imul(re,We)|0,p=p+Math.imul(re,Pe)|0,p=p+Math.imul(ie,We)|0,g=g+Math.imul(ie,Pe)|0,I=I+Math.imul(G,dt)|0,p=p+Math.imul(G,He)|0,p=p+Math.imul(S,dt)|0,g=g+Math.imul(S,He)|0;var Zi=(R+I|0)+((p&8191)<<13)|0;R=(g+(p>>>13)|0)+(Zi>>>26)|0,Zi&=67108863,I=Math.imul(z,ut),p=Math.imul(z,Se),p=p+Math.imul(W,ut)|0,g=Math.imul(W,Se),I=I+Math.imul(F,ze)|0,p=p+Math.imul(F,Ae)|0,p=p+Math.imul(_,ze)|0,g=g+Math.imul(_,Ae)|0,I=I+Math.imul(_e,$e)|0,p=p+Math.imul(_e,Te)|0,p=p+Math.imul(ce,$e)|0,g=g+Math.imul(ce,Te)|0,I=I+Math.imul(Ee,Ge)|0,p=p+Math.imul(Ee,Ne)|0,p=p+Math.imul(le,Ge)|0,g=g+Math.imul(le,Ne)|0,I=I+Math.imul(Le,je)|0,p=p+Math.imul(Le,Ie)|0,p=p+Math.imul(ve,je)|0,g=g+Math.imul(ve,Ie)|0,I=I+Math.imul(pe,We)|0,p=p+Math.imul(pe,Pe)|0,p=p+Math.imul(de,We)|0,g=g+Math.imul(de,Pe)|0,I=I+Math.imul(re,dt)|0,p=p+Math.imul(re,He)|0,p=p+Math.imul(ie,dt)|0,g=g+Math.imul(ie,He)|0;var Dn=(R+I|0)+((p&8191)<<13)|0;R=(g+(p>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,I=Math.imul(z,ze),p=Math.imul(z,Ae),p=p+Math.imul(W,ze)|0,g=Math.imul(W,Ae),I=I+Math.imul(F,$e)|0,p=p+Math.imul(F,Te)|0,p=p+Math.imul(_,$e)|0,g=g+Math.imul(_,Te)|0,I=I+Math.imul(_e,Ge)|0,p=p+Math.imul(_e,Ne)|0,p=p+Math.imul(ce,Ge)|0,g=g+Math.imul(ce,Ne)|0,I=I+Math.imul(Ee,je)|0,p=p+Math.imul(Ee,Ie)|0,p=p+Math.imul(le,je)|0,g=g+Math.imul(le,Ie)|0,I=I+Math.imul(Le,We)|0,p=p+Math.imul(Le,Pe)|0,p=p+Math.imul(ve,We)|0,g=g+Math.imul(ve,Pe)|0,I=I+Math.imul(pe,dt)|0,p=p+Math.imul(pe,He)|0,p=p+Math.imul(de,dt)|0,g=g+Math.imul(de,He)|0;var es=(R+I|0)+((p&8191)<<13)|0;R=(g+(p>>>13)|0)+(es>>>26)|0,es&=67108863,I=Math.imul(z,$e),p=Math.imul(z,Te),p=p+Math.imul(W,$e)|0,g=Math.imul(W,Te),I=I+Math.imul(F,Ge)|0,p=p+Math.imul(F,Ne)|0,p=p+Math.imul(_,Ge)|0,g=g+Math.imul(_,Ne)|0,I=I+Math.imul(_e,je)|0,p=p+Math.imul(_e,Ie)|0,p=p+Math.imul(ce,je)|0,g=g+Math.imul(ce,Ie)|0,I=I+Math.imul(Ee,We)|0,p=p+Math.imul(Ee,Pe)|0,p=p+Math.imul(le,We)|0,g=g+Math.imul(le,Pe)|0,I=I+Math.imul(Le,dt)|0,p=p+Math.imul(Le,He)|0,p=p+Math.imul(ve,dt)|0,g=g+Math.imul(ve,He)|0;var ts=(R+I|0)+((p&8191)<<13)|0;R=(g+(p>>>13)|0)+(ts>>>26)|0,ts&=67108863,I=Math.imul(z,Ge),p=Math.imul(z,Ne),p=p+Math.imul(W,Ge)|0,g=Math.imul(W,Ne),I=I+Math.imul(F,je)|0,p=p+Math.imul(F,Ie)|0,p=p+Math.imul(_,je)|0,g=g+Math.imul(_,Ie)|0,I=I+Math.imul(_e,We)|0,p=p+Math.imul(_e,Pe)|0,p=p+Math.imul(ce,We)|0,g=g+Math.imul(ce,Pe)|0,I=I+Math.imul(Ee,dt)|0,p=p+Math.imul(Ee,He)|0,p=p+Math.imul(le,dt)|0,g=g+Math.imul(le,He)|0;var _r=(R+I|0)+((p&8191)<<13)|0;R=(g+(p>>>13)|0)+(_r>>>26)|0,_r&=67108863,I=Math.imul(z,je),p=Math.imul(z,Ie),p=p+Math.imul(W,je)|0,g=Math.imul(W,Ie),I=I+Math.imul(F,We)|0,p=p+Math.imul(F,Pe)|0,p=p+Math.imul(_,We)|0,g=g+Math.imul(_,Pe)|0,I=I+Math.imul(_e,dt)|0,p=p+Math.imul(_e,He)|0,p=p+Math.imul(ce,dt)|0,g=g+Math.imul(ce,He)|0;var rs=(R+I|0)+((p&8191)<<13)|0;R=(g+(p>>>13)|0)+(rs>>>26)|0,rs&=67108863,I=Math.imul(z,We),p=Math.imul(z,Pe),p=p+Math.imul(W,We)|0,g=Math.imul(W,Pe),I=I+Math.imul(F,dt)|0,p=p+Math.imul(F,He)|0,p=p+Math.imul(_,dt)|0,g=g+Math.imul(_,He)|0;var ns=(R+I|0)+((p&8191)<<13)|0;R=(g+(p>>>13)|0)+(ns>>>26)|0,ns&=67108863,I=Math.imul(z,dt),p=Math.imul(z,He),p=p+Math.imul(W,dt)|0,g=Math.imul(W,He);var is=(R+I|0)+((p&8191)<<13)|0;return R=(g+(p>>>13)|0)+(is>>>26)|0,is&=67108863,D[0]=et,D[1]=qr,D[2]=jr,D[3]=Hr,D[4]=Kr,D[5]=Gr,D[6]=Gt,D[7]=Yi,D[8]=Qi,D[9]=Ji,D[10]=Xi,D[11]=Zi,D[12]=Dn,D[13]=es,D[14]=ts,D[15]=_r,D[16]=rs,D[17]=ns,D[18]=is,R!==0&&(D[19]=R,d.length++),d};Math.imul||(C=w);function N(q,b,l){l.negative=b.negative^q.negative,l.length=q.length+b.length;for(var d=0,m=0,A=0;A<l.length-1;A++){var D=m;m=0;for(var R=d&67108863,I=Math.min(A,b.length-1),p=Math.max(0,A-q.length+1);p<=I;p++){var g=A-p,B=q.words[g]|0,Y=b.words[p]|0,te=B*Y,P=te&67108863;D=D+(te/67108864|0)|0,P=P+R|0,R=P&67108863,D=D+(P>>>26)|0,m+=D>>>26,D&=67108863}l.words[A]=R,d=D,D=m}return d!==0?l.words[A]=d:l.length--,l.strip()}function T(q,b,l){var d=new x;return d.mulp(q,b,l)}s.prototype.mulTo=function(b,l){var d,m=this.length+b.length;return this.length===10&&b.length===10?d=C(this,b,l):m<63?d=w(this,b,l):m<1024?d=N(this,b,l):d=T(this,b,l),d};function x(q,b){this.x=q,this.y=b}x.prototype.makeRBT=function(b){for(var l=new Array(b),d=s.prototype._countBits(b)-1,m=0;m<b;m++)l[m]=this.revBin(m,d,b);return l},x.prototype.revBin=function(b,l,d){if(b===0||b===d-1)return b;for(var m=0,A=0;A<l;A++)m|=(b&1)<<l-A-1,b>>=1;return m},x.prototype.permute=function(b,l,d,m,A,D){for(var R=0;R<D;R++)m[R]=l[b[R]],A[R]=d[b[R]]},x.prototype.transform=function(b,l,d,m,A,D){this.permute(D,b,l,d,m,A);for(var R=1;R<A;R<<=1)for(var I=R<<1,p=Math.cos(2*Math.PI/I),g=Math.sin(2*Math.PI/I),B=0;B<A;B+=I)for(var Y=p,te=g,P=0;P<R;P++){var J=d[B+P],j=m[B+P],K=d[B+P+R],G=m[B+P+R],S=Y*K-te*G;G=Y*G+te*K,K=S,d[B+P]=J+K,m[B+P]=j+G,d[B+P+R]=J-K,m[B+P+R]=j-G,P!==I&&(S=p*Y-g*te,te=p*te+g*Y,Y=S)}},x.prototype.guessLen13b=function(b,l){var d=Math.max(l,b)|1,m=d&1,A=0;for(d=d/2|0;d;d=d>>>1)A++;return 1<<A+1+m},x.prototype.conjugate=function(b,l,d){if(!(d<=1))for(var m=0;m<d/2;m++){var A=b[m];b[m]=b[d-m-1],b[d-m-1]=A,A=l[m],l[m]=-l[d-m-1],l[d-m-1]=-A}},x.prototype.normalize13b=function(b,l){for(var d=0,m=0;m<l/2;m++){var A=Math.round(b[2*m+1]/l)*8192+Math.round(b[2*m]/l)+d;b[m]=A&67108863,A<67108864?d=0:d=A/67108864|0}return b},x.prototype.convert13b=function(b,l,d,m){for(var A=0,D=0;D<l;D++)A=A+(b[D]|0),d[2*D]=A&8191,A=A>>>13,d[2*D+1]=A&8191,A=A>>>13;for(D=2*l;D<m;++D)d[D]=0;n(A===0),n((A&-8192)===0)},x.prototype.stub=function(b){for(var l=new Array(b),d=0;d<b;d++)l[d]=0;return l},x.prototype.mulp=function(b,l,d){var m=2*this.guessLen13b(b.length,l.length),A=this.makeRBT(m),D=this.stub(m),R=new Array(m),I=new Array(m),p=new Array(m),g=new Array(m),B=new Array(m),Y=new Array(m),te=d.words;te.length=m,this.convert13b(b.words,b.length,R,m),this.convert13b(l.words,l.length,g,m),this.transform(R,D,I,p,m,A),this.transform(g,D,B,Y,m,A);for(var P=0;P<m;P++){var J=I[P]*B[P]-p[P]*Y[P];p[P]=I[P]*Y[P]+p[P]*B[P],I[P]=J}return this.conjugate(I,p,m),this.transform(I,p,te,D,m,A),this.conjugate(te,D,m),this.normalize13b(te,m),d.negative=b.negative^l.negative,d.length=b.length+l.length,d.strip()},s.prototype.mul=function(b){var l=new s(null);return l.words=new Array(this.length+b.length),this.mulTo(b,l)},s.prototype.mulf=function(b){var l=new s(null);return l.words=new Array(this.length+b.length),T(this,b,l)},s.prototype.imul=function(b){return this.clone().mulTo(b,this)},s.prototype.imuln=function(b){n(typeof b=="number"),n(b<67108864);for(var l=0,d=0;d<this.length;d++){var m=(this.words[d]|0)*b,A=(m&67108863)+(l&67108863);l>>=26,l+=m/67108864|0,l+=A>>>26,this.words[d]=A&67108863}return l!==0&&(this.words[d]=l,this.length++),this},s.prototype.muln=function(b){return this.clone().imuln(b)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(b){var l=v(b);if(l.length===0)return new s(1);for(var d=this,m=0;m<l.length&&l[m]===0;m++,d=d.sqr());if(++m<l.length)for(var A=d.sqr();m<l.length;m++,A=A.sqr())l[m]!==0&&(d=d.mul(A));return d},s.prototype.iushln=function(b){n(typeof b=="number"&&b>=0);var l=b%26,d=(b-l)/26,m=67108863>>>26-l<<26-l,A;if(l!==0){var D=0;for(A=0;A<this.length;A++){var R=this.words[A]&m,I=(this.words[A]|0)-R<<l;this.words[A]=I|D,D=R>>>26-l}D&&(this.words[A]=D,this.length++)}if(d!==0){for(A=this.length-1;A>=0;A--)this.words[A+d]=this.words[A];for(A=0;A<d;A++)this.words[A]=0;this.length+=d}return this.strip()},s.prototype.ishln=function(b){return n(this.negative===0),this.iushln(b)},s.prototype.iushrn=function(b,l,d){n(typeof b=="number"&&b>=0);var m;l?m=(l-l%26)/26:m=0;var A=b%26,D=Math.min((b-A)/26,this.length),R=67108863^67108863>>>A<<A,I=d;if(m-=D,m=Math.max(0,m),I){for(var p=0;p<D;p++)I.words[p]=this.words[p];I.length=D}if(D!==0)if(this.length>D)for(this.length-=D,p=0;p<this.length;p++)this.words[p]=this.words[p+D];else this.words[0]=0,this.length=1;var g=0;for(p=this.length-1;p>=0&&(g!==0||p>=m);p--){var B=this.words[p]|0;this.words[p]=g<<26-A|B>>>A,g=B&R}return I&&g!==0&&(I.words[I.length++]=g),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(b,l,d){return n(this.negative===0),this.iushrn(b,l,d)},s.prototype.shln=function(b){return this.clone().ishln(b)},s.prototype.ushln=function(b){return this.clone().iushln(b)},s.prototype.shrn=function(b){return this.clone().ishrn(b)},s.prototype.ushrn=function(b){return this.clone().iushrn(b)},s.prototype.testn=function(b){n(typeof b=="number"&&b>=0);var l=b%26,d=(b-l)/26,m=1<<l;if(this.length<=d)return!1;var A=this.words[d];return!!(A&m)},s.prototype.imaskn=function(b){n(typeof b=="number"&&b>=0);var l=b%26,d=(b-l)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=d)return this;if(l!==0&&d++,this.length=Math.min(d,this.length),l!==0){var m=67108863^67108863>>>l<<l;this.words[this.length-1]&=m}return this.strip()},s.prototype.maskn=function(b){return this.clone().imaskn(b)},s.prototype.iaddn=function(b){return n(typeof b=="number"),n(b<67108864),b<0?this.isubn(-b):this.negative!==0?this.length===1&&(this.words[0]|0)<b?(this.words[0]=b-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(b),this.negative=1,this):this._iaddn(b)},s.prototype._iaddn=function(b){this.words[0]+=b;for(var l=0;l<this.length&&this.words[l]>=67108864;l++)this.words[l]-=67108864,l===this.length-1?this.words[l+1]=1:this.words[l+1]++;return this.length=Math.max(this.length,l+1),this},s.prototype.isubn=function(b){if(n(typeof b=="number"),n(b<67108864),b<0)return this.iaddn(-b);if(this.negative!==0)return this.negative=0,this.iaddn(b),this.negative=1,this;if(this.words[0]-=b,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var l=0;l<this.length&&this.words[l]<0;l++)this.words[l]+=67108864,this.words[l+1]-=1;return this.strip()},s.prototype.addn=function(b){return this.clone().iaddn(b)},s.prototype.subn=function(b){return this.clone().isubn(b)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(b,l,d){var m=b.length+d,A;this._expand(m);var D,R=0;for(A=0;A<b.length;A++){D=(this.words[A+d]|0)+R;var I=(b.words[A]|0)*l;D-=I&67108863,R=(D>>26)-(I/67108864|0),this.words[A+d]=D&67108863}for(;A<this.length-d;A++)D=(this.words[A+d]|0)+R,R=D>>26,this.words[A+d]=D&67108863;if(R===0)return this.strip();for(n(R===-1),R=0,A=0;A<this.length;A++)D=-(this.words[A]|0)+R,R=D>>26,this.words[A]=D&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(b,l){var d=this.length-b.length,m=this.clone(),A=b,D=A.words[A.length-1]|0,R=this._countBits(D);d=26-R,d!==0&&(A=A.ushln(d),m.iushln(d),D=A.words[A.length-1]|0);var I=m.length-A.length,p;if(l!=="mod"){p=new s(null),p.length=I+1,p.words=new Array(p.length);for(var g=0;g<p.length;g++)p.words[g]=0}var B=m.clone()._ishlnsubmul(A,1,I);B.negative===0&&(m=B,p&&(p.words[I]=1));for(var Y=I-1;Y>=0;Y--){var te=(m.words[A.length+Y]|0)*67108864+(m.words[A.length+Y-1]|0);for(te=Math.min(te/D|0,67108863),m._ishlnsubmul(A,te,Y);m.negative!==0;)te--,m.negative=0,m._ishlnsubmul(A,1,Y),m.isZero()||(m.negative^=1);p&&(p.words[Y]=te)}return p&&p.strip(),m.strip(),l!=="div"&&d!==0&&m.iushrn(d),{div:p||null,mod:m}},s.prototype.divmod=function(b,l,d){if(n(!b.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var m,A,D;return this.negative!==0&&b.negative===0?(D=this.neg().divmod(b,l),l!=="mod"&&(m=D.div.neg()),l!=="div"&&(A=D.mod.neg(),d&&A.negative!==0&&A.iadd(b)),{div:m,mod:A}):this.negative===0&&b.negative!==0?(D=this.divmod(b.neg(),l),l!=="mod"&&(m=D.div.neg()),{div:m,mod:D.mod}):this.negative&b.negative?(D=this.neg().divmod(b.neg(),l),l!=="div"&&(A=D.mod.neg(),d&&A.negative!==0&&A.isub(b)),{div:D.div,mod:A}):b.length>this.length||this.cmp(b)<0?{div:new s(0),mod:this}:b.length===1?l==="div"?{div:this.divn(b.words[0]),mod:null}:l==="mod"?{div:null,mod:new s(this.modn(b.words[0]))}:{div:this.divn(b.words[0]),mod:new s(this.modn(b.words[0]))}:this._wordDiv(b,l)},s.prototype.div=function(b){return this.divmod(b,"div",!1).div},s.prototype.mod=function(b){return this.divmod(b,"mod",!1).mod},s.prototype.umod=function(b){return this.divmod(b,"mod",!0).mod},s.prototype.divRound=function(b){var l=this.divmod(b);if(l.mod.isZero())return l.div;var d=l.div.negative!==0?l.mod.isub(b):l.mod,m=b.ushrn(1),A=b.andln(1),D=d.cmp(m);return D<0||A===1&&D===0?l.div:l.div.negative!==0?l.div.isubn(1):l.div.iaddn(1)},s.prototype.modn=function(b){n(b<=67108863);for(var l=(1<<26)%b,d=0,m=this.length-1;m>=0;m--)d=(l*d+(this.words[m]|0))%b;return d},s.prototype.idivn=function(b){n(b<=67108863);for(var l=0,d=this.length-1;d>=0;d--){var m=(this.words[d]|0)+l*67108864;this.words[d]=m/b|0,l=m%b}return this.strip()},s.prototype.divn=function(b){return this.clone().idivn(b)},s.prototype.egcd=function(b){n(b.negative===0),n(!b.isZero());var l=this,d=b.clone();l.negative!==0?l=l.umod(b):l=l.clone();for(var m=new s(1),A=new s(0),D=new s(0),R=new s(1),I=0;l.isEven()&&d.isEven();)l.iushrn(1),d.iushrn(1),++I;for(var p=d.clone(),g=l.clone();!l.isZero();){for(var B=0,Y=1;!(l.words[0]&Y)&&B<26;++B,Y<<=1);if(B>0)for(l.iushrn(B);B-- >0;)(m.isOdd()||A.isOdd())&&(m.iadd(p),A.isub(g)),m.iushrn(1),A.iushrn(1);for(var te=0,P=1;!(d.words[0]&P)&&te<26;++te,P<<=1);if(te>0)for(d.iushrn(te);te-- >0;)(D.isOdd()||R.isOdd())&&(D.iadd(p),R.isub(g)),D.iushrn(1),R.iushrn(1);l.cmp(d)>=0?(l.isub(d),m.isub(D),A.isub(R)):(d.isub(l),D.isub(m),R.isub(A))}return{a:D,b:R,gcd:d.iushln(I)}},s.prototype._invmp=function(b){n(b.negative===0),n(!b.isZero());var l=this,d=b.clone();l.negative!==0?l=l.umod(b):l=l.clone();for(var m=new s(1),A=new s(0),D=d.clone();l.cmpn(1)>0&&d.cmpn(1)>0;){for(var R=0,I=1;!(l.words[0]&I)&&R<26;++R,I<<=1);if(R>0)for(l.iushrn(R);R-- >0;)m.isOdd()&&m.iadd(D),m.iushrn(1);for(var p=0,g=1;!(d.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(d.iushrn(p);p-- >0;)A.isOdd()&&A.iadd(D),A.iushrn(1);l.cmp(d)>=0?(l.isub(d),m.isub(A)):(d.isub(l),A.isub(m))}var B;return l.cmpn(1)===0?B=m:B=A,B.cmpn(0)<0&&B.iadd(b),B},s.prototype.gcd=function(b){if(this.isZero())return b.abs();if(b.isZero())return this.abs();var l=this.clone(),d=b.clone();l.negative=0,d.negative=0;for(var m=0;l.isEven()&&d.isEven();m++)l.iushrn(1),d.iushrn(1);do{for(;l.isEven();)l.iushrn(1);for(;d.isEven();)d.iushrn(1);var A=l.cmp(d);if(A<0){var D=l;l=d,d=D}else if(A===0||d.cmpn(1)===0)break;l.isub(d)}while(!0);return d.iushln(m)},s.prototype.invm=function(b){return this.egcd(b).a.umod(b)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(b){return this.words[0]&b},s.prototype.bincn=function(b){n(typeof b=="number");var l=b%26,d=(b-l)/26,m=1<<l;if(this.length<=d)return this._expand(d+1),this.words[d]|=m,this;for(var A=m,D=d;A!==0&&D<this.length;D++){var R=this.words[D]|0;R+=A,A=R>>>26,R&=67108863,this.words[D]=R}return A!==0&&(this.words[D]=A,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(b){var l=b<0;if(this.negative!==0&&!l)return-1;if(this.negative===0&&l)return 1;this.strip();var d;if(this.length>1)d=1;else{l&&(b=-b),n(b<=67108863,"Number is too big");var m=this.words[0]|0;d=m===b?0:m<b?-1:1}return this.negative!==0?-d|0:d},s.prototype.cmp=function(b){if(this.negative!==0&&b.negative===0)return-1;if(this.negative===0&&b.negative!==0)return 1;var l=this.ucmp(b);return this.negative!==0?-l|0:l},s.prototype.ucmp=function(b){if(this.length>b.length)return 1;if(this.length<b.length)return-1;for(var l=0,d=this.length-1;d>=0;d--){var m=this.words[d]|0,A=b.words[d]|0;if(m!==A){m<A?l=-1:m>A&&(l=1);break}}return l},s.prototype.gtn=function(b){return this.cmpn(b)===1},s.prototype.gt=function(b){return this.cmp(b)===1},s.prototype.gten=function(b){return this.cmpn(b)>=0},s.prototype.gte=function(b){return this.cmp(b)>=0},s.prototype.ltn=function(b){return this.cmpn(b)===-1},s.prototype.lt=function(b){return this.cmp(b)===-1},s.prototype.lten=function(b){return this.cmpn(b)<=0},s.prototype.lte=function(b){return this.cmp(b)<=0},s.prototype.eqn=function(b){return this.cmpn(b)===0},s.prototype.eq=function(b){return this.cmp(b)===0},s.red=function(b){return new Z(b)},s.prototype.toRed=function(b){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),b.convertTo(this)._forceRed(b)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(b){return this.red=b,this},s.prototype.forceRed=function(b){return n(!this.red,"Already a number in reduction context"),this._forceRed(b)},s.prototype.redAdd=function(b){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,b)},s.prototype.redIAdd=function(b){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,b)},s.prototype.redSub=function(b){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,b)},s.prototype.redISub=function(b){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,b)},s.prototype.redShl=function(b){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,b)},s.prototype.redMul=function(b){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.mul(this,b)},s.prototype.redIMul=function(b){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.imul(this,b)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(b){return n(this.red&&!b.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,b)};var O={k256:null,p224:null,p192:null,p25519:null};function k(q,b){this.name=q,this.p=new s(b,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}k.prototype._tmp=function(){var b=new s(null);return b.words=new Array(Math.ceil(this.n/13)),b},k.prototype.ireduce=function(b){var l=b,d;do this.split(l,this.tmp),l=this.imulK(l),l=l.iadd(this.tmp),d=l.bitLength();while(d>this.n);var m=d<this.n?-1:l.ucmp(this.p);return m===0?(l.words[0]=0,l.length=1):m>0?l.isub(this.p):l.strip!==void 0?l.strip():l._strip(),l},k.prototype.split=function(b,l){b.iushrn(this.n,0,l)},k.prototype.imulK=function(b){return b.imul(this.k)};function L(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(L,k),L.prototype.split=function(b,l){for(var d=4194303,m=Math.min(b.length,9),A=0;A<m;A++)l.words[A]=b.words[A];if(l.length=m,b.length<=9){b.words[0]=0,b.length=1;return}var D=b.words[9];for(l.words[l.length++]=D&d,A=10;A<b.length;A++){var R=b.words[A]|0;b.words[A-10]=(R&d)<<4|D>>>22,D=R}D>>>=22,b.words[A-10]=D,D===0&&b.length>10?b.length-=10:b.length-=9},L.prototype.imulK=function(b){b.words[b.length]=0,b.words[b.length+1]=0,b.length+=2;for(var l=0,d=0;d<b.length;d++){var m=b.words[d]|0;l+=m*977,b.words[d]=l&67108863,l=m*64+(l/67108864|0)}return b.words[b.length-1]===0&&(b.length--,b.words[b.length-1]===0&&b.length--),b};function $(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i($,k);function E(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(E,k);function U(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(U,k),U.prototype.imulK=function(b){for(var l=0,d=0;d<b.length;d++){var m=(b.words[d]|0)*19+l,A=m&67108863;m>>>=26,b.words[d]=A,l=m}return l!==0&&(b.words[b.length++]=l),b},s._prime=function(b){if(O[b])return O[b];var l;if(b==="k256")l=new L;else if(b==="p224")l=new $;else if(b==="p192")l=new E;else if(b==="p25519")l=new U;else throw new Error("Unknown prime "+b);return O[b]=l,l};function Z(q){if(typeof q=="string"){var b=s._prime(q);this.m=b.p,this.prime=b}else n(q.gtn(1),"modulus must be greater than 1"),this.m=q,this.prime=null}Z.prototype._verify1=function(b){n(b.negative===0,"red works only with positives"),n(b.red,"red works only with red numbers")},Z.prototype._verify2=function(b,l){n((b.negative|l.negative)===0,"red works only with positives"),n(b.red&&b.red===l.red,"red works only with red numbers")},Z.prototype.imod=function(b){return this.prime?this.prime.ireduce(b)._forceRed(this):b.umod(this.m)._forceRed(this)},Z.prototype.neg=function(b){return b.isZero()?b.clone():this.m.sub(b)._forceRed(this)},Z.prototype.add=function(b,l){this._verify2(b,l);var d=b.add(l);return d.cmp(this.m)>=0&&d.isub(this.m),d._forceRed(this)},Z.prototype.iadd=function(b,l){this._verify2(b,l);var d=b.iadd(l);return d.cmp(this.m)>=0&&d.isub(this.m),d},Z.prototype.sub=function(b,l){this._verify2(b,l);var d=b.sub(l);return d.cmpn(0)<0&&d.iadd(this.m),d._forceRed(this)},Z.prototype.isub=function(b,l){this._verify2(b,l);var d=b.isub(l);return d.cmpn(0)<0&&d.iadd(this.m),d},Z.prototype.shl=function(b,l){return this._verify1(b),this.imod(b.ushln(l))},Z.prototype.imul=function(b,l){return this._verify2(b,l),this.imod(b.imul(l))},Z.prototype.mul=function(b,l){return this._verify2(b,l),this.imod(b.mul(l))},Z.prototype.isqr=function(b){return this.imul(b,b.clone())},Z.prototype.sqr=function(b){return this.mul(b,b)},Z.prototype.sqrt=function(b){if(b.isZero())return b.clone();var l=this.m.andln(3);if(n(l%2===1),l===3){var d=this.m.add(new s(1)).iushrn(2);return this.pow(b,d)}for(var m=this.m.subn(1),A=0;!m.isZero()&&m.andln(1)===0;)A++,m.iushrn(1);n(!m.isZero());var D=new s(1).toRed(this),R=D.redNeg(),I=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new s(2*p*p).toRed(this);this.pow(p,I).cmp(R)!==0;)p.redIAdd(R);for(var g=this.pow(p,m),B=this.pow(b,m.addn(1).iushrn(1)),Y=this.pow(b,m),te=A;Y.cmp(D)!==0;){for(var P=Y,J=0;P.cmp(D)!==0;J++)P=P.redSqr();n(J<te);var j=this.pow(g,new s(1).iushln(te-J-1));B=B.redMul(j),g=j.redSqr(),Y=Y.redMul(g),te=J}return B},Z.prototype.invm=function(b){var l=b._invmp(this.m);return l.negative!==0?(l.negative=0,this.imod(l).redNeg()):this.imod(l)},Z.prototype.pow=function(b,l){if(l.isZero())return new s(1).toRed(this);if(l.cmpn(1)===0)return b.clone();var d=4,m=new Array(1<<d);m[0]=new s(1).toRed(this),m[1]=b;for(var A=2;A<m.length;A++)m[A]=this.mul(m[A-1],b);var D=m[0],R=0,I=0,p=l.bitLength()%26;for(p===0&&(p=26),A=l.length-1;A>=0;A--){for(var g=l.words[A],B=p-1;B>=0;B--){var Y=g>>B&1;if(D!==m[0]&&(D=this.sqr(D)),Y===0&&R===0){I=0;continue}R<<=1,R|=Y,I++,!(I!==d&&(A!==0||B!==0))&&(D=this.mul(D,m[R]),I=0,R=0)}p=26}return D},Z.prototype.convertTo=function(b){var l=b.umod(this.m);return l===b?l.clone():l},Z.prototype.convertFrom=function(b){var l=b.clone();return l.red=null,l},s.mont=function(b){return new ne(b)};function ne(q){Z.call(this,q),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(ne,Z),ne.prototype.convertTo=function(b){return this.imod(b.ushln(this.shift))},ne.prototype.convertFrom=function(b){var l=this.imod(b.mul(this.rinv));return l.red=null,l},ne.prototype.imul=function(b,l){if(b.isZero()||l.isZero())return b.words[0]=0,b.length=1,b;var d=b.imul(l),m=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=d.isub(m).iushrn(this.shift),D=A;return A.cmp(this.m)>=0?D=A.isub(this.m):A.cmpn(0)<0&&(D=A.iadd(this.m)),D._forceRed(this)},ne.prototype.mul=function(b,l){if(b.isZero()||l.isZero())return new s(0)._forceRed(this);var d=b.mul(l),m=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=d.isub(m).iushrn(this.shift),D=A;return A.cmp(this.m)>=0?D=A.isub(this.m):A.cmpn(0)<0&&(D=A.iadd(this.m)),D._forceRed(this)},ne.prototype.invm=function(b){var l=this.imod(b._invmp(this.m).mul(this.r2));return l._forceRed(this)}})(e,gn)})(dm);var Cs=dm.exports,ca=z4;function z4(e,t){if(!e)throw new Error(t||"Assertion failed")}z4.equal=function(t,r,n){if(t!=r)throw new Error(n||"Assertion failed: "+t+" != "+r)};var hm={};(function(e){var t=e;function r(s,o){if(Array.isArray(s))return s.slice();if(!s)return[];var a=[];if(typeof s!="string"){for(var u=0;u<s.length;u++)a[u]=s[u]|0;return a}if(o==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var u=0;u<s.length;u+=2)a.push(parseInt(s[u]+s[u+1],16))}else for(var u=0;u<s.length;u++){var c=s.charCodeAt(u),f=c>>8,h=c&255;f?a.push(f,h):a.push(h)}return a}t.toArray=r;function n(s){return s.length===1?"0"+s:s}t.zero2=n;function i(s){for(var o="",a=0;a<s.length;a++)o+=n(s[a].toString(16));return o}t.toHex=i,t.encode=function(o,a){return a==="hex"?i(o):o}})(hm);(function(e){var t=e,r=Cs,n=ca,i=hm;t.assert=n,t.toArray=i.toArray,t.zero2=i.zero2,t.toHex=i.toHex,t.encode=i.encode;function s(f,h,y){var v=new Array(Math.max(f.bitLength(),y)+1),w;for(w=0;w<v.length;w+=1)v[w]=0;var C=1<<h+1,N=f.clone();for(w=0;w<v.length;w++){var T,x=N.andln(C-1);N.isOdd()?(x>(C>>1)-1?T=(C>>1)-x:T=x,N.isubn(T)):T=0,v[w]=T,N.iushrn(1)}return v}t.getNAF=s;function o(f,h){var y=[[],[]];f=f.clone(),h=h.clone();for(var v=0,w=0,C;f.cmpn(-v)>0||h.cmpn(-w)>0;){var N=f.andln(3)+v&3,T=h.andln(3)+w&3;N===3&&(N=-1),T===3&&(T=-1);var x;N&1?(C=f.andln(7)+v&7,(C===3||C===5)&&T===2?x=-N:x=N):x=0,y[0].push(x);var O;T&1?(C=h.andln(7)+w&7,(C===3||C===5)&&N===2?O=-T:O=T):O=0,y[1].push(O),2*v===x+1&&(v=1-v),2*w===O+1&&(w=1-w),f.iushrn(1),h.iushrn(1)}return y}t.getJSF=o;function a(f,h,y){var v="_"+h;f.prototype[h]=function(){return this[v]!==void 0?this[v]:this[v]=y.call(this)}}t.cachedProperty=a;function u(f){return typeof f=="string"?t.toArray(f,"hex"):f}t.parseBytes=u;function c(f){return new r(f,"hex","le")}t.intFromLE=c})(Cn);var pm={exports:{}},M0;pm.exports=function(t){return M0||(M0=new Vs(null)),M0.generate(t)};function Vs(e){this.rand=e}pm.exports.Rand=Vs;Vs.prototype.generate=function(t){return this._rand(t)};Vs.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var r=new Uint8Array(t),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Vs.prototype._rand=function(t){var r=new Uint8Array(t);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?Vs.prototype._rand=function(t){var r=new Uint8Array(t);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(Vs.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var w2=sm;if(typeof w2.randomBytes!="function")throw new Error("Not supported");Vs.prototype._rand=function(t){return w2.randomBytes(t)}}catch{}var q4=pm.exports,gm={},wo=Cs,Al=Cn,_d=Al.getNAF,uP=Al.getJSF,Sd=Al.assert;function po(e,t){this.type=e,this.p=new wo(t.p,16),this.red=t.prime?wo.red(t.prime):wo.mont(this.p),this.zero=new wo(0).toRed(this.red),this.one=new wo(1).toRed(this.red),this.two=new wo(2).toRed(this.red),this.n=t.n&&new wo(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var bh=po;po.prototype.point=function(){throw new Error("Not implemented")};po.prototype.validate=function(){throw new Error("Not implemented")};po.prototype._fixedNafMul=function(t,r){Sd(t.precomputed);var n=t._getDoubles(),i=_d(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,u;for(a=0;a<i.length;a+=n.step){u=0;for(var c=a+n.step-1;c>=a;c--)u=(u<<1)+i[c];o.push(u)}for(var f=this.jpoint(null,null,null),h=this.jpoint(null,null,null),y=s;y>0;y--){for(a=0;a<o.length;a++)u=o[a],u===y?h=h.mixedAdd(n.points[a]):u===-y&&(h=h.mixedAdd(n.points[a].neg()));f=f.add(h)}return f.toP()};po.prototype._wnafMul=function(t,r){var n=4,i=t._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=_d(r,n,this._bitLength),a=this.jpoint(null,null,null),u=o.length-1;u>=0;u--){for(var c=0;u>=0&&o[u]===0;u--)c++;if(u>=0&&c++,a=a.dblp(c),u<0)break;var f=o[u];Sd(f!==0),t.type==="affine"?f>0?a=a.mixedAdd(s[f-1>>1]):a=a.mixedAdd(s[-f-1>>1].neg()):f>0?a=a.add(s[f-1>>1]):a=a.add(s[-f-1>>1].neg())}return t.type==="affine"?a.toP():a};po.prototype._wnafMulAdd=function(t,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,u=this._wnafT3,c=0,f,h,y;for(f=0;f<i;f++){y=r[f];var v=y._getNAFPoints(t);o[f]=v.wnd,a[f]=v.points}for(f=i-1;f>=1;f-=2){var w=f-1,C=f;if(o[w]!==1||o[C]!==1){u[w]=_d(n[w],o[w],this._bitLength),u[C]=_d(n[C],o[C],this._bitLength),c=Math.max(u[w].length,c),c=Math.max(u[C].length,c);continue}var N=[r[w],null,null,r[C]];r[w].y.cmp(r[C].y)===0?(N[1]=r[w].add(r[C]),N[2]=r[w].toJ().mixedAdd(r[C].neg())):r[w].y.cmp(r[C].y.redNeg())===0?(N[1]=r[w].toJ().mixedAdd(r[C]),N[2]=r[w].add(r[C].neg())):(N[1]=r[w].toJ().mixedAdd(r[C]),N[2]=r[w].toJ().mixedAdd(r[C].neg()));var T=[-3,-1,-5,-7,0,7,5,1,3],x=uP(n[w],n[C]);for(c=Math.max(x[0].length,c),u[w]=new Array(c),u[C]=new Array(c),h=0;h<c;h++){var O=x[0][h]|0,k=x[1][h]|0;u[w][h]=T[(O+1)*3+(k+1)],u[C][h]=0,a[w]=N}}var L=this.jpoint(null,null,null),$=this._wnafT4;for(f=c;f>=0;f--){for(var E=0;f>=0;){var U=!0;for(h=0;h<i;h++)$[h]=u[h][f]|0,$[h]!==0&&(U=!1);if(!U)break;E++,f--}if(f>=0&&E++,L=L.dblp(E),f<0)break;for(h=0;h<i;h++){var Z=$[h];Z!==0&&(Z>0?y=a[h][Z-1>>1]:Z<0&&(y=a[h][-Z-1>>1].neg()),y.type==="affine"?L=L.mixedAdd(y):L=L.add(y))}}for(f=0;f<i;f++)a[f]=null;return s?L:L.toP()};function Yn(e,t){this.curve=e,this.type=t,this.precomputed=null}po.BasePoint=Yn;Yn.prototype.eq=function(){throw new Error("Not implemented")};Yn.prototype.validate=function(){return this.curve.validate(this)};po.prototype.decodePoint=function(t,r){t=Al.toArray(t,r);var n=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1===2*n){t[0]===6?Sd(t[t.length-1]%2===0):t[0]===7&&Sd(t[t.length-1]%2===1);var i=this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));return i}else if((t[0]===2||t[0]===3)&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),t[0]===3);throw new Error("Unknown point format")};Yn.prototype.encodeCompressed=function(t){return this.encode(t,!0)};Yn.prototype._encode=function(t){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Yn.prototype.encode=function(t,r){return Al.encode(this._encode(r),t)};Yn.prototype.precompute=function(t){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,t),r.beta=this._getBeta(),this.precomputed=r,this};Yn.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((t.bitLength()+1)/r.step):!1};Yn.prototype._getDoubles=function(t,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=t){for(var o=0;o<t;o++)i=i.dbl();n.push(i)}return{step:t,points:n}};Yn.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<t)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:t,points:r}};Yn.prototype._getBeta=function(){return null};Yn.prototype.dblp=function(t){for(var r=this,n=0;n<t;n++)r=r.dbl();return r};var _1={exports:{}};typeof Object.create=="function"?_1.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:_1.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}};var wh=_1.exports,cP=Cn,zt=Cs,mm=wh,Iu=bh,lP=cP.assert;function Qn(e){Iu.call(this,"short",e),this.a=new zt(e.a,16).toRed(this.red),this.b=new zt(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}mm(Qn,Iu);var fP=Qn;Qn.prototype._getEndomorphism=function(t){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(t.beta)r=new zt(t.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(t.lambda)n=new zt(t.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],lP(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return t.basis?o=t.basis.map(function(a){return{a:new zt(a.a,16),b:new zt(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};Qn.prototype._getEndoRoots=function(t){var r=t===this.p?this.red:zt.mont(t),n=new zt(2).toRed(r).redInvm(),i=n.redNeg(),s=new zt(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};Qn.prototype._getEndoBasis=function(t){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=t,i=this.n.clone(),s=new zt(1),o=new zt(0),a=new zt(0),u=new zt(1),c,f,h,y,v,w,C,N=0,T,x;n.cmpn(0)!==0;){var O=i.div(n);T=i.sub(O.mul(n)),x=a.sub(O.mul(s));var k=u.sub(O.mul(o));if(!h&&T.cmp(r)<0)c=C.neg(),f=s,h=T.neg(),y=x;else if(h&&++N===2)break;C=T,i=n,n=T,a=s,s=x,u=o,o=k}v=T.neg(),w=x;var L=h.sqr().add(y.sqr()),$=v.sqr().add(w.sqr());return $.cmp(L)>=0&&(v=c,w=f),h.negative&&(h=h.neg(),y=y.neg()),v.negative&&(v=v.neg(),w=w.neg()),[{a:h,b:y},{a:v,b:w}]};Qn.prototype._endoSplit=function(t){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(t).divRound(this.n),o=n.b.neg().mul(t).divRound(this.n),a=s.mul(n.a),u=o.mul(i.a),c=s.mul(n.b),f=o.mul(i.b),h=t.sub(a).sub(u),y=c.add(f).neg();return{k1:h,k2:y}};Qn.prototype.pointFromX=function(t,r){t=new zt(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(t,i)};Qn.prototype.validate=function(t){if(t.inf)return!0;var r=t.x,n=t.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};Qn.prototype._endoWnafMulAdd=function(t,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<t.length;o++){var a=this._endoSplit(r[o]),u=t[o],c=u._getBeta();a.k1.negative&&(a.k1.ineg(),u=u.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),i[o*2]=u,i[o*2+1]=c,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var f=this._wnafMulAdd(1,i,s,o*2,n),h=0;h<o*2;h++)i[h]=null,s[h]=null;return f};function fr(e,t,r,n){Iu.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new zt(t,16),this.y=new zt(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}mm(fr,Iu.BasePoint);Qn.prototype.point=function(t,r,n){return new fr(this,t,r,n)};Qn.prototype.pointFromJSON=function(t,r){return fr.fromJSON(this,t,r)};fr.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};t.beta=r,r.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(i)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(i)}}}return r}};fr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};fr.fromJSON=function(t,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=t.point(r[0],r[1],n);if(!r[2])return i;function s(a){return t.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};fr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};fr.prototype.isInfinity=function(){return this.inf};fr.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var r=this.y.redSub(t.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(t.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(t.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};fr.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=t.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};fr.prototype.getX=function(){return this.x.fromRed()};fr.prototype.getY=function(){return this.y.fromRed()};fr.prototype.mul=function(t){return t=new zt(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)};fr.prototype.mulAdd=function(t,r,n){var i=[this,r],s=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};fr.prototype.jmulAdd=function(t,r,n){var i=[this,r],s=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};fr.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)};fr.prototype.neg=function(t){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};fr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t};function wr(e,t,r,n){Iu.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new zt(0)):(this.x=new zt(t,16),this.y=new zt(r,16),this.z=new zt(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}mm(wr,Iu.BasePoint);Qn.prototype.jpoint=function(t,r,n){return new wr(this,t,r,n)};wr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),r=t.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(t);return this.curve.point(n,i)};wr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};wr.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var r=t.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=t.x.redMul(n),o=this.y.redMul(r.redMul(t.z)),a=t.y.redMul(n.redMul(this.z)),u=i.redSub(s),c=o.redSub(a);if(u.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=u.redSqr(),h=f.redMul(u),y=i.redMul(f),v=c.redSqr().redIAdd(h).redISub(y).redISub(y),w=c.redMul(y.redISub(v)).redISub(o.redMul(h)),C=this.z.redMul(t.z).redMul(u);return this.curve.jpoint(v,w,C)};wr.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=t.x.redMul(r),s=this.y,o=t.y.redMul(r).redMul(this.z),a=n.redSub(i),u=s.redSub(o);if(a.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),f=c.redMul(a),h=n.redMul(c),y=u.redSqr().redIAdd(f).redISub(h).redISub(h),v=u.redMul(h.redISub(y)).redISub(s.redMul(f)),w=this.z.redMul(a);return this.curve.jpoint(y,v,w)};wr.prototype.dblp=function(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<t;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,u=this.z,c=u.redSqr().redSqr(),f=a.redAdd(a);for(r=0;r<t;r++){var h=o.redSqr(),y=f.redSqr(),v=y.redSqr(),w=h.redAdd(h).redIAdd(h).redIAdd(i.redMul(c)),C=o.redMul(y),N=w.redSqr().redISub(C.redAdd(C)),T=C.redISub(N),x=w.redMul(T);x=x.redIAdd(x).redISub(v);var O=f.redMul(u);r+1<t&&(c=c.redMul(v)),o=N,u=O,f=x}return this.curve.jpoint(o,f.redMul(s),u)};wr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};wr.prototype._zeroDbl=function(){var t,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var u=i.redAdd(i).redIAdd(i),c=u.redSqr().redISub(a).redISub(a),f=o.redIAdd(o);f=f.redIAdd(f),f=f.redIAdd(f),t=c,r=u.redMul(a.redISub(c)).redISub(f),n=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),y=this.y.redSqr(),v=y.redSqr(),w=this.x.redAdd(y).redSqr().redISub(h).redISub(v);w=w.redIAdd(w);var C=h.redAdd(h).redIAdd(h),N=C.redSqr(),T=v.redIAdd(v);T=T.redIAdd(T),T=T.redIAdd(T),t=N.redISub(w).redISub(w),r=C.redMul(w.redISub(t)).redISub(T),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(t,r,n)};wr.prototype._threeDbl=function(){var t,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var u=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=u.redSqr().redISub(a).redISub(a);t=c;var f=o.redIAdd(o);f=f.redIAdd(f),f=f.redIAdd(f),r=u.redMul(a.redISub(c)).redISub(f),n=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),y=this.y.redSqr(),v=this.x.redMul(y),w=this.x.redSub(h).redMul(this.x.redAdd(h));w=w.redAdd(w).redIAdd(w);var C=v.redIAdd(v);C=C.redIAdd(C);var N=C.redAdd(C);t=w.redSqr().redISub(N),n=this.y.redAdd(this.z).redSqr().redISub(y).redISub(h);var T=y.redSqr();T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T),r=w.redMul(C.redISub(t)).redISub(T)}return this.curve.jpoint(t,r,n)};wr.prototype._dbl=function(){var t=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),u=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(s)),c=r.redAdd(r);c=c.redIAdd(c);var f=c.redMul(a),h=u.redSqr().redISub(f.redAdd(f)),y=f.redISub(h),v=a.redSqr();v=v.redIAdd(v),v=v.redIAdd(v),v=v.redIAdd(v);var w=u.redMul(y).redISub(v),C=n.redAdd(n).redMul(i);return this.curve.jpoint(h,w,C)};wr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=t.redAdd(t).redIAdd(t),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(t).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var u=a.redSqr(),c=i.redIAdd(i);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var f=s.redIAdd(a).redSqr().redISub(o).redISub(u).redISub(c),h=r.redMul(f);h=h.redIAdd(h),h=h.redIAdd(h);var y=this.x.redMul(u).redISub(h);y=y.redIAdd(y),y=y.redIAdd(y);var v=this.y.redMul(f.redMul(c.redISub(f)).redISub(a.redMul(u)));v=v.redIAdd(v),v=v.redIAdd(v),v=v.redIAdd(v);var w=this.z.redAdd(a).redSqr().redISub(n).redISub(u);return this.curve.jpoint(y,v,w)};wr.prototype.mul=function(t,r){return t=new zt(t,r),this.curve._wnafMul(this,t)};wr.prototype.eq=function(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return!0;var r=this.z.redSqr(),n=t.z.redSqr();if(this.x.redMul(n).redISub(t.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(t.z);return this.y.redMul(s).redISub(t.y.redMul(i)).cmpn(0)===0};wr.prototype.eqXToP=function(t){var r=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=t.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};wr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};wr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Ua=Cs,j4=wh,Eh=bh,dP=Cn;function xu(e){Eh.call(this,"mont",e),this.a=new Ua(e.a,16).toRed(this.red),this.b=new Ua(e.b,16).toRed(this.red),this.i4=new Ua(4).toRed(this.red).redInvm(),this.two=new Ua(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}j4(xu,Eh);var hP=xu;xu.prototype.validate=function(t){var r=t.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),s=i.redSqrt();return s.redSqr().cmp(i)===0};function lr(e,t,r){Eh.BasePoint.call(this,e,"projective"),t===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Ua(t,16),this.z=new Ua(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}j4(lr,Eh.BasePoint);xu.prototype.decodePoint=function(t,r){return this.point(dP.toArray(t,r),1)};xu.prototype.point=function(t,r){return new lr(this,t,r)};xu.prototype.pointFromJSON=function(t){return lr.fromJSON(this,t)};lr.prototype.precompute=function(){};lr.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};lr.fromJSON=function(t,r){return new lr(t,r[0],r[1]||t.one)};lr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};lr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};lr.prototype.dbl=function(){var t=this.x.redAdd(this.z),r=t.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),s=r.redSub(i),o=r.redMul(i),a=s.redMul(i.redAdd(this.curve.a24.redMul(s)));return this.curve.point(o,a)};lr.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};lr.prototype.diffAdd=function(t,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),s=t.x.redAdd(t.z),o=t.x.redSub(t.z),a=o.redMul(n),u=s.redMul(i),c=r.z.redMul(a.redAdd(u).redSqr()),f=r.x.redMul(a.redISub(u).redSqr());return this.curve.point(c,f)};lr.prototype.mul=function(t){for(var r=t.clone(),n=this,i=this.curve.point(null,null),s=this,o=[];r.cmpn(0)!==0;r.iushrn(1))o.push(r.andln(1));for(var a=o.length-1;a>=0;a--)o[a]===0?(n=n.diffAdd(i,s),i=i.dbl()):(i=n.diffAdd(i,s),n=n.dbl());return i};lr.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};lr.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};lr.prototype.eq=function(t){return this.getX().cmp(t.getX())===0};lr.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};lr.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var pP=Cn,bs=Cs,H4=wh,_h=bh,gP=pP.assert;function Gi(e){this.twisted=(e.a|0)!==1,this.mOneA=this.twisted&&(e.a|0)===-1,this.extended=this.mOneA,_h.call(this,"edwards",e),this.a=new bs(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new bs(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new bs(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),gP(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(e.c|0)===1}H4(Gi,_h);var mP=Gi;Gi.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)};Gi.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)};Gi.prototype.jpoint=function(t,r,n,i){return this.point(t,r,n,i)};Gi.prototype.pointFromX=function(t,r){t=new bs(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),i=this.c2.redSub(this.a.redMul(n)),s=this.one.redSub(this.c2.redMul(this.d).redMul(n)),o=i.redMul(s.redInvm()),a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");var u=a.fromRed().isOdd();return(r&&!u||!r&&u)&&(a=a.redNeg()),this.point(t,a)};Gi.prototype.pointFromY=function(t,r){t=new bs(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),i=n.redSub(this.c2),s=n.redMul(this.d).redMul(this.c2).redSub(this.a),o=i.redMul(s.redInvm());if(o.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,t)}var a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");return a.fromRed().isOdd()!==r&&(a=a.redNeg()),this.point(a,t)};Gi.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var r=t.x.redSqr(),n=t.y.redSqr(),i=r.redMul(this.a).redAdd(n),s=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(s)===0};function It(e,t,r,n,i){_h.BasePoint.call(this,e,"projective"),t===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new bs(t,16),this.y=new bs(r,16),this.z=n?new bs(n,16):this.curve.one,this.t=i&&new bs(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}H4(It,_h.BasePoint);Gi.prototype.pointFromJSON=function(t){return It.fromJSON(this,t)};Gi.prototype.point=function(t,r,n,i){return new It(this,t,r,n,i)};It.fromJSON=function(t,r){return new It(t,r[0],r[1],r[2])};It.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};It.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};It.prototype._extDbl=function(){var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(t),s=this.x.redAdd(this.y).redSqr().redISub(t).redISub(r),o=i.redAdd(r),a=o.redSub(n),u=i.redSub(r),c=s.redMul(a),f=o.redMul(u),h=s.redMul(u),y=a.redMul(o);return this.curve.point(c,f,y,h)};It.prototype._projDbl=function(){var t=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,s,o,a,u,c;if(this.curve.twisted){a=this.curve._mulA(r);var f=a.redAdd(n);this.zOne?(i=t.redSub(r).redSub(n).redMul(f.redSub(this.curve.two)),s=f.redMul(a.redSub(n)),o=f.redSqr().redSub(f).redSub(f)):(u=this.z.redSqr(),c=f.redSub(u).redISub(u),i=t.redSub(r).redISub(n).redMul(c),s=f.redMul(a.redSub(n)),o=f.redMul(c))}else a=r.redAdd(n),u=this.curve._mulC(this.z).redSqr(),c=a.redSub(u).redSub(u),i=this.curve._mulC(t.redISub(a)).redMul(c),s=this.curve._mulC(a).redMul(r.redISub(n)),o=a.redMul(c);return this.curve.point(i,s,o)};It.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};It.prototype._extAdd=function(t){var r=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),n=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),i=this.t.redMul(this.curve.dd).redMul(t.t),s=this.z.redMul(t.z.redAdd(t.z)),o=n.redSub(r),a=s.redSub(i),u=s.redAdd(i),c=n.redAdd(r),f=o.redMul(a),h=u.redMul(c),y=o.redMul(c),v=a.redMul(u);return this.curve.point(f,h,v,y)};It.prototype._projAdd=function(t){var r=this.z.redMul(t.z),n=r.redSqr(),i=this.x.redMul(t.x),s=this.y.redMul(t.y),o=this.curve.d.redMul(i).redMul(s),a=n.redSub(o),u=n.redAdd(o),c=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(i).redISub(s),f=r.redMul(a).redMul(c),h,y;return this.curve.twisted?(h=r.redMul(u).redMul(s.redSub(this.curve._mulA(i))),y=a.redMul(u)):(h=r.redMul(u).redMul(s.redSub(i)),y=this.curve._mulC(a).redMul(u)),this.curve.point(f,h,y)};It.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)};It.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)};It.prototype.mulAdd=function(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,!1)};It.prototype.jmulAdd=function(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,!0)};It.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this};It.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};It.prototype.getX=function(){return this.normalize(),this.x.fromRed()};It.prototype.getY=function(){return this.normalize(),this.y.fromRed()};It.prototype.eq=function(t){return this===t||this.getX().cmp(t.getX())===0&&this.getY().cmp(t.getY())===0};It.prototype.eqXToP=function(t){var r=t.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=t.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};It.prototype.toP=It.prototype.normalize;It.prototype.mixedAdd=It.prototype.add;(function(e){var t=e;t.base=bh,t.short=fP,t.mont=hP,t.edwards=mP})(gm);var Sh={},Ah={},st={},yP=ca,vP=wh;st.inherits=vP;function bP(e,t){return(e.charCodeAt(t)&64512)!==55296||t<0||t+1>=e.length?!1:(e.charCodeAt(t+1)&64512)===56320}function wP(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e=="string")if(t){if(t==="hex")for(e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var s=e.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):bP(e,i)?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128)}else for(i=0;i<e.length;i++)r[i]=e[i]|0;return r}st.toArray=wP;function EP(e){for(var t="",r=0;r<e.length;r++)t+=G4(e[r].toString(16));return t}st.toHex=EP;function K4(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}st.htonl=K4;function _P(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];t==="little"&&(i=K4(i)),r+=V4(i.toString(16))}return r}st.toHex32=_P;function G4(e){return e.length===1?"0"+e:e}st.zero2=G4;function V4(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}st.zero8=V4;function SP(e,t,r,n){var i=r-t;yP(i%4===0);for(var s=new Array(i/4),o=0,a=t;o<s.length;o++,a+=4){var u;n==="big"?u=e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3]:u=e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a],s[o]=u>>>0}return s}st.join32=SP;function AP(e,t){for(var r=new Array(e.length*4),n=0,i=0;n<e.length;n++,i+=4){var s=e[n];t==="big"?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=s&255):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=s&255)}return r}st.split32=AP;function IP(e,t){return e>>>t|e<<32-t}st.rotr32=IP;function xP(e,t){return e<<t|e>>>32-t}st.rotl32=xP;function MP(e,t){return e+t>>>0}st.sum32=MP;function RP(e,t,r){return e+t+r>>>0}st.sum32_3=RP;function CP(e,t,r,n){return e+t+r+n>>>0}st.sum32_4=CP;function DP(e,t,r,n,i){return e+t+r+n+i>>>0}st.sum32_5=DP;function TP(e,t,r,n){var i=e[t],s=e[t+1],o=n+s>>>0,a=(o<n?1:0)+r+i;e[t]=a>>>0,e[t+1]=o}st.sum64=TP;function NP(e,t,r,n){var i=t+n>>>0,s=(i<t?1:0)+e+r;return s>>>0}st.sum64_hi=NP;function PP(e,t,r,n){var i=t+n;return i>>>0}st.sum64_lo=PP;function OP(e,t,r,n,i,s,o,a){var u=0,c=t;c=c+n>>>0,u+=c<t?1:0,c=c+s>>>0,u+=c<s?1:0,c=c+a>>>0,u+=c<a?1:0;var f=e+r+i+o+u;return f>>>0}st.sum64_4_hi=OP;function kP(e,t,r,n,i,s,o,a){var u=t+n+s+a;return u>>>0}st.sum64_4_lo=kP;function FP(e,t,r,n,i,s,o,a,u,c){var f=0,h=t;h=h+n>>>0,f+=h<t?1:0,h=h+s>>>0,f+=h<s?1:0,h=h+a>>>0,f+=h<a?1:0,h=h+c>>>0,f+=h<c?1:0;var y=e+r+i+o+u+f;return y>>>0}st.sum64_5_hi=FP;function BP(e,t,r,n,i,s,o,a,u,c){var f=t+n+s+a+c;return f>>>0}st.sum64_5_lo=BP;function LP(e,t,r){var n=t<<32-r|e>>>r;return n>>>0}st.rotr64_hi=LP;function UP(e,t,r){var n=e<<32-r|t>>>r;return n>>>0}st.rotr64_lo=UP;function $P(e,t,r){return e>>>r}st.shr64_hi=$P;function zP(e,t,r){var n=e<<32-r|t>>>r;return n>>>0}st.shr64_lo=zP;var Mu={},E2=st,qP=ca;function Ih(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Mu.BlockHash=Ih;Ih.prototype.update=function(t,r){if(t=E2.toArray(t,r),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){t=this.pending;var n=t.length%this._delta8;this.pending=t.slice(t.length-n,t.length),this.pending.length===0&&(this.pending=null),t=E2.join32(t,0,t.length-n,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this};Ih.prototype.digest=function(t){return this.update(this._pad()),qP(this.pending===null),this._digest(t)};Ih.prototype._pad=function(){var t=this.pendingTotal,r=this._delta8,n=r-(t+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var s=1;s<n;s++)i[s]=0;if(t<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=t>>>24&255,i[s++]=t>>>16&255,i[s++]=t>>>8&255,i[s++]=t&255}else for(i[s++]=t&255,i[s++]=t>>>8&255,i[s++]=t>>>16&255,i[s++]=t>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,o=8;o<this.padLength;o++)i[s++]=0;return i};var Ru={},Vi={},jP=st,Pi=jP.rotr32;function HP(e,t,r,n){if(e===0)return W4(t,r,n);if(e===1||e===3)return Q4(t,r,n);if(e===2)return Y4(t,r,n)}Vi.ft_1=HP;function W4(e,t,r){return e&t^~e&r}Vi.ch32=W4;function Y4(e,t,r){return e&t^e&r^t&r}Vi.maj32=Y4;function Q4(e,t,r){return e^t^r}Vi.p32=Q4;function KP(e){return Pi(e,2)^Pi(e,13)^Pi(e,22)}Vi.s0_256=KP;function GP(e){return Pi(e,6)^Pi(e,11)^Pi(e,25)}Vi.s1_256=GP;function VP(e){return Pi(e,7)^Pi(e,18)^e>>>3}Vi.g0_256=VP;function WP(e){return Pi(e,17)^Pi(e,19)^e>>>10}Vi.g1_256=WP;var cu=st,YP=Mu,QP=Vi,R0=cu.rotl32,Xu=cu.sum32,JP=cu.sum32_5,XP=QP.ft_1,J4=YP.BlockHash,ZP=[1518500249,1859775393,2400959708,3395469782];function qi(){if(!(this instanceof qi))return new qi;J4.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}cu.inherits(qi,J4);var eO=qi;qi.blockSize=512;qi.outSize=160;qi.hmacStrength=80;qi.padLength=64;qi.prototype._update=function(t,r){for(var n=this.W,i=0;i<16;i++)n[i]=t[r+i];for(;i<n.length;i++)n[i]=R0(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var s=this.h[0],o=this.h[1],a=this.h[2],u=this.h[3],c=this.h[4];for(i=0;i<n.length;i++){var f=~~(i/20),h=JP(R0(s,5),XP(f,o,a,u),c,n[i],ZP[f]);c=u,u=a,a=R0(o,30),o=s,s=h}this.h[0]=Xu(this.h[0],s),this.h[1]=Xu(this.h[1],o),this.h[2]=Xu(this.h[2],a),this.h[3]=Xu(this.h[3],u),this.h[4]=Xu(this.h[4],c)};qi.prototype._digest=function(t){return t==="hex"?cu.toHex32(this.h,"big"):cu.split32(this.h,"big")};var lu=st,tO=Mu,Cu=Vi,rO=ca,Zn=lu.sum32,nO=lu.sum32_4,iO=lu.sum32_5,sO=Cu.ch32,oO=Cu.maj32,aO=Cu.s0_256,uO=Cu.s1_256,cO=Cu.g0_256,lO=Cu.g1_256,X4=tO.BlockHash,fO=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ji(){if(!(this instanceof ji))return new ji;X4.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=fO,this.W=new Array(64)}lu.inherits(ji,X4);var Z4=ji;ji.blockSize=512;ji.outSize=256;ji.hmacStrength=192;ji.padLength=64;ji.prototype._update=function(t,r){for(var n=this.W,i=0;i<16;i++)n[i]=t[r+i];for(;i<n.length;i++)n[i]=nO(lO(n[i-2]),n[i-7],cO(n[i-15]),n[i-16]);var s=this.h[0],o=this.h[1],a=this.h[2],u=this.h[3],c=this.h[4],f=this.h[5],h=this.h[6],y=this.h[7];for(rO(this.k.length===n.length),i=0;i<n.length;i++){var v=iO(y,uO(c),sO(c,f,h),this.k[i],n[i]),w=Zn(aO(s),oO(s,o,a));y=h,h=f,f=c,c=Zn(u,v),u=a,a=o,o=s,s=Zn(v,w)}this.h[0]=Zn(this.h[0],s),this.h[1]=Zn(this.h[1],o),this.h[2]=Zn(this.h[2],a),this.h[3]=Zn(this.h[3],u),this.h[4]=Zn(this.h[4],c),this.h[5]=Zn(this.h[5],f),this.h[6]=Zn(this.h[6],h),this.h[7]=Zn(this.h[7],y)};ji.prototype._digest=function(t){return t==="hex"?lu.toHex32(this.h,"big"):lu.split32(this.h,"big")};var S1=st,e5=Z4;function xs(){if(!(this instanceof xs))return new xs;e5.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}S1.inherits(xs,e5);var dO=xs;xs.blockSize=512;xs.outSize=224;xs.hmacStrength=192;xs.padLength=64;xs.prototype._digest=function(t){return t==="hex"?S1.toHex32(this.h.slice(0,7),"big"):S1.split32(this.h.slice(0,7),"big")};var on=st,hO=Mu,pO=ca,Oi=on.rotr64_hi,ki=on.rotr64_lo,t5=on.shr64_hi,r5=on.shr64_lo,Os=on.sum64,C0=on.sum64_hi,D0=on.sum64_lo,gO=on.sum64_4_hi,mO=on.sum64_4_lo,yO=on.sum64_5_hi,vO=on.sum64_5_lo,n5=hO.BlockHash,bO=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function pi(){if(!(this instanceof pi))return new pi;n5.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=bO,this.W=new Array(160)}on.inherits(pi,n5);var i5=pi;pi.blockSize=1024;pi.outSize=512;pi.hmacStrength=192;pi.padLength=128;pi.prototype._prepareBlock=function(t,r){for(var n=this.W,i=0;i<32;i++)n[i]=t[r+i];for(;i<n.length;i+=2){var s=DO(n[i-4],n[i-3]),o=TO(n[i-4],n[i-3]),a=n[i-14],u=n[i-13],c=RO(n[i-30],n[i-29]),f=CO(n[i-30],n[i-29]),h=n[i-32],y=n[i-31];n[i]=gO(s,o,a,u,c,f,h,y),n[i+1]=mO(s,o,a,u,c,f,h,y)}};pi.prototype._update=function(t,r){this._prepareBlock(t,r);var n=this.W,i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],u=this.h[4],c=this.h[5],f=this.h[6],h=this.h[7],y=this.h[8],v=this.h[9],w=this.h[10],C=this.h[11],N=this.h[12],T=this.h[13],x=this.h[14],O=this.h[15];pO(this.k.length===n.length);for(var k=0;k<n.length;k+=2){var L=x,$=O,E=xO(y,v),U=MO(y,v),Z=wO(y,v,w,C,N),ne=EO(y,v,w,C,N,T),q=this.k[k],b=this.k[k+1],l=n[k],d=n[k+1],m=yO(L,$,E,U,Z,ne,q,b,l,d),A=vO(L,$,E,U,Z,ne,q,b,l,d);L=AO(i,s),$=IO(i,s),E=_O(i,s,o,a,u),U=SO(i,s,o,a,u,c);var D=C0(L,$,E,U),R=D0(L,$,E,U);x=N,O=T,N=w,T=C,w=y,C=v,y=C0(f,h,m,A),v=D0(h,h,m,A),f=u,h=c,u=o,c=a,o=i,a=s,i=C0(m,A,D,R),s=D0(m,A,D,R)}Os(this.h,0,i,s),Os(this.h,2,o,a),Os(this.h,4,u,c),Os(this.h,6,f,h),Os(this.h,8,y,v),Os(this.h,10,w,C),Os(this.h,12,N,T),Os(this.h,14,x,O)};pi.prototype._digest=function(t){return t==="hex"?on.toHex32(this.h,"big"):on.split32(this.h,"big")};function wO(e,t,r,n,i){var s=e&r^~e&i;return s<0&&(s+=4294967296),s}function EO(e,t,r,n,i,s){var o=t&n^~t&s;return o<0&&(o+=4294967296),o}function _O(e,t,r,n,i){var s=e&r^e&i^r&i;return s<0&&(s+=4294967296),s}function SO(e,t,r,n,i,s){var o=t&n^t&s^n&s;return o<0&&(o+=4294967296),o}function AO(e,t){var r=Oi(e,t,28),n=Oi(t,e,2),i=Oi(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function IO(e,t){var r=ki(e,t,28),n=ki(t,e,2),i=ki(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function xO(e,t){var r=Oi(e,t,14),n=Oi(e,t,18),i=Oi(t,e,9),s=r^n^i;return s<0&&(s+=4294967296),s}function MO(e,t){var r=ki(e,t,14),n=ki(e,t,18),i=ki(t,e,9),s=r^n^i;return s<0&&(s+=4294967296),s}function RO(e,t){var r=Oi(e,t,1),n=Oi(e,t,8),i=t5(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function CO(e,t){var r=ki(e,t,1),n=ki(e,t,8),i=r5(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function DO(e,t){var r=Oi(e,t,19),n=Oi(t,e,29),i=t5(e,t,6),s=r^n^i;return s<0&&(s+=4294967296),s}function TO(e,t){var r=ki(e,t,19),n=ki(t,e,29),i=r5(e,t,6),s=r^n^i;return s<0&&(s+=4294967296),s}var A1=st,s5=i5;function Ms(){if(!(this instanceof Ms))return new Ms;s5.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}A1.inherits(Ms,s5);var NO=Ms;Ms.blockSize=1024;Ms.outSize=384;Ms.hmacStrength=192;Ms.padLength=128;Ms.prototype._digest=function(t){return t==="hex"?A1.toHex32(this.h.slice(0,12),"big"):A1.split32(this.h.slice(0,12),"big")};Ru.sha1=eO;Ru.sha224=dO;Ru.sha256=Z4;Ru.sha384=NO;Ru.sha512=i5;var o5={},Xo=st,PO=Mu,uf=Xo.rotl32,_2=Xo.sum32,Zu=Xo.sum32_3,S2=Xo.sum32_4,a5=PO.BlockHash;function Hi(){if(!(this instanceof Hi))return new Hi;a5.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Xo.inherits(Hi,a5);o5.ripemd160=Hi;Hi.blockSize=512;Hi.outSize=160;Hi.hmacStrength=192;Hi.padLength=64;Hi.prototype._update=function(t,r){for(var n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],u=n,c=i,f=s,h=o,y=a,v=0;v<80;v++){var w=_2(uf(S2(n,A2(v,i,s,o),t[FO[v]+r],OO(v)),LO[v]),a);n=a,a=o,o=uf(s,10),s=i,i=w,w=_2(uf(S2(u,A2(79-v,c,f,h),t[BO[v]+r],kO(v)),UO[v]),y),u=y,y=h,h=uf(f,10),f=c,c=w}w=Zu(this.h[1],s,h),this.h[1]=Zu(this.h[2],o,y),this.h[2]=Zu(this.h[3],a,u),this.h[3]=Zu(this.h[4],n,c),this.h[4]=Zu(this.h[0],i,f),this.h[0]=w};Hi.prototype._digest=function(t){return t==="hex"?Xo.toHex32(this.h,"little"):Xo.split32(this.h,"little")};function A2(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function OO(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function kO(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var FO=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],BO=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],LO=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],UO=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],$O=st,zO=ca;function fu(e,t,r){if(!(this instanceof fu))return new fu(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init($O.toArray(t,r))}var qO=fu;fu.prototype._init=function(t){t.length>this.blockSize&&(t=new this.Hash().update(t).digest()),zO(t.length<=this.blockSize);for(var r=t.length;r<this.blockSize;r++)t.push(0);for(r=0;r<t.length;r++)t[r]^=54;for(this.inner=new this.Hash().update(t),r=0;r<t.length;r++)t[r]^=106;this.outer=new this.Hash().update(t)};fu.prototype.update=function(t,r){return this.inner.update(t,r),this};fu.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)};(function(e){var t=e;t.utils=st,t.common=Mu,t.sha=Ru,t.ripemd=o5,t.hmac=qO,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160})(Ah);var T0,I2;function jO(){return I2||(I2=1,T0={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),T0}(function(e){var t=e,r=Ah,n=gm,i=Cn,s=i.assert;function o(c){c.type==="short"?this.curve=new n.short(c):c.type==="edwards"?this.curve=new n.edwards(c):this.curve=new n.mont(c),this.g=this.curve.g,this.n=this.curve.n,this.hash=c.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=o;function a(c,f){Object.defineProperty(t,c,{configurable:!0,enumerable:!0,get:function(){var h=new o(f);return Object.defineProperty(t,c,{configurable:!0,enumerable:!0,value:h}),h}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var u;try{u=jO()}catch{u=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",u]})})(Sh);var HO=Ah,Uo=hm,u5=ca;function so(e){if(!(this instanceof so))return new so(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=Uo.toArray(e.entropy,e.entropyEnc||"hex"),r=Uo.toArray(e.nonce,e.nonceEnc||"hex"),n=Uo.toArray(e.pers,e.persEnc||"hex");u5(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var KO=so;so.prototype._init=function(t,r,n){var i=t.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};so.prototype._hmac=function(){return new HO.hmac(this.hash,this.K)};so.prototype._update=function(t){var r=this._hmac().update(this.V).update([0]);t&&(r=r.update(t)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())};so.prototype.reseed=function(t,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),t=Uo.toArray(t,r),n=Uo.toArray(n,i),u5(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(n||[])),this._reseed=1};so.prototype.generate=function(t,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Uo.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<t;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,t);return this._update(n),this._reseed++,Uo.encode(o,r)};var GO=Cs,VO=Cn,I1=VO.assert;function Cr(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var WO=Cr;Cr.fromPublic=function(t,r,n){return r instanceof Cr?r:new Cr(t,{pub:r,pubEnc:n})};Cr.fromPrivate=function(t,r,n){return r instanceof Cr?r:new Cr(t,{priv:r,privEnc:n})};Cr.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Cr.prototype.getPublic=function(t,r){return typeof t=="string"&&(r=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,t):this.pub};Cr.prototype.getPrivate=function(t){return t==="hex"?this.priv.toString(16,2):this.priv};Cr.prototype._importPrivate=function(t,r){this.priv=new GO(t,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Cr.prototype._importPublic=function(t,r){if(t.x||t.y){this.ec.curve.type==="mont"?I1(t.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&I1(t.x&&t.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(t.x,t.y);return}this.pub=this.ec.curve.decodePoint(t,r)};Cr.prototype.derive=function(t){return t.validate()||I1(t.validate(),"public point not validated"),t.mul(this.priv).getX()};Cr.prototype.sign=function(t,r,n){return this.ec.sign(t,this,r,n)};Cr.prototype.verify=function(t,r){return this.ec.verify(t,r,this)};Cr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Ad=Cs,ym=Cn,YO=ym.assert;function xh(e,t){if(e instanceof xh)return e;this._importDER(e,t)||(YO(e.r&&e.s,"Signature without r or s"),this.r=new Ad(e.r,16),this.s=new Ad(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var QO=xh;function JO(){this.place=0}function N0(e,t){var r=e[t.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||e[t.place]===0)return!1;for(var i=0,s=0,o=t.place;s<n;s++,o++)i<<=8,i|=e[o],i>>>=0;return i<=127?!1:(t.place=o,i)}function x2(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}xh.prototype._importDER=function(t,r){t=ym.toArray(t,r);var n=new JO;if(t[n.place++]!==48)return!1;var i=N0(t,n);if(i===!1||i+n.place!==t.length||t[n.place++]!==2)return!1;var s=N0(t,n);if(s===!1||t[n.place]&128)return!1;var o=t.slice(n.place,s+n.place);if(n.place+=s,t[n.place++]!==2)return!1;var a=N0(t,n);if(a===!1||t.length!==a+n.place||t[n.place]&128)return!1;var u=t.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(u[0]===0)if(u[1]&128)u=u.slice(1);else return!1;return this.r=new Ad(o),this.s=new Ad(u),this.recoveryParam=null,!0};function P0(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}xh.prototype.toDER=function(t){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=x2(r),n=x2(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];P0(i,r.length),i=i.concat(r),i.push(2),P0(i,n.length);var s=i.concat(n),o=[48];return P0(o,s.length),o=o.concat(s),ym.encode(o,t)};var $o=Cs,c5=KO,XO=Cn,O0=Sh,ZO=q4,l5=XO.assert,vm=WO,Mh=QO;function Wn(e){if(!(this instanceof Wn))return new Wn(e);typeof e=="string"&&(l5(Object.prototype.hasOwnProperty.call(O0,e),"Unknown curve "+e),e=O0[e]),e instanceof O0.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var ek=Wn;Wn.prototype.keyPair=function(t){return new vm(this,t)};Wn.prototype.keyFromPrivate=function(t,r){return vm.fromPrivate(this,t,r)};Wn.prototype.keyFromPublic=function(t,r){return vm.fromPublic(this,t,r)};Wn.prototype.genKeyPair=function(t){t||(t={});for(var r=new c5({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||ZO(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new $o(2));;){var s=new $o(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Wn.prototype._truncateToN=function(t,r){var n=t.byteLength()*8-this.n.bitLength();return n>0&&(t=t.ushrn(n)),!r&&t.cmp(this.n)>=0?t.sub(this.n):t};Wn.prototype.sign=function(t,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),t=this._truncateToN(new $o(t,16));for(var s=this.n.byteLength(),o=r.getPrivate().toArray("be",s),a=t.toArray("be",s),u=new c5({hash:this.hash,entropy:o,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"}),c=this.n.sub(new $o(1)),f=0;;f++){var h=i.k?i.k(f):new $o(u.generate(this.n.byteLength()));if(h=this._truncateToN(h,!0),!(h.cmpn(1)<=0||h.cmp(c)>=0)){var y=this.g.mul(h);if(!y.isInfinity()){var v=y.getX(),w=v.umod(this.n);if(w.cmpn(0)!==0){var C=h.invm(this.n).mul(w.mul(r.getPrivate()).iadd(t));if(C=C.umod(this.n),C.cmpn(0)!==0){var N=(y.getY().isOdd()?1:0)|(v.cmp(w)!==0?2:0);return i.canonical&&C.cmp(this.nh)>0&&(C=this.n.sub(C),N^=1),new Mh({r:w,s:C,recoveryParam:N})}}}}}};Wn.prototype.verify=function(t,r,n,i){t=this._truncateToN(new $o(t,16)),n=this.keyFromPublic(n,i),r=new Mh(r,"hex");var s=r.r,o=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a=o.invm(this.n),u=a.mul(t).umod(this.n),c=a.mul(s).umod(this.n),f;return this.curve._maxwellTrick?(f=this.g.jmulAdd(u,n.getPublic(),c),f.isInfinity()?!1:f.eqXToP(s)):(f=this.g.mulAdd(u,n.getPublic(),c),f.isInfinity()?!1:f.getX().umod(this.n).cmp(s)===0)};Wn.prototype.recoverPubKey=function(e,t,r,n){l5((3&r)===r,"The recovery param is more than two bits"),t=new Mh(t,n);var i=this.n,s=new $o(e),o=t.r,a=t.s,u=r&1,c=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?o=this.curve.pointFromX(o.add(this.curve.n),u):o=this.curve.pointFromX(o,u);var f=t.r.invm(i),h=i.sub(s).mul(f).umod(i),y=a.mul(f).umod(i);return this.g.mulAdd(h,o,y)};Wn.prototype.getKeyRecoveryParam=function(e,t,r,n){if(t=new Mh(t,n),t.recoveryParam!==null)return t.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(e,t,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var Il=Cn,f5=Il.assert,M2=Il.parseBytes,Du=Il.cachedProperty;function cr(e,t){this.eddsa=e,this._secret=M2(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=M2(t.pub)}cr.fromPublic=function(t,r){return r instanceof cr?r:new cr(t,{pub:r})};cr.fromSecret=function(t,r){return r instanceof cr?r:new cr(t,{secret:r})};cr.prototype.secret=function(){return this._secret};Du(cr,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});Du(cr,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});Du(cr,"privBytes",function(){var t=this.eddsa,r=this.hash(),n=t.encodingLength-1,i=r.slice(0,t.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});Du(cr,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});Du(cr,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});Du(cr,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});cr.prototype.sign=function(t){return f5(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)};cr.prototype.verify=function(t,r){return this.eddsa.verify(t,r,this)};cr.prototype.getSecret=function(t){return f5(this._secret,"KeyPair is public only"),Il.encode(this.secret(),t)};cr.prototype.getPublic=function(t){return Il.encode(this.pubBytes(),t)};var tk=cr,rk=Cs,Rh=Cn,R2=Rh.assert,Ch=Rh.cachedProperty,nk=Rh.parseBytes;function la(e,t){this.eddsa=e,typeof t!="object"&&(t=nk(t)),Array.isArray(t)&&(R2(t.length===e.encodingLength*2,"Signature has invalid size"),t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),R2(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof rk&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}Ch(la,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});Ch(la,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});Ch(la,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});Ch(la,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});la.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};la.prototype.toHex=function(){return Rh.encode(this.toBytes(),"hex").toUpperCase()};var ik=la,sk=Ah,ok=Sh,du=Cn,ak=du.assert,d5=du.parseBytes,h5=tk,C2=ik;function an(e){if(ak(e==="ed25519","only tested with ed25519 so far"),!(this instanceof an))return new an(e);e=ok[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=sk.sha512}var uk=an;an.prototype.sign=function(t,r){t=d5(t);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),t),s=this.g.mul(i),o=this.encodePoint(s),a=this.hashInt(o,n.pubBytes(),t).mul(n.priv()),u=i.add(a).umod(this.curve.n);return this.makeSignature({R:s,S:u,Rencoded:o})};an.prototype.verify=function(t,r,n){if(t=d5(t),r=this.makeSignature(r),r.S().gte(r.eddsa.curve.n)||r.S().isNeg())return!1;var i=this.keyFromPublic(n),s=this.hashInt(r.Rencoded(),i.pubBytes(),t),o=this.g.mul(r.S()),a=r.R().add(i.pub().mul(s));return a.eq(o)};an.prototype.hashInt=function(){for(var t=this.hash(),r=0;r<arguments.length;r++)t.update(arguments[r]);return du.intFromLE(t.digest()).umod(this.curve.n)};an.prototype.keyFromPublic=function(t){return h5.fromPublic(this,t)};an.prototype.keyFromSecret=function(t){return h5.fromSecret(this,t)};an.prototype.makeSignature=function(t){return t instanceof C2?t:new C2(this,t)};an.prototype.encodePoint=function(t){var r=t.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=t.getX().isOdd()?128:0,r};an.prototype.decodePoint=function(t){t=du.parseBytes(t);var r=t.length-1,n=t.slice(0,r).concat(t[r]&-129),i=(t[r]&128)!==0,s=du.intFromLE(n);return this.curve.pointFromY(s,i)};an.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)};an.prototype.decodeInt=function(t){return du.intFromLE(t)};an.prototype.isPoint=function(t){return t instanceof this.pointClass};(function(e){var t=e;t.version=aP.version,t.utils=Cn,t.rand=q4,t.curve=gm,t.curves=Sh,t.ec=ek,t.eddsa=uk})($4);const ck={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var lk={};const fk=":";function k0(e){const[t,r]=e.split(fk);return{namespace:t,reference:r}}function p5(e,t){return e.includes(":")?[e]:t.chains||[]}var dk=Object.defineProperty,D2=Object.getOwnPropertySymbols,hk=Object.prototype.hasOwnProperty,pk=Object.prototype.propertyIsEnumerable,T2=(e,t,r)=>t in e?dk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,N2=(e,t)=>{for(var r in t||(t={}))hk.call(t,r)&&T2(e,r,t[r]);if(D2)for(var r of D2(t))pk.call(t,r)&&T2(e,r,t[r]);return e};const gk="ReactNative",bn={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},mk="js";function Id(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Tu(){return!yh()&&!!am()&&navigator.product===gk}function xl(){return!Id()&&!!am()&&!!yh()}function Ml(){return Tu()?bn.reactNative:Id()?bn.node:xl()?bn.browser:bn.unknown}function yk(){var e;try{return Tu()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(e=global.Application)==null?void 0:e.applicationId:void 0}catch{return}}function vk(e,t){let r=ol.parse(e);return r=N2(N2({},r),t),e=ol.stringify(r),e}function g5(){return D4()||{name:"",description:"",url:"",icons:[""]}}function bk(){if(Ml()===bn.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:r,Version:n}=global.Platform;return[r,n].join("-")}const e=fN();if(e===null)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return e.type==="browser"?[t,e.name,e.version].join("-"):[t,e.version].join("-")}function wk(){var e;const t=Ml();return t===bn.browser?[t,((e=C4())==null?void 0:e.host)||"unknown"].join(":"):t}function m5(e,t,r){const n=bk(),i=wk();return[[e,t].join("-"),[mk,r].join("-"),n,i].join("/")}function Ek({protocol:e,version:t,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a}){const u=r.split("?"),c=m5(e,t,n),f={auth:i,ua:c,projectId:s,useOnCloseEvent:o||void 0,origin:a||void 0},h=vk(u[1]||"",f);return u[0]+"?"+h}function Oo(e,t){return e.filter(r=>t.includes(r)).length===e.length}function y5(e){return Object.fromEntries(e.entries())}function v5(e){return new Map(Object.entries(e))}function Co(e=ye.FIVE_MINUTES,t){const r=ye.toMiliseconds(e||ye.FIVE_MINUTES);let n,i,s;return{resolve:o=>{s&&n&&(clearTimeout(s),n(o))},reject:o=>{s&&i&&(clearTimeout(s),i(o))},done:()=>new Promise((o,a)=>{s=setTimeout(()=>{a(new Error(t))},r),n=o,i=a})}}function Ja(e,t,r){return new Promise(async(n,i)=>{const s=setTimeout(()=>i(new Error(r)),t);try{const o=await e;n(o)}catch(o){i(o)}clearTimeout(s)})}function b5(e,t){if(typeof t=="string"&&t.startsWith(`${e}:`))return t;if(e.toLowerCase()==="topic"){if(typeof t!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}else if(e.toLowerCase()==="id"){if(typeof t!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function _k(e){return b5("topic",e)}function Sk(e){return b5("id",e)}function w5(e){const[t,r]=e.split(":"),n={id:void 0,topic:void 0};if(t==="topic"&&typeof r=="string")n.topic=r;else if(t==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);return n}function Xt(e,t){return ye.fromMiliseconds(Date.now()+ye.toMiliseconds(e))}function Ls(e){return Date.now()>=ye.toMiliseconds(e)}function tt(e,t){return`${e}${t?`:${t}`:""}`}function Ak(e=[],t=[]){return[...new Set([...e,...t])]}async function Ik({id:e,topic:t,wcDeepLink:r}){var n;try{if(!r)return;const i=typeof r=="string"?JSON.parse(r):r,s=i==null?void 0:i.href;if(typeof s!="string")return;const o=xk(s,e,t),a=Ml();if(a===bn.browser){if(!((n=yh())!=null&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}o.startsWith("https://")||o.startsWith("http://")?window.open(o,"_blank","noreferrer noopener"):window.open(o,Rk()?"_blank":"_self","noreferrer noopener")}else a===bn.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(i){console.error(i)}}function xk(e,t,r){const n=`requestId=${t}&sessionTopic=${r}`;e.endsWith("/")&&(e=e.slice(0,-1));let i=`${e}`;if(e.startsWith("https://t.me")){const s=e.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${Ck(n,!0)}`}else i=`${i}/wc?${n}`;return i}async function Mk(e,t){let r="";try{if(xl()&&(r=localStorage.getItem(t),r))return r;r=await e.getItem(t)}catch(n){console.error(n)}return r}function P2(e,t){if(!e.includes(t))return null;const r=e.split(/([&,?,=])/),n=r.indexOf(t);return r[n+2]}function O2(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function bm(){return typeof process<"u"&&lk.IS_VITEST==="true"}function Rk(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function Ck(e,t=!1){const r=Buffer.from(e).toString("base64");return t?r.replace(/[=]/g,""):r}function E5(e){return Buffer.from(e,"base64").toString("utf-8")}var _5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dk(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var S5={exports:{}};/**
* [js-sha3]{@link https://github.com/emn178/js-sha3}
*
* @version 0.8.0
* @author Chen, Yi-Cyuan [emn178@gmail.com]
* @copyright Chen, Yi-Cyuan 2015-2018
* @license MIT
*/(function(e){(function(){var t="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=_5:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&e.exports,u=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",c="0123456789abcdef".split(""),f=[31,7936,2031616,520093696],h=[4,1024,262144,67108864],y=[1,256,65536,16777216],v=[6,1536,393216,100663296],w=[0,8,16,24],C=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],N=[224,256,384,512],T=[128,256],x=["hex","buffer","arrayBuffer","array","digest"],O={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(P){return Object.prototype.toString.call(P)==="[object Array]"}),u&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(P){return typeof P=="object"&&P.buffer&&P.buffer.constructor===ArrayBuffer});for(var k=function(P,J,j){return function(K){return new B(P,J,P).update(K)[j]()}},L=function(P,J,j){return function(K,G){return new B(P,J,G).update(K)[j]()}},$=function(P,J,j){return function(K,G,S,H){return d["cshake"+P].update(K,G,S,H)[j]()}},E=function(P,J,j){return function(K,G,S,H){return d["kmac"+P].update(K,G,S,H)[j]()}},U=function(P,J,j,K){for(var G=0;G<x.length;++G){var S=x[G];P[S]=J(j,K,S)}return P},Z=function(P,J){var j=k(P,J,"hex");return j.create=function(){return new B(P,J,P)},j.update=function(K){return j.create().update(K)},U(j,k,P,J)},ne=function(P,J){var j=L(P,J,"hex");return j.create=function(K){return new B(P,J,K)},j.update=function(K,G){return j.create(G).update(K)},U(j,L,P,J)},q=function(P,J){var j=O[P],K=$(P,J,"hex");return K.create=function(G,S,H){return!S&&!H?d["shake"+P].create(G):new B(P,J,G).bytepad([S,H],j)},K.update=function(G,S,H,re){return K.create(S,H,re).update(G)},U(K,$,P,J)},b=function(P,J){var j=O[P],K=E(P,J,"hex");return K.create=function(G,S,H){return new Y(P,J,S).bytepad(["KMAC",H],j).bytepad([G],j)},K.update=function(G,S,H,re){return K.create(G,H,re).update(S)},U(K,E,P,J)},l=[{name:"keccak",padding:y,bits:N,createMethod:Z},{name:"sha3",padding:v,bits:N,createMethod:Z},{name:"shake",padding:f,bits:T,createMethod:ne},{name:"cshake",padding:h,bits:T,createMethod:q},{name:"kmac",padding:h,bits:T,createMethod:b}],d={},m=[],A=0;A<l.length;++A)for(var D=l[A],R=D.bits,I=0;I<R.length;++I){var p=D.name+"_"+R[I];if(m.push(p),d[p]=D.createMethod(R[I],D.padding),D.name!=="sha3"){var g=D.name+R[I];m.push(g),d[g]=d[p]}}function B(P,J,j){this.blocks=[],this.s=[],this.padding=J,this.outputBits=j,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(P<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=j>>5,this.extraBytes=(j&31)>>3;for(var K=0;K<50;++K)this.s[K]=0}B.prototype.update=function(P){if(this.finalized)throw new Error(r);var J,j=typeof P;if(j!=="string"){if(j==="object"){if(P===null)throw new Error(t);if(u&&P.constructor===ArrayBuffer)P=new Uint8Array(P);else if(!Array.isArray(P)&&(!u||!ArrayBuffer.isView(P)))throw new Error(t)}else throw new Error(t);J=!0}for(var K=this.blocks,G=this.byteCount,S=P.length,H=this.blockCount,re=0,ie=this.s,ae,pe;re<S;){if(this.reset)for(this.reset=!1,K[0]=this.block,ae=1;ae<H+1;++ae)K[ae]=0;if(J)for(ae=this.start;re<S&&ae<G;++re)K[ae>>2]|=P[re]<<w[ae++&3];else for(ae=this.start;re<S&&ae<G;++re)pe=P.charCodeAt(re),pe<128?K[ae>>2]|=pe<<w[ae++&3]:pe<2048?(K[ae>>2]|=(192|pe>>6)<<w[ae++&3],K[ae>>2]|=(128|pe&63)<<w[ae++&3]):pe<55296||pe>=57344?(K[ae>>2]|=(224|pe>>12)<<w[ae++&3],K[ae>>2]|=(128|pe>>6&63)<<w[ae++&3],K[ae>>2]|=(128|pe&63)<<w[ae++&3]):(pe=65536+((pe&1023)<<10|P.charCodeAt(++re)&1023),K[ae>>2]|=(240|pe>>18)<<w[ae++&3],K[ae>>2]|=(128|pe>>12&63)<<w[ae++&3],K[ae>>2]|=(128|pe>>6&63)<<w[ae++&3],K[ae>>2]|=(128|pe&63)<<w[ae++&3]);if(this.lastByteIndex=ae,ae>=G){for(this.start=ae-G,this.block=K[H],ae=0;ae<H;++ae)ie[ae]^=K[ae];te(ie),this.reset=!0}else this.start=ae}return this},B.prototype.encode=function(P,J){var j=P&255,K=1,G=[j];for(P=P>>8,j=P&255;j>0;)G.unshift(j),P=P>>8,j=P&255,++K;return J?G.push(K):G.unshift(K),this.update(G),G.length},B.prototype.encodeString=function(P){var J,j=typeof P;if(j!=="string"){if(j==="object"){if(P===null)throw new Error(t);if(u&&P.constructor===ArrayBuffer)P=new Uint8Array(P);else if(!Array.isArray(P)&&(!u||!ArrayBuffer.isView(P)))throw new Error(t)}else throw new Error(t);J=!0}var K=0,G=P.length;if(J)K=G;else for(var S=0;S<P.length;++S){var H=P.charCodeAt(S);H<128?K+=1:H<2048?K+=2:H<55296||H>=57344?K+=3:(H=65536+((H&1023)<<10|P.charCodeAt(++S)&1023),K+=4)}return K+=this.encode(K*8),this.update(P),K},B.prototype.bytepad=function(P,J){for(var j=this.encode(J),K=0;K<P.length;++K)j+=this.encodeString(P[K]);var G=J-j%J,S=[];return S.length=G,this.update(S),this},B.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var P=this.blocks,J=this.lastByteIndex,j=this.blockCount,K=this.s;if(P[J>>2]|=this.padding[J&3],this.lastByteIndex===this.byteCount)for(P[0]=P[j],J=1;J<j+1;++J)P[J]=0;for(P[j-1]|=2147483648,J=0;J<j;++J)K[J]^=P[J];te(K)}},B.prototype.toString=B.prototype.hex=function(){this.finalize();for(var P=this.blockCount,J=this.s,j=this.outputBlocks,K=this.extraBytes,G=0,S=0,H="",re;S<j;){for(G=0;G<P&&S<j;++G,++S)re=J[G],H+=c[re>>4&15]+c[re&15]+c[re>>12&15]+c[re>>8&15]+c[re>>20&15]+c[re>>16&15]+c[re>>28&15]+c[re>>24&15];S%P===0&&(te(J),G=0)}return K&&(re=J[G],H+=c[re>>4&15]+c[re&15],K>1&&(H+=c[re>>12&15]+c[re>>8&15]),K>2&&(H+=c[re>>20&15]+c[re>>16&15])),H},B.prototype.arrayBuffer=function(){this.finalize();var P=this.blockCount,J=this.s,j=this.outputBlocks,K=this.extraBytes,G=0,S=0,H=this.outputBits>>3,re;K?re=new ArrayBuffer(j+1<<2):re=new ArrayBuffer(H);for(var ie=new Uint32Array(re);S<j;){for(G=0;G<P&&S<j;++G,++S)ie[S]=J[G];S%P===0&&te(J)}return K&&(ie[G]=J[G],re=re.slice(0,H)),re},B.prototype.buffer=B.prototype.arrayBuffer,B.prototype.digest=B.prototype.array=function(){this.finalize();for(var P=this.blockCount,J=this.s,j=this.outputBlocks,K=this.extraBytes,G=0,S=0,H=[],re,ie;S<j;){for(G=0;G<P&&S<j;++G,++S)re=S<<2,ie=J[G],H[re]=ie&255,H[re+1]=ie>>8&255,H[re+2]=ie>>16&255,H[re+3]=ie>>24&255;S%P===0&&te(J)}return K&&(re=S<<2,ie=J[G],H[re]=ie&255,K>1&&(H[re+1]=ie>>8&255),K>2&&(H[re+2]=ie>>16&255)),H};function Y(P,J,j){B.call(this,P,J,j)}Y.prototype=new B,Y.prototype.finalize=function(){return this.encode(this.outputBits,!0),B.prototype.finalize.call(this)};var te=function(P){var J,j,K,G,S,H,re,ie,ae,pe,de,Oe,Le,ve,xe,Ee,le,we,_e,ce,be,F,_,M,z,W,Q,ee,oe,he,Ce,me,De,Je,ke,at,ut,Se,Ue,ze,Ae,qe,$e,Te,Ke,Ge,Ne,Ve,je,Ie,Fe,We,Pe,ft,dt,He,et,qr,jr,Hr,Kr,Gr,Gt;for(K=0;K<48;K+=2)G=P[0]^P[10]^P[20]^P[30]^P[40],S=P[1]^P[11]^P[21]^P[31]^P[41],H=P[2]^P[12]^P[22]^P[32]^P[42],re=P[3]^P[13]^P[23]^P[33]^P[43],ie=P[4]^P[14]^P[24]^P[34]^P[44],ae=P[5]^P[15]^P[25]^P[35]^P[45],pe=P[6]^P[16]^P[26]^P[36]^P[46],de=P[7]^P[17]^P[27]^P[37]^P[47],Oe=P[8]^P[18]^P[28]^P[38]^P[48],Le=P[9]^P[19]^P[29]^P[39]^P[49],J=Oe^(H<<1|re>>>31),j=Le^(re<<1|H>>>31),P[0]^=J,P[1]^=j,P[10]^=J,P[11]^=j,P[20]^=J,P[21]^=j,P[30]^=J,P[31]^=j,P[40]^=J,P[41]^=j,J=G^(ie<<1|ae>>>31),j=S^(ae<<1|ie>>>31),P[2]^=J,P[3]^=j,P[12]^=J,P[13]^=j,P[22]^=J,P[23]^=j,P[32]^=J,P[33]^=j,P[42]^=J,P[43]^=j,J=H^(pe<<1|de>>>31),j=re^(de<<1|pe>>>31),P[4]^=J,P[5]^=j,P[14]^=J,P[15]^=j,P[24]^=J,P[25]^=j,P[34]^=J,P[35]^=j,P[44]^=J,P[45]^=j,J=ie^(Oe<<1|Le>>>31),j=ae^(Le<<1|Oe>>>31),P[6]^=J,P[7]^=j,P[16]^=J,P[17]^=j,P[26]^=J,P[27]^=j,P[36]^=J,P[37]^=j,P[46]^=J,P[47]^=j,J=pe^(G<<1|S>>>31),j=de^(S<<1|G>>>31),P[8]^=J,P[9]^=j,P[18]^=J,P[19]^=j,P[28]^=J,P[29]^=j,P[38]^=J,P[39]^=j,P[48]^=J,P[49]^=j,ve=P[0],xe=P[1],Ge=P[11]<<4|P[10]>>>28,Ne=P[10]<<4|P[11]>>>28,ee=P[20]<<3|P[21]>>>29,oe=P[21]<<3|P[20]>>>29,Hr=P[31]<<9|P[30]>>>23,Kr=P[30]<<9|P[31]>>>23,qe=P[40]<<18|P[41]>>>14,$e=P[41]<<18|P[40]>>>14,Je=P[2]<<1|P[3]>>>31,ke=P[3]<<1|P[2]>>>31,Ee=P[13]<<12|P[12]>>>20,le=P[12]<<12|P[13]>>>20,Ve=P[22]<<10|P[23]>>>22,je=P[23]<<10|P[22]>>>22,he=P[33]<<13|P[32]>>>19,Ce=P[32]<<13|P[33]>>>19,Gr=P[42]<<2|P[43]>>>30,Gt=P[43]<<2|P[42]>>>30,ft=P[5]<<30|P[4]>>>2,dt=P[4]<<30|P[5]>>>2,at=P[14]<<6|P[15]>>>26,ut=P[15]<<6|P[14]>>>26,we=P[25]<<11|P[24]>>>21,_e=P[24]<<11|P[25]>>>21,Ie=P[34]<<15|P[35]>>>17,Fe=P[35]<<15|P[34]>>>17,me=P[45]<<29|P[44]>>>3,De=P[44]<<29|P[45]>>>3,M=P[6]<<28|P[7]>>>4,z=P[7]<<28|P[6]>>>4,He=P[17]<<23|P[16]>>>9,et=P[16]<<23|P[17]>>>9,Se=P[26]<<25|P[27]>>>7,Ue=P[27]<<25|P[26]>>>7,ce=P[36]<<21|P[37]>>>11,be=P[37]<<21|P[36]>>>11,We=P[47]<<24|P[46]>>>8,Pe=P[46]<<24|P[47]>>>8,Te=P[8]<<27|P[9]>>>5,Ke=P[9]<<27|P[8]>>>5,W=P[18]<<20|P[19]>>>12,Q=P[19]<<20|P[18]>>>12,qr=P[29]<<7|P[28]>>>25,jr=P[28]<<7|P[29]>>>25,ze=P[38]<<8|P[39]>>>24,Ae=P[39]<<8|P[38]>>>24,F=P[48]<<14|P[49]>>>18,_=P[49]<<14|P[48]>>>18,P[0]=ve^~Ee&we,P[1]=xe^~le&_e,P[10]=M^~W&ee,P[11]=z^~Q&oe,P[20]=Je^~at&Se,P[21]=ke^~ut&Ue,P[30]=Te^~Ge&Ve,P[31]=Ke^~Ne&je,P[40]=ft^~He&qr,P[41]=dt^~et&jr,P[2]=Ee^~we&ce,P[3]=le^~_e&be,P[12]=W^~ee&he,P[13]=Q^~oe&Ce,P[22]=at^~Se&ze,P[23]=ut^~Ue&Ae,P[32]=Ge^~Ve&Ie,P[33]=Ne^~je&Fe,P[42]=He^~qr&Hr,P[43]=et^~jr&Kr,P[4]=we^~ce&F,P[5]=_e^~be&_,P[14]=ee^~he&me,P[15]=oe^~Ce&De,P[24]=Se^~ze&qe,P[25]=Ue^~Ae&$e,P[34]=Ve^~Ie&We,P[35]=je^~Fe&Pe,P[44]=qr^~Hr&Gr,P[45]=jr^~Kr&Gt,P[6]=ce^~F&ve,P[7]=be^~_&xe,P[16]=he^~me&M,P[17]=Ce^~De&z,P[26]=ze^~qe&Je,P[27]=Ae^~$e&ke,P[36]=Ie^~We&Te,P[37]=Fe^~Pe&Ke,P[46]=Hr^~Gr&ft,P[47]=Kr^~Gt&dt,P[8]=F^~ve&Ee,P[9]=_^~xe&le,P[18]=me^~M&W,P[19]=De^~z&Q,P[28]=qe^~Je&at,P[29]=$e^~ke&ut,P[38]=We^~Te&Ge,P[39]=Pe^~Ke&Ne,P[48]=Gr^~ft&He,P[49]=Gt^~dt&et,P[0]^=C[K],P[1]^=C[K+1]};if(a)e.exports=d;else for(A=0;A<m.length;++A)i[m[A]]=d[m[A]]})()})(S5);var Tk=S5.exports;const Nk="logger/5.7.0";let k2=!1,F2=!1;const kf={debug:1,default:2,info:2,warning:3,error:4,off:5};let B2=kf.default,F0=null;function Pk(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test".normalize(t)!=="test")throw new Error("bad normalize")}catch{e.push(t)}}),e.length)throw new Error("missing "+e.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(e){return e.message}return null}const L2=Pk();var x1;(function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"})(x1||(x1={}));var si;(function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"})(si||(si={}));const U2="0123456789abcdef";let mr=class Jt{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,r){const n=t.toLowerCase();kf[n]==null&&this.throwArgumentError("invalid log level name","logLevel",t),!(B2>kf[n])&&console.log.apply(console,r)}debug(...t){this._log(Jt.levels.DEBUG,t)}info(...t){this._log(Jt.levels.INFO,t)}warn(...t){this._log(Jt.levels.WARNING,t)}makeError(t,r,n){if(F2)return this.makeError("censored error",r,{});r||(r=Jt.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(u=>{const c=n[u];try{if(c instanceof Uint8Array){let f="";for(let h=0;h<c.length;h++)f+=U2[c[h]>>4],f+=U2[c[h]&15];i.push(u+"=Uint8Array(0x"+f+")")}else i.push(u+"="+JSON.stringify(c))}catch{i.push(u+"="+JSON.stringify(n[u].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=t;let o="";switch(r){case si.NUMERIC_FAULT:{o="NUMERIC_FAULT";const u=t;switch(u){case"overflow":case"underflow":case"division-by-zero":o+="-"+u;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case si.CALL_EXCEPTION:case si.INSUFFICIENT_FUNDS:case si.MISSING_NEW:case si.NONCE_EXPIRED:case si.REPLACEMENT_UNDERPRICED:case si.TRANSACTION_REPLACED:case si.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(t+=" ("+i.join(", ")+")");const a=new Error(t);return a.reason=s,a.code=r,Object.keys(n).forEach(function(u){a[u]=n[u]}),a}throwError(t,r,n){throw this.makeError(t,r,n)}throwArgumentError(t,r,n){return this.throwError(t,Jt.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(t,r,n,i){t||this.throwError(r,n,i)}assertArgument(t,r,n,i){t||this.throwArgumentError(r,n,i)}checkNormalize(t){L2&&this.throwError("platform missing String.prototype.normalize",Jt.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:L2})}checkSafeUint53(t,r){typeof t=="number"&&(r==null&&(r="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(r,Jt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(r,Jt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,r,n){n?n=": "+n:n="",t<r&&this.throwError("missing argument"+n,Jt.errors.MISSING_ARGUMENT,{count:t,expectedCount:r}),t>r&&this.throwError("too many arguments"+n,Jt.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:r})}checkNew(t,r){(t===Object||t==null)&&this.throwError("missing new",Jt.errors.MISSING_NEW,{name:r.name})}checkAbstract(t,r){t===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Jt.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||t==null)&&this.throwError("missing new",Jt.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return F0||(F0=new Jt(Nk)),F0}static setCensorship(t,r){if(!t&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Jt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),k2){if(!t)return;this.globalLogger().throwError("error censorship permanent",Jt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}F2=!!t,k2=!!r}static setLogLevel(t){const r=kf[t.toLowerCase()];if(r==null){Jt.globalLogger().warn("invalid log level - "+t);return}B2=r}static from(t){return new Jt(t)}};mr.errors=si,mr.levels=x1;const Ok="bytes/5.7.0",jt=new mr(Ok);function A5(e){return!!e.toHexString}function Xa(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return Xa(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function kk(e){return En(e)&&!(e.length%2)||Nu(e)}function $2(e){return typeof e=="number"&&e==e&&e%1===0}function Nu(e){if(e==null)return!1;if(e.constructor===Uint8Array)return!0;if(typeof e=="string"||!$2(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!$2(r)||r<0||r>=256)return!1}return!0}function $t(e,t){if(t||(t={}),typeof e=="number"){jt.checkSafeUint53(e,"invalid arrayify value");const r=[];for(;e;)r.unshift(e&255),e=parseInt(String(e/256));return r.length===0&&r.push(0),Xa(new Uint8Array(r))}if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),A5(e)&&(e=e.toHexString()),En(e)){let r=e.substring(2);r.length%2&&(t.hexPad==="left"?r="0"+r:t.hexPad==="right"?r+="0":jt.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Xa(new Uint8Array(n))}return Nu(e)?Xa(new Uint8Array(e)):jt.throwArgumentError("invalid arrayify value","value",e)}function Fk(e){const t=e.map(i=>$t(i)),r=t.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return t.reduce((i,s)=>(n.set(s,i),i+s.length),0),Xa(n)}function Bk(e,t){e=$t(e),e.length>t&&jt.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(t);return r.set(e,t-e.length),Xa(r)}function En(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}const B0="0123456789abcdef";function Jr(e,t){if(t||(t={}),typeof e=="number"){jt.checkSafeUint53(e,"invalid hexlify value");let r="";for(;e;)r=B0[e&15]+r,e=Math.floor(e/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof e=="bigint")return e=e.toString(16),e.length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),A5(e))return e.toHexString();if(En(e))return e.length%2&&(t.hexPad==="left"?e="0x0"+e.substring(2):t.hexPad==="right"?e+="0":jt.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(Nu(e)){let r="0x";for(let n=0;n<e.length;n++){let i=e[n];r+=B0[(i&240)>>4]+B0[i&15]}return r}return jt.throwArgumentError("invalid hexlify value","value",e)}function Lk(e){if(typeof e!="string")e=Jr(e);else if(!En(e)||e.length%2)return null;return(e.length-2)/2}function z2(e,t,r){return typeof e!="string"?e=Jr(e):(!En(e)||e.length%2)&&jt.throwArgumentError("invalid hexData","value",e),t=2+2*t,r!=null?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function Fi(e,t){for(typeof e!="string"?e=Jr(e):En(e)||jt.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&jt.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function I5(e){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(kk(e)){let r=$t(e);r.length===64?(t.v=27+(r[32]>>7),r[32]&=127,t.r=Jr(r.slice(0,32)),t.s=Jr(r.slice(32,64))):r.length===65?(t.r=Jr(r.slice(0,32)),t.s=Jr(r.slice(32,64)),t.v=r[64]):jt.throwArgumentError("invalid signature string","signature",e),t.v<27&&(t.v===0||t.v===1?t.v+=27:jt.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=Jr(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,t._vs!=null){const i=Bk($t(t._vs),32);t._vs=Jr(i);const s=i[0]>=128?1:0;t.recoveryParam==null?t.recoveryParam=s:t.recoveryParam!==s&&jt.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),i[0]&=127;const o=Jr(i);t.s==null?t.s=o:t.s!==o&&jt.throwArgumentError("signature v mismatch _vs","signature",e)}if(t.recoveryParam==null)t.v==null?jt.throwArgumentError("signature missing v and recoveryParam","signature",e):t.v===0||t.v===1?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(t.v==null)t.v=27+t.recoveryParam;else{const i=t.v===0||t.v===1?t.v:1-t.v%2;t.recoveryParam!==i&&jt.throwArgumentError("signature recoveryParam mismatch v","signature",e)}t.r==null||!En(t.r)?jt.throwArgumentError("signature missing or invalid r","signature",e):t.r=Fi(t.r,32),t.s==null||!En(t.s)?jt.throwArgumentError("signature missing or invalid s","signature",e):t.s=Fi(t.s,32);const r=$t(t.s);r[0]>=128&&jt.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(r[0]|=128);const n=Jr(r);t._vs&&(En(t._vs)||jt.throwArgumentError("signature invalid _vs","signature",e),t._vs=Fi(t._vs,32)),t._vs==null?t._vs=n:t._vs!==n&&jt.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}function wm(e){return"0x"+Tk.keccak_256($t(e))}var x5={exports:{}},Uk={},$k=Object.freeze({__proto__:null,default:Uk}),zk=Dk($k);(function(e){(function(t,r){function n(l,d){if(!l)throw new Error(d||"Assertion failed")}function i(l,d){l.super_=d;var m=function(){};m.prototype=d.prototype,l.prototype=new m,l.prototype.constructor=l}function s(l,d,m){if(s.isBN(l))return l;this.negative=0,this.words=null,this.length=0,this.red=null,l!==null&&((d==="le"||d==="be")&&(m=d,d=10),this._init(l||0,d||10,m||"be"))}typeof t=="object"?t.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=zk.Buffer}catch{}s.isBN=function(l){return l instanceof s?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===s.wordSize&&Array.isArray(l.words)},s.max=function(l,d){return l.cmp(d)>0?l:d},s.min=function(l,d){return l.cmp(d)<0?l:d},s.prototype._init=function(l,d,m){if(typeof l=="number")return this._initNumber(l,d,m);if(typeof l=="object")return this._initArray(l,d,m);d==="hex"&&(d=16),n(d===(d|0)&&d>=2&&d<=36),l=l.toString().replace(/\s+/g,"");var A=0;l[0]==="-"&&(A++,this.negative=1),A<l.length&&(d===16?this._parseHex(l,A,m):(this._parseBase(l,d,A),m==="le"&&this._initArray(this.toArray(),d,m)))},s.prototype._initNumber=function(l,d,m){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(n(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),d,m)},s.prototype._initArray=function(l,d,m){if(n(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var D,R,I=0;if(m==="be")for(A=l.length-1,D=0;A>=0;A-=3)R=l[A]|l[A-1]<<8|l[A-2]<<16,this.words[D]|=R<<I&67108863,this.words[D+1]=R>>>26-I&67108863,I+=24,I>=26&&(I-=26,D++);else if(m==="le")for(A=0,D=0;A<l.length;A+=3)R=l[A]|l[A+1]<<8|l[A+2]<<16,this.words[D]|=R<<I&67108863,this.words[D+1]=R>>>26-I&67108863,I+=24,I>=26&&(I-=26,D++);return this._strip()};function a(l,d){var m=l.charCodeAt(d);if(m>=48&&m<=57)return m-48;if(m>=65&&m<=70)return m-55;if(m>=97&&m<=102)return m-87;n(!1,"Invalid character in "+l)}function u(l,d,m){var A=a(l,m);return m-1>=d&&(A|=a(l,m-1)<<4),A}s.prototype._parseHex=function(l,d,m){this.length=Math.ceil((l.length-d)/6),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var D=0,R=0,I;if(m==="be")for(A=l.length-1;A>=d;A-=2)I=u(l,d,A)<<D,this.words[R]|=I&67108863,D>=18?(D-=18,R+=1,this.words[R]|=I>>>26):D+=8;else{var p=l.length-d;for(A=p%2===0?d+1:d;A<l.length;A+=2)I=u(l,d,A)<<D,this.words[R]|=I&67108863,D>=18?(D-=18,R+=1,this.words[R]|=I>>>26):D+=8}this._strip()};function c(l,d,m,A){for(var D=0,R=0,I=Math.min(l.length,m),p=d;p<I;p++){var g=l.charCodeAt(p)-48;D*=A,g>=49?R=g-49+10:g>=17?R=g-17+10:R=g,n(g>=0&&R<A,"Invalid character"),D+=R}return D}s.prototype._parseBase=function(l,d,m){this.words=[0],this.length=1;for(var A=0,D=1;D<=67108863;D*=d)A++;A--,D=D/d|0;for(var R=l.length-m,I=R%A,p=Math.min(R,R-I)+m,g=0,B=m;B<p;B+=A)g=c(l,B,B+A,d),this.imuln(D),this.words[0]+g<67108864?this.words[0]+=g:this._iaddn(g);if(I!==0){var Y=1;for(g=c(l,B,l.length,d),B=0;B<I;B++)Y*=d;this.imuln(Y),this.words[0]+g<67108864?this.words[0]+=g:this._iaddn(g)}this._strip()},s.prototype.copy=function(l){l.words=new Array(this.length);for(var d=0;d<this.length;d++)l.words[d]=this.words[d];l.length=this.length,l.negative=this.negative,l.red=this.red};function f(l,d){l.words=d.words,l.length=d.length,l.negative=d.negative,l.red=d.red}if(s.prototype._move=function(l){f(l,this)},s.prototype.clone=function(){var l=new s(null);return this.copy(l),l},s.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch{s.prototype.inspect=h}else s.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(l,d){l=l||10,d=d|0||1;var m;if(l===16||l==="hex"){m="";for(var A=0,D=0,R=0;R<this.length;R++){var I=this.words[R],p=((I<<A|D)&16777215).toString(16);D=I>>>24-A&16777215,A+=2,A>=26&&(A-=26,R--),D!==0||R!==this.length-1?m=y[6-p.length]+p+m:m=p+m}for(D!==0&&(m=D.toString(16)+m);m.length%d!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(l===(l|0)&&l>=2&&l<=36){var g=v[l],B=w[l];m="";var Y=this.clone();for(Y.negative=0;!Y.isZero();){var te=Y.modrn(B).toString(l);Y=Y.idivn(B),Y.isZero()?m=te+m:m=y[g-te.length]+te+m}for(this.isZero()&&(m="0"+m);m.length%d!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(l,d){return this.toArrayLike(o,l,d)}),s.prototype.toArray=function(l,d){return this.toArrayLike(Array,l,d)};var C=function(l,d){return l.allocUnsafe?l.allocUnsafe(d):new l(d)};s.prototype.toArrayLike=function(l,d,m){this._strip();var A=this.byteLength(),D=m||Math.max(1,A);n(A<=D,"byte array longer than desired length"),n(D>0,"Requested array length <= 0");var R=C(l,D),I=d==="le"?"LE":"BE";return this["_toArrayLike"+I](R,A),R},s.prototype._toArrayLikeLE=function(l,d){for(var m=0,A=0,D=0,R=0;D<this.length;D++){var I=this.words[D]<<R|A;l[m++]=I&255,m<l.length&&(l[m++]=I>>8&255),m<l.length&&(l[m++]=I>>16&255),R===6?(m<l.length&&(l[m++]=I>>24&255),A=0,R=0):(A=I>>>24,R+=2)}if(m<l.length)for(l[m++]=A;m<l.length;)l[m++]=0},s.prototype._toArrayLikeBE=function(l,d){for(var m=l.length-1,A=0,D=0,R=0;D<this.length;D++){var I=this.words[D]<<R|A;l[m--]=I&255,m>=0&&(l[m--]=I>>8&255),m>=0&&(l[m--]=I>>16&255),R===6?(m>=0&&(l[m--]=I>>24&255),A=0,R=0):(A=I>>>24,R+=2)}if(m>=0)for(l[m--]=A;m>=0;)l[m--]=0},Math.clz32?s.prototype._countBits=function(l){return 32-Math.clz32(l)}:s.prototype._countBits=function(l){var d=l,m=0;return d>=4096&&(m+=13,d>>>=13),d>=64&&(m+=7,d>>>=7),d>=8&&(m+=4,d>>>=4),d>=2&&(m+=2,d>>>=2),m+d},s.prototype._zeroBits=function(l){if(l===0)return 26;var d=l,m=0;return d&8191||(m+=13,d>>>=13),d&127||(m+=7,d>>>=7),d&15||(m+=4,d>>>=4),d&3||(m+=2,d>>>=2),d&1||m++,m},s.prototype.bitLength=function(){var l=this.words[this.length-1],d=this._countBits(l);return(this.length-1)*26+d};function N(l){for(var d=new Array(l.bitLength()),m=0;m<d.length;m++){var A=m/26|0,D=m%26;d[m]=l.words[A]>>>D&1}return d}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,d=0;d<this.length;d++){var m=this._zeroBits(this.words[d]);if(l+=m,m!==26)break}return l},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},s.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var d=0;d<l.length;d++)this.words[d]=this.words[d]|l.words[d];return this._strip()},s.prototype.ior=function(l){return n((this.negative|l.negative)===0),this.iuor(l)},s.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},s.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},s.prototype.iuand=function(l){var d;this.length>l.length?d=l:d=this;for(var m=0;m<d.length;m++)this.words[m]=this.words[m]&l.words[m];return this.length=d.length,this._strip()},s.prototype.iand=function(l){return n((this.negative|l.negative)===0),this.iuand(l)},s.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},s.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},s.prototype.iuxor=function(l){var d,m;this.length>l.length?(d=this,m=l):(d=l,m=this);for(var A=0;A<m.length;A++)this.words[A]=d.words[A]^m.words[A];if(this!==d)for(;A<d.length;A++)this.words[A]=d.words[A];return this.length=d.length,this._strip()},s.prototype.ixor=function(l){return n((this.negative|l.negative)===0),this.iuxor(l)},s.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},s.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},s.prototype.inotn=function(l){n(typeof l=="number"&&l>=0);var d=Math.ceil(l/26)|0,m=l%26;this._expand(d),m>0&&d--;for(var A=0;A<d;A++)this.words[A]=~this.words[A]&67108863;return m>0&&(this.words[A]=~this.words[A]&67108863>>26-m),this._strip()},s.prototype.notn=function(l){return this.clone().inotn(l)},s.prototype.setn=function(l,d){n(typeof l=="number"&&l>=0);var m=l/26|0,A=l%26;return this._expand(m+1),d?this.words[m]=this.words[m]|1<<A:this.words[m]=this.words[m]&~(1<<A),this._strip()},s.prototype.iadd=function(l){var d;if(this.negative!==0&&l.negative===0)return this.negative=0,d=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,d=this.isub(l),l.negative=1,d._normSign();var m,A;this.length>l.length?(m=this,A=l):(m=l,A=this);for(var D=0,R=0;R<A.length;R++)d=(m.words[R]|0)+(A.words[R]|0)+D,this.words[R]=d&67108863,D=d>>>26;for(;D!==0&&R<m.length;R++)d=(m.words[R]|0)+D,this.words[R]=d&67108863,D=d>>>26;if(this.length=m.length,D!==0)this.words[this.length]=D,this.length++;else if(m!==this)for(;R<m.length;R++)this.words[R]=m.words[R];return this},s.prototype.add=function(l){var d;return l.negative!==0&&this.negative===0?(l.negative=0,d=this.sub(l),l.negative^=1,d):l.negative===0&&this.negative!==0?(this.negative=0,d=l.sub(this),this.negative=1,d):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},s.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var d=this.iadd(l);return l.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var m=this.cmp(l);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var A,D;m>0?(A=this,D=l):(A=l,D=this);for(var R=0,I=0;I<D.length;I++)d=(A.words[I]|0)-(D.words[I]|0)+R,R=d>>26,this.words[I]=d&67108863;for(;R!==0&&I<A.length;I++)d=(A.words[I]|0)+R,R=d>>26,this.words[I]=d&67108863;if(R===0&&I<A.length&&A!==this)for(;I<A.length;I++)this.words[I]=A.words[I];return this.length=Math.max(this.length,I),A!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(l){return this.clone().isub(l)};function T(l,d,m){m.negative=d.negative^l.negative;var A=l.length+d.length|0;m.length=A,A=A-1|0;var D=l.words[0]|0,R=d.words[0]|0,I=D*R,p=I&67108863,g=I/67108864|0;m.words[0]=p;for(var B=1;B<A;B++){for(var Y=g>>>26,te=g&67108863,P=Math.min(B,d.length-1),J=Math.max(0,B-l.length+1);J<=P;J++){var j=B-J|0;D=l.words[j]|0,R=d.words[J]|0,I=D*R+te,Y+=I/67108864|0,te=I&67108863}m.words[B]=te|0,g=Y|0}return g!==0?m.words[B]=g|0:m.length--,m._strip()}var x=function(l,d,m){var A=l.words,D=d.words,R=m.words,I=0,p,g,B,Y=A[0]|0,te=Y&8191,P=Y>>>13,J=A[1]|0,j=J&8191,K=J>>>13,G=A[2]|0,S=G&8191,H=G>>>13,re=A[3]|0,ie=re&8191,ae=re>>>13,pe=A[4]|0,de=pe&8191,Oe=pe>>>13,Le=A[5]|0,ve=Le&8191,xe=Le>>>13,Ee=A[6]|0,le=Ee&8191,we=Ee>>>13,_e=A[7]|0,ce=_e&8191,be=_e>>>13,F=A[8]|0,_=F&8191,M=F>>>13,z=A[9]|0,W=z&8191,Q=z>>>13,ee=D[0]|0,oe=ee&8191,he=ee>>>13,Ce=D[1]|0,me=Ce&8191,De=Ce>>>13,Je=D[2]|0,ke=Je&8191,at=Je>>>13,ut=D[3]|0,Se=ut&8191,Ue=ut>>>13,ze=D[4]|0,Ae=ze&8191,qe=ze>>>13,$e=D[5]|0,Te=$e&8191,Ke=$e>>>13,Ge=D[6]|0,Ne=Ge&8191,Ve=Ge>>>13,je=D[7]|0,Ie=je&8191,Fe=je>>>13,We=D[8]|0,Pe=We&8191,ft=We>>>13,dt=D[9]|0,He=dt&8191,et=dt>>>13;m.negative=l.negative^d.negative,m.length=19,p=Math.imul(te,oe),g=Math.imul(te,he),g=g+Math.imul(P,oe)|0,B=Math.imul(P,he);var qr=(I+p|0)+((g&8191)<<13)|0;I=(B+(g>>>13)|0)+(qr>>>26)|0,qr&=67108863,p=Math.imul(j,oe),g=Math.imul(j,he),g=g+Math.imul(K,oe)|0,B=Math.imul(K,he),p=p+Math.imul(te,me)|0,g=g+Math.imul(te,De)|0,g=g+Math.imul(P,me)|0,B=B+Math.imul(P,De)|0;var jr=(I+p|0)+((g&8191)<<13)|0;I=(B+(g>>>13)|0)+(jr>>>26)|0,jr&=67108863,p=Math.imul(S,oe),g=Math.imul(S,he),g=g+Math.imul(H,oe)|0,B=Math.imul(H,he),p=p+Math.imul(j,me)|0,g=g+Math.imul(j,De)|0,g=g+Math.imul(K,me)|0,B=B+Math.imul(K,De)|0,p=p+Math.imul(te,ke)|0,g=g+Math.imul(te,at)|0,g=g+Math.imul(P,ke)|0,B=B+Math.imul(P,at)|0;var Hr=(I+p|0)+((g&8191)<<13)|0;I=(B+(g>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,p=Math.imul(ie,oe),g=Math.imul(ie,he),g=g+Math.imul(ae,oe)|0,B=Math.imul(ae,he),p=p+Math.imul(S,me)|0,g=g+Math.imul(S,De)|0,g=g+Math.imul(H,me)|0,B=B+Math.imul(H,De)|0,p=p+Math.imul(j,ke)|0,g=g+Math.imul(j,at)|0,g=g+Math.imul(K,ke)|0,B=B+Math.imul(K,at)|0,p=p+Math.imul(te,Se)|0,g=g+Math.imul(te,Ue)|0,g=g+Math.imul(P,Se)|0,B=B+Math.imul(P,Ue)|0;var Kr=(I+p|0)+((g&8191)<<13)|0;I=(B+(g>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,p=Math.imul(de,oe),g=Math.imul(de,he),g=g+Math.imul(Oe,oe)|0,B=Math.imul(Oe,he),p=p+Math.imul(ie,me)|0,g=g+Math.imul(ie,De)|0,g=g+Math.imul(ae,me)|0,B=B+Math.imul(ae,De)|0,p=p+Math.imul(S,ke)|0,g=g+Math.imul(S,at)|0,g=g+Math.imul(H,ke)|0,B=B+Math.imul(H,at)|0,p=p+Math.imul(j,Se)|0,g=g+Math.imul(j,Ue)|0,g=g+Math.imul(K,Se)|0,B=B+Math.imul(K,Ue)|0,p=p+Math.imul(te,Ae)|0,g=g+Math.imul(te,qe)|0,g=g+Math.imul(P,Ae)|0,B=B+Math.imul(P,qe)|0;var Gr=(I+p|0)+((g&8191)<<13)|0;I=(B+(g>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,p=Math.imul(ve,oe),g=Math.imul(ve,he),g=g+Math.imul(xe,oe)|0,B=Math.imul(xe,he),p=p+Math.imul(de,me)|0,g=g+Math.imul(de,De)|0,g=g+Math.imul(Oe,me)|0,B=B+Math.imul(Oe,De)|0,p=p+Math.imul(ie,ke)|0,g=g+Math.imul(ie,at)|0,g=g+Math.imul(ae,ke)|0,B=B+Math.imul(ae,at)|0,p=p+Math.imul(S,Se)|0,g=g+Math.imul(S,Ue)|0,g=g+Math.imul(H,Se)|0,B=B+Math.imul(H,Ue)|0,p=p+Math.imul(j,Ae)|0,g=g+Math.imul(j,qe)|0,g=g+Math.imul(K,Ae)|0,B=B+Math.imul(K,qe)|0,p=p+Math.imul(te,Te)|0,g=g+Math.imul(te,Ke)|0,g=g+Math.imul(P,Te)|0,B=B+Math.imul(P,Ke)|0;var Gt=(I+p|0)+((g&8191)<<13)|0;I=(B+(g>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,p=Math.imul(le,oe),g=Math.imul(le,he),g=g+Math.imul(we,oe)|0,B=Math.imul(we,he),p=p+Math.imul(ve,me)|0,g=g+Math.imul(ve,De)|0,g=g+Math.imul(xe,me)|0,B=B+Math.imul(xe,De)|0,p=p+Math.imul(de,ke)|0,g=g+Math.imul(de,at)|0,g=g+Math.imul(Oe,ke)|0,B=B+Math.imul(Oe,at)|0,p=p+Math.imul(ie,Se)|0,g=g+Math.imul(ie,Ue)|0,g=g+Math.imul(ae,Se)|0,B=B+Math.imul(ae,Ue)|0,p=p+Math.imul(S,Ae)|0,g=g+Math.imul(S,qe)|0,g=g+Math.imul(H,Ae)|0,B=B+Math.imul(H,qe)|0,p=p+Math.imul(j,Te)|0,g=g+Math.imul(j,Ke)|0,g=g+Math.imul(K,Te)|0,B=B+Math.imul(K,Ke)|0,p=p+Math.imul(te,Ne)|0,g=g+Math.imul(te,Ve)|0,g=g+Math.imul(P,Ne)|0,B=B+Math.imul(P,Ve)|0;var Yi=(I+p|0)+((g&8191)<<13)|0;I=(B+(g>>>13)|0)+(Yi>>>26)|0,Yi&=67108863,p=Math.imul(ce,oe),g=Math.imul(ce,he),g=g+Math.imul(be,oe)|0,B=Math.imul(be,he),p=p+Math.imul(le,me)|0,g=g+Math.imul(le,De)|0,g=g+Math.imul(we,me)|0,B=B+Math.imul(we,De)|0,p=p+Math.imul(ve,ke)|0,g=g+Math.imul(ve,at)|0,g=g+Math.imul(xe,ke)|0,B=B+Math.imul(xe,at)|0,p=p+Math.imul(de,Se)|0,g=g+Math.imul(de,Ue)|0,g=g+Math.imul(Oe,Se)|0,B=B+Math.imul(Oe,Ue)|0,p=p+Math.imul(ie,Ae)|0,g=g+Math.imul(ie,qe)|0,g=g+Math.imul(ae,Ae)|0,B=B+Math.imul(ae,qe)|0,p=p+Math.imul(S,Te)|0,g=g+Math.imul(S,Ke)|0,g=g+Math.imul(H,Te)|0,B=B+Math.imul(H,Ke)|0,p=p+Math.imul(j,Ne)|0,g=g+Math.imul(j,Ve)|0,g=g+Math.imul(K,Ne)|0,B=B+Math.imul(K,Ve)|0,p=p+Math.imul(te,Ie)|0,g=g+Math.imul(te,Fe)|0,g=g+Math.imul(P,Ie)|0,B=B+Math.imul(P,Fe)|0;var Qi=(I+p|0)+((g&8191)<<13)|0;I=(B+(g>>>13)|0)+(Qi>>>26)|0,Qi&=67108863,p=Math.imul(_,oe),g=Math.imul(_,he),g=g+Math.imul(M,oe)|0,B=Math.imul(M,he),p=p+Math.imul(ce,me)|0,g=g+Math.imul(ce,De)|0,g=g+Math.imul(be,me)|0,B=B+Math.imul(be,De)|0,p=p+Math.imul(le,ke)|0,g=g+Math.imul(le,at)|0,g=g+Math.imul(we,ke)|0,B=B+Math.imul(we,at)|0,p=p+Math.imul(ve,Se)|0,g=g+Math.imul(ve,Ue)|0,g=g+Math.imul(xe,Se)|0,B=B+Math.imul(xe,Ue)|0,p=p+Math.imul(de,Ae)|0,g=g+Math.imul(de,qe)|0,g=g+Math.imul(Oe,Ae)|0,B=B+Math.imul(Oe,qe)|0,p=p+Math.imul(ie,Te)|0,g=g+Math.imul(ie,Ke)|0,g=g+Math.imul(ae,Te)|0,B=B+Math.imul(ae,Ke)|0,p=p+Math.imul(S,Ne)|0,g=g+Math.imul(S,Ve)|0,g=g+Math.imul(H,Ne)|0,B=B+Math.imul(H,Ve)|0,p=p+Math.imul(j,Ie)|0,g=g+Math.imul(j,Fe)|0,g=g+Math.imul(K,Ie)|0,B=B+Math.imul(K,Fe)|0,p=p+Math.imul(te,Pe)|0,g=g+Math.imul(te,ft)|0,g=g+Math.imul(P,Pe)|0,B=B+Math.imul(P,ft)|0;var Ji=(I+p|0)+((g&8191)<<13)|0;I=(B+(g>>>13)|0)+(Ji>>>26)|0,Ji&=67108863,p=Math.imul(W,oe),g=Math.imul(W,he),g=g+Math.imul(Q,oe)|0,B=Math.imul(Q,he),p=p+Math.imul(_,me)|0,g=g+Math.imul(_,De)|0,g=g+Math.imul(M,me)|0,B=B+Math.imul(M,De)|0,p=p+Math.imul(ce,ke)|0,g=g+Math.imul(ce,at)|0,g=g+Math.imul(be,ke)|0,B=B+Math.imul(be,at)|0,p=p+Math.imul(le,Se)|0,g=g+Math.imul(le,Ue)|0,g=g+Math.imul(we,Se)|0,B=B+Math.imul(we,Ue)|0,p=p+Math.imul(ve,Ae)|0,g=g+Math.imul(ve,qe)|0,g=g+Math.imul(xe,Ae)|0,B=B+Math.imul(xe,qe)|0,p=p+Math.imul(de,Te)|0,g=g+Math.imul(de,Ke)|0,g=g+Math.imul(Oe,Te)|0,B=B+Math.imul(Oe,Ke)|0,p=p+Math.imul(ie,Ne)|0,g=g+Math.imul(ie,Ve)|0,g=g+Math.imul(ae,Ne)|0,B=B+Math.imul(ae,Ve)|0,p=p+Math.imul(S,Ie)|0,g=g+Math.imul(S,Fe)|0,g=g+Math.imul(H,Ie)|0,B=B+Math.imul(H,Fe)|0,p=p+Math.imul(j,Pe)|0,g=g+Math.imul(j,ft)|0,g=g+Math.imul(K,Pe)|0,B=B+Math.imul(K,ft)|0,p=p+Math.imul(te,He)|0,g=g+Math.imul(te,et)|0,g=g+Math.imul(P,He)|0,B=B+Math.imul(P,et)|0;var Xi=(I+p|0)+((g&8191)<<13)|0;I=(B+(g>>>13)|0)+(Xi>>>26)|0,Xi&=67108863,p=Math.imul(W,me),g=Math.imul(W,De),g=g+Math.imul(Q,me)|0,B=Math.imul(Q,De),p=p+Math.imul(_,ke)|0,g=g+Math.imul(_,at)|0,g=g+Math.imul(M,ke)|0,B=B+Math.imul(M,at)|0,p=p+Math.imul(ce,Se)|0,g=g+Math.imul(ce,Ue)|0,g=g+Math.imul(be,Se)|0,B=B+Math.imul(be,Ue)|0,p=p+Math.imul(le,Ae)|0,g=g+Math.imul(le,qe)|0,g=g+Math.imul(we,Ae)|0,B=B+Math.imul(we,qe)|0,p=p+Math.imul(ve,Te)|0,g=g+Math.imul(ve,Ke)|0,g=g+Math.imul(xe,Te)|0,B=B+Math.imul(xe,Ke)|0,p=p+Math.imul(de,Ne)|0,g=g+Math.imul(de,Ve)|0,g=g+Math.imul(Oe,Ne)|0,B=B+Math.imul(Oe,Ve)|0,p=p+Math.imul(ie,Ie)|0,g=g+Math.imul(ie,Fe)|0,g=g+Math.imul(ae,Ie)|0,B=B+Math.imul(ae,Fe)|0,p=p+Math.imul(S,Pe)|0,g=g+Math.imul(S,ft)|0,g=g+Math.imul(H,Pe)|0,B=B+Math.imul(H,ft)|0,p=p+Math.imul(j,He)|0,g=g+Math.imul(j,et)|0,g=g+Math.imul(K,He)|0,B=B+Math.imul(K,et)|0;var Zi=(I+p|0)+((g&8191)<<13)|0;I=(B+(g>>>13)|0)+(Zi>>>26)|0,Zi&=67108863,p=Math.imul(W,ke),g=Math.imul(W,at),g=g+Math.imul(Q,ke)|0,B=Math.imul(Q,at),p=p+Math.imul(_,Se)|0,g=g+Math.imul(_,Ue)|0,g=g+Math.imul(M,Se)|0,B=B+Math.imul(M,Ue)|0,p=p+Math.imul(ce,Ae)|0,g=g+Math.imul(ce,qe)|0,g=g+Math.imul(be,Ae)|0,B=B+Math.imul(be,qe)|0,p=p+Math.imul(le,Te)|0,g=g+Math.imul(le,Ke)|0,g=g+Math.imul(we,Te)|0,B=B+Math.imul(we,Ke)|0,p=p+Math.imul(ve,Ne)|0,g=g+Math.imul(ve,Ve)|0,g=g+Math.imul(xe,Ne)|0,B=B+Math.imul(xe,Ve)|0,p=p+Math.imul(de,Ie)|0,g=g+Math.imul(de,Fe)|0,g=g+Math.imul(Oe,Ie)|0,B=B+Math.imul(Oe,Fe)|0,p=p+Math.imul(ie,Pe)|0,g=g+Math.imul(ie,ft)|0,g=g+Math.imul(ae,Pe)|0,B=B+Math.imul(ae,ft)|0,p=p+Math.imul(S,He)|0,g=g+Math.imul(S,et)|0,g=g+Math.imul(H,He)|0,B=B+Math.imul(H,et)|0;var Dn=(I+p|0)+((g&8191)<<13)|0;I=(B+(g>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,p=Math.imul(W,Se),g=Math.imul(W,Ue),g=g+Math.imul(Q,Se)|0,B=Math.imul(Q,Ue),p=p+Math.imul(_,Ae)|0,g=g+Math.imul(_,qe)|0,g=g+Math.imul(M,Ae)|0,B=B+Math.imul(M,qe)|0,p=p+Math.imul(ce,Te)|0,g=g+Math.imul(ce,Ke)|0,g=g+Math.imul(be,Te)|0,B=B+Math.imul(be,Ke)|0,p=p+Math.imul(le,Ne)|0,g=g+Math.imul(le,Ve)|0,g=g+Math.imul(we,Ne)|0,B=B+Math.imul(we,Ve)|0,p=p+Math.imul(ve,Ie)|0,g=g+Math.imul(ve,Fe)|0,g=g+Math.imul(xe,Ie)|0,B=B+Math.imul(xe,Fe)|0,p=p+Math.imul(de,Pe)|0,g=g+Math.imul(de,ft)|0,g=g+Math.imul(Oe,Pe)|0,B=B+Math.imul(Oe,ft)|0,p=p+Math.imul(ie,He)|0,g=g+Math.imul(ie,et)|0,g=g+Math.imul(ae,He)|0,B=B+Math.imul(ae,et)|0;var es=(I+p|0)+((g&8191)<<13)|0;I=(B+(g>>>13)|0)+(es>>>26)|0,es&=67108863,p=Math.imul(W,Ae),g=Math.imul(W,qe),g=g+Math.imul(Q,Ae)|0,B=Math.imul(Q,qe),p=p+Math.imul(_,Te)|0,g=g+Math.imul(_,Ke)|0,g=g+Math.imul(M,Te)|0,B=B+Math.imul(M,Ke)|0,p=p+Math.imul(ce,Ne)|0,g=g+Math.imul(ce,Ve)|0,g=g+Math.imul(be,Ne)|0,B=B+Math.imul(be,Ve)|0,p=p+Math.imul(le,Ie)|0,g=g+Math.imul(le,Fe)|0,g=g+Math.imul(we,Ie)|0,B=B+Math.imul(we,Fe)|0,p=p+Math.imul(ve,Pe)|0,g=g+Math.imul(ve,ft)|0,g=g+Math.imul(xe,Pe)|0,B=B+Math.imul(xe,ft)|0,p=p+Math.imul(de,He)|0,g=g+Math.imul(de,et)|0,g=g+Math.imul(Oe,He)|0,B=B+Math.imul(Oe,et)|0;var ts=(I+p|0)+((g&8191)<<13)|0;I=(B+(g>>>13)|0)+(ts>>>26)|0,ts&=67108863,p=Math.imul(W,Te),g=Math.imul(W,Ke),g=g+Math.imul(Q,Te)|0,B=Math.imul(Q,Ke),p=p+Math.imul(_,Ne)|0,g=g+Math.imul(_,Ve)|0,g=g+Math.imul(M,Ne)|0,B=B+Math.imul(M,Ve)|0,p=p+Math.imul(ce,Ie)|0,g=g+Math.imul(ce,Fe)|0,g=g+Math.imul(be,Ie)|0,B=B+Math.imul(be,Fe)|0,p=p+Math.imul(le,Pe)|0,g=g+Math.imul(le,ft)|0,g=g+Math.imul(we,Pe)|0,B=B+Math.imul(we,ft)|0,p=p+Math.imul(ve,He)|0,g=g+Math.imul(ve,et)|0,g=g+Math.imul(xe,He)|0,B=B+Math.imul(xe,et)|0;var _r=(I+p|0)+((g&8191)<<13)|0;I=(B+(g>>>13)|0)+(_r>>>26)|0,_r&=67108863,p=Math.imul(W,Ne),g=Math.imul(W,Ve),g=g+Math.imul(Q,Ne)|0,B=Math.imul(Q,Ve),p=p+Math.imul(_,Ie)|0,g=g+Math.imul(_,Fe)|0,g=g+Math.imul(M,Ie)|0,B=B+Math.imul(M,Fe)|0,p=p+Math.imul(ce,Pe)|0,g=g+Math.imul(ce,ft)|0,g=g+Math.imul(be,Pe)|0,B=B+Math.imul(be,ft)|0,p=p+Math.imul(le,He)|0,g=g+Math.imul(le,et)|0,g=g+Math.imul(we,He)|0,B=B+Math.imul(we,et)|0;var rs=(I+p|0)+((g&8191)<<13)|0;I=(B+(g>>>13)|0)+(rs>>>26)|0,rs&=67108863,p=Math.imul(W,Ie),g=Math.imul(W,Fe),g=g+Math.imul(Q,Ie)|0,B=Math.imul(Q,Fe),p=p+Math.imul(_,Pe)|0,g=g+Math.imul(_,ft)|0,g=g+Math.imul(M,Pe)|0,B=B+Math.imul(M,ft)|0,p=p+Math.imul(ce,He)|0,g=g+Math.imul(ce,et)|0,g=g+Math.imul(be,He)|0,B=B+Math.imul(be,et)|0;var ns=(I+p|0)+((g&8191)<<13)|0;I=(B+(g>>>13)|0)+(ns>>>26)|0,ns&=67108863,p=Math.imul(W,Pe),g=Math.imul(W,ft),g=g+Math.imul(Q,Pe)|0,B=Math.imul(Q,ft),p=p+Math.imul(_,He)|0,g=g+Math.imul(_,et)|0,g=g+Math.imul(M,He)|0,B=B+Math.imul(M,et)|0;var is=(I+p|0)+((g&8191)<<13)|0;I=(B+(g>>>13)|0)+(is>>>26)|0,is&=67108863,p=Math.imul(W,He),g=Math.imul(W,et),g=g+Math.imul(Q,He)|0,B=Math.imul(Q,et);var Lu=(I+p|0)+((g&8191)<<13)|0;return I=(B+(g>>>13)|0)+(Lu>>>26)|0,Lu&=67108863,R[0]=qr,R[1]=jr,R[2]=Hr,R[3]=Kr,R[4]=Gr,R[5]=Gt,R[6]=Yi,R[7]=Qi,R[8]=Ji,R[9]=Xi,R[10]=Zi,R[11]=Dn,R[12]=es,R[13]=ts,R[14]=_r,R[15]=rs,R[16]=ns,R[17]=is,R[18]=Lu,I!==0&&(R[19]=I,m.length++),m};Math.imul||(x=T);function O(l,d,m){m.negative=d.negative^l.negative,m.length=l.length+d.length;for(var A=0,D=0,R=0;R<m.length-1;R++){var I=D;D=0;for(var p=A&67108863,g=Math.min(R,d.length-1),B=Math.max(0,R-l.length+1);B<=g;B++){var Y=R-B,te=l.words[Y]|0,P=d.words[B]|0,J=te*P,j=J&67108863;I=I+(J/67108864|0)|0,j=j+p|0,p=j&67108863,I=I+(j>>>26)|0,D+=I>>>26,I&=67108863}m.words[R]=p,A=I,I=D}return A!==0?m.words[R]=A:m.length--,m._strip()}function k(l,d,m){return O(l,d,m)}s.prototype.mulTo=function(l,d){var m,A=this.length+l.length;return this.length===10&&l.length===10?m=x(this,l,d):A<63?m=T(this,l,d):A<1024?m=O(this,l,d):m=k(this,l,d),m},s.prototype.mul=function(l){var d=new s(null);return d.words=new Array(this.length+l.length),this.mulTo(l,d)},s.prototype.mulf=function(l){var d=new s(null);return d.words=new Array(this.length+l.length),k(this,l,d)},s.prototype.imul=function(l){return this.clone().mulTo(l,this)},s.prototype.imuln=function(l){var d=l<0;d&&(l=-l),n(typeof l=="number"),n(l<67108864);for(var m=0,A=0;A<this.length;A++){var D=(this.words[A]|0)*l,R=(D&67108863)+(m&67108863);m>>=26,m+=D/67108864|0,m+=R>>>26,this.words[A]=R&67108863}return m!==0&&(this.words[A]=m,this.length++),d?this.ineg():this},s.prototype.muln=function(l){return this.clone().imuln(l)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(l){var d=N(l);if(d.length===0)return new s(1);for(var m=this,A=0;A<d.length&&d[A]===0;A++,m=m.sqr());if(++A<d.length)for(var D=m.sqr();A<d.length;A++,D=D.sqr())d[A]!==0&&(m=m.mul(D));return m},s.prototype.iushln=function(l){n(typeof l=="number"&&l>=0);var d=l%26,m=(l-d)/26,A=67108863>>>26-d<<26-d,D;if(d!==0){var R=0;for(D=0;D<this.length;D++){var I=this.words[D]&A,p=(this.words[D]|0)-I<<d;this.words[D]=p|R,R=I>>>26-d}R&&(this.words[D]=R,this.length++)}if(m!==0){for(D=this.length-1;D>=0;D--)this.words[D+m]=this.words[D];for(D=0;D<m;D++)this.words[D]=0;this.length+=m}return this._strip()},s.prototype.ishln=function(l){return n(this.negative===0),this.iushln(l)},s.prototype.iushrn=function(l,d,m){n(typeof l=="number"&&l>=0);var A;d?A=(d-d%26)/26:A=0;var D=l%26,R=Math.min((l-D)/26,this.length),I=67108863^67108863>>>D<<D,p=m;if(A-=R,A=Math.max(0,A),p){for(var g=0;g<R;g++)p.words[g]=this.words[g];p.length=R}if(R!==0)if(this.length>R)for(this.length-=R,g=0;g<this.length;g++)this.words[g]=this.words[g+R];else this.words[0]=0,this.length=1;var B=0;for(g=this.length-1;g>=0&&(B!==0||g>=A);g--){var Y=this.words[g]|0;this.words[g]=B<<26-D|Y>>>D,B=Y&I}return p&&B!==0&&(p.words[p.length++]=B),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(l,d,m){return n(this.negative===0),this.iushrn(l,d,m)},s.prototype.shln=function(l){return this.clone().ishln(l)},s.prototype.ushln=function(l){return this.clone().iushln(l)},s.prototype.shrn=function(l){return this.clone().ishrn(l)},s.prototype.ushrn=function(l){return this.clone().iushrn(l)},s.prototype.testn=function(l){n(typeof l=="number"&&l>=0);var d=l%26,m=(l-d)/26,A=1<<d;if(this.length<=m)return!1;var D=this.words[m];return!!(D&A)},s.prototype.imaskn=function(l){n(typeof l=="number"&&l>=0);var d=l%26,m=(l-d)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(d!==0&&m++,this.length=Math.min(m,this.length),d!==0){var A=67108863^67108863>>>d<<d;this.words[this.length-1]&=A}return this._strip()},s.prototype.maskn=function(l){return this.clone().imaskn(l)},s.prototype.iaddn=function(l){return n(typeof l=="number"),n(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<=l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},s.prototype._iaddn=function(l){this.words[0]+=l;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},s.prototype.isubn=function(l){if(n(typeof l=="number"),n(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},s.prototype.addn=function(l){return this.clone().iaddn(l)},s.prototype.subn=function(l){return this.clone().isubn(l)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(l,d,m){var A=l.length+m,D;this._expand(A);var R,I=0;for(D=0;D<l.length;D++){R=(this.words[D+m]|0)+I;var p=(l.words[D]|0)*d;R-=p&67108863,I=(R>>26)-(p/67108864|0),this.words[D+m]=R&67108863}for(;D<this.length-m;D++)R=(this.words[D+m]|0)+I,I=R>>26,this.words[D+m]=R&67108863;if(I===0)return this._strip();for(n(I===-1),I=0,D=0;D<this.length;D++)R=-(this.words[D]|0)+I,I=R>>26,this.words[D]=R&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(l,d){var m=this.length-l.length,A=this.clone(),D=l,R=D.words[D.length-1]|0,I=this._countBits(R);m=26-I,m!==0&&(D=D.ushln(m),A.iushln(m),R=D.words[D.length-1]|0);var p=A.length-D.length,g;if(d!=="mod"){g=new s(null),g.length=p+1,g.words=new Array(g.length);for(var B=0;B<g.length;B++)g.words[B]=0}var Y=A.clone()._ishlnsubmul(D,1,p);Y.negative===0&&(A=Y,g&&(g.words[p]=1));for(var te=p-1;te>=0;te--){var P=(A.words[D.length+te]|0)*67108864+(A.words[D.length+te-1]|0);for(P=Math.min(P/R|0,67108863),A._ishlnsubmul(D,P,te);A.negative!==0;)P--,A.negative=0,A._ishlnsubmul(D,1,te),A.isZero()||(A.negative^=1);g&&(g.words[te]=P)}return g&&g._strip(),A._strip(),d!=="div"&&m!==0&&A.iushrn(m),{div:g||null,mod:A}},s.prototype.divmod=function(l,d,m){if(n(!l.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var A,D,R;return this.negative!==0&&l.negative===0?(R=this.neg().divmod(l,d),d!=="mod"&&(A=R.div.neg()),d!=="div"&&(D=R.mod.neg(),m&&D.negative!==0&&D.iadd(l)),{div:A,mod:D}):this.negative===0&&l.negative!==0?(R=this.divmod(l.neg(),d),d!=="mod"&&(A=R.div.neg()),{div:A,mod:R.mod}):this.negative&l.negative?(R=this.neg().divmod(l.neg(),d),d!=="div"&&(D=R.mod.neg(),m&&D.negative!==0&&D.isub(l)),{div:R.div,mod:D}):l.length>this.length||this.cmp(l)<0?{div:new s(0),mod:this}:l.length===1?d==="div"?{div:this.divn(l.words[0]),mod:null}:d==="mod"?{div:null,mod:new s(this.modrn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new s(this.modrn(l.words[0]))}:this._wordDiv(l,d)},s.prototype.div=function(l){return this.divmod(l,"div",!1).div},s.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},s.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},s.prototype.divRound=function(l){var d=this.divmod(l);if(d.mod.isZero())return d.div;var m=d.div.negative!==0?d.mod.isub(l):d.mod,A=l.ushrn(1),D=l.andln(1),R=m.cmp(A);return R<0||D===1&&R===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},s.prototype.modrn=function(l){var d=l<0;d&&(l=-l),n(l<=67108863);for(var m=(1<<26)%l,A=0,D=this.length-1;D>=0;D--)A=(m*A+(this.words[D]|0))%l;return d?-A:A},s.prototype.modn=function(l){return this.modrn(l)},s.prototype.idivn=function(l){var d=l<0;d&&(l=-l),n(l<=67108863);for(var m=0,A=this.length-1;A>=0;A--){var D=(this.words[A]|0)+m*67108864;this.words[A]=D/l|0,m=D%l}return this._strip(),d?this.ineg():this},s.prototype.divn=function(l){return this.clone().idivn(l)},s.prototype.egcd=function(l){n(l.negative===0),n(!l.isZero());var d=this,m=l.clone();d.negative!==0?d=d.umod(l):d=d.clone();for(var A=new s(1),D=new s(0),R=new s(0),I=new s(1),p=0;d.isEven()&&m.isEven();)d.iushrn(1),m.iushrn(1),++p;for(var g=m.clone(),B=d.clone();!d.isZero();){for(var Y=0,te=1;!(d.words[0]&te)&&Y<26;++Y,te<<=1);if(Y>0)for(d.iushrn(Y);Y-- >0;)(A.isOdd()||D.isOdd())&&(A.iadd(g),D.isub(B)),A.iushrn(1),D.iushrn(1);for(var P=0,J=1;!(m.words[0]&J)&&P<26;++P,J<<=1);if(P>0)for(m.iushrn(P);P-- >0;)(R.isOdd()||I.isOdd())&&(R.iadd(g),I.isub(B)),R.iushrn(1),I.iushrn(1);d.cmp(m)>=0?(d.isub(m),A.isub(R),D.isub(I)):(m.isub(d),R.isub(A),I.isub(D))}return{a:R,b:I,gcd:m.iushln(p)}},s.prototype._invmp=function(l){n(l.negative===0),n(!l.isZero());var d=this,m=l.clone();d.negative!==0?d=d.umod(l):d=d.clone();for(var A=new s(1),D=new s(0),R=m.clone();d.cmpn(1)>0&&m.cmpn(1)>0;){for(var I=0,p=1;!(d.words[0]&p)&&I<26;++I,p<<=1);if(I>0)for(d.iushrn(I);I-- >0;)A.isOdd()&&A.iadd(R),A.iushrn(1);for(var g=0,B=1;!(m.words[0]&B)&&g<26;++g,B<<=1);if(g>0)for(m.iushrn(g);g-- >0;)D.isOdd()&&D.iadd(R),D.iushrn(1);d.cmp(m)>=0?(d.isub(m),A.isub(D)):(m.isub(d),D.isub(A))}var Y;return d.cmpn(1)===0?Y=A:Y=D,Y.cmpn(0)<0&&Y.iadd(l),Y},s.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var d=this.clone(),m=l.clone();d.negative=0,m.negative=0;for(var A=0;d.isEven()&&m.isEven();A++)d.iushrn(1),m.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;m.isEven();)m.iushrn(1);var D=d.cmp(m);if(D<0){var R=d;d=m,m=R}else if(D===0||m.cmpn(1)===0)break;d.isub(m)}while(!0);return m.iushln(A)},s.prototype.invm=function(l){return this.egcd(l).a.umod(l)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(l){return this.words[0]&l},s.prototype.bincn=function(l){n(typeof l=="number");var d=l%26,m=(l-d)/26,A=1<<d;if(this.length<=m)return this._expand(m+1),this.words[m]|=A,this;for(var D=A,R=m;D!==0&&R<this.length;R++){var I=this.words[R]|0;I+=D,D=I>>>26,I&=67108863,this.words[R]=I}return D!==0&&(this.words[R]=D,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(l){var d=l<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var m;if(this.length>1)m=1;else{d&&(l=-l),n(l<=67108863,"Number is too big");var A=this.words[0]|0;m=A===l?0:A<l?-1:1}return this.negative!==0?-m|0:m},s.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var d=this.ucmp(l);return this.negative!==0?-d|0:d},s.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var d=0,m=this.length-1;m>=0;m--){var A=this.words[m]|0,D=l.words[m]|0;if(A!==D){A<D?d=-1:A>D&&(d=1);break}}return d},s.prototype.gtn=function(l){return this.cmpn(l)===1},s.prototype.gt=function(l){return this.cmp(l)===1},s.prototype.gten=function(l){return this.cmpn(l)>=0},s.prototype.gte=function(l){return this.cmp(l)>=0},s.prototype.ltn=function(l){return this.cmpn(l)===-1},s.prototype.lt=function(l){return this.cmp(l)===-1},s.prototype.lten=function(l){return this.cmpn(l)<=0},s.prototype.lte=function(l){return this.cmp(l)<=0},s.prototype.eqn=function(l){return this.cmpn(l)===0},s.prototype.eq=function(l){return this.cmp(l)===0},s.red=function(l){return new q(l)},s.prototype.toRed=function(l){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(l){return this.red=l,this},s.prototype.forceRed=function(l){return n(!this.red,"Already a number in reduction context"),this._forceRed(l)},s.prototype.redAdd=function(l){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},s.prototype.redIAdd=function(l){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},s.prototype.redSub=function(l){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},s.prototype.redISub=function(l){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},s.prototype.redShl=function(l){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},s.prototype.redMul=function(l){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},s.prototype.redIMul=function(l){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(l){return n(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var L={k256:null,p224:null,p192:null,p25519:null};function $(l,d){this.name=l,this.p=new s(d,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}$.prototype._tmp=function(){var l=new s(null);return l.words=new Array(Math.ceil(this.n/13)),l},$.prototype.ireduce=function(l){var d=l,m;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),m=d.bitLength();while(m>this.n);var A=m<this.n?-1:d.ucmp(this.p);return A===0?(d.words[0]=0,d.length=1):A>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},$.prototype.split=function(l,d){l.iushrn(this.n,0,d)},$.prototype.imulK=function(l){return l.imul(this.k)};function E(){$.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(E,$),E.prototype.split=function(l,d){for(var m=4194303,A=Math.min(l.length,9),D=0;D<A;D++)d.words[D]=l.words[D];if(d.length=A,l.length<=9){l.words[0]=0,l.length=1;return}var R=l.words[9];for(d.words[d.length++]=R&m,D=10;D<l.length;D++){var I=l.words[D]|0;l.words[D-10]=(I&m)<<4|R>>>22,R=I}R>>>=22,l.words[D-10]=R,R===0&&l.length>10?l.length-=10:l.length-=9},E.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var d=0,m=0;m<l.length;m++){var A=l.words[m]|0;d+=A*977,l.words[m]=d&67108863,d=A*64+(d/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function U(){$.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(U,$);function Z(){$.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Z,$);function ne(){$.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(ne,$),ne.prototype.imulK=function(l){for(var d=0,m=0;m<l.length;m++){var A=(l.words[m]|0)*19+d,D=A&67108863;A>>>=26,l.words[m]=D,d=A}return d!==0&&(l.words[l.length++]=d),l},s._prime=function(l){if(L[l])return L[l];var d;if(l==="k256")d=new E;else if(l==="p224")d=new U;else if(l==="p192")d=new Z;else if(l==="p25519")d=new ne;else throw new Error("Unknown prime "+l);return L[l]=d,d};function q(l){if(typeof l=="string"){var d=s._prime(l);this.m=d.p,this.prime=d}else n(l.gtn(1),"modulus must be greater than 1"),this.m=l,this.prime=null}q.prototype._verify1=function(l){n(l.negative===0,"red works only with positives"),n(l.red,"red works only with red numbers")},q.prototype._verify2=function(l,d){n((l.negative|d.negative)===0,"red works only with positives"),n(l.red&&l.red===d.red,"red works only with red numbers")},q.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):(f(l,l.umod(this.m)._forceRed(this)),l)},q.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},q.prototype.add=function(l,d){this._verify2(l,d);var m=l.add(d);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},q.prototype.iadd=function(l,d){this._verify2(l,d);var m=l.iadd(d);return m.cmp(this.m)>=0&&m.isub(this.m),m},q.prototype.sub=function(l,d){this._verify2(l,d);var m=l.sub(d);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},q.prototype.isub=function(l,d){this._verify2(l,d);var m=l.isub(d);return m.cmpn(0)<0&&m.iadd(this.m),m},q.prototype.shl=function(l,d){return this._verify1(l),this.imod(l.ushln(d))},q.prototype.imul=function(l,d){return this._verify2(l,d),this.imod(l.imul(d))},q.prototype.mul=function(l,d){return this._verify2(l,d),this.imod(l.mul(d))},q.prototype.isqr=function(l){return this.imul(l,l.clone())},q.prototype.sqr=function(l){return this.mul(l,l)},q.prototype.sqrt=function(l){if(l.isZero())return l.clone();var d=this.m.andln(3);if(n(d%2===1),d===3){var m=this.m.add(new s(1)).iushrn(2);return this.pow(l,m)}for(var A=this.m.subn(1),D=0;!A.isZero()&&A.andln(1)===0;)D++,A.iushrn(1);n(!A.isZero());var R=new s(1).toRed(this),I=R.redNeg(),p=this.m.subn(1).iushrn(1),g=this.m.bitLength();for(g=new s(2*g*g).toRed(this);this.pow(g,p).cmp(I)!==0;)g.redIAdd(I);for(var B=this.pow(g,A),Y=this.pow(l,A.addn(1).iushrn(1)),te=this.pow(l,A),P=D;te.cmp(R)!==0;){for(var J=te,j=0;J.cmp(R)!==0;j++)J=J.redSqr();n(j<P);var K=this.pow(B,new s(1).iushln(P-j-1));Y=Y.redMul(K),B=K.redSqr(),te=te.redMul(B),P=j}return Y},q.prototype.invm=function(l){var d=l._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},q.prototype.pow=function(l,d){if(d.isZero())return new s(1).toRed(this);if(d.cmpn(1)===0)return l.clone();var m=4,A=new Array(1<<m);A[0]=new s(1).toRed(this),A[1]=l;for(var D=2;D<A.length;D++)A[D]=this.mul(A[D-1],l);var R=A[0],I=0,p=0,g=d.bitLength()%26;for(g===0&&(g=26),D=d.length-1;D>=0;D--){for(var B=d.words[D],Y=g-1;Y>=0;Y--){var te=B>>Y&1;if(R!==A[0]&&(R=this.sqr(R)),te===0&&I===0){p=0;continue}I<<=1,I|=te,p++,!(p!==m&&(D!==0||Y!==0))&&(R=this.mul(R,A[I]),p=0,I=0)}g=26}return R},q.prototype.convertTo=function(l){var d=l.umod(this.m);return d===l?d.clone():d},q.prototype.convertFrom=function(l){var d=l.clone();return d.red=null,d},s.mont=function(l){return new b(l)};function b(l){q.call(this,l),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(b,q),b.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},b.prototype.convertFrom=function(l){var d=this.imod(l.mul(this.rinv));return d.red=null,d},b.prototype.imul=function(l,d){if(l.isZero()||d.isZero())return l.words[0]=0,l.length=1,l;var m=l.imul(d),A=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=m.isub(A).iushrn(this.shift),R=D;return D.cmp(this.m)>=0?R=D.isub(this.m):D.cmpn(0)<0&&(R=D.iadd(this.m)),R._forceRed(this)},b.prototype.mul=function(l,d){if(l.isZero()||d.isZero())return new s(0)._forceRed(this);var m=l.mul(d),A=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=m.isub(A).iushrn(this.shift),R=D;return D.cmp(this.m)>=0?R=D.isub(this.m):D.cmpn(0)<0&&(R=D.iadd(this.m)),R._forceRed(this)},b.prototype.invm=function(l){var d=this.imod(l._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(e,_5)})(x5);var Ye=x5.exports;const M5="bignumber/5.7.0";var xd=Ye.BN;const fs=new mr(M5),L0={},q2=9007199254740991;function qk(e){return e!=null&&(_t.isBigNumber(e)||typeof e=="number"&&e%1===0||typeof e=="string"&&!!e.match(/^-?[0-9]+$/)||En(e)||typeof e=="bigint"||Nu(e))}let j2=!1;class _t{constructor(t,r){t!==L0&&fs.throwError("cannot call constructor directly; use BigNumber.from",mr.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return Vr(it(this).fromTwos(t))}toTwos(t){return Vr(it(this).toTwos(t))}abs(){return this._hex[0]==="-"?_t.from(this._hex.substring(1)):this}add(t){return Vr(it(this).add(it(t)))}sub(t){return Vr(it(this).sub(it(t)))}div(t){return _t.from(t).isZero()&&Pn("division-by-zero","div"),Vr(it(this).div(it(t)))}mul(t){return Vr(it(this).mul(it(t)))}mod(t){const r=it(t);return r.isNeg()&&Pn("division-by-zero","mod"),Vr(it(this).umod(r))}pow(t){const r=it(t);return r.isNeg()&&Pn("negative-power","pow"),Vr(it(this).pow(r))}and(t){const r=it(t);return(this.isNegative()||r.isNeg())&&Pn("unbound-bitwise-result","and"),Vr(it(this).and(r))}or(t){const r=it(t);return(this.isNegative()||r.isNeg())&&Pn("unbound-bitwise-result","or"),Vr(it(this).or(r))}xor(t){const r=it(t);return(this.isNegative()||r.isNeg())&&Pn("unbound-bitwise-result","xor"),Vr(it(this).xor(r))}mask(t){return(this.isNegative()||t<0)&&Pn("negative-width","mask"),Vr(it(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&Pn("negative-width","shl"),Vr(it(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&Pn("negative-width","shr"),Vr(it(this).shrn(t))}eq(t){return it(this).eq(it(t))}lt(t){return it(this).lt(it(t))}lte(t){return it(this).lte(it(t))}gt(t){return it(this).gt(it(t))}gte(t){return it(this).gte(it(t))}isNegative(){return this._hex[0]==="-"}isZero(){return it(this).isZero()}toNumber(){try{return it(this).toNumber()}catch{Pn("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return fs.throwError("this platform does not support BigInt",mr.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?j2||(j2=!0,fs.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?fs.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",mr.errors.UNEXPECTED_ARGUMENT,{}):fs.throwError("BigNumber.toString does not accept parameters",mr.errors.UNEXPECTED_ARGUMENT,{})),it(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof _t)return t;if(typeof t=="string")return t.match(/^-?0x[0-9a-f]+$/i)?new _t(L0,al(t)):t.match(/^-?[0-9]+$/)?new _t(L0,al(new xd(t))):fs.throwArgumentError("invalid BigNumber string","value",t);if(typeof t=="number")return t%1&&Pn("underflow","BigNumber.from",t),(t>=q2||t<=-q2)&&Pn("overflow","BigNumber.from",t),_t.from(String(t));const r=t;if(typeof r=="bigint")return _t.from(r.toString());if(Nu(r))return _t.from(Jr(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return _t.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(En(n)||n[0]==="-"&&En(n.substring(1))))return _t.from(n)}return fs.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!!(t&&t._isBigNumber)}}function al(e){if(typeof e!="string")return al(e.toString(16));if(e[0]==="-")return e=e.substring(1),e[0]==="-"&&fs.throwArgumentError("invalid hex","value",e),e=al(e),e==="0x00"?e:"-"+e;if(e.substring(0,2)!=="0x"&&(e="0x"+e),e==="0x")return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&e.substring(0,4)==="0x00";)e="0x"+e.substring(4);return e}function Vr(e){return _t.from(al(e))}function it(e){const t=_t.from(e).toHexString();return t[0]==="-"?new xd("-"+t.substring(3),16):new xd(t.substring(2),16)}function Pn(e,t,r){const n={fault:e,operation:t};return r!=null&&(n.value=r),fs.throwError(e,mr.errors.NUMERIC_FAULT,n)}function jk(e){return new xd(e,36).toString(16)}const kr=new mr(M5),Rc={},R5=_t.from(0),C5=_t.from(-1);function D5(e,t,r,n){const i={fault:t,operation:r};return n!==void 0&&(i.value=n),kr.throwError(e,mr.errors.NUMERIC_FAULT,i)}let Cc="0";for(;Cc.length<256;)Cc+=Cc;function Em(e){if(typeof e!="number")try{e=_t.from(e).toNumber()}catch{}return typeof e=="number"&&e>=0&&e<=256&&!(e%1)?"1"+Cc.substring(0,e):kr.throwArgumentError("invalid decimal size","decimals",e)}function U0(e,t){t==null&&(t=0);const r=Em(t);e=_t.from(e);const n=e.lt(R5);n&&(e=e.mul(C5));let i=e.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=e.div(r).toString();return r.length===1?e=s:e=s+"."+i,n&&(e="-"+e),e}function os(e,t){t==null&&(t=0);const r=Em(t);(typeof e!="string"||!e.match(/^-?[0-9.]+$/))&&kr.throwArgumentError("invalid decimal value","value",e);const n=e.substring(0,1)==="-";n&&(e=e.substring(1)),e==="."&&kr.throwArgumentError("missing value","value",e);const i=e.split(".");i.length>2&&kr.throwArgumentError("too many decimal points","value",e);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>r.length-1&&D5("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<r.length-1;)o+="0";const a=_t.from(s),u=_t.from(o);let c=a.mul(r).add(u);return n&&(c=c.mul(C5)),c}let $0=class M1{constructor(t,r,n,i){t!==Rc&&kr.throwError("cannot use FixedFormat constructor; use FixedFormat.from",mr.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=n,this.decimals=i,this.name=(r?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=Em(i),Object.freeze(this)}static from(t){if(t instanceof M1)return t;typeof t=="number"&&(t=`fixed128x${t}`);let r=!0,n=128,i=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")r=!1;else{const s=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||kr.throwArgumentError("invalid fixed format","format",t),r=s[1]!=="u",n=parseInt(s[2]),i=parseInt(s[3])}}else if(t){const s=(o,a,u)=>t[o]==null?u:(typeof t[o]!==a&&kr.throwArgumentError("invalid fixed format ("+o+" not "+a+")","format."+o,t[o]),t[o]);r=s("signed","boolean",r),n=s("width","number",n),i=s("decimals","number",i)}return n%8&&kr.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&kr.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new M1(Rc,r,n,i)}},T5=class Tr{constructor(t,r,n,i){t!==Rc&&kr.throwError("cannot use FixedNumber constructor; use FixedNumber.from",mr.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=r,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&kr.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const r=os(this._value,this.format.decimals),n=os(t._value,t.format.decimals);return Tr.fromValue(r.add(n),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const r=os(this._value,this.format.decimals),n=os(t._value,t.format.decimals);return Tr.fromValue(r.sub(n),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const r=os(this._value,this.format.decimals),n=os(t._value,t.format.decimals);return Tr.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const r=os(this._value,this.format.decimals),n=os(t._value,t.format.decimals);return Tr.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=Tr.from(t[0],this.format);const n=!t[1].match(/^(0*)$/);return this.isNegative()&&n&&(r=r.subUnsafe(H2.toFormat(r.format))),r}ceiling(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=Tr.from(t[0],this.format);const n=!t[1].match(/^(0*)$/);return!this.isNegative()&&n&&(r=r.addUnsafe(H2.toFormat(r.format))),r}round(t){t==null&&(t=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(t<0||t>80||t%1)&&kr.throwArgumentError("invalid decimal count","decimals",t),r[1].length<=t)return this;const n=Tr.from("1"+Cc.substring(0,t),this.format),i=Hk.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(t){if(t==null)return this._hex;t%8&&kr.throwArgumentError("invalid byte width","width",t);const r=_t.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString();return Fi(r,t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return Tr.fromString(this._value,t)}static fromValue(t,r,n){return n==null&&r!=null&&!qk(r)&&(n=r,r=null),r==null&&(r=0),n==null&&(n="fixed"),Tr.fromString(U0(t,r),$0.from(n))}static fromString(t,r){r==null&&(r="fixed");const n=$0.from(r),i=os(t,n.decimals);!n.signed&&i.lt(R5)&&D5("unsigned value cannot be negative","overflow","value",t);let s=null;n.signed?s=i.toTwos(n.width).toHexString():(s=i.toHexString(),s=Fi(s,n.width/8));const o=U0(i,n.decimals);return new Tr(Rc,s,o,n)}static fromBytes(t,r){r==null&&(r="fixed");const n=$0.from(r);if($t(t).length>n.width/8)throw new Error("overflow");let i=_t.from(t);n.signed&&(i=i.fromTwos(n.width));const s=i.toTwos((n.signed?0:1)+n.width).toHexString(),o=U0(i,n.decimals);return new Tr(Rc,s,o,n)}static from(t,r){if(typeof t=="string")return Tr.fromString(t,r);if(Nu(t))return Tr.fromBytes(t,r);try{return Tr.fromValue(t,0,r)}catch(n){if(n.code!==mr.errors.INVALID_ARGUMENT)throw n}return kr.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!!(t&&t._isFixedNumber)}};const H2=T5.from(1),Hk=T5.from("0.5"),Kk="strings/5.7.0",Gk=new mr(Kk);var Md;(function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"})(Md||(Md={}));var K2;(function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"})(K2||(K2={}));function z0(e,t=Md.current){t!=Md.current&&(Gk.checkNormalize(),e=e.normalize(t));let r=[];for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=e.charCodeAt(n);if(n>=e.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return $t(r)}function Vk(e){if(e.length%4!==0)throw new Error("bad data");let t=[];for(let r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t}function q0(e,t){t||(t=function(i){return[parseInt(i,16)]});let r=0,n={};return e.split(",").forEach(i=>{let s=i.split(":");r+=parseInt(s[0],16),n[r]=t(s[1])}),n}function G2(e){let t=0;return e.split(",").map(r=>{let n=r.split("-");n.length===1?n[1]="0":n[1]===""&&(n[1]="1");let i=t+parseInt(n[0],16);return t=parseInt(n[1],16),{l:i,h:t}})}G2("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(e=>parseInt(e,16)),q0("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),q0("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),q0("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",Vk),G2("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function Wk(e){e=atob(e);const t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return $t(t)}function N5(e,t){t==null&&(t=1);const r=[],n=r.forEach,i=function(s,o){n.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):r.push(a)})};return i(e,t),r}function Yk(e){const t={};for(let r=0;r<e.length;r++){const n=e[r];t[n[0]]=n[1]}return t}function Qk(e){let t=0;function r(){return e[t++]<<8|e[t++]}let n=r(),i=1,s=[0,1];for(let L=1;L<n;L++)s.push(i+=r());let o=r(),a=t;t+=o;let u=0,c=0;function f(){return u==0&&(c=c<<8|e[t++],u=8),c>>--u&1}const h=31,y=Math.pow(2,h),v=y>>>1,w=v>>1,C=y-1;let N=0;for(let L=0;L<h;L++)N=N<<1|f();let T=[],x=0,O=y;for(;;){let L=Math.floor(((N-x+1)*i-1)/O),$=0,E=n;for(;E-$>1;){let ne=$+E>>>1;L<s[ne]?E=ne:$=ne}if($==0)break;T.push($);let U=x+Math.floor(O*s[$]/i),Z=x+Math.floor(O*s[$+1]/i)-1;for(;!((U^Z)&v);)N=N<<1&C|f(),U=U<<1&C,Z=Z<<1&C|1;for(;U&~Z&w;)N=N&v|N<<1&C>>>1|f(),U=U<<1^v,Z=(Z^v)<<1|v|1;x=U,O=1+Z-U}let k=n-4;return T.map(L=>{switch(L-k){case 3:return k+65792+(e[a++]<<16|e[a++]<<8|e[a++]);case 2:return k+256+(e[a++]<<8|e[a++]);case 1:return k+e[a++];default:return L-1}})}function Jk(e){let t=0;return()=>e[t++]}function Xk(e){return Jk(Qk(e))}function Zk(e){return e&1?~e>>1:e>>1}function eF(e,t){let r=Array(e);for(let n=0;n<e;n++)r[n]=1+t();return r}function V2(e,t){let r=Array(e);for(let n=0,i=-1;n<e;n++)r[n]=i+=1+t();return r}function tF(e,t){let r=Array(e);for(let n=0,i=0;n<e;n++)r[n]=i+=Zk(t());return r}function Rd(e,t){let r=V2(e(),e),n=e(),i=V2(n,e),s=eF(n,e);for(let o=0;o<n;o++)for(let a=0;a<s[o];a++)r.push(i[o]+a);return t?r.map(o=>t[o]):r}function rF(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(iF(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(sF(r,e))}return Yk(N5(t))}function nF(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(r)}return t}function P5(e,t,r){let n=Array(e).fill(void 0).map(()=>[]);for(let i=0;i<t;i++)tF(e,r).forEach((s,o)=>n[o].push(s));return n}function iF(e,t){let r=1+t(),n=t(),i=nF(t),s=P5(i.length,1+e,t);return N5(s.map((o,a)=>{const u=o[0],c=o.slice(1);return Array(i[a]).fill(void 0).map((f,h)=>{let y=h*n;return[u+h*r,c.map(v=>v+y)]})}))}function sF(e,t){let r=1+t();return P5(r,1+e,t).map(n=>[n[0],n.slice(1)])}function oF(e){let t=Rd(e).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let c=Rd(e,t);if(c.length==0)break;n.push({set:new Set(c),node:r()})}n.sort((c,f)=>f.set.size-c.set.size);let i=e(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,u=i==2;return{branches:n,valid:s,fe0f:o,save:a,check:u}}}function aF(){return Xk(Wk("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const cf=aF();new Set(Rd(cf)),new Set(Rd(cf)),rF(cf),oF(cf);const uF=new Uint8Array(32);uF.fill(0);const cF=`Ethereum Signed Message:
`;function O5(e){return typeof e=="string"&&(e=z0(e)),wm(Fk([z0(cF),z0(String(e.length)),e]))}const lF="address/5.7.0",pc=new mr(lF);function W2(e){En(e,20)||pc.throwArgumentError("invalid address","address",e),e=e.toLowerCase();const t=e.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=t[i].charCodeAt(0);const n=$t(wm(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(t[i]=t[i].toUpperCase()),(n[i>>1]&15)>=8&&(t[i+1]=t[i+1].toUpperCase());return"0x"+t.join("")}const fF=9007199254740991;function dF(e){return Math.log10?Math.log10(e):Math.log(e)/Math.LN10}const _m={};for(let e=0;e<10;e++)_m[String(e)]=String(e);for(let e=0;e<26;e++)_m[String.fromCharCode(65+e)]=String(10+e);const Y2=Math.floor(dF(fF));function hF(e){e=e.toUpperCase(),e=e.substring(4)+e.substring(0,2)+"00";let t=e.split("").map(n=>_m[n]).join("");for(;t.length>=Y2;){let n=t.substring(0,Y2);t=parseInt(n,10)%97+t.substring(n.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}function pF(e){let t=null;if(typeof e!="string"&&pc.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))e.substring(0,2)!=="0x"&&(e="0x"+e),t=W2(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&pc.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==hF(e)&&pc.throwArgumentError("bad icap checksum","address",e),t=jk(e.substring(4));t.length<40;)t="0"+t;t=W2("0x"+t)}else pc.throwArgumentError("invalid address","address",e);return t}function ec(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}const gF=new Uint8Array(32);gF.fill(0),_t.from(-1);const mF=_t.from(0),yF=_t.from(1);_t.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Fi(yF.toHexString(),32),Fi(mF.toHexString(),32);var wi={},ot={},Rl=k5;function k5(e,t){if(!e)throw new Error(t||"Assertion failed")}k5.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var R1={exports:{}};typeof Object.create=="function"?R1.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:R1.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var vF=Rl,bF=R1.exports;ot.inherits=bF;function wF(e,t){return(e.charCodeAt(t)&64512)!==55296||t<0||t+1>=e.length?!1:(e.charCodeAt(t+1)&64512)===56320}function EF(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e=="string")if(t){if(t==="hex")for(e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var s=e.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):wF(e,i)?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128)}else for(i=0;i<e.length;i++)r[i]=e[i]|0;return r}ot.toArray=EF;function _F(e){for(var t="",r=0;r<e.length;r++)t+=B5(e[r].toString(16));return t}ot.toHex=_F;function F5(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}ot.htonl=F5;function SF(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];t==="little"&&(i=F5(i)),r+=L5(i.toString(16))}return r}ot.toHex32=SF;function B5(e){return e.length===1?"0"+e:e}ot.zero2=B5;function L5(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}ot.zero8=L5;function AF(e,t,r,n){var i=r-t;vF(i%4===0);for(var s=new Array(i/4),o=0,a=t;o<s.length;o++,a+=4){var u;n==="big"?u=e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3]:u=e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a],s[o]=u>>>0}return s}ot.join32=AF;function IF(e,t){for(var r=new Array(e.length*4),n=0,i=0;n<e.length;n++,i+=4){var s=e[n];t==="big"?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=s&255):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=s&255)}return r}ot.split32=IF;function xF(e,t){return e>>>t|e<<32-t}ot.rotr32=xF;function MF(e,t){return e<<t|e>>>32-t}ot.rotl32=MF;function RF(e,t){return e+t>>>0}ot.sum32=RF;function CF(e,t,r){return e+t+r>>>0}ot.sum32_3=CF;function DF(e,t,r,n){return e+t+r+n>>>0}ot.sum32_4=DF;function TF(e,t,r,n,i){return e+t+r+n+i>>>0}ot.sum32_5=TF;function NF(e,t,r,n){var i=e[t],s=e[t+1],o=n+s>>>0,a=(o<n?1:0)+r+i;e[t]=a>>>0,e[t+1]=o}ot.sum64=NF;function PF(e,t,r,n){var i=t+n>>>0,s=(i<t?1:0)+e+r;return s>>>0}ot.sum64_hi=PF;function OF(e,t,r,n){var i=t+n;return i>>>0}ot.sum64_lo=OF;function kF(e,t,r,n,i,s,o,a){var u=0,c=t;c=c+n>>>0,u+=c<t?1:0,c=c+s>>>0,u+=c<s?1:0,c=c+a>>>0,u+=c<a?1:0;var f=e+r+i+o+u;return f>>>0}ot.sum64_4_hi=kF;function FF(e,t,r,n,i,s,o,a){var u=t+n+s+a;return u>>>0}ot.sum64_4_lo=FF;function BF(e,t,r,n,i,s,o,a,u,c){var f=0,h=t;h=h+n>>>0,f+=h<t?1:0,h=h+s>>>0,f+=h<s?1:0,h=h+a>>>0,f+=h<a?1:0,h=h+c>>>0,f+=h<c?1:0;var y=e+r+i+o+u+f;return y>>>0}ot.sum64_5_hi=BF;function LF(e,t,r,n,i,s,o,a,u,c){var f=t+n+s+a+c;return f>>>0}ot.sum64_5_lo=LF;function UF(e,t,r){var n=t<<32-r|e>>>r;return n>>>0}ot.rotr64_hi=UF;function $F(e,t,r){var n=e<<32-r|t>>>r;return n>>>0}ot.rotr64_lo=$F;function zF(e,t,r){return e>>>r}ot.shr64_hi=zF;function qF(e,t,r){var n=e<<32-r|t>>>r;return n>>>0}ot.shr64_lo=qF;var Pu={},Q2=ot,jF=Rl;function lf(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Pu.BlockHash=lf,lf.prototype.update=function(e,t){if(e=Q2.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=Q2.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},lf.prototype.digest=function(e){return this.update(this._pad()),jF(this.pending===null),this._digest(e)},lf.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=e&255}else for(n[i++]=e&255,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,s=8;s<this.padLength;s++)n[i++]=0;return n};var xa={},Wi={},HF=ot,Bi=HF.rotr32;function KF(e,t,r,n){if(e===0)return U5(t,r,n);if(e===1||e===3)return z5(t,r,n);if(e===2)return $5(t,r,n)}Wi.ft_1=KF;function U5(e,t,r){return e&t^~e&r}Wi.ch32=U5;function $5(e,t,r){return e&t^e&r^t&r}Wi.maj32=$5;function z5(e,t,r){return e^t^r}Wi.p32=z5;function GF(e){return Bi(e,2)^Bi(e,13)^Bi(e,22)}Wi.s0_256=GF;function VF(e){return Bi(e,6)^Bi(e,11)^Bi(e,25)}Wi.s1_256=VF;function WF(e){return Bi(e,7)^Bi(e,18)^e>>>3}Wi.g0_256=WF;function YF(e){return Bi(e,17)^Bi(e,19)^e>>>10}Wi.g1_256=YF;var hu=ot,QF=Pu,JF=Wi,j0=hu.rotl32,tc=hu.sum32,XF=hu.sum32_5,ZF=JF.ft_1,q5=QF.BlockHash,eB=[1518500249,1859775393,2400959708,3395469782];function Ii(){if(!(this instanceof Ii))return new Ii;q5.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}hu.inherits(Ii,q5);var tB=Ii;Ii.blockSize=512,Ii.outSize=160,Ii.hmacStrength=80,Ii.padLength=64,Ii.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=j0(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],u=this.h[4];for(n=0;n<r.length;n++){var c=~~(n/20),f=XF(j0(i,5),ZF(c,s,o,a),u,r[n],eB[c]);u=a,a=o,o=j0(s,30),s=i,i=f}this.h[0]=tc(this.h[0],i),this.h[1]=tc(this.h[1],s),this.h[2]=tc(this.h[2],o),this.h[3]=tc(this.h[3],a),this.h[4]=tc(this.h[4],u)},Ii.prototype._digest=function(e){return e==="hex"?hu.toHex32(this.h,"big"):hu.split32(this.h,"big")};var pu=ot,rB=Pu,Ou=Wi,nB=Rl,ei=pu.sum32,iB=pu.sum32_4,sB=pu.sum32_5,oB=Ou.ch32,aB=Ou.maj32,uB=Ou.s0_256,cB=Ou.s1_256,lB=Ou.g0_256,fB=Ou.g1_256,j5=rB.BlockHash,dB=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function xi(){if(!(this instanceof xi))return new xi;j5.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=dB,this.W=new Array(64)}pu.inherits(xi,j5);var H5=xi;xi.blockSize=512,xi.outSize=256,xi.hmacStrength=192,xi.padLength=64,xi.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=iB(fB(r[n-2]),r[n-7],lB(r[n-15]),r[n-16]);var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],u=this.h[4],c=this.h[5],f=this.h[6],h=this.h[7];for(nB(this.k.length===r.length),n=0;n<r.length;n++){var y=sB(h,cB(u),oB(u,c,f),this.k[n],r[n]),v=ei(uB(i),aB(i,s,o));h=f,f=c,c=u,u=ei(a,y),a=o,o=s,s=i,i=ei(y,v)}this.h[0]=ei(this.h[0],i),this.h[1]=ei(this.h[1],s),this.h[2]=ei(this.h[2],o),this.h[3]=ei(this.h[3],a),this.h[4]=ei(this.h[4],u),this.h[5]=ei(this.h[5],c),this.h[6]=ei(this.h[6],f),this.h[7]=ei(this.h[7],h)},xi.prototype._digest=function(e){return e==="hex"?pu.toHex32(this.h,"big"):pu.split32(this.h,"big")};var C1=ot,K5=H5;function gs(){if(!(this instanceof gs))return new gs;K5.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}C1.inherits(gs,K5);var hB=gs;gs.blockSize=512,gs.outSize=224,gs.hmacStrength=192,gs.padLength=64,gs.prototype._digest=function(e){return e==="hex"?C1.toHex32(this.h.slice(0,7),"big"):C1.split32(this.h.slice(0,7),"big")};var un=ot,pB=Pu,gB=Rl,Li=un.rotr64_hi,Ui=un.rotr64_lo,G5=un.shr64_hi,V5=un.shr64_lo,ks=un.sum64,H0=un.sum64_hi,K0=un.sum64_lo,mB=un.sum64_4_hi,yB=un.sum64_4_lo,vB=un.sum64_5_hi,bB=un.sum64_5_lo,W5=pB.BlockHash,wB=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ai(){if(!(this instanceof ai))return new ai;W5.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=wB,this.W=new Array(160)}un.inherits(ai,W5);var Y5=ai;ai.blockSize=1024,ai.outSize=512,ai.hmacStrength=192,ai.padLength=128,ai.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=TB(r[n-4],r[n-3]),s=NB(r[n-4],r[n-3]),o=r[n-14],a=r[n-13],u=CB(r[n-30],r[n-29]),c=DB(r[n-30],r[n-29]),f=r[n-32],h=r[n-31];r[n]=mB(i,s,o,a,u,c,f,h),r[n+1]=yB(i,s,o,a,u,c,f,h)}},ai.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],u=this.h[5],c=this.h[6],f=this.h[7],h=this.h[8],y=this.h[9],v=this.h[10],w=this.h[11],C=this.h[12],N=this.h[13],T=this.h[14],x=this.h[15];gB(this.k.length===r.length);for(var O=0;O<r.length;O+=2){var k=T,L=x,$=MB(h,y),E=RB(h,y),U=EB(h,y,v,w,C),Z=_B(h,y,v,w,C,N),ne=this.k[O],q=this.k[O+1],b=r[O],l=r[O+1],d=vB(k,L,$,E,U,Z,ne,q,b,l),m=bB(k,L,$,E,U,Z,ne,q,b,l);k=IB(n,i),L=xB(n,i),$=SB(n,i,s,o,a),E=AB(n,i,s,o,a,u);var A=H0(k,L,$,E),D=K0(k,L,$,E);T=C,x=N,C=v,N=w,v=h,w=y,h=H0(c,f,d,m),y=K0(f,f,d,m),c=a,f=u,a=s,u=o,s=n,o=i,n=H0(d,m,A,D),i=K0(d,m,A,D)}ks(this.h,0,n,i),ks(this.h,2,s,o),ks(this.h,4,a,u),ks(this.h,6,c,f),ks(this.h,8,h,y),ks(this.h,10,v,w),ks(this.h,12,C,N),ks(this.h,14,T,x)},ai.prototype._digest=function(e){return e==="hex"?un.toHex32(this.h,"big"):un.split32(this.h,"big")};function EB(e,t,r,n,i){var s=e&r^~e&i;return s<0&&(s+=4294967296),s}function _B(e,t,r,n,i,s){var o=t&n^~t&s;return o<0&&(o+=4294967296),o}function SB(e,t,r,n,i){var s=e&r^e&i^r&i;return s<0&&(s+=4294967296),s}function AB(e,t,r,n,i,s){var o=t&n^t&s^n&s;return o<0&&(o+=4294967296),o}function IB(e,t){var r=Li(e,t,28),n=Li(t,e,2),i=Li(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function xB(e,t){var r=Ui(e,t,28),n=Ui(t,e,2),i=Ui(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function MB(e,t){var r=Li(e,t,14),n=Li(e,t,18),i=Li(t,e,9),s=r^n^i;return s<0&&(s+=4294967296),s}function RB(e,t){var r=Ui(e,t,14),n=Ui(e,t,18),i=Ui(t,e,9),s=r^n^i;return s<0&&(s+=4294967296),s}function CB(e,t){var r=Li(e,t,1),n=Li(e,t,8),i=G5(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function DB(e,t){var r=Ui(e,t,1),n=Ui(e,t,8),i=V5(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function TB(e,t){var r=Li(e,t,19),n=Li(t,e,29),i=G5(e,t,6),s=r^n^i;return s<0&&(s+=4294967296),s}function NB(e,t){var r=Ui(e,t,19),n=Ui(t,e,29),i=V5(e,t,6),s=r^n^i;return s<0&&(s+=4294967296),s}var D1=ot,Q5=Y5;function ms(){if(!(this instanceof ms))return new ms;Q5.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}D1.inherits(ms,Q5);var PB=ms;ms.blockSize=1024,ms.outSize=384,ms.hmacStrength=192,ms.padLength=128,ms.prototype._digest=function(e){return e==="hex"?D1.toHex32(this.h.slice(0,12),"big"):D1.split32(this.h.slice(0,12),"big")},xa.sha1=tB,xa.sha224=hB,xa.sha256=H5,xa.sha384=PB,xa.sha512=Y5;var J5={},zo=ot,OB=Pu,ff=zo.rotl32,J2=zo.sum32,rc=zo.sum32_3,X2=zo.sum32_4,X5=OB.BlockHash;function Ei(){if(!(this instanceof Ei))return new Ei;X5.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}zo.inherits(Ei,X5),J5.ripemd160=Ei,Ei.blockSize=512,Ei.outSize=160,Ei.hmacStrength=192,Ei.padLength=64,Ei.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],s=this.h[3],o=this.h[4],a=r,u=n,c=i,f=s,h=o,y=0;y<80;y++){var v=J2(ff(X2(r,Z2(y,n,i,s),e[BB[y]+t],kB(y)),UB[y]),o);r=o,o=s,s=ff(i,10),i=n,n=v,v=J2(ff(X2(a,Z2(79-y,u,c,f),e[LB[y]+t],FB(y)),$B[y]),h),a=h,h=f,f=ff(c,10),c=u,u=v}v=rc(this.h[1],i,f),this.h[1]=rc(this.h[2],s,h),this.h[2]=rc(this.h[3],o,a),this.h[3]=rc(this.h[4],r,u),this.h[4]=rc(this.h[0],n,c),this.h[0]=v},Ei.prototype._digest=function(e){return e==="hex"?zo.toHex32(this.h,"little"):zo.split32(this.h,"little")};function Z2(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function kB(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function FB(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var BB=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],LB=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],UB=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],$B=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],zB=ot,qB=Rl;function Za(e,t,r){if(!(this instanceof Za))return new Za(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(zB.toArray(t,r))}var jB=Za;Za.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),qB(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)},Za.prototype.update=function(e,t){return this.inner.update(e,t),this},Za.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=ot,t.common=Pu,t.sha=xa,t.ripemd=J5,t.hmac=jB,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(wi);function ku(e,t,r){return r={path:t,exports:{},require:function(n,i){return HB(n,i??r.path)}},e(r,r.exports),r.exports}function HB(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Sm=Z5;function Z5(e,t){if(!e)throw new Error(t||"Assertion failed")}Z5.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var ci=ku(function(e,t){var r=t;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var u=[];if(typeof o!="string"){for(var c=0;c<o.length;c++)u[c]=o[c]|0;return u}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var c=0;c<o.length;c+=2)u.push(parseInt(o[c]+o[c+1],16))}else for(var c=0;c<o.length;c++){var f=o.charCodeAt(c),h=f>>8,y=f&255;h?u.push(h,y):u.push(y)}return u}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",u=0;u<o.length;u++)a+=i(o[u].toString(16));return a}r.toHex=s,r.encode=function(o,a){return a==="hex"?s(o):o}}),Sn=ku(function(e,t){var r=t;r.assert=Sm,r.toArray=ci.toArray,r.zero2=ci.zero2,r.toHex=ci.toHex,r.encode=ci.encode;function n(u,c,f){var h=new Array(Math.max(u.bitLength(),f)+1);h.fill(0);for(var y=1<<c+1,v=u.clone(),w=0;w<h.length;w++){var C,N=v.andln(y-1);v.isOdd()?(N>(y>>1)-1?C=(y>>1)-N:C=N,v.isubn(C)):C=0,h[w]=C,v.iushrn(1)}return h}r.getNAF=n;function i(u,c){var f=[[],[]];u=u.clone(),c=c.clone();for(var h=0,y=0,v;u.cmpn(-h)>0||c.cmpn(-y)>0;){var w=u.andln(3)+h&3,C=c.andln(3)+y&3;w===3&&(w=-1),C===3&&(C=-1);var N;w&1?(v=u.andln(7)+h&7,(v===3||v===5)&&C===2?N=-w:N=w):N=0,f[0].push(N);var T;C&1?(v=c.andln(7)+y&7,(v===3||v===5)&&w===2?T=-C:T=C):T=0,f[1].push(T),2*h===N+1&&(h=1-h),2*y===T+1&&(y=1-y),u.iushrn(1),c.iushrn(1)}return f}r.getJSF=i;function s(u,c,f){var h="_"+c;u.prototype[c]=function(){return this[h]!==void 0?this[h]:this[h]=f.call(this)}}r.cachedProperty=s;function o(u){return typeof u=="string"?r.toArray(u,"hex"):u}r.parseBytes=o;function a(u){return new Ye(u,"hex","le")}r.intFromLE=a}),df=Sn.getNAF,KB=Sn.getJSF,Cd=Sn.assert;function js(e,t){this.type=e,this.p=new Ye(t.p,16),this.red=t.prime?Ye.red(t.prime):Ye.mont(this.p),this.zero=new Ye(0).toRed(this.red),this.one=new Ye(1).toRed(this.red),this.two=new Ye(2).toRed(this.red),this.n=t.n&&new Ye(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var fa=js;js.prototype.point=function(){throw new Error("Not implemented")},js.prototype.validate=function(){throw new Error("Not implemented")},js.prototype._fixedNafMul=function(e,t){Cd(e.precomputed);var r=e._getDoubles(),n=df(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2===0?2:1);i/=3;var s=[],o,a;for(o=0;o<n.length;o+=r.step){a=0;for(var u=o+r.step-1;u>=o;u--)a=(a<<1)+n[u];s.push(a)}for(var c=this.jpoint(null,null,null),f=this.jpoint(null,null,null),h=i;h>0;h--){for(o=0;o<s.length;o++)a=s[o],a===h?f=f.mixedAdd(r.points[o]):a===-h&&(f=f.mixedAdd(r.points[o].neg()));c=c.add(f)}return c.toP()},js.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=df(t,r,this._bitLength),o=this.jpoint(null,null,null),a=s.length-1;a>=0;a--){for(var u=0;a>=0&&s[a]===0;a--)u++;if(a>=0&&u++,o=o.dblp(u),a<0)break;var c=s[a];Cd(c!==0),e.type==="affine"?c>0?o=o.mixedAdd(i[c-1>>1]):o=o.mixedAdd(i[-c-1>>1].neg()):c>0?o=o.add(i[c-1>>1]):o=o.add(i[-c-1>>1].neg())}return e.type==="affine"?o.toP():o},js.prototype._wnafMulAdd=function(e,t,r,n,i){var s=this._wnafT1,o=this._wnafT2,a=this._wnafT3,u=0,c,f,h;for(c=0;c<n;c++){h=t[c];var y=h._getNAFPoints(e);s[c]=y.wnd,o[c]=y.points}for(c=n-1;c>=1;c-=2){var v=c-1,w=c;if(s[v]!==1||s[w]!==1){a[v]=df(r[v],s[v],this._bitLength),a[w]=df(r[w],s[w],this._bitLength),u=Math.max(a[v].length,u),u=Math.max(a[w].length,u);continue}var C=[t[v],null,null,t[w]];t[v].y.cmp(t[w].y)===0?(C[1]=t[v].add(t[w]),C[2]=t[v].toJ().mixedAdd(t[w].neg())):t[v].y.cmp(t[w].y.redNeg())===0?(C[1]=t[v].toJ().mixedAdd(t[w]),C[2]=t[v].add(t[w].neg())):(C[1]=t[v].toJ().mixedAdd(t[w]),C[2]=t[v].toJ().mixedAdd(t[w].neg()));var N=[-3,-1,-5,-7,0,7,5,1,3],T=KB(r[v],r[w]);for(u=Math.max(T[0].length,u),a[v]=new Array(u),a[w]=new Array(u),f=0;f<u;f++){var x=T[0][f]|0,O=T[1][f]|0;a[v][f]=N[(x+1)*3+(O+1)],a[w][f]=0,o[v]=C}}var k=this.jpoint(null,null,null),L=this._wnafT4;for(c=u;c>=0;c--){for(var $=0;c>=0;){var E=!0;for(f=0;f<n;f++)L[f]=a[f][c]|0,L[f]!==0&&(E=!1);if(!E)break;$++,c--}if(c>=0&&$++,k=k.dblp($),c<0)break;for(f=0;f<n;f++){var U=L[f];U!==0&&(U>0?h=o[f][U-1>>1]:U<0&&(h=o[f][-U-1>>1].neg()),h.type==="affine"?k=k.mixedAdd(h):k=k.add(h))}}for(c=0;c<n;c++)o[c]=null;return i?k:k.toP()};function On(e,t){this.curve=e,this.type=t,this.precomputed=null}js.BasePoint=On,On.prototype.eq=function(){throw new Error("Not implemented")},On.prototype.validate=function(){return this.curve.validate(this)},js.prototype.decodePoint=function(e,t){e=Sn.toArray(e,t);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*r){e[0]===6?Cd(e[e.length-1]%2===0):e[0]===7&&Cd(e[e.length-1]%2===1);var n=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return n}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")},On.prototype.encodeCompressed=function(e){return this.encode(e,!0)},On.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},On.prototype.encode=function(e,t){return Sn.encode(this._encode(t),e)},On.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},On.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1},On.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var s=0;s<e;s++)n=n.dbl();r.push(n)}return{step:e,points:r}},On.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=r===1?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},On.prototype._getBeta=function(){return null},On.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var Am=ku(function(e){typeof Object.create=="function"?e.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}}),GB=Sn.assert;function $n(e){fa.call(this,"short",e),this.a=new Ye(e.a,16).toRed(this.red),this.b=new Ye(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Am($n,fa);var VB=$n;$n.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,r;if(e.beta)t=new Ye(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=n[0].cmp(n[1])<0?n[0]:n[1],t=t.toRed(this.red)}if(e.lambda)r=new Ye(e.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))===0?r=i[0]:(r=i[1],GB(this.g.mul(r).x.cmp(this.g.x.redMul(t))===0))}var s;return e.basis?s=e.basis.map(function(o){return{a:new Ye(o.a,16),b:new Ye(o.b,16)}}):s=this._getEndoBasis(r),{beta:t,lambda:r,basis:s}}},$n.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Ye.mont(e),r=new Ye(2).toRed(t).redInvm(),n=r.redNeg(),i=new Ye(3).toRed(t).redNeg().redSqrt().redMul(r),s=n.redAdd(i).fromRed(),o=n.redSub(i).fromRed();return[s,o]},$n.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,n=this.n.clone(),i=new Ye(1),s=new Ye(0),o=new Ye(0),a=new Ye(1),u,c,f,h,y,v,w,C=0,N,T;r.cmpn(0)!==0;){var x=n.div(r);N=n.sub(x.mul(r)),T=o.sub(x.mul(i));var O=a.sub(x.mul(s));if(!f&&N.cmp(t)<0)u=w.neg(),c=i,f=N.neg(),h=T;else if(f&&++C===2)break;w=N,n=r,r=N,o=i,i=T,a=s,s=O}y=N.neg(),v=T;var k=f.sqr().add(h.sqr()),L=y.sqr().add(v.sqr());return L.cmp(k)>=0&&(y=u,v=c),f.negative&&(f=f.neg(),h=h.neg()),y.negative&&(y=y.neg(),v=v.neg()),[{a:f,b:h},{a:y,b:v}]},$n.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),s=r.b.neg().mul(e).divRound(this.n),o=i.mul(r.a),a=s.mul(n.a),u=i.mul(r.b),c=s.mul(n.b),f=e.sub(o).sub(a),h=u.add(c).neg();return{k1:f,k2:h}},$n.prototype.pointFromX=function(e,t){e=new Ye(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(n.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},$n.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return r.redSqr().redISub(i).cmpn(0)===0},$n.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(t[s]),a=e[s],u=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),u=u.neg(!0)),n[s*2]=a,n[s*2+1]=u,i[s*2]=o.k1,i[s*2+1]=o.k2}for(var c=this._wnafMulAdd(1,n,i,s*2,r),f=0;f<s*2;f++)n[f]=null,i[f]=null;return c};function ir(e,t,r,n){fa.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ye(t,16),this.y=new Ye(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Am(ir,fa.BasePoint),$n.prototype.point=function(e,t,r){return new ir(this,e,t,r)},$n.prototype.pointFromJSON=function(e,t){return ir.fromJSON(this,e,t)},ir.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(i){return r.point(i.x.redMul(r.endo.beta),i.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},ir.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},ir.fromJSON=function(e,t,r){typeof t=="string"&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(o){return e.point(o[0],o[1],r)}var s=t[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(i))}},n},ir.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},ir.prototype.isInfinity=function(){return this.inf},ir.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},ir.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),s=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},ir.prototype.getX=function(){return this.x.fromRed()},ir.prototype.getY=function(){return this.y.fromRed()},ir.prototype.mul=function(e){return e=new Ye(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},ir.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},ir.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},ir.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},ir.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(i){return i.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},ir.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function hr(e,t,r,n){fa.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ye(0)):(this.x=new Ye(t,16),this.y=new Ye(r,16),this.z=new Ye(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Am(hr,fa.BasePoint),$n.prototype.jpoint=function(e,t,r){return new hr(this,e,t,r)},hr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},hr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},hr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),s=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=s.redSub(o);if(a.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),f=c.redMul(a),h=n.redMul(c),y=u.redSqr().redIAdd(f).redISub(h).redISub(h),v=u.redMul(h.redISub(y)).redISub(s.redMul(f)),w=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(y,v,w)},hr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,s=e.y.redMul(t).redMul(this.z),o=r.redSub(n),a=i.redSub(s);if(o.cmpn(0)===0)return a.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),c=u.redMul(o),f=r.redMul(u),h=a.redSqr().redIAdd(c).redISub(f).redISub(f),y=a.redMul(f.redISub(h)).redISub(i.redMul(c)),v=this.z.redMul(o);return this.curve.jpoint(h,y,v)},hr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,s=this.x,o=this.y,a=this.z,u=a.redSqr().redSqr(),c=o.redAdd(o);for(t=0;t<e;t++){var f=s.redSqr(),h=c.redSqr(),y=h.redSqr(),v=f.redAdd(f).redIAdd(f).redIAdd(n.redMul(u)),w=s.redMul(h),C=v.redSqr().redISub(w.redAdd(w)),N=w.redISub(C),T=v.redMul(N);T=T.redIAdd(T).redISub(y);var x=c.redMul(a);t+1<e&&(u=u.redMul(y)),s=C,a=x,c=T}return this.curve.jpoint(s,c.redMul(i),a)},hr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},hr.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(o).redISub(o),c=s.redIAdd(s);c=c.redIAdd(c),c=c.redIAdd(c),e=u,t=a.redMul(o.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),h=this.y.redSqr(),y=h.redSqr(),v=this.x.redAdd(h).redSqr().redISub(f).redISub(y);v=v.redIAdd(v);var w=f.redAdd(f).redIAdd(f),C=w.redSqr(),N=y.redIAdd(y);N=N.redIAdd(N),N=N.redIAdd(N),e=C.redISub(v).redISub(v),t=w.redMul(v.redISub(e)).redISub(N),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,t,r)},hr.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(o).redISub(o);e=u;var c=s.redIAdd(s);c=c.redIAdd(c),c=c.redIAdd(c),t=a.redMul(o.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),h=this.y.redSqr(),y=this.x.redMul(h),v=this.x.redSub(f).redMul(this.x.redAdd(f));v=v.redAdd(v).redIAdd(v);var w=y.redIAdd(y);w=w.redIAdd(w);var C=w.redAdd(w);e=v.redSqr().redISub(C),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(f);var N=h.redSqr();N=N.redIAdd(N),N=N.redIAdd(N),N=N.redIAdd(N),t=v.redMul(w.redISub(e)).redISub(N)}return this.curve.jpoint(e,t,r)},hr.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),s=t.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(i)),u=t.redAdd(t);u=u.redIAdd(u);var c=u.redMul(o),f=a.redSqr().redISub(c.redAdd(c)),h=c.redISub(f),y=o.redSqr();y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y);var v=a.redMul(h).redISub(y),w=r.redAdd(r).redMul(n);return this.curve.jpoint(f,v,w)},hr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),s=i.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(n);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(s);var a=o.redSqr(),u=n.redIAdd(n);u=u.redIAdd(u),u=u.redIAdd(u),u=u.redIAdd(u);var c=i.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(u),f=t.redMul(c);f=f.redIAdd(f),f=f.redIAdd(f);var h=this.x.redMul(a).redISub(f);h=h.redIAdd(h),h=h.redIAdd(h);var y=this.y.redMul(c.redMul(u.redISub(c)).redISub(o.redMul(a)));y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y);var v=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,y,v)},hr.prototype.mul=function(e,t){return e=new Ye(e,t),this.curve._wnafMul(this,e)},hr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)===0},hr.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}},hr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},hr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Ff=ku(function(e,t){var r=t;r.base=fa,r.short=VB,r.mont=null,r.edwards=null}),Bf=ku(function(e,t){var r=t,n=Sn.assert;function i(a){a.type==="short"?this.curve=new Ff.short(a):a.type==="edwards"?this.curve=new Ff.edwards(a):this.curve=new Ff.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,u){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var c=new i(u);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:c}),c}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:wi.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:wi.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:wi.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:wi.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:wi.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:wi.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:wi.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:wi.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function Hs(e){if(!(this instanceof Hs))return new Hs(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=ci.toArray(e.entropy,e.entropyEnc||"hex"),r=ci.toArray(e.nonce,e.nonceEnc||"hex"),n=ci.toArray(e.pers,e.persEnc||"hex");Sm(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var eb=Hs;Hs.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},Hs.prototype._hmac=function(){return new wi.hmac(this.hash,this.K)},Hs.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},Hs.prototype.reseed=function(e,t,r,n){typeof t!="string"&&(n=r,r=t,t=null),e=ci.toArray(e,t),r=ci.toArray(r,n),Sm(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},Hs.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(n=r,r=t,t=null),r&&(r=ci.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var s=i.slice(0,e);return this._update(r),this._reseed++,ci.encode(s,t)};var G0=Sn.assert;function Mr(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var V0=Mr;Mr.fromPublic=function(e,t,r){return t instanceof Mr?t:new Mr(e,{pub:t,pubEnc:r})},Mr.fromPrivate=function(e,t,r){return t instanceof Mr?t:new Mr(e,{priv:t,privEnc:r})},Mr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Mr.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},Mr.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv},Mr.prototype._importPrivate=function(e,t){this.priv=new Ye(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},Mr.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?G0(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&G0(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},Mr.prototype.derive=function(e){return e.validate()||G0(e.validate(),"public point not validated"),e.mul(this.priv).getX()},Mr.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},Mr.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},Mr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var WB=Sn.assert;function Dh(e,t){if(e instanceof Dh)return e;this._importDER(e,t)||(WB(e.r&&e.s,"Signature without r or s"),this.r=new Ye(e.r,16),this.s=new Ye(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var hf=Dh;function YB(){this.place=0}function W0(e,t){var r=e[t.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,s=0,o=t.place;s<n;s++,o++)i<<=8,i|=e[o],i>>>=0;return i<=127?!1:(t.place=o,i)}function tb(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}Dh.prototype._importDER=function(e,t){e=Sn.toArray(e,t);var r=new YB;if(e[r.place++]!==48)return!1;var n=W0(e,r);if(n===!1||n+r.place!==e.length||e[r.place++]!==2)return!1;var i=W0(e,r);if(i===!1)return!1;var s=e.slice(r.place,i+r.place);if(r.place+=i,e[r.place++]!==2)return!1;var o=W0(e,r);if(o===!1||e.length!==o+r.place)return!1;var a=e.slice(r.place,o+r.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;return this.r=new Ye(s),this.s=new Ye(a),this.recoveryParam=null,!0};function Y0(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}Dh.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),r[0]&128&&(r=[0].concat(r)),t=tb(t),r=tb(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var n=[2];Y0(n,t.length),n=n.concat(t),n.push(2),Y0(n,r.length);var i=n.concat(r),s=[48];return Y0(s,i.length),s=s.concat(i),Sn.encode(s,e)};var QB=function(){throw new Error("unsupported")},eE=Sn.assert;function Ln(e){if(!(this instanceof Ln))return new Ln(e);typeof e=="string"&&(eE(Object.prototype.hasOwnProperty.call(Bf,e),"Unknown curve "+e),e=Bf[e]),e instanceof Bf.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var JB=Ln;Ln.prototype.keyPair=function(e){return new V0(this,e)},Ln.prototype.keyFromPrivate=function(e,t){return V0.fromPrivate(this,e,t)},Ln.prototype.keyFromPublic=function(e,t){return V0.fromPublic(this,e,t)},Ln.prototype.genKeyPair=function(e){e||(e={});for(var t=new eb({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||QB(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new Ye(2));;){var i=new Ye(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},Ln.prototype._truncateToN=function(e,t){var r=e.byteLength()*8-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},Ln.prototype.sign=function(e,t,r,n){typeof r=="object"&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new Ye(e,16));for(var i=this.n.byteLength(),s=t.getPrivate().toArray("be",i),o=e.toArray("be",i),a=new eb({hash:this.hash,entropy:s,nonce:o,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new Ye(1)),c=0;;c++){var f=n.k?n.k(c):new Ye(a.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(u)>=0)){var h=this.g.mul(f);if(!h.isInfinity()){var y=h.getX(),v=y.umod(this.n);if(v.cmpn(0)!==0){var w=f.invm(this.n).mul(v.mul(t.getPrivate()).iadd(e));if(w=w.umod(this.n),w.cmpn(0)!==0){var C=(h.getY().isOdd()?1:0)|(y.cmp(v)!==0?2:0);return n.canonical&&w.cmp(this.nh)>0&&(w=this.n.sub(w),C^=1),new hf({r:v,s:w,recoveryParam:C})}}}}}},Ln.prototype.verify=function(e,t,r,n){e=this._truncateToN(new Ye(e,16)),r=this.keyFromPublic(r,n),t=new hf(t,"hex");var i=t.r,s=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o=s.invm(this.n),a=o.mul(e).umod(this.n),u=o.mul(i).umod(this.n),c;return this.curve._maxwellTrick?(c=this.g.jmulAdd(a,r.getPublic(),u),c.isInfinity()?!1:c.eqXToP(i)):(c=this.g.mulAdd(a,r.getPublic(),u),c.isInfinity()?!1:c.getX().umod(this.n).cmp(i)===0)},Ln.prototype.recoverPubKey=function(e,t,r,n){eE((3&r)===r,"The recovery param is more than two bits"),t=new hf(t,n);var i=this.n,s=new Ye(e),o=t.r,a=t.s,u=r&1,c=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?o=this.curve.pointFromX(o.add(this.curve.n),u):o=this.curve.pointFromX(o,u);var f=t.r.invm(i),h=i.sub(s).mul(f).umod(i),y=a.mul(f).umod(i);return this.g.mulAdd(h,o,y)},Ln.prototype.getKeyRecoveryParam=function(e,t,r,n){if(t=new hf(t,n),t.recoveryParam!==null)return t.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(e,t,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var XB=ku(function(e,t){var r=t;r.version="6.5.4",r.utils=Sn,r.rand=function(){throw new Error("unsupported")},r.curve=Ff,r.curves=Bf,r.ec=JB,r.eddsa=null}),ZB=XB.ec;const eL="signing-key/5.7.0",T1=new mr(eL);let Q0=null;function Us(){return Q0||(Q0=new ZB("secp256k1")),Q0}class tL{constructor(t){ec(this,"curve","secp256k1"),ec(this,"privateKey",Jr(t)),Lk(this.privateKey)!==32&&T1.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=Us().keyFromPrivate($t(this.privateKey));ec(this,"publicKey","0x"+r.getPublic(!1,"hex")),ec(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),ec(this,"_isSigningKey",!0)}_addPoint(t){const r=Us().keyFromPublic($t(this.publicKey)),n=Us().keyFromPublic($t(t));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(t){const r=Us().keyFromPrivate($t(this.privateKey)),n=$t(t);n.length!==32&&T1.throwArgumentError("bad digest length","digest",t);const i=r.sign(n,{canonical:!0});return I5({recoveryParam:i.recoveryParam,r:Fi("0x"+i.r.toString(16),32),s:Fi("0x"+i.s.toString(16),32)})}computeSharedSecret(t){const r=Us().keyFromPrivate($t(this.privateKey)),n=Us().keyFromPublic($t(tE(t)));return Fi("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(t){return!!(t&&t._isSigningKey)}}function rL(e,t){const r=I5(t),n={r:$t(r.r),s:$t(r.s)};return"0x"+Us().recoverPubKey($t(e),n,r.recoveryParam).encode("hex",!1)}function tE(e,t){const r=$t(e);return r.length===32?new tL(r).publicKey:r.length===33?"0x"+Us().keyFromPublic(r).getPublic(!1,"hex"):r.length===65?Jr(r):T1.throwArgumentError("invalid public or private key","key","[REDACTED]")}var rb;(function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"})(rb||(rb={}));function nL(e){const t=tE(e);return pF(z2(wm(z2(t,1)),12))}function iL(e,t){return nL(rL($t(e),t))}const sL="https://rpc.walletconnect.org/v1";async function oL(e,t,r,n,i,s){switch(r.t){case"eip191":return aL(e,t,r.s);case"eip1271":return await uL(e,t,r.s,n,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}function aL(e,t,r){return iL(O5(t),r).toLowerCase()===e.toLowerCase()}async function uL(e,t,r,n,i,s){try{const o="0x1626ba7e",a="0000000000000000000000000000000000000000000000000000000000000040",u="0000000000000000000000000000000000000000000000000000000000000041",c=r.substring(2),f=O5(t).substring(2),h=o+f+a+u+c,y=await fetch(`${s||sL}/?chainId=${n}&projectId=${i}`,{method:"POST",body:JSON.stringify({id:cL(),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:h},"latest"]})}),{result:v}=await y.json();return v?v.slice(0,o.length).toLowerCase()===o.toLowerCase():!1}catch(o){return console.error("isValidEip1271Signature: ",o),!1}}function cL(){return Date.now()+Math.floor(Math.random()*1e3)}var lL=Object.defineProperty,fL=Object.defineProperties,dL=Object.getOwnPropertyDescriptors,nb=Object.getOwnPropertySymbols,hL=Object.prototype.hasOwnProperty,pL=Object.prototype.propertyIsEnumerable,ib=(e,t,r)=>t in e?lL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,gL=(e,t)=>{for(var r in t||(t={}))hL.call(t,r)&&ib(e,r,t[r]);if(nb)for(var r of nb(t))pL.call(t,r)&&ib(e,r,t[r]);return e},mL=(e,t)=>fL(e,dL(t));const yL="did:pkh:",Im=e=>e==null?void 0:e.split(":"),rE=e=>{const t=e&&Im(e);if(t)return e.includes(yL)?t[3]:t[1]},sb=e=>{const t=e&&Im(e);if(t)return t[2]+":"+t[3]},Dd=e=>{const t=e&&Im(e);if(t)return t.pop()};async function ob(e){const{cacao:t,projectId:r}=e,{s:n,p:i}=t,s=nE(i,i.iss),o=Dd(i.iss);return await oL(o,s,n,rE(i.iss),r)}const nE=(e,t)=>{const r=`${e.domain} wants you to sign in with your Ethereum account:`,n=Dd(t);if(!e.aud&&!e.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=e.statement||void 0;const s=`URI: ${e.aud||e.uri}`,o=`Version: ${e.version}`,a=`Chain ID: ${rE(t)}`,u=`Nonce: ${e.nonce}`,c=`Issued At: ${e.iat}`,f=e.exp?`Expiration Time: ${e.exp}`:void 0,h=e.nbf?`Not Before: ${e.nbf}`:void 0,y=e.requestId?`Request ID: ${e.requestId}`:void 0,v=e.resources?`Resources:${e.resources.map(C=>`
- ${C}`).join("")}`:void 0,w=Lf(e.resources);if(w){const C=ul(w);i=xL(i,C)}return[r,n,"",i,"",s,o,a,u,c,f,h,y,v].filter(C=>C!=null).join(`
`)};function vL(e){return Buffer.from(JSON.stringify(e)).toString("base64")}function bL(e){return JSON.parse(Buffer.from(e,"base64").toString("utf-8"))}function Zo(e){if(!e)throw new Error("No recap provided, value is undefined");if(!e.att)throw new Error("No `att` property found");const t=Object.keys(e.att);if(!(t!=null&&t.length))throw new Error("No resources found in `att` property");t.forEach(r=>{const n=e.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(i=>{const s=n[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function wL(e,t,r,n={}){return r==null||r.sort((i,s)=>i.localeCompare(s)),{att:{[e]:EL(t,r,n)}}}function EL(e,t,r={}){t=t==null?void 0:t.sort((i,s)=>i.localeCompare(s));const n=t.map(i=>({[`${e}/${i}`]:[r]}));return Object.assign({},...n)}function iE(e){return Zo(e),`urn:recap:${vL(e).replace(/=/g,"")}`}function ul(e){const t=bL(e.replace("urn:recap:",""));return Zo(t),t}function _L(e,t,r){const n=wL(e,t,r);return iE(n)}function SL(e){return e&&e.includes("urn:recap:")}function AL(e,t){const r=ul(e),n=ul(t),i=IL(r,n);return iE(i)}function IL(e,t){Zo(e),Zo(t);const r=Object.keys(e.att).concat(Object.keys(t.att)).sort((i,s)=>i.localeCompare(s)),n={att:{}};return r.forEach(i=>{var s,o;Object.keys(((s=e.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=t.att)==null?void 0:o[i])||{})).sort((a,u)=>a.localeCompare(u)).forEach(a=>{var u,c;n.att[i]=mL(gL({},n.att[i]),{[a]:((u=e.att[i])==null?void 0:u[a])||((c=t.att[i])==null?void 0:c[a])})})}),n}function xL(e="",t){Zo(t);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(r))return e;const n=[];let i=0;Object.keys(t.att).forEach(a=>{const u=Object.keys(t.att[a]).map(h=>({ability:h.split("/")[0],action:h.split("/")[1]}));u.sort((h,y)=>h.action.localeCompare(y.action));const c={};u.forEach(h=>{c[h.ability]||(c[h.ability]=[]),c[h.ability].push(h.action)});const f=Object.keys(c).map(h=>(i++,`(${i}) '${h}': '${c[h].join("', '")}' for '${a}'.`));n.push(f.join(", ").replace(".,","."))});const s=n.join(" "),o=`${r}${s}`;return`${e?e+" ":""}${o}`}function ab(e){var t;const r=ul(e);Zo(r);const n=(t=r.att)==null?void 0:t.eip155;return n?Object.keys(n).map(i=>i.split("/")[1]):[]}function ub(e){const t=ul(e);Zo(t);const r=[];return Object.values(t.att).forEach(n=>{Object.values(n).forEach(i=>{var s;(s=i==null?void 0:i[0])!=null&&s.chains&&r.push(i[0].chains)})}),[...new Set(r.flat())]}function Lf(e){if(!e)return;const t=e==null?void 0:e[e.length-1];return SL(t)?t:void 0}const sE="base10",Br="base16",Ws="base64pad",nc="base64url",Cl="utf8",oE=0,Es=1,Dl=2,ML=0,cb=1,Dc=12,xm=32;function RL(){const e=fm.generateKeyPair();return{privateKey:sn(e.secretKey,Br),publicKey:sn(e.publicKey,Br)}}function N1(){const e=fo.randomBytes(xm);return sn(e,Br)}function CL(e,t){const r=fm.sharedKey(Hn(e,Br),Hn(t,Br),!0),n=new GN(Sl.SHA256,r).expand(xm);return sn(n,Br)}function Uf(e){const t=Sl.hash(Hn(e,Br));return sn(t,Br)}function hs(e){const t=Sl.hash(Hn(e,Cl));return sn(t,Br)}function aE(e){return Hn(`${e}`,sE)}function ea(e){return Number(sn(e,sE))}function DL(e){const t=aE(typeof e.type<"u"?e.type:oE);if(ea(t)===Es&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof e.senderPublicKey<"u"?Hn(e.senderPublicKey,Br):void 0,n=typeof e.iv<"u"?Hn(e.iv,Br):fo.randomBytes(Dc),i=new cm.ChaCha20Poly1305(Hn(e.symKey,Br)).seal(n,Hn(e.message,Cl));return uE({type:t,sealed:i,iv:n,senderPublicKey:r,encoding:e.encoding})}function TL(e,t){const r=aE(Dl),n=fo.randomBytes(Dc),i=Hn(e,Cl);return uE({type:r,sealed:i,iv:n,encoding:t})}function NL(e){const t=new cm.ChaCha20Poly1305(Hn(e.symKey,Br)),{sealed:r,iv:n}=cl({encoded:e.encoded,encoding:e==null?void 0:e.encoding}),i=t.open(n,r);if(i===null)throw new Error("Failed to decrypt");return sn(i,Cl)}function PL(e,t){const{sealed:r}=cl({encoded:e,encoding:t});return sn(r,Cl)}function uE(e){const{encoding:t=Ws}=e;if(ea(e.type)===Dl)return sn(I0([e.type,e.sealed]),t);if(ea(e.type)===Es){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return sn(I0([e.type,e.senderPublicKey,e.iv,e.sealed]),t)}return sn(I0([e.type,e.iv,e.sealed]),t)}function cl(e){const{encoded:t,encoding:r=Ws}=e,n=Hn(t,r),i=n.slice(ML,cb),s=cb;if(ea(i)===Es){const c=s+xm,f=c+Dc,h=n.slice(s,c),y=n.slice(c,f),v=n.slice(f);return{type:i,sealed:v,iv:y,senderPublicKey:h}}if(ea(i)===Dl){const c=n.slice(s),f=fo.randomBytes(Dc);return{type:i,sealed:c,iv:f}}const o=s+Dc,a=n.slice(s,o),u=n.slice(o);return{type:i,sealed:u,iv:a}}function OL(e,t){const r=cl({encoded:e,encoding:t==null?void 0:t.encoding});return cE({type:ea(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?sn(r.senderPublicKey,Br):void 0,receiverPublicKey:t==null?void 0:t.receiverPublicKey})}function cE(e){const t=(e==null?void 0:e.type)||oE;if(t===Es){if(typeof(e==null?void 0:e.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(e==null?void 0:e.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e==null?void 0:e.senderPublicKey,receiverPublicKey:e==null?void 0:e.receiverPublicKey}}function lb(e){return e.type===Es&&typeof e.senderPublicKey=="string"&&typeof e.receiverPublicKey=="string"}function fb(e){return e.type===Dl}function kL(e){return new $4.ec("p256").keyFromPublic({x:Buffer.from(e.x,"base64").toString("hex"),y:Buffer.from(e.y,"base64").toString("hex")},"hex")}function FL(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");const r=t.length%4;return r>0&&(t+="=".repeat(4-r)),t}function BL(e){return Buffer.from(FL(e),"base64")}function LL(e,t){const[r,n,i]=e.split("."),s=BL(i);if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32).toString("hex"),a=s.slice(32,64).toString("hex"),u=`${r}.${n}`,c=new Sl.SHA256().update(Buffer.from(u)).digest(),f=kL(t),h=Buffer.from(c).toString("hex");if(!f.verify(h,{r:o,s:a}))throw new Error("Invalid signature");return b1(e).payload}const UL="irn";function P1(e){return(e==null?void 0:e.relay)||{protocol:UL}}function gc(e){const t=ck[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}var $L=Object.defineProperty,zL=Object.defineProperties,qL=Object.getOwnPropertyDescriptors,db=Object.getOwnPropertySymbols,jL=Object.prototype.hasOwnProperty,HL=Object.prototype.propertyIsEnumerable,hb=(e,t,r)=>t in e?$L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,pb=(e,t)=>{for(var r in t||(t={}))jL.call(t,r)&&hb(e,r,t[r]);if(db)for(var r of db(t))HL.call(t,r)&&hb(e,r,t[r]);return e},KL=(e,t)=>zL(e,qL(t));function GL(e,t="-"){const r={},n="relay"+t;return Object.keys(e).forEach(i=>{if(i.startsWith(n)){const s=i.replace(n,""),o=e[i];r[s]=o}}),r}function gb(e){if(!e.includes("wc:")){const u=E5(e);u!=null&&u.includes("wc:")&&(e=u)}e=e.includes("wc://")?e.replace("wc://",""):e,e=e.includes("wc:")?e.replace("wc:",""):e;const t=e.indexOf(":"),r=e.indexOf("?")!==-1?e.indexOf("?"):void 0,n=e.substring(0,t),i=e.substring(t+1,r).split("@"),s=typeof r<"u"?e.substring(r):"",o=ol.parse(s),a=typeof o.methods=="string"?o.methods.split(","):void 0;return{protocol:n,topic:VL(i[0]),version:parseInt(i[1],10),symKey:o.symKey,relay:GL(o),methods:a,expiryTimestamp:o.expiryTimestamp?parseInt(o.expiryTimestamp,10):void 0}}function VL(e){return e.startsWith("//")?e.substring(2):e}function WL(e,t="-"){const r="relay",n={};return Object.keys(e).forEach(i=>{const s=r+t+i;e[i]&&(n[s]=e[i])}),n}function mb(e){return`${e.protocol}:${e.topic}@${e.version}?`+ol.stringify(pb(KL(pb({symKey:e.symKey},WL(e.relay)),{expiryTimestamp:e.expiryTimestamp}),e.methods?{methods:e.methods.join(",")}:{}))}function pf(e,t,r){return`${e}?wc_ev=${r}&topic=${t}`}function Fu(e){const t=[];return e.forEach(r=>{const[n,i]=r.split(":");t.push(`${n}:${i}`)}),t}function YL(e){const t=[];return Object.values(e).forEach(r=>{t.push(...Fu(r.accounts))}),t}function QL(e,t){const r=[];return Object.values(e).forEach(n=>{Fu(n.accounts).includes(t)&&r.push(...n.methods)}),r}function JL(e,t){const r=[];return Object.values(e).forEach(n=>{Fu(n.accounts).includes(t)&&r.push(...n.events)}),r}function XL(e){const t={};return e==null||e.forEach(r=>{const[n,i]=r.split(":");t[n]||(t[n]={accounts:[],chains:[],events:[]}),t[n].accounts.push(r),t[n].chains.push(`${n}:${i}`)}),t}function yb(e,t){t=t.map(n=>n.replace("did:pkh:",""));const r=XL(t);for(const[n,i]of Object.entries(r))i.methods?i.methods=Ak(i.methods,e):i.methods=e,i.events=["chainChanged","accountsChanged"];return r}const ZL={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},eU={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function ge(e,t){const{message:r,code:n}=eU[e];return{message:t?`${r} ${t}`:r,code:n}}function wt(e,t){const{message:r,code:n}=ZL[e];return{message:t?`${r} ${t}`:r,code:n}}function Tl(e,t){return!!Array.isArray(e)}function Td(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function Zr(e){return typeof e>"u"}function Ht(e,t){return t&&Zr(e)?!0:typeof e=="string"&&!!e.trim().length}function Mm(e,t){return typeof e=="number"&&!isNaN(e)}function tU(e,t){const{requiredNamespaces:r}=t,n=Object.keys(e.namespaces),i=Object.keys(r);let s=!0;return Oo(i,n)?(n.forEach(o=>{const{accounts:a,methods:u,events:c}=e.namespaces[o],f=Fu(a),h=r[o];(!Oo(p5(o,h),f)||!Oo(h.methods,u)||!Oo(h.events,c))&&(s=!1)}),s):!1}function Nd(e){return Ht(e,!1)&&e.includes(":")?e.split(":").length===2:!1}function rU(e){if(Ht(e,!1)&&e.includes(":")){const t=e.split(":");if(t.length===3){const r=t[0]+":"+t[1];return!!t[2]&&Nd(r)}}return!1}function nU(e){function t(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(Ht(e,!1)){if(t(e))return!0;const r=E5(e);return t(r)}}catch{}return!1}function iU(e){var t;return(t=e==null?void 0:e.proposer)==null?void 0:t.publicKey}function sU(e){return e==null?void 0:e.topic}function oU(e,t){let r=null;return Ht(e==null?void 0:e.publicKey,!1)||(r=ge("MISSING_OR_INVALID",`${t} controller public key should be a string`)),r}function vb(e){let t=!0;return Tl(e)?e.length&&(t=e.every(r=>Ht(r,!1))):t=!1,t}function aU(e,t,r){let n=null;return Tl(t)&&t.length?t.forEach(i=>{n||Nd(i)||(n=wt("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):Nd(e)||(n=wt("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function uU(e,t,r){let n=null;return Object.entries(e).forEach(([i,s])=>{if(n)return;const o=aU(i,p5(i,s),`${t} ${r}`);o&&(n=o)}),n}function cU(e,t){let r=null;return Tl(e)?e.forEach(n=>{r||rU(n)||(r=wt("UNSUPPORTED_ACCOUNTS",`${t}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=wt("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function lU(e,t){let r=null;return Object.values(e).forEach(n=>{if(r)return;const i=cU(n==null?void 0:n.accounts,`${t} namespace`);i&&(r=i)}),r}function fU(e,t){let r=null;return vb(e==null?void 0:e.methods)?vb(e==null?void 0:e.events)||(r=wt("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):r=wt("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),r}function lE(e,t){let r=null;return Object.values(e).forEach(n=>{if(r)return;const i=fU(n,`${t}, namespace`);i&&(r=i)}),r}function dU(e,t,r){let n=null;if(e&&Td(e)){const i=lE(e,t);i&&(n=i);const s=uU(e,t,r);s&&(n=s)}else n=ge("MISSING_OR_INVALID",`${t}, ${r} should be an object with data`);return n}function J0(e,t){let r=null;if(e&&Td(e)){const n=lE(e,t);n&&(r=n);const i=lU(e,t);i&&(r=i)}else r=ge("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return r}function fE(e){return Ht(e.protocol,!0)}function hU(e,t){let r=!1;return e?e&&Tl(e)&&e.length&&e.forEach(n=>{r=fE(n)}):r=!0,r}function pU(e){return typeof e=="number"}function Qr(e){return typeof e<"u"&&typeof e!==null}function gU(e){return!(!e||typeof e!="object"||!e.code||!Mm(e.code)||!e.message||!Ht(e.message,!1))}function mU(e){return!(Zr(e)||!Ht(e.method,!1))}function yU(e){return!(Zr(e)||Zr(e.result)&&Zr(e.error)||!Mm(e.id)||!Ht(e.jsonrpc,!1))}function vU(e){return!(Zr(e)||!Ht(e.name,!1))}function bb(e,t){return!(!Nd(t)||!YL(e).includes(t))}function bU(e,t,r){return Ht(r,!1)?QL(e,t).includes(r):!1}function wU(e,t,r){return Ht(r,!1)?JL(e,t).includes(r):!1}function wb(e,t,r){let n=null;const i=EU(e),s=_U(t),o=Object.keys(i),a=Object.keys(s),u=Eb(Object.keys(e)),c=Eb(Object.keys(t)),f=u.filter(h=>!c.includes(h));return f.length&&(n=ge("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${f.toString()}
      Received: ${Object.keys(t).toString()}`)),Oo(o,a)||(n=ge("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(t).forEach(h=>{if(!h.includes(":")||n)return;const y=Fu(t[h].accounts);y.includes(h)||(n=ge("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${h}
        Required: ${h}
        Approved: ${y.toString()}`))}),o.forEach(h=>{n||(Oo(i[h].methods,s[h].methods)?Oo(i[h].events,s[h].events)||(n=ge("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${h}`)):n=ge("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${h}`))}),n}function EU(e){const t={};return Object.keys(e).forEach(r=>{var n;r.includes(":")?t[r]=e[r]:(n=e[r].chains)==null||n.forEach(i=>{t[i]={methods:e[r].methods,events:e[r].events}})}),t}function Eb(e){return[...new Set(e.map(t=>t.includes(":")?t.split(":")[0]:t))]}function _U(e){const t={};return Object.keys(e).forEach(r=>{if(r.includes(":"))t[r]=e[r];else{const n=Fu(e[r].accounts);n==null||n.forEach(i=>{t[i]={accounts:e[r].accounts.filter(s=>s.includes(`${i}:`)),methods:e[r].methods,events:e[r].events}})}}),t}function SU(e,t){return Mm(e)&&e<=t.max&&e>=t.min}function _b(){const e=Ml();return new Promise(t=>{switch(e){case bn.browser:t(AU());break;case bn.reactNative:t(IU());break;case bn.node:t(xU());break;default:t(!0)}})}function AU(){return xl()&&(navigator==null?void 0:navigator.onLine)}async function IU(){if(Tu()&&typeof global<"u"&&global!=null&&global.NetInfo){const e=await(global==null?void 0:global.NetInfo.fetch());return e==null?void 0:e.isConnected}return!0}function xU(){return!0}function MU(e){switch(Ml()){case bn.browser:RU(e);break;case bn.reactNative:CU(e);break}}function RU(e){!Tu()&&xl()&&(window.addEventListener("online",()=>e(!0)),window.addEventListener("offline",()=>e(!1)))}function CU(e){Tu()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(t=>e(t==null?void 0:t.isConnected)))}const X0={};class ic{static get(t){return X0[t]}static set(t,r){X0[t]=r}static delete(t){delete X0[t]}}const DU="PARSE_ERROR",TU="INVALID_REQUEST",NU="METHOD_NOT_FOUND",PU="INVALID_PARAMS",dE="INTERNAL_ERROR",Rm="SERVER_ERROR",OU=[-32700,-32600,-32601,-32602,-32603],Tc={[DU]:{code:-32700,message:"Parse error"},[TU]:{code:-32600,message:"Invalid Request"},[NU]:{code:-32601,message:"Method not found"},[PU]:{code:-32602,message:"Invalid params"},[dE]:{code:-32603,message:"Internal error"},[Rm]:{code:-32e3,message:"Server error"}},hE=Rm;function kU(e){return OU.includes(e)}function Sb(e){return Object.keys(Tc).includes(e)?Tc[e]:Tc[hE]}function FU(e){const t=Object.values(Tc).find(r=>r.code===e);return t||Tc[hE]}function BU(e,t,r){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${t}`):e}var pE={},as={},Ab;function LU(){if(Ab)return as;Ab=1,Object.defineProperty(as,"__esModule",{value:!0}),as.isBrowserCryptoAvailable=as.getSubtleCrypto=as.getBrowerCrypto=void 0;function e(){return(gn==null?void 0:gn.crypto)||(gn==null?void 0:gn.msCrypto)||{}}as.getBrowerCrypto=e;function t(){const n=e();return n.subtle||n.webkitSubtle}as.getSubtleCrypto=t;function r(){return!!e()&&!!t()}return as.isBrowserCryptoAvailable=r,as}var us={},Ib;function UU(){if(Ib)return us;Ib=1,Object.defineProperty(us,"__esModule",{value:!0}),us.isBrowser=us.isNode=us.isReactNative=void 0;function e(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}us.isReactNative=e;function t(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}us.isNode=t;function r(){return!e()&&!t()}return us.isBrowser=r,us}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=vl;t.__exportStar(LU(),e),t.__exportStar(UU(),e)})(pE);function $s(e=3){const t=Date.now()*Math.pow(10,e),r=Math.floor(Math.random()*Math.pow(10,e));return t+r}function ko(e=6){return BigInt($s(e))}function Fo(e,t,r){return{id:r||$s(),jsonrpc:"2.0",method:e,params:t}}function Cm(e,t){return{id:e,jsonrpc:"2.0",result:t}}function Dm(e,t,r){return{id:e,jsonrpc:"2.0",error:$U(t)}}function $U(e,t){return typeof e>"u"?Sb(dE):(typeof e=="string"&&(e=Object.assign(Object.assign({},Sb(Rm)),{message:e})),kU(e.code)&&(e=FU(e.code)),e)}class zU{}class qU extends zU{constructor(){super()}}class jU extends qU{constructor(t){super()}}const HU="^wss?:";function KU(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(!(!t||!t.length))return t[0]}function GU(e,t){const r=KU(e);return typeof r>"u"?!1:new RegExp(t).test(r)}function xb(e){return GU(e,HU)}function VU(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}function gE(e){return typeof e=="object"&&"id"in e&&"jsonrpc"in e&&e.jsonrpc==="2.0"}function Tm(e){return gE(e)&&"method"in e}function Th(e){return gE(e)&&(_i(e)||Un(e))}function _i(e){return"result"in e}function Un(e){return"error"in e}class WU extends jU{constructor(t){super(t),this.events=new xn.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async request(t,r){return this.requestStrict(Fo(t.method,t.params||[],t.id||ko().toString()),r)}async requestStrict(t,r){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${t.id}`,s=>{Un(s)?i(s.error):n(s.result)});try{await this.connection.send(t,r)}catch(s){i(s)}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),Th(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&t.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),typeof t=="string"&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",t=>this.onPayload(t)),this.connection.on("close",t=>this.onClose(t)),this.connection.on("error",t=>this.events.emit("error",t)),this.connection.on("register_error",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const YU=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),QU=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",Mb=e=>e.split("?")[0],Rb=10,JU=YU();class XU{constructor(t){if(this.url=t,this.events=new xn.EventEmitter,this.registering=!1,!xb(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async open(t=this.url){await this.register(t)}async close(){return new Promise((t,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),t()},this.socket.close()})}async send(t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Jo(t))}catch(r){this.onError(t.id,r)}}register(t=this.url){if(!xb(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=t,this.registering=!0,new Promise((r,n)=>{const i=new URLSearchParams(t).get("origin"),s=pE.isReactNative()?{headers:{origin:i}}:{rejectUnauthorized:!VU(t)},o=new JU(t,[],s);QU()?o.onerror=a=>{const u=a;n(this.emitError(u.error))}:o.on("error",a=>{n(this.emitError(a))}),o.onopen=()=>{this.onOpen(o),r(o)}})}onOpen(t){t.onmessage=r=>this.onPayload(r),t.onclose=r=>this.onClose(r),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(typeof t.data>"u")return;const r=typeof t.data=="string"?uu(t.data):t.data;this.events.emit("payload",r)}onError(t,r){const n=this.parseError(r),i=n.message||n.toString(),s=Dm(t,i);this.events.emit("payload",s)}parseError(t,r=this.url){return BU(t,Mb(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>Rb&&this.events.setMaxListeners(Rb)}emitError(t){const r=this.parseError(new Error((t==null?void 0:t.message)||`WebSocket connection failed for host: ${Mb(this.url)}`));return this.events.emit("register_error",r),r}}var Pd={exports:{}};Pd.exports;(function(e,t){var r=200,n="__lodash_hash_undefined__",i=1,s=2,o=9007199254740991,a="[object Arguments]",u="[object Array]",c="[object AsyncFunction]",f="[object Boolean]",h="[object Date]",y="[object Error]",v="[object Function]",w="[object GeneratorFunction]",C="[object Map]",N="[object Number]",T="[object Null]",x="[object Object]",O="[object Promise]",k="[object Proxy]",L="[object RegExp]",$="[object Set]",E="[object String]",U="[object Symbol]",Z="[object Undefined]",ne="[object WeakMap]",q="[object ArrayBuffer]",b="[object DataView]",l="[object Float32Array]",d="[object Float64Array]",m="[object Int8Array]",A="[object Int16Array]",D="[object Int32Array]",R="[object Uint8Array]",I="[object Uint8ClampedArray]",p="[object Uint16Array]",g="[object Uint32Array]",B=/[\\^$.*+?()[\]{}|]/g,Y=/^\[object .+?Constructor\]$/,te=/^(?:0|[1-9]\d*)$/,P={};P[l]=P[d]=P[m]=P[A]=P[D]=P[R]=P[I]=P[p]=P[g]=!0,P[a]=P[u]=P[q]=P[f]=P[b]=P[h]=P[y]=P[v]=P[C]=P[N]=P[x]=P[L]=P[$]=P[E]=P[ne]=!1;var J=typeof gn=="object"&&gn&&gn.Object===Object&&gn,j=typeof self=="object"&&self&&self.Object===Object&&self,K=J||j||Function("return this")(),G=t&&!t.nodeType&&t,S=G&&!0&&e&&!e.nodeType&&e,H=S&&S.exports===G,re=H&&J.process,ie=function(){try{return re&&re.binding&&re.binding("util")}catch{}}(),ae=ie&&ie.isTypedArray;function pe(V,X){for(var ue=-1,Me=V==null?0:V.length,xt=0,Ze=[];++ue<Me;){var Ft=V[ue];X(Ft,ue,V)&&(Ze[xt++]=Ft)}return Ze}function de(V,X){for(var ue=-1,Me=X.length,xt=V.length;++ue<Me;)V[xt+ue]=X[ue];return V}function Oe(V,X){for(var ue=-1,Me=V==null?0:V.length;++ue<Me;)if(X(V[ue],ue,V))return!0;return!1}function Le(V,X){for(var ue=-1,Me=Array(V);++ue<V;)Me[ue]=X(ue);return Me}function ve(V){return function(X){return V(X)}}function xe(V,X){return V.has(X)}function Ee(V,X){return V==null?void 0:V[X]}function le(V){var X=-1,ue=Array(V.size);return V.forEach(function(Me,xt){ue[++X]=[xt,Me]}),ue}function we(V,X){return function(ue){return V(X(ue))}}function _e(V){var X=-1,ue=Array(V.size);return V.forEach(function(Me){ue[++X]=Me}),ue}var ce=Array.prototype,be=Function.prototype,F=Object.prototype,_=K["__core-js_shared__"],M=be.toString,z=F.hasOwnProperty,W=function(){var V=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||"");return V?"Symbol(src)_1."+V:""}(),Q=F.toString,ee=RegExp("^"+M.call(z).replace(B,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),oe=H?K.Buffer:void 0,he=K.Symbol,Ce=K.Uint8Array,me=F.propertyIsEnumerable,De=ce.splice,Je=he?he.toStringTag:void 0,ke=Object.getOwnPropertySymbols,at=oe?oe.isBuffer:void 0,ut=we(Object.keys,Object),Se=pa(K,"DataView"),Ue=pa(K,"Map"),ze=pa(K,"Promise"),Ae=pa(K,"Set"),qe=pa(K,"WeakMap"),$e=pa(Object,"create"),Te=go(Se),Ke=go(Ue),Ge=go(ze),Ne=go(Ae),Ve=go(qe),je=he?he.prototype:void 0,Ie=je?je.valueOf:void 0;function Fe(V){var X=-1,ue=V==null?0:V.length;for(this.clear();++X<ue;){var Me=V[X];this.set(Me[0],Me[1])}}function We(){this.__data__=$e?$e(null):{},this.size=0}function Pe(V){var X=this.has(V)&&delete this.__data__[V];return this.size-=X?1:0,X}function ft(V){var X=this.__data__;if($e){var ue=X[V];return ue===n?void 0:ue}return z.call(X,V)?X[V]:void 0}function dt(V){var X=this.__data__;return $e?X[V]!==void 0:z.call(X,V)}function He(V,X){var ue=this.__data__;return this.size+=this.has(V)?0:1,ue[V]=$e&&X===void 0?n:X,this}Fe.prototype.clear=We,Fe.prototype.delete=Pe,Fe.prototype.get=ft,Fe.prototype.has=dt,Fe.prototype.set=He;function et(V){var X=-1,ue=V==null?0:V.length;for(this.clear();++X<ue;){var Me=V[X];this.set(Me[0],Me[1])}}function qr(){this.__data__=[],this.size=0}function jr(V){var X=this.__data__,ue=Pl(X,V);if(ue<0)return!1;var Me=X.length-1;return ue==Me?X.pop():De.call(X,ue,1),--this.size,!0}function Hr(V){var X=this.__data__,ue=Pl(X,V);return ue<0?void 0:X[ue][1]}function Kr(V){return Pl(this.__data__,V)>-1}function Gr(V,X){var ue=this.__data__,Me=Pl(ue,V);return Me<0?(++this.size,ue.push([V,X])):ue[Me][1]=X,this}et.prototype.clear=qr,et.prototype.delete=jr,et.prototype.get=Hr,et.prototype.has=Kr,et.prototype.set=Gr;function Gt(V){var X=-1,ue=V==null?0:V.length;for(this.clear();++X<ue;){var Me=V[X];this.set(Me[0],Me[1])}}function Yi(){this.size=0,this.__data__={hash:new Fe,map:new(Ue||et),string:new Fe}}function Qi(V){var X=Ol(this,V).delete(V);return this.size-=X?1:0,X}function Ji(V){return Ol(this,V).get(V)}function Xi(V){return Ol(this,V).has(V)}function Zi(V,X){var ue=Ol(this,V),Me=ue.size;return ue.set(V,X),this.size+=ue.size==Me?0:1,this}Gt.prototype.clear=Yi,Gt.prototype.delete=Qi,Gt.prototype.get=Ji,Gt.prototype.has=Xi,Gt.prototype.set=Zi;function Dn(V){var X=-1,ue=V==null?0:V.length;for(this.__data__=new Gt;++X<ue;)this.add(V[X])}function es(V){return this.__data__.set(V,n),this}function ts(V){return this.__data__.has(V)}Dn.prototype.add=Dn.prototype.push=es,Dn.prototype.has=ts;function _r(V){var X=this.__data__=new et(V);this.size=X.size}function rs(){this.__data__=new et,this.size=0}function ns(V){var X=this.__data__,ue=X.delete(V);return this.size=X.size,ue}function is(V){return this.__data__.get(V)}function Lu(V){return this.__data__.has(V)}function GE(V,X){var ue=this.__data__;if(ue instanceof et){var Me=ue.__data__;if(!Ue||Me.length<r-1)return Me.push([V,X]),this.size=++ue.size,this;ue=this.__data__=new Gt(Me)}return ue.set(V,X),this.size=ue.size,this}_r.prototype.clear=rs,_r.prototype.delete=ns,_r.prototype.get=is,_r.prototype.has=Lu,_r.prototype.set=GE;function VE(V,X){var ue=kl(V),Me=!ue&&u_(V),xt=!ue&&!Me&&Oh(V),Ze=!ue&&!Me&&!xt&&Km(V),Ft=ue||Me||xt||Ze,nr=Ft?Le(V.length,String):[],dr=nr.length;for(var Nt in V)z.call(V,Nt)&&!(Ft&&(Nt=="length"||xt&&(Nt=="offset"||Nt=="parent")||Ze&&(Nt=="buffer"||Nt=="byteLength"||Nt=="byteOffset")||n_(Nt,dr)))&&nr.push(Nt);return nr}function Pl(V,X){for(var ue=V.length;ue--;)if(zm(V[ue][0],X))return ue;return-1}function WE(V,X,ue){var Me=X(V);return kl(V)?Me:de(Me,ue(V))}function Uu(V){return V==null?V===void 0?Z:T:Je&&Je in Object(V)?t_(V):a_(V)}function Bm(V){return $u(V)&&Uu(V)==a}function Lm(V,X,ue,Me,xt){return V===X?!0:V==null||X==null||!$u(V)&&!$u(X)?V!==V&&X!==X:YE(V,X,ue,Me,Lm,xt)}function YE(V,X,ue,Me,xt,Ze){var Ft=kl(V),nr=kl(X),dr=Ft?u:Ds(V),Nt=nr?u:Ds(X);dr=dr==a?x:dr,Nt=Nt==a?x:Nt;var dn=dr==x,Jn=Nt==x,Sr=dr==Nt;if(Sr&&Oh(V)){if(!Oh(X))return!1;Ft=!0,dn=!1}if(Sr&&!dn)return Ze||(Ze=new _r),Ft||Km(V)?Um(V,X,ue,Me,xt,Ze):ZE(V,X,dr,ue,Me,xt,Ze);if(!(ue&i)){var Tn=dn&&z.call(V,"__wrapped__"),Nn=Jn&&z.call(X,"__wrapped__");if(Tn||Nn){var Ts=Tn?V.value():V,ss=Nn?X.value():X;return Ze||(Ze=new _r),xt(Ts,ss,ue,Me,Ze)}}return Sr?(Ze||(Ze=new _r),e_(V,X,ue,Me,xt,Ze)):!1}function QE(V){if(!Hm(V)||s_(V))return!1;var X=qm(V)?ee:Y;return X.test(go(V))}function JE(V){return $u(V)&&jm(V.length)&&!!P[Uu(V)]}function XE(V){if(!o_(V))return ut(V);var X=[];for(var ue in Object(V))z.call(V,ue)&&ue!="constructor"&&X.push(ue);return X}function Um(V,X,ue,Me,xt,Ze){var Ft=ue&i,nr=V.length,dr=X.length;if(nr!=dr&&!(Ft&&dr>nr))return!1;var Nt=Ze.get(V);if(Nt&&Ze.get(X))return Nt==X;var dn=-1,Jn=!0,Sr=ue&s?new Dn:void 0;for(Ze.set(V,X),Ze.set(X,V);++dn<nr;){var Tn=V[dn],Nn=X[dn];if(Me)var Ts=Ft?Me(Nn,Tn,dn,X,V,Ze):Me(Tn,Nn,dn,V,X,Ze);if(Ts!==void 0){if(Ts)continue;Jn=!1;break}if(Sr){if(!Oe(X,function(ss,mo){if(!xe(Sr,mo)&&(Tn===ss||xt(Tn,ss,ue,Me,Ze)))return Sr.push(mo)})){Jn=!1;break}}else if(!(Tn===Nn||xt(Tn,Nn,ue,Me,Ze))){Jn=!1;break}}return Ze.delete(V),Ze.delete(X),Jn}function ZE(V,X,ue,Me,xt,Ze,Ft){switch(ue){case b:if(V.byteLength!=X.byteLength||V.byteOffset!=X.byteOffset)return!1;V=V.buffer,X=X.buffer;case q:return!(V.byteLength!=X.byteLength||!Ze(new Ce(V),new Ce(X)));case f:case h:case N:return zm(+V,+X);case y:return V.name==X.name&&V.message==X.message;case L:case E:return V==X+"";case C:var nr=le;case $:var dr=Me&i;if(nr||(nr=_e),V.size!=X.size&&!dr)return!1;var Nt=Ft.get(V);if(Nt)return Nt==X;Me|=s,Ft.set(V,X);var dn=Um(nr(V),nr(X),Me,xt,Ze,Ft);return Ft.delete(V),dn;case U:if(Ie)return Ie.call(V)==Ie.call(X)}return!1}function e_(V,X,ue,Me,xt,Ze){var Ft=ue&i,nr=$m(V),dr=nr.length,Nt=$m(X),dn=Nt.length;if(dr!=dn&&!Ft)return!1;for(var Jn=dr;Jn--;){var Sr=nr[Jn];if(!(Ft?Sr in X:z.call(X,Sr)))return!1}var Tn=Ze.get(V);if(Tn&&Ze.get(X))return Tn==X;var Nn=!0;Ze.set(V,X),Ze.set(X,V);for(var Ts=Ft;++Jn<dr;){Sr=nr[Jn];var ss=V[Sr],mo=X[Sr];if(Me)var Gm=Ft?Me(mo,ss,Sr,X,V,Ze):Me(ss,mo,Sr,V,X,Ze);if(!(Gm===void 0?ss===mo||xt(ss,mo,ue,Me,Ze):Gm)){Nn=!1;break}Ts||(Ts=Sr=="constructor")}if(Nn&&!Ts){var Fl=V.constructor,Bl=X.constructor;Fl!=Bl&&"constructor"in V&&"constructor"in X&&!(typeof Fl=="function"&&Fl instanceof Fl&&typeof Bl=="function"&&Bl instanceof Bl)&&(Nn=!1)}return Ze.delete(V),Ze.delete(X),Nn}function $m(V){return WE(V,f_,r_)}function Ol(V,X){var ue=V.__data__;return i_(X)?ue[typeof X=="string"?"string":"hash"]:ue.map}function pa(V,X){var ue=Ee(V,X);return QE(ue)?ue:void 0}function t_(V){var X=z.call(V,Je),ue=V[Je];try{V[Je]=void 0;var Me=!0}catch{}var xt=Q.call(V);return Me&&(X?V[Je]=ue:delete V[Je]),xt}var r_=ke?function(V){return V==null?[]:(V=Object(V),pe(ke(V),function(X){return me.call(V,X)}))}:d_,Ds=Uu;(Se&&Ds(new Se(new ArrayBuffer(1)))!=b||Ue&&Ds(new Ue)!=C||ze&&Ds(ze.resolve())!=O||Ae&&Ds(new Ae)!=$||qe&&Ds(new qe)!=ne)&&(Ds=function(V){var X=Uu(V),ue=X==x?V.constructor:void 0,Me=ue?go(ue):"";if(Me)switch(Me){case Te:return b;case Ke:return C;case Ge:return O;case Ne:return $;case Ve:return ne}return X});function n_(V,X){return X=X??o,!!X&&(typeof V=="number"||te.test(V))&&V>-1&&V%1==0&&V<X}function i_(V){var X=typeof V;return X=="string"||X=="number"||X=="symbol"||X=="boolean"?V!=="__proto__":V===null}function s_(V){return!!W&&W in V}function o_(V){var X=V&&V.constructor,ue=typeof X=="function"&&X.prototype||F;return V===ue}function a_(V){return Q.call(V)}function go(V){if(V!=null){try{return M.call(V)}catch{}try{return V+""}catch{}}return""}function zm(V,X){return V===X||V!==V&&X!==X}var u_=Bm(function(){return arguments}())?Bm:function(V){return $u(V)&&z.call(V,"callee")&&!me.call(V,"callee")},kl=Array.isArray;function c_(V){return V!=null&&jm(V.length)&&!qm(V)}var Oh=at||h_;function l_(V,X){return Lm(V,X)}function qm(V){if(!Hm(V))return!1;var X=Uu(V);return X==v||X==w||X==c||X==k}function jm(V){return typeof V=="number"&&V>-1&&V%1==0&&V<=o}function Hm(V){var X=typeof V;return V!=null&&(X=="object"||X=="function")}function $u(V){return V!=null&&typeof V=="object"}var Km=ae?ve(ae):JE;function f_(V){return c_(V)?VE(V):XE(V)}function d_(){return[]}function h_(){return!1}e.exports=l_})(Pd,Pd.exports);var ZU=Pd.exports;const e$=Od(ZU),mE="wc",yE=2,Nm="core",Ki=`${mE}@2:${Nm}:`,t$={name:Nm,logger:"error"},r$={database:":memory:"},n$="crypto",Cb="client_ed25519_seed",i$=ye.ONE_DAY,s$="keychain",o$="0.3",a$="messages",u$="0.3",c$=ye.SIX_HOURS,l$="publisher",vE="irn",f$="error",bE="wss://relay.walletconnect.org",d$="relayer",Pr={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},h$="_subscription",kn={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},p$=.1,O1="2.17.0",yt={link_mode:"link_mode",relay:"relay"},g$="0.3",m$="WALLETCONNECT_CLIENT_ID",Db="WALLETCONNECT_LINK_MODE_APPS",Si={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},y$="subscription",v$="0.3",b$=ye.FIVE_SECONDS*1e3,w$="pairing",E$="0.3",sc={wc_pairingDelete:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:ye.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:ye.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:ye.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:0},res:{ttl:ye.ONE_DAY,prompt:!1,tag:0}}},Do={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},ti={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},_$="history",S$="0.3",A$="expirer",Fn={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},I$="0.3",x$="verify-api",M$="https://verify.walletconnect.com",wE="https://verify.walletconnect.org",Nc=wE,R$=`${Nc}/v3`,C$=[M$,wE],D$="echo",T$="https://echo.walletconnect.com",vi={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},cs={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},ri={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Eo={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},_o={authenticated_session_approve_started:"authenticated_session_approve_started",authenticated_session_not_expired:"authenticated_session_not_expired",chains_caip2_compliant:"chains_caip2_compliant",chains_evm_compliant:"chains_evm_compliant",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve",authenticated_session_approve_publish_success:"authenticated_session_approve_publish_success"},oc={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",missing_session_authenticate_request:"missing_session_authenticate_request",session_authenticate_request_expired:"session_authenticate_request_expired",chains_caip2_compliant_failure:"chains_caip2_compliant_failure",chains_evm_compliant_failure:"chains_evm_compliant_failure",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},N$=.1,P$="event-client",O$=86400,k$="https://pulse.walletconnect.org/batch";function F$(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=e.length,u=e.charAt(0),c=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function h(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";for(var C=0,N=0,T=0,x=w.length;T!==x&&w[T]===0;)T++,C++;for(var O=(x-T)*f+1>>>0,k=new Uint8Array(O);T!==x;){for(var L=w[T],$=0,E=O-1;(L!==0||$<N)&&E!==-1;E--,$++)L+=256*k[E]>>>0,k[E]=L%a>>>0,L=L/a>>>0;if(L!==0)throw new Error("Non-zero carry");N=$,T++}for(var U=O-N;U!==O&&k[U]===0;)U++;for(var Z=u.repeat(C);U<O;++U)Z+=e.charAt(k[U]);return Z}function y(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;var C=0;if(w[C]!==" "){for(var N=0,T=0;w[C]===u;)N++,C++;for(var x=(w.length-C)*c+1>>>0,O=new Uint8Array(x);w[C];){var k=r[w.charCodeAt(C)];if(k===255)return;for(var L=0,$=x-1;(k!==0||L<T)&&$!==-1;$--,L++)k+=a*O[$]>>>0,O[$]=k%256>>>0,k=k/256>>>0;if(k!==0)throw new Error("Non-zero carry");T=L,C++}if(w[C]!==" "){for(var E=x-T;E!==x&&O[E]===0;)E++;for(var U=new Uint8Array(N+(x-E)),Z=N;E!==x;)U[Z++]=O[E++];return U}}}function v(w){var C=y(w);if(C)return C;throw new Error(`Non-${t} character`)}return{encode:h,decodeUnsafe:y,decode:v}}var B$=F$,L$=B$;const EE=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},U$=e=>new TextEncoder().encode(e),$$=e=>new TextDecoder().decode(e);class z${constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class q${constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return _E(this,t)}}class j${constructor(t){this.decoders=t}or(t){return _E(this,t)}decode(t){const r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const _E=(e,t)=>new j$({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class H${constructor(t,r,n,i){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new z$(t,r,n),this.decoder=new q$(t,r,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const Nh=({name:e,prefix:t,encode:r,decode:n})=>new H$(e,t,r,n),Nl=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:i}=L$(r,t);return Nh({prefix:e,name:t,encode:n,decode:s=>EE(i(s))})},K$=(e,t,r,n)=>{const i={};for(let f=0;f<t.length;++f)i[t[f]]=f;let s=e.length;for(;e[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,u=0,c=0;for(let f=0;f<s;++f){const h=i[e[f]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<r|h,a+=r,a>=8&&(a-=8,o[c++]=255&u>>a)}if(a>=r||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return o},G$=(e,t,r)=>{const n=t[t.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let u=0;u<e.length;++u)for(a=a<<8|e[u],o+=8;o>r;)o-=r,s+=t[i&a>>o];if(o&&(s+=t[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},Er=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>Nh({prefix:t,name:e,encode(i){return G$(i,n,r)},decode(i){return K$(i,n,r,e)}}),V$=Nh({prefix:"\0",name:"identity",encode:e=>$$(e),decode:e=>U$(e)});var W$=Object.freeze({__proto__:null,identity:V$});const Y$=Er({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Q$=Object.freeze({__proto__:null,base2:Y$});const J$=Er({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var X$=Object.freeze({__proto__:null,base8:J$});const Z$=Nl({prefix:"9",name:"base10",alphabet:"0123456789"});var ez=Object.freeze({__proto__:null,base10:Z$});const tz=Er({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),rz=Er({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var nz=Object.freeze({__proto__:null,base16:tz,base16upper:rz});const iz=Er({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),sz=Er({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),oz=Er({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),az=Er({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),uz=Er({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),cz=Er({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),lz=Er({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),fz=Er({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),dz=Er({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var hz=Object.freeze({__proto__:null,base32:iz,base32upper:sz,base32pad:oz,base32padupper:az,base32hex:uz,base32hexupper:cz,base32hexpad:lz,base32hexpadupper:fz,base32z:dz});const pz=Nl({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),gz=Nl({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var mz=Object.freeze({__proto__:null,base36:pz,base36upper:gz});const yz=Nl({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),vz=Nl({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var bz=Object.freeze({__proto__:null,base58btc:yz,base58flickr:vz});const wz=Er({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Ez=Er({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),_z=Er({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Sz=Er({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Az=Object.freeze({__proto__:null,base64:wz,base64pad:Ez,base64url:_z,base64urlpad:Sz});const SE=Array.from(""),Iz=SE.reduce((e,t,r)=>(e[r]=t,e),[]),xz=SE.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function Mz(e){return e.reduce((t,r)=>(t+=Iz[r],t),"")}function Rz(e){const t=[];for(const r of e){const n=xz[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}const Cz=Nh({prefix:"",name:"base256emoji",encode:Mz,decode:Rz});var Dz=Object.freeze({__proto__:null,base256emoji:Cz}),Tz=AE,Tb=128,Nz=127,Pz=~Nz,Oz=Math.pow(2,31);function AE(e,t,r){t=t||[],r=r||0;for(var n=r;e>=Oz;)t[r++]=e&255|Tb,e/=128;for(;e&Pz;)t[r++]=e&255|Tb,e>>>=7;return t[r]=e|0,AE.bytes=r-n+1,t}var kz=k1,Fz=128,Nb=127;function k1(e,n){var r=0,n=n||0,i=0,s=n,o,a=e.length;do{if(s>=a)throw k1.bytes=0,new RangeError("Could not decode varint");o=e[s++],r+=i<28?(o&Nb)<<i:(o&Nb)*Math.pow(2,i),i+=7}while(o>=Fz);return k1.bytes=s-n,r}var Bz=Math.pow(2,7),Lz=Math.pow(2,14),Uz=Math.pow(2,21),$z=Math.pow(2,28),zz=Math.pow(2,35),qz=Math.pow(2,42),jz=Math.pow(2,49),Hz=Math.pow(2,56),Kz=Math.pow(2,63),Gz=function(e){return e<Bz?1:e<Lz?2:e<Uz?3:e<$z?4:e<zz?5:e<qz?6:e<jz?7:e<Hz?8:e<Kz?9:10},Vz={encode:Tz,decode:kz,encodingLength:Gz},IE=Vz;const Pb=(e,t,r=0)=>(IE.encode(e,t,r),t),Ob=e=>IE.encodingLength(e),F1=(e,t)=>{const r=t.byteLength,n=Ob(e),i=n+Ob(r),s=new Uint8Array(i+r);return Pb(e,s,0),Pb(r,s,n),s.set(t,i),new Wz(e,r,t,s)};class Wz{constructor(t,r,n,i){this.code=t,this.size=r,this.digest=n,this.bytes=i}}const xE=({name:e,code:t,encode:r})=>new Yz(e,t,r);class Yz{constructor(t,r,n){this.name=t,this.code=r,this.encode=n}digest(t){if(t instanceof Uint8Array){const r=this.encode(t);return r instanceof Uint8Array?F1(this.code,r):r.then(n=>F1(this.code,n))}else throw Error("Unknown type, must be binary type")}}const ME=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Qz=xE({name:"sha2-256",code:18,encode:ME("SHA-256")}),Jz=xE({name:"sha2-512",code:19,encode:ME("SHA-512")});var Xz=Object.freeze({__proto__:null,sha256:Qz,sha512:Jz});const RE=0,Zz="identity",CE=EE,eq=e=>F1(RE,CE(e)),tq={code:RE,name:Zz,encode:CE,digest:eq};var rq=Object.freeze({__proto__:null,identity:tq});new TextEncoder,new TextDecoder;const kb={...W$,...Q$,...X$,...ez,...nz,...hz,...mz,...bz,...Az,...Dz};({...Xz,...rq});function nq(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}function DE(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const Fb=DE("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),Z0=DE("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=nq(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),iq={utf8:Fb,"utf-8":Fb,hex:kb.base16,latin1:Z0,ascii:Z0,binary:Z0,...kb};function sq(e,t="utf8"){const r=iq[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}class oq{constructor(t,r){this.core=t,this.logger=r,this.keychain=new Map,this.name=s$,this.version=o$,this.initialized=!1,this.storagePrefix=Ki,this.init=async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}},this.has=n=>(this.isInitialized(),this.keychain.has(n)),this.set=async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()},this.get=n=>{this.isInitialized();const i=this.keychain.get(n);if(typeof i>"u"){const{message:s}=ge("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(s)}return i},this.del=async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()},this.core=t,this.logger=zr(r,this.name)}get context(){return fn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(t){await this.core.storage.setItem(this.storageKey,y5(t))}async getKeyChain(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?v5(t):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:t}=ge("NOT_INITIALIZED",this.name);throw new Error(t)}}}class aq{constructor(t,r,n){this.core=t,this.logger=r,this.name=n$,this.randomSessionIdentifier=N1(),this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=i=>(this.isInitialized(),this.keychain.has(i)),this.getClientId=async()=>{this.isInitialized();const i=await this.getClientSeed(),s=l2(i);return R4(s.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const i=RL();return this.setPrivateKey(i.publicKey,i.privateKey)},this.signJWT=async i=>{this.isInitialized();const s=await this.getClientSeed(),o=l2(s),a=this.randomSessionIdentifier;return await rN(a,i,i$,o)},this.generateSharedKey=(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),u=CL(a,s);return this.setSymKey(u,o)},this.setSymKey=async(i,s)=>{this.isInitialized();const o=s||Uf(i);return await this.keychain.set(o,i),o},this.deleteKeyPair=async i=>{this.isInitialized(),await this.keychain.del(i)},this.deleteSymKey=async i=>{this.isInitialized(),await this.keychain.del(i)},this.encode=async(i,s,o)=>{this.isInitialized();const a=cE(o),u=Jo(s);if(fb(a))return TL(u,o==null?void 0:o.encoding);if(lb(a)){const y=a.senderPublicKey,v=a.receiverPublicKey;i=await this.generateSharedKey(y,v)}const c=this.getSymKey(i),{type:f,senderPublicKey:h}=a;return DL({type:f,symKey:c,message:u,senderPublicKey:h,encoding:o==null?void 0:o.encoding})},this.decode=async(i,s,o)=>{this.isInitialized();const a=OL(s,o);if(fb(a)){const u=PL(s,o==null?void 0:o.encoding);return uu(u)}if(lb(a)){const u=a.receiverPublicKey,c=a.senderPublicKey;i=await this.generateSharedKey(u,c)}try{const u=this.getSymKey(i),c=NL({symKey:u,encoded:s,encoding:o==null?void 0:o.encoding});return uu(c)}catch(u){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(u)}},this.getPayloadType=(i,s=Ws)=>{const o=cl({encoded:i,encoding:s});return ea(o.type)},this.getPayloadSenderPublicKey=(i,s=Ws)=>{const o=cl({encoded:i,encoding:s});return o.senderPublicKey?sn(o.senderPublicKey,Br):void 0},this.core=t,this.logger=zr(r,this.name),this.keychain=n||new oq(this.core,this.logger)}get context(){return fn(this.logger)}async setPrivateKey(t,r){return await this.keychain.set(t,r),t}getPrivateKey(t){return this.keychain.get(t)}async getClientSeed(){let t="";try{t=this.keychain.get(Cb)}catch{t=N1(),await this.keychain.set(Cb,t)}return sq(t,"base16")}getSymKey(t){return this.keychain.get(t)}isInitialized(){if(!this.initialized){const{message:t}=ge("NOT_INITIALIZED",this.name);throw new Error(t)}}}class uq extends oD{constructor(t,r){super(t,r),this.logger=t,this.core=r,this.messages=new Map,this.name=a$,this.version=u$,this.initialized=!1,this.storagePrefix=Ki,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}},this.set=async(n,i)=>{this.isInitialized();const s=hs(i);let o=this.messages.get(n);return typeof o>"u"&&(o={}),typeof o[s]<"u"||(o[s]=i,this.messages.set(n,o),await this.persist()),s},this.get=n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i},this.has=(n,i)=>{this.isInitialized();const s=this.get(n),o=hs(i);return typeof s[o]<"u"},this.del=async n=>{this.isInitialized(),this.messages.delete(n),await this.persist()},this.logger=zr(t,this.name),this.core=r}get context(){return fn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(t){await this.core.storage.setItem(this.storageKey,y5(t))}async getRelayerMessages(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?v5(t):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:t}=ge("NOT_INITIALIZED",this.name);throw new Error(t)}}}class cq extends aD{constructor(t,r){super(t,r),this.relayer=t,this.logger=r,this.events=new xn.EventEmitter,this.name=l$,this.queue=new Map,this.publishTimeout=ye.toMiliseconds(ye.ONE_MINUTE),this.failedPublishTimeout=ye.toMiliseconds(ye.ONE_SECOND),this.needsTransportRestart=!1,this.publish=async(n,i,s)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}});const a=(s==null?void 0:s.ttl)||c$,u=P1(s),c=(s==null?void 0:s.prompt)||!1,f=(s==null?void 0:s.tag)||0,h=(s==null?void 0:s.id)||ko().toString(),y={topic:n,message:i,opts:{ttl:a,relay:u,prompt:c,tag:f,id:h,attestation:s==null?void 0:s.attestation}},v=`Failed to publish payload, please try again. id:${h} tag:${f}`,w=Date.now();let C,N=1;try{for(;C===void 0;){if(Date.now()-w>this.publishTimeout)throw new Error(v);this.logger.trace({id:h,attempts:N},`publisher.publish - attempt ${N}`),C=await await Ja(this.rpcPublish(n,i,a,u,c,f,h,s==null?void 0:s.attestation).catch(T=>this.logger.warn(T)),this.publishTimeout,v),N++,C||await new Promise(T=>setTimeout(T,this.failedPublishTimeout))}this.relayer.events.emit(Pr.publish,y),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{id:h,topic:n,message:i,opts:s}})}catch(T){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(T),(o=s==null?void 0:s.internal)!=null&&o.throwOnFailedPublish)throw T;this.queue.set(h,y)}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.relayer=t,this.logger=zr(r,this.name),this.registerEventListeners()}get context(){return fn(this.logger)}rpcPublish(t,r,n,i,s,o,a,u){var c,f,h,y;const v={method:gc(i.protocol).publish,params:{topic:t,message:r,ttl:n,prompt:s,tag:o,attestation:u},id:a};return Zr((c=v.params)==null?void 0:c.prompt)&&((f=v.params)==null||delete f.prompt),Zr((h=v.params)==null?void 0:h.tag)&&((y=v.params)==null||delete y.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:v}),this.relayer.request(v)}removeRequestFromQueue(t){this.queue.delete(t)}checkQueue(){this.queue.forEach(async t=>{const{topic:r,message:n,opts:i}=t;await this.publish(r,n,i)})}registerEventListeners(){this.relayer.core.heartbeat.on(_u.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Pr.connection_stalled);return}this.checkQueue()}),this.relayer.on(Pr.message_ack,t=>{this.removeRequestFromQueue(t.id.toString())})}}class lq{constructor(){this.map=new Map,this.set=(t,r)=>{const n=this.get(t);this.exists(t,r)||this.map.set(t,[...n,r])},this.get=t=>this.map.get(t)||[],this.exists=(t,r)=>this.get(t).includes(r),this.delete=(t,r)=>{if(typeof r>"u"){this.map.delete(t);return}if(!this.map.has(t))return;const n=this.get(t);if(!this.exists(t,r))return;const i=n.filter(s=>s!==r);if(!i.length){this.map.delete(t);return}this.map.set(t,i)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var fq=Object.defineProperty,dq=Object.defineProperties,hq=Object.getOwnPropertyDescriptors,Bb=Object.getOwnPropertySymbols,pq=Object.prototype.hasOwnProperty,gq=Object.prototype.propertyIsEnumerable,Lb=(e,t,r)=>t in e?fq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ac=(e,t)=>{for(var r in t||(t={}))pq.call(t,r)&&Lb(e,r,t[r]);if(Bb)for(var r of Bb(t))gq.call(t,r)&&Lb(e,r,t[r]);return e},ep=(e,t)=>dq(e,hq(t));class mq extends lD{constructor(t,r){super(t,r),this.relayer=t,this.logger=r,this.subscriptions=new Map,this.topicMap=new lq,this.events=new xn.EventEmitter,this.name=y$,this.version=v$,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=Ki,this.subscribeTimeout=ye.toMiliseconds(ye.ONE_MINUTE),this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.pendingBatchMessages=[],this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId(),await this.restore()),this.initialized=!0},this.subscribe=async(n,i)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{const s=P1(i),o={topic:n,relay:s,transportType:i==null?void 0:i.transportType};this.pending.set(n,o);const a=await this.rpcSubscribe(n,s,i==null?void 0:i.transportType);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}})),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}},this.unsubscribe=async(n,i)=>{await this.restartToComplete(),this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)},this.isSubscribed=async n=>{if(this.topics.includes(n))return!0;const i=`${this.pendingSubscriptionWatchLabel}_${n}`;return await new Promise((s,o)=>{const a=new ye.Watch;a.start(i);const u=setInterval(()=>{!this.pending.has(n)&&this.topics.includes(n)&&(clearInterval(u),a.stop(i),s(!0)),a.elapsed(i)>=b$&&(clearInterval(u),a.stop(i),o(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1)},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.start=async()=>{await this.onConnect()},this.stop=async()=>{await this.onDisconnect()},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=t,this.logger=zr(r,this.name),this.clientId=""}get context(){return fn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(t,r){let n=!1;try{n=this.getSubscription(t).topic===r}catch{}return n}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(t,r){const n=this.topicMap.get(t);await Promise.all(n.map(async i=>await this.unsubscribeById(t,i,r)))}async unsubscribeById(t,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:n}});try{const i=P1(n);await this.rpcUnsubscribe(t,r,i);const s=wt("USER_DISCONNECTED",`${this.name}, ${t}`);await this.onUnsubscribe(t,r,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(t,r,n=yt.relay){n===yt.relay&&await this.restartToComplete();const i={method:gc(r.protocol).subscribe,params:{topic:t}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});try{const s=hs(t+this.clientId);return n===yt.link_mode?(setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(i).catch(o=>this.logger.warn(o))},ye.toMiliseconds(ye.ONE_SECOND)),s):await await Ja(this.relayer.request(i).catch(o=>this.logger.warn(o)),this.subscribeTimeout)?s:null}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Pr.connection_stalled)}return null}async rpcBatchSubscribe(t){if(!t.length)return;const r=t[0].relay,n={method:gc(r.protocol).batchSubscribe,params:{topics:t.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{return await await Ja(this.relayer.request(n).catch(i=>this.logger.warn(i)),this.subscribeTimeout)}catch{this.relayer.events.emit(Pr.connection_stalled)}}async rpcBatchFetchMessages(t){if(!t.length)return;const r=t[0].relay,n={method:gc(r.protocol).batchFetchMessages,params:{topics:t.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let i;try{i=await await Ja(this.relayer.request(n).catch(s=>this.logger.warn(s)),this.subscribeTimeout)}catch{this.relayer.events.emit(Pr.connection_stalled)}return i}rpcUnsubscribe(t,r,n){const i={method:gc(n.protocol).unsubscribe,params:{topic:t,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(t,r){this.setSubscription(t,ep(ac({},r),{id:t})),this.pending.delete(r.topic)}onBatchSubscribe(t){t.length&&t.forEach(r=>{this.setSubscription(r.id,ac({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(t,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,t)&&this.deleteSubscription(r,n),await this.relayer.messages.del(t)}async setRelayerSubscriptions(t){await this.relayer.core.storage.setItem(this.storageKey,t)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(t,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:t,subscription:r}),this.addSubscription(t,r)}addSubscription(t,r){this.subscriptions.set(t,ac({},r)),this.topicMap.set(r.topic,t),this.events.emit(Si.created,r)}getSubscription(t){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:t});const r=this.subscriptions.get(t);if(!r){const{message:n}=ge("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(n)}return r}deleteSubscription(t,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:t,reason:r});const n=this.getSubscription(t);this.subscriptions.delete(t),this.topicMap.delete(n.topic,t),this.events.emit(Si.deleted,ep(ac({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Si.sync)}async reset(){if(this.cached.length){const t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<t;r++){const n=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchFetchMessages(n),await this.batchSubscribe(n)}}this.events.emit(Si.resubscribed)}async restore(){try{const t=await this.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(this.subscriptions.size){const{message:r}=ge("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(t){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(t)}}async batchSubscribe(t){if(!t.length)return;const r=await this.rpcBatchSubscribe(t);Tl(r)&&this.onBatchSubscribe(r.map((n,i)=>ep(ac({},t[i]),{id:n})))}async batchFetchMessages(t){if(!t.length)return;this.logger.trace(`Fetching batch messages for ${t.length} subscriptions`);const r=await this.rpcBatchFetchMessages(t);r&&r.messages&&(this.pendingBatchMessages=this.pendingBatchMessages.concat(r.messages))}async onConnect(){await this.restart(),this.onEnable()}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||!this.relayer.connected)return;const t=[];this.pending.forEach(r=>{t.push(r)}),await this.batchSubscribe(t),this.pendingBatchMessages.length&&(await this.relayer.handleBatchMessageEvents(this.pendingBatchMessages),this.pendingBatchMessages=[])}registerEventListeners(){this.relayer.core.heartbeat.on(_u.pulse,async()=>{await this.checkPending()}),this.events.on(Si.created,async t=>{const r=Si.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),await this.persist()}),this.events.on(Si.deleted,async t=>{const r=Si.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=ge("NOT_INITIALIZED",this.name);throw new Error(t)}}async restartToComplete(){!this.relayer.connected&&!this.relayer.connecting&&await this.relayer.transportOpen(),this.restartInProgress&&await new Promise(t=>{const r=setInterval(()=>{this.restartInProgress||(clearInterval(r),t())},this.pollingInterval)})}}var yq=Object.defineProperty,Ub=Object.getOwnPropertySymbols,vq=Object.prototype.hasOwnProperty,bq=Object.prototype.propertyIsEnumerable,$b=(e,t,r)=>t in e?yq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,wq=(e,t)=>{for(var r in t||(t={}))vq.call(t,r)&&$b(e,r,t[r]);if(Ub)for(var r of Ub(t))bq.call(t,r)&&$b(e,r,t[r]);return e};class Eq extends uD{constructor(t){super(t),this.protocol="wc",this.version=2,this.events=new xn.EventEmitter,this.name=d$,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","stalled","interrupted"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.heartBeatTimeout=ye.toMiliseconds(ye.THIRTY_SECONDS+ye.ONE_SECOND),this.request=async r=>{var n,i;this.logger.debug("Publishing Request Payload");const s=r.id||ko().toString();await this.toEstablishConnection();try{const o=this.provider.request(r);this.requestsInFlight.set(s,{promise:o,request:r}),this.logger.trace({id:s,method:r.method,topic:(n=r.params)==null?void 0:n.topic},"relayer.request - attempt to publish...");const a=await new Promise(async(u,c)=>{const f=()=>{c(new Error(`relayer.request - publish interrupted, id: ${s}`))};this.provider.on(kn.disconnect,f);const h=await o;this.provider.off(kn.disconnect,f),u(h)});return this.logger.trace({id:s,method:r.method,topic:(i=r.params)==null?void 0:i.topic},"relayer.request - published"),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}finally{this.requestsInFlight.delete(s)}},this.resetPingTimeout=()=>{if(Id())try{clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,n,i;(i=(n=(r=this.provider)==null?void 0:r.connection)==null?void 0:n.socket)==null||i.terminate()},this.heartBeatTimeout)}catch(r){this.logger.warn(r)}},this.onPayloadHandler=r=>{this.onProviderPayload(r),this.resetPingTimeout()},this.onConnectHandler=()=>{this.logger.trace("relayer connected"),this.startPingTimeout(),this.events.emit(Pr.connect)},this.onDisconnectHandler=()=>{this.logger.trace("relayer disconnected"),this.onProviderDisconnect()},this.onProviderErrorHandler=r=>{this.logger.error(r),this.events.emit(Pr.error,r),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(kn.payload,this.onPayloadHandler),this.provider.on(kn.connect,this.onConnectHandler),this.provider.on(kn.disconnect,this.onDisconnectHandler),this.provider.on(kn.error,this.onProviderErrorHandler)},this.core=t.core,this.logger=typeof t.logger<"u"&&typeof t.logger!="string"?zr(t.logger,this.name):lh(nm({level:t.logger||f$})),this.messages=new uq(this.logger,t.core),this.subscriber=new mq(this,this.logger),this.publisher=new cq(this,this.logger),this.relayUrl=(t==null?void 0:t.relayUrl)||bE,this.projectId=t.projectId,this.bundleId=yk(),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.cached.length>0)try{await this.transportOpen()}catch(t){this.logger.warn(t)}}get context(){return fn(this.logger)}get connected(){var t,r,n;return((n=(r=(t=this.provider)==null?void 0:t.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1}get connecting(){var t,r,n;return((n=(r=(t=this.provider)==null?void 0:t.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0}async publish(t,r,n){this.isInitialized(),await this.publisher.publish(t,r,n),await this.recordMessageEvent({topic:t,message:r,publishedAt:Date.now(),transportType:yt.relay})}async subscribe(t,r){var n;this.isInitialized(),(r==null?void 0:r.transportType)==="relay"&&await this.toEstablishConnection();let i=((n=this.subscriber.topicMap.get(t))==null?void 0:n[0])||"",s;const o=a=>{a.topic===t&&(this.subscriber.off(Si.created,o),s())};return await Promise.all([new Promise(a=>{s=a,this.subscriber.on(Si.created,o)}),new Promise(async a=>{i=await this.subscriber.subscribe(t,r)||i,a()})]),i}async unsubscribe(t,r){this.isInitialized(),await this.subscriber.unsubscribe(t,r)}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async transportDisconnect(){if(!this.hasExperiencedNetworkDisruption&&this.connected&&this.requestsInFlight.size>0)try{await Promise.all(Array.from(this.requestsInFlight.values()).map(t=>t.promise))}catch(t){this.logger.warn(t)}this.hasExperiencedNetworkDisruption||this.connected?await Ja(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(t){await this.confirmOnlineStateOrThrow(),t&&t!==this.relayUrl&&(this.relayUrl=t,await this.transportDisconnect()),await this.createProvider(),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;try{await new Promise(async(r,n)=>{const i=()=>{this.provider.off(kn.disconnect,i),n(new Error("Connection interrupted while trying to subscribe"))};this.provider.on(kn.disconnect,i),await Ja(this.provider.connect(),ye.toMiliseconds(ye.ONE_MINUTE),`Socket stalled when trying to connect to ${this.relayUrl}`).catch(s=>{n(s)}).finally(()=>{clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0}),this.subscriber.start().catch(s=>{this.logger.error(s),this.onDisconnectHandler()}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){this.logger.error(r);const n=r;if(this.hasExperiencedNetworkDisruption=!0,!this.isConnectionStalled(n.message))throw r}finally{this.connectionAttemptInProgress=!1}}async restartTransport(t){this.connectionAttemptInProgress||(this.relayUrl=t||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await _b())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(t){if((t==null?void 0:t.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=t.sort((n,i)=>n.publishedAt-i.publishedAt);this.logger.trace(`Batch of ${r.length} message events sorted`);for(const n of r)try{await this.onMessageEvent(n)}catch(i){this.logger.warn(i)}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(t,r){const{topic:n}=t;if(!r.sessionExists){const i=Xt(ye.FIVE_MINUTES),s={topic:n,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,s)}this.events.emit(Pr.message,t),await this.recordMessageEvent(t)}startPingTimeout(){var t,r,n,i,s;if(Id())try{(r=(t=this.provider)==null?void 0:t.connection)!=null&&r.socket&&((s=(i=(n=this.provider)==null?void 0:n.connection)==null?void 0:i.socket)==null||s.once("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o)}}isConnectionStalled(t){return this.staleConnectionErrors.some(r=>t.includes(r))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const t=await this.core.crypto.signJWT(this.relayUrl);this.provider=new WU(new XU(Ek({sdkVersion:O1,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(t){const{topic:r,message:n}=t;await this.messages.set(r,n)}async shouldIgnoreMessageEvent(t){const{topic:r,message:n}=t;if(!n||n.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isSubscribed(r))return this.logger.debug(`Ignoring message for non-subscribed topic ${r}`),!0;const i=this.messages.has(r,n);return i&&this.logger.debug(`Ignoring duplicate message: ${n}`),i}async onProviderPayload(t){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),Tm(t)){if(!t.method.endsWith(h$))return;const r=t.params,{topic:n,message:i,publishedAt:s,attestation:o}=r.data,a={topic:n,message:i,publishedAt:s,transportType:yt.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(wq({type:"event",event:r.id},a)),this.events.emit(r.id,a),await this.acknowledgePayload(t),await this.onMessageEvent(a)}else Th(t)&&this.events.emit(Pr.message_ack,t)}async onMessageEvent(t){await this.shouldIgnoreMessageEvent(t)||(this.events.emit(Pr.message,t),await this.recordMessageEvent(t))}async acknowledgePayload(t){const r=Cm(t.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(kn.payload,this.onPayloadHandler),this.provider.off(kn.connect,this.onConnectHandler),this.provider.off(kn.disconnect,this.onDisconnectHandler),this.provider.off(kn.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let t=await _b();MU(async r=>{t!==r&&(t=r,r?await this.restartTransport().catch(n=>this.logger.error(n)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){await this.subscriber.stop(),this.requestsInFlight.clear(),clearTimeout(this.pingTimeout),this.events.emit(Pr.disconnect),this.connectionAttemptInProgress=!1,!this.transportExplicitlyClosed&&(this.reconnectTimeout||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(t=>this.logger.error(t))},ye.toMiliseconds(p$))))}isInitialized(){if(!this.initialized){const{message:t}=ge("NOT_INITIALIZED",this.name);throw new Error(t)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&(this.connectionAttemptInProgress&&await new Promise(t=>{const r=setInterval(()=>{this.connected&&(clearInterval(r),t())},this.connectionStatusPollingInterval)}),await this.transportOpen())}}var _q=Object.defineProperty,zb=Object.getOwnPropertySymbols,Sq=Object.prototype.hasOwnProperty,Aq=Object.prototype.propertyIsEnumerable,qb=(e,t,r)=>t in e?_q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,jb=(e,t)=>{for(var r in t||(t={}))Sq.call(t,r)&&qb(e,r,t[r]);if(zb)for(var r of zb(t))Aq.call(t,r)&&qb(e,r,t[r]);return e};class da extends cD{constructor(t,r,n,i=Ki,s=void 0){super(t,r,n,i),this.core=t,this.logger=r,this.name=n,this.map=new Map,this.version=g$,this.cached=[],this.initialized=!1,this.storagePrefix=Ki,this.recentlyDeleted=[],this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!Zr(o)?this.map.set(this.getKey(o),o):iU(o)?this.map.set(o.id,o):sU(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)},this.set=async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())},this.get=o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o)),this.getAll=o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(u=>e$(a[u],o[u]))):this.values),this.update=async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const u=jb(jb({},this.getData(o)),a);this.map.set(o,u),await this.persist()},this.delete=async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())},this.logger=zr(r,this.name),this.storagePrefix=i,this.getKey=s}get context(){return fn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(t){this.recentlyDeleted.push(t),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(t){await this.core.storage.setItem(this.storageKey,t)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(t){const r=this.map.get(t);if(!r){if(this.recentlyDeleted.includes(t)){const{message:i}=ge("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${t}`);throw this.logger.error(i),new Error(i)}const{message:n}=ge("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const t=await this.getDataStore();if(typeof t>"u"||!t.length)return;if(this.map.size){const{message:r}=ge("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(t){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(t)}}isInitialized(){if(!this.initialized){const{message:t}=ge("NOT_INITIALIZED",this.name);throw new Error(t)}}}class Iq{constructor(t,r){this.core=t,this.logger=r,this.name=w$,this.version=E$,this.events=new Ug,this.initialized=!1,this.storagePrefix=Ki,this.ignoredPayloadTypes=[Es],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]},this.create=async n=>{this.isInitialized();const i=N1(),s=await this.core.crypto.setSymKey(i),o=Xt(ye.FIVE_MINUTES),a={protocol:vE},u={topic:s,expiry:o,relay:a,active:!1,methods:n==null?void 0:n.methods},c=mb({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:n==null?void 0:n.methods});return this.events.emit(Do.create,u),this.core.expirer.set(s,o),await this.pairings.set(s,u),await this.core.relayer.subscribe(s,{transportType:n==null?void 0:n.transportType}),{topic:s,uri:c}},this.pair=async n=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:n==null?void 0:n.uri,trace:[vi.pairing_started]}});this.isValidPair(n,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:u,methods:c}=gb(n.uri);i.props.properties.topic=s,i.addTrace(vi.pairing_uri_validation_success),i.addTrace(vi.pairing_uri_not_expired);let f;if(this.pairings.keys.includes(s)){if(f=this.pairings.get(s),i.addTrace(vi.existing_pairing),f.active)throw i.setError(cs.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(vi.pairing_not_expired)}const h=u||Xt(ye.FIVE_MINUTES),y={topic:s,relay:a,expiry:h,active:!1,methods:c};this.core.expirer.set(s,h),await this.pairings.set(s,y),i.addTrace(vi.store_new_pairing),n.activatePairing&&await this.activate({topic:s}),this.events.emit(Do.create,y),i.addTrace(vi.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(vi.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(cs.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(v){throw i.setError(cs.subscribe_pairing_topic_failure),v}return i.addTrace(vi.subscribe_pairing_topic_success),y},this.activate=async({topic:n})=>{this.isInitialized();const i=Xt(ye.THIRTY_DAYS);this.core.expirer.set(n,i),await this.pairings.update(n,{active:!0,expiry:i})},this.ping=async n=>{this.isInitialized(),await this.isValidPing(n);const{topic:i}=n;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:u}=Co();this.events.once(tt("pairing_ping",s),({error:c})=>{c?u(c):a()}),await o()}},this.updateExpiry=async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})},this.updateMetadata=async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",wt("USER_DISCONNECTED")),await this.deletePairing(i))},this.formatUriFromPairing=n=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=n,u=this.core.crypto.keychain.get(i);return mb({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:u,relay:s,expiryTimestamp:o,methods:a})},this.sendRequest=async(n,i,s)=>{const o=Fo(i,s),a=await this.core.crypto.encode(n,o),u=sc[i].req;return this.core.history.set(n,o),this.core.relayer.publish(n,a,u),o.id},this.sendResult=async(n,i,s)=>{const o=Cm(n,s),a=await this.core.crypto.encode(i,o),u=await this.core.history.get(i,n),c=sc[u.request.method].res;await this.core.relayer.publish(i,a,c),await this.core.history.resolve(o)},this.sendError=async(n,i,s)=>{const o=Dm(n,s),a=await this.core.crypto.encode(i,o),u=await this.core.history.get(i,n),c=sc[u.request.method]?sc[u.request.method].res:sc.unregistered_method.res;await this.core.relayer.publish(i,a,c),await this.core.history.resolve(o)},this.deletePairing=async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,wt("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])},this.cleanup=async()=>{const n=this.pairings.getAll().filter(i=>Ls(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))},this.onRelayEventRequest=n=>{const{topic:i,payload:s}=n;switch(s.method){case"wc_pairingPing":return this.onPairingPingRequest(i,s);case"wc_pairingDelete":return this.onPairingDeleteRequest(i,s);default:return this.onUnknownRpcMethodRequest(i,s)}},this.onRelayEventResponse=async n=>{const{topic:i,payload:s}=n,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}},this.onPairingPingRequest=async(n,i)=>{const{id:s}=i;try{this.isValidPing({topic:n}),await this.sendResult(s,n,!0),this.events.emit(Do.ping,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}},this.onPairingPingResponse=(n,i)=>{const{id:s}=i;setTimeout(()=>{_i(i)?this.events.emit(tt("pairing_ping",s),{}):Un(i)&&this.events.emit(tt("pairing_ping",s),{error:i.error})},500)},this.onPairingDeleteRequest=async(n,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(Do.delete,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}},this.onUnknownRpcMethodRequest=async(n,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=wt("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,n,a),this.logger.error(a)}catch(a){await this.sendError(s,n,a),this.logger.error(a)}},this.onUnknownRpcMethodResponse=n=>{this.registeredMethods.includes(n)||this.logger.error(wt("WC_METHOD_UNSUPPORTED",n))},this.isValidPair=(n,i)=>{var s;if(!Qr(n)){const{message:a}=ge("MISSING_OR_INVALID",`pair() params: ${n}`);throw i.setError(cs.malformed_pairing_uri),new Error(a)}if(!nU(n.uri)){const{message:a}=ge("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw i.setError(cs.malformed_pairing_uri),new Error(a)}const o=gb(n==null?void 0:n.uri);if(!((s=o==null?void 0:o.relay)!=null&&s.protocol)){const{message:a}=ge("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(cs.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=ge("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(cs.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&ye.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){i.setError(cs.pairing_expired);const{message:a}=ge("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}},this.isValidPing=async n=>{if(!Qr(n)){const{message:s}=ge("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidDisconnect=async n=>{if(!Qr(n)){const{message:s}=ge("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidPairingTopic=async n=>{if(!Ht(n,!1)){const{message:i}=ge("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){const{message:i}=ge("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(Ls(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:i}=ge("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}},this.core=t,this.logger=zr(r,this.name),this.pairings=new da(this.core,this.logger,this.name,this.storagePrefix)}get context(){return fn(this.logger)}isInitialized(){if(!this.initialized){const{message:t}=ge("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){this.core.relayer.on(Pr.message,async t=>{const{topic:r,message:n,transportType:i}=t;if(!this.pairings.keys.includes(r)||i===yt.link_mode||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))return;const s=await this.core.crypto.decode(r,n);try{Tm(s)?(this.core.history.set(r,s),this.onRelayEventRequest({topic:r,payload:s})):Th(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:r,payload:s}),this.core.history.delete(r,s.id))}catch(o){this.logger.error(o)}})}registerExpirerEvents(){this.core.expirer.on(Fn.expired,async t=>{const{topic:r}=w5(t.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(Do.expire,{topic:r}))})}}class xq extends sD{constructor(t,r){super(t,r),this.core=t,this.logger=r,this.records=new Map,this.events=new xn.EventEmitter,this.name=_$,this.version=S$,this.cached=[],this.initialized=!1,this.storagePrefix=Ki,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(n,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:s,expiry:Xt(ye.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(ti.created,o)},this.resolve=async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=Un(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.persist(),this.events.emit(ti.updated,i))},this.get=async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i)),this.delete=(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===n){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(ti.deleted,s)}}),this.persist()},this.exists=async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1),this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=zr(r,this.name)}get context(){return fn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const t=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:Fo(r.request.method,r.request.params,r.id),chainId:r.chainId};return t.push(n)}),t}async setJsonRpcRecords(t){await this.core.storage.setItem(this.storageKey,t)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(t){this.isInitialized();const r=this.records.get(t);if(!r){const{message:n}=ge("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(ti.sync)}async restore(){try{const t=await this.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(this.records.size){const{message:r}=ge("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}}registerEventListeners(){this.events.on(ti.created,t=>{const r=ti.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t})}),this.events.on(ti.updated,t=>{const r=ti.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t})}),this.events.on(ti.deleted,t=>{const r=ti.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t})}),this.core.heartbeat.on(_u.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let t=!1;this.records.forEach(r=>{ye.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(ti.deleted,r,!1),t=!0)}),t&&this.persist()}catch(t){this.logger.warn(t)}}isInitialized(){if(!this.initialized){const{message:t}=ge("NOT_INITIALIZED",this.name);throw new Error(t)}}}class Mq extends fD{constructor(t,r){super(t,r),this.core=t,this.logger=r,this.expirations=new Map,this.events=new xn.EventEmitter,this.name=A$,this.version=I$,this.cached=[],this.initialized=!1,this.storagePrefix=Ki,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=n=>{try{const i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}},this.set=(n,i)=>{this.isInitialized();const s=this.formatTarget(n),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(Fn.created,{target:s,expiration:o})},this.get=n=>{this.isInitialized();const i=this.formatTarget(n);return this.getExpiration(i)},this.del=n=>{if(this.isInitialized(),this.has(n)){const i=this.formatTarget(n),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Fn.deleted,{target:i,expiration:s})}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=zr(r,this.name)}get context(){return fn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(t){if(typeof t=="string")return _k(t);if(typeof t=="number")return Sk(t);const{message:r}=ge("UNKNOWN_TYPE",`Target type: ${typeof t}`);throw new Error(r)}async setExpirations(t){await this.core.storage.setItem(this.storageKey,t)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Fn.sync)}async restore(){try{const t=await this.getExpirations();if(typeof t>"u"||!t.length)return;if(this.expirations.size){const{message:r}=ge("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(t){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(t)}}getExpiration(t){const r=this.expirations.get(t);if(!r){const{message:n}=ge("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(t,r){const{expiry:n}=r;ye.toMiliseconds(n)-Date.now()<=0&&this.expire(t,r)}expire(t,r){this.expirations.delete(t),this.events.emit(Fn.expired,{target:t,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((t,r)=>this.checkExpiry(r,t))}registerEventListeners(){this.core.heartbeat.on(_u.pulse,()=>this.checkExpirations()),this.events.on(Fn.created,t=>{const r=Fn.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()}),this.events.on(Fn.expired,t=>{const r=Fn.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()}),this.events.on(Fn.deleted,t=>{const r=Fn.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=ge("NOT_INITIALIZED",this.name);throw new Error(t)}}}var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.getLocalStorage=Rt.getLocalStorageOrThrow=Rt.getCrypto=Rt.getCryptoOrThrow=Rt.getLocation=Rt.getLocationOrThrow=Rt.getNavigator=Rt.getNavigatorOrThrow=TE=Rt.getDocument=Rt.getDocumentOrThrow=Rt.getFromWindowOrThrow=Rt.getFromWindow=void 0;function ha(e){let t;return typeof window<"u"&&typeof window[e]<"u"&&(t=window[e]),t}Rt.getFromWindow=ha;function Bu(e){const t=ha(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}Rt.getFromWindowOrThrow=Bu;function Rq(){return Bu("document")}Rt.getDocumentOrThrow=Rq;function Cq(){return ha("document")}var TE=Rt.getDocument=Cq;function Dq(){return Bu("navigator")}Rt.getNavigatorOrThrow=Dq;function Tq(){return ha("navigator")}Rt.getNavigator=Tq;function Nq(){return Bu("location")}Rt.getLocationOrThrow=Nq;function Pq(){return ha("location")}Rt.getLocation=Pq;function Oq(){return Bu("crypto")}Rt.getCryptoOrThrow=Oq;function kq(){return ha("crypto")}Rt.getCrypto=kq;function Fq(){return Bu("localStorage")}Rt.getLocalStorageOrThrow=Fq;function Bq(){return ha("localStorage")}Rt.getLocalStorage=Bq;class Lq extends dD{constructor(t,r,n){super(t,r,n),this.core=t,this.logger=r,this.store=n,this.name=x$,this.verifyUrlV3=R$,this.storagePrefix=Ki,this.version=yE,this.init=async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&ye.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))},this.register=async i=>{if(!xl()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,u=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const c=TE(),f=this.startAbortTimer(ye.ONE_SECOND*5),h=await new Promise((y,v)=>{const w=()=>{window.removeEventListener("message",N),c.body.removeChild(C),v("attestation aborted")};this.abortController.signal.addEventListener("abort",w);const C=c.createElement("iframe");C.src=u,C.style.display="none",C.addEventListener("error",w,{signal:this.abortController.signal});const N=T=>{if(T.data&&typeof T.data=="string")try{const x=JSON.parse(T.data);if(x.type==="verify_attestation"){if(b1(x.attestation).payload.id!==o)return;clearInterval(f),c.body.removeChild(C),this.abortController.signal.removeEventListener("abort",w),window.removeEventListener("message",N),y(x.attestation===null?"":x.attestation)}}catch(x){this.logger.warn(x)}};c.body.appendChild(C),window.addEventListener("message",N,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",h),h}catch(c){this.logger.warn(c)}return""},this.resolve=async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(b1(s).payload.id!==a)return;const c=await this.isValidJwtAttestation(s);if(c){if(!c.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return c}}if(!o)return;const u=this.getVerifyUrl(i==null?void 0:i.verifyUrl);return this.fetchAttestation(o,u)},this.fetchAttestation=async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(ye.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0},this.getVerifyUrl=i=>{let s=i||Nc;return C$.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${Nc}`),s=Nc),s},this.fetchPublicKey=async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(ye.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}},this.persistPublicKey=async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i},this.removePublicKey=async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0},this.isValidJwtAttestation=async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}},this.getPublicKey=async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey(),this.fetchAndPersistPublicKey=async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i},this.validateAttestation=(i,s)=>{const o=LL(i,s.publicKey),a={hasExpired:ye.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}},this.logger=zr(r,this.name),this.abortController=new AbortController,this.isDevEnv=bm(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return fn(this.logger)}startAbortTimer(t){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),ye.toMiliseconds(t))}}class Uq extends hD{constructor(t,r){super(t,r),this.projectId=t,this.logger=r,this.context=D$,this.registerDeviceToken=async n=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=n,u=`${T$}/${this.projectId}/clients`;await fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})},this.logger=zr(r,this.context)}}var $q=Object.defineProperty,Hb=Object.getOwnPropertySymbols,zq=Object.prototype.hasOwnProperty,qq=Object.prototype.propertyIsEnumerable,Kb=(e,t,r)=>t in e?$q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,uc=(e,t)=>{for(var r in t||(t={}))zq.call(t,r)&&Kb(e,r,t[r]);if(Hb)for(var r of Hb(t))qq.call(t,r)&&Kb(e,r,t[r]);return e};class jq extends pD{constructor(t,r,n=!0){super(t,r,n),this.core=t,this.logger=r,this.context=P$,this.storagePrefix=Ki,this.storageVersion=N$,this.events=new Map,this.shouldPersist=!1,this.init=async()=>{if(!bm())try{const i={eventId:O2(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:m5(this.core.relayer.protocol,this.core.relayer.version,O1)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}},this.createEvent=i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:u}}=i,c=O2(),f=this.core.projectId||"",h=Date.now(),y=uc({eventId:c,timestamp:h,props:{event:s,type:o,properties:{topic:a,trace:u}},bundleId:f,domain:this.getAppDomain()},this.setMethods(c));return this.telemetryEnabled&&(this.events.set(c,y),this.shouldPersist=!0),y},this.getEvent=i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(u=>u.props.properties.topic===o);if(a)return uc(uc({},a),this.setMethods(a.eventId))},this.deleteEvent=i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0},this.setEventListeners=()=>{this.core.heartbeat.on(_u.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{ye.fromMiliseconds(Date.now())-ye.fromMiliseconds(i.timestamp)>O$&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})},this.setMethods=i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)}),this.addTrace=(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)},this.setError=(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)},this.persist=async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1},this.restore=async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,uc(uc({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}},this.submit=async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}},this.sendEvent=async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${k$}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${O1}${s}`,{method:"POST",body:JSON.stringify(i)})},this.getAppDomain=()=>g5().url,this.logger=zr(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var Hq=Object.defineProperty,Gb=Object.getOwnPropertySymbols,Kq=Object.prototype.hasOwnProperty,Gq=Object.prototype.propertyIsEnumerable,Vb=(e,t,r)=>t in e?Hq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Wb=(e,t)=>{for(var r in t||(t={}))Kq.call(t,r)&&Vb(e,r,t[r]);if(Gb)for(var r of Gb(t))Gq.call(t,r)&&Vb(e,r,t[r]);return e};class Pm extends iD{constructor(t){var r;super(t),this.protocol=mE,this.version=yE,this.name=Nm,this.events=new xn.EventEmitter,this.initialized=!1,this.on=(o,a)=>this.events.on(o,a),this.once=(o,a)=>this.events.once(o,a),this.off=(o,a)=>this.events.off(o,a),this.removeListener=(o,a)=>this.events.removeListener(o,a),this.dispatchEnvelope=({topic:o,message:a,sessionExists:u})=>{if(!o||!a)return;const c={topic:o,message:a,publishedAt:Date.now(),transportType:yt.link_mode};this.relayer.onLinkMessageEvent(c,{sessionExists:u})},this.projectId=t==null?void 0:t.projectId,this.relayUrl=(t==null?void 0:t.relayUrl)||bE,this.customStoragePrefix=t!=null&&t.customStoragePrefix?`:${t.customStoragePrefix}`:"";const n=nm({level:typeof(t==null?void 0:t.logger)=="string"&&t.logger?t.logger:t$.logger}),{logger:i,chunkLoggerController:s}=nD({opts:n,maxSizeInBytes:t==null?void 0:t.maxLogBlobSizeInBytes,loggerOverride:t==null?void 0:t.logger});this.logChunkController=s,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var o,a;(o=this.logChunkController)!=null&&o.downloadLogsBlobInBrowser&&((a=this.logChunkController)==null||a.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=zr(i,this.name),this.heartbeat=new JR,this.crypto=new aq(this,this.logger,t==null?void 0:t.keychain),this.history=new xq(this,this.logger),this.expirer=new Mq(this,this.logger),this.storage=t!=null&&t.storage?t.storage:new CC(Wb(Wb({},r$),t==null?void 0:t.storageOptions)),this.relayer=new Eq({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Iq(this,this.logger),this.verify=new Lq(this,this.logger,this.storage),this.echoClient=new Uq(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new jq(this,this.logger,t==null?void 0:t.telemetryEnabled)}static async init(t){const r=new Pm(t);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(m$,n),r}get context(){return fn(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var t;return(t=this.logChunkController)==null?void 0:t.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(t){this.linkModeSupportedApps.includes(t)||(this.linkModeSupportedApps.push(t),await this.storage.setItem(Db,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.eventClient.init(),this.linkModeSupportedApps=await this.storage.getItem(Db)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(t){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,t),this.logger.error(t.message),t}}}const Vq=Pm,NE="wc",PE=2,OE="client",Om=`${NE}@${PE}:${OE}:`,tp={name:OE,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.org"},Yb="WALLETCONNECT_DEEPLINK_CHOICE",Wq="proposal",Yq="Proposal expired",Qq="session",Sa=ye.SEVEN_DAYS,Jq="engine",sr={wc_sessionPropose:{req:{ttl:ye.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:1104},res:{ttl:ye.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:1106},res:{ttl:ye.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:ye.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:ye.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:1112},res:{ttl:ye.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:1114},res:{ttl:ye.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:ye.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:ye.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1119}}},rp={min:ye.FIVE_MINUTES,max:ye.SEVEN_DAYS},yi={idle:"IDLE",active:"ACTIVE"},Xq="request",Zq=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],ej="wc",tj="auth",rj="authKeys",nj="pairingTopics",ij="requests",Ph=`${ej}@${1.5}:${tj}:`,$f=`${Ph}:PUB_KEY`;var sj=Object.defineProperty,oj=Object.defineProperties,aj=Object.getOwnPropertyDescriptors,Qb=Object.getOwnPropertySymbols,uj=Object.prototype.hasOwnProperty,cj=Object.prototype.propertyIsEnumerable,Jb=(e,t,r)=>t in e?sj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Lt=(e,t)=>{for(var r in t||(t={}))uj.call(t,r)&&Jb(e,r,t[r]);if(Qb)for(var r of Qb(t))cj.call(t,r)&&Jb(e,r,t[r]);return e},ni=(e,t)=>oj(e,aj(t));class lj extends mD{constructor(t){super(t),this.name=Jq,this.events=new Ug,this.initialized=!1,this.requestQueue={state:yi.idle,queue:[]},this.sessionRequestQueue={state:yi.idle,queue:[]},this.requestQueueDelay=ye.ONE_SECOND,this.expectedPairingMethodMap=new Map,this.recentlyDeletedMap=new Map,this.recentlyDeletedLimit=200,this.relayMessageCache=[],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(sr)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},ye.toMiliseconds(this.requestQueueDelay)))},this.connect=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const n=ni(Lt({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n);const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,relays:u}=n;let c=i,f,h=!1;try{c&&(h=this.client.core.pairing.pairings.get(c).active)}catch(k){throw this.client.logger.error(`connect() -> pairing.get(${c}) failed`),k}if(!c||!h){const{topic:k,uri:L}=await this.client.core.pairing.create();c=k,f=L}if(!c){const{message:k}=ge("NO_MATCHING_KEY",`connect() pairing topic: ${c}`);throw new Error(k)}const y=await this.client.core.crypto.generateKeyPair(),v=sr.wc_sessionPropose.req.ttl||ye.FIVE_MINUTES,w=Xt(v),C=Lt({requiredNamespaces:s,optionalNamespaces:o,relays:u??[{protocol:vE}],proposer:{publicKey:y,metadata:this.client.metadata},expiryTimestamp:w,pairingTopic:c},a&&{sessionProperties:a}),{reject:N,resolve:T,done:x}=Co(v,Yq);this.events.once(tt("session_connect"),async({error:k,session:L})=>{if(k)N(k);else if(L){L.self.publicKey=y;const $=ni(Lt({},L),{pairingTopic:C.pairingTopic,requiredNamespaces:C.requiredNamespaces,optionalNamespaces:C.optionalNamespaces,transportType:yt.relay});await this.client.session.set(L.topic,$),await this.setExpiry(L.topic,L.expiry),c&&await this.client.core.pairing.updateMetadata({topic:c,metadata:L.peer.metadata}),this.cleanupDuplicatePairings($),T($)}});const O=await this.sendRequest({topic:c,method:"wc_sessionPropose",params:C,throwOnFailedPublish:!0});return await this.setProposal(O,Lt({id:O},C)),{uri:f,approval:x}},this.pair=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(n){throw this.client.logger.error("pair() failed"),n}},this.approve=async r=>{var n,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(n=r==null?void 0:r.id)==null?void 0:n.toString(),trace:[ri.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(U){throw o.setError(Eo.no_internet_connection),U}try{await this.isValidProposalId(r==null?void 0:r.id)}catch(U){throw this.client.logger.error(`approve() -> proposal.get(${r==null?void 0:r.id}) failed`),o.setError(Eo.proposal_not_found),U}try{await this.isValidApprove(r)}catch(U){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(Eo.session_approve_namespace_validation_failure),U}const{id:a,relayProtocol:u,namespaces:c,sessionProperties:f,sessionConfig:h}=r,y=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:v,proposer:w,requiredNamespaces:C,optionalNamespaces:N}=y;let T=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:v});T||(T=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:ri.session_approve_started,properties:{topic:v,trace:[ri.session_approve_started,ri.session_namespaces_validation_success]}}));const x=await this.client.core.crypto.generateKeyPair(),O=w.publicKey,k=await this.client.core.crypto.generateSharedKey(x,O),L=Lt(Lt({relay:{protocol:u??"irn"},namespaces:c,controller:{publicKey:x,metadata:this.client.metadata},expiry:Xt(Sa)},f&&{sessionProperties:f}),h&&{sessionConfig:h}),$=yt.relay;T.addTrace(ri.subscribing_session_topic);try{await this.client.core.relayer.subscribe(k,{transportType:$})}catch(U){throw T.setError(Eo.subscribe_session_topic_failure),U}T.addTrace(ri.subscribe_session_topic_success);const E=ni(Lt({},L),{topic:k,requiredNamespaces:C,optionalNamespaces:N,pairingTopic:v,acknowledged:!1,self:L.controller,peer:{publicKey:w.publicKey,metadata:w.metadata},controller:x,transportType:yt.relay});await this.client.session.set(k,E),T.addTrace(ri.store_session);try{T.addTrace(ri.publishing_session_settle),await this.sendRequest({topic:k,method:"wc_sessionSettle",params:L,throwOnFailedPublish:!0}).catch(U=>{throw T==null||T.setError(Eo.session_settle_publish_failure),U}),T.addTrace(ri.session_settle_publish_success),T.addTrace(ri.publishing_session_approve),await this.sendResult({id:a,topic:v,result:{relay:{protocol:u??"irn"},responderPublicKey:x},throwOnFailedPublish:!0}).catch(U=>{throw T==null||T.setError(Eo.session_approve_publish_failure),U}),T.addTrace(ri.session_approve_publish_success)}catch(U){throw this.client.logger.error(U),this.client.session.delete(k,wt("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(k),U}return this.client.core.eventClient.deleteEvent({eventId:T.eventId}),await this.client.core.pairing.updateMetadata({topic:v,metadata:w.metadata}),await this.client.proposal.delete(a,wt("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:v}),await this.setExpiry(k,Xt(Sa)),{topic:k,acknowledged:()=>Promise.resolve(this.client.session.get(k))}},this.reject=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:n,reason:i}=r;let s;try{s=this.client.proposal.get(n).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${n}) failed`),o}s&&(await this.sendError({id:n,topic:s,error:i,rpcOpts:sr.wc_sessionPropose.reject}),await this.client.proposal.delete(n,wt("USER_DISCONNECTED")))},this.update=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(h){throw this.client.logger.error("update() -> isValidUpdate() failed"),h}const{topic:n,namespaces:i}=r,{done:s,resolve:o,reject:a}=Co(),u=$s(),c=ko().toString(),f=this.client.session.get(n).namespaces;return this.events.once(tt("session_update",u),({error:h})=>{h?a(h):o()}),await this.client.session.update(n,{namespaces:i}),await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:u,relayRpcId:c}).catch(h=>{this.client.logger.error(h),this.client.session.update(n,{namespaces:f}),a(h)}),{acknowledged:s}},this.extend=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(u){throw this.client.logger.error("extend() -> isValidExtend() failed"),u}const{topic:n}=r,i=$s(),{done:s,resolve:o,reject:a}=Co();return this.events.once(tt("session_extend",i),({error:u})=>{u?a(u):o()}),await this.setExpiry(n,Xt(Sa)),this.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(u=>{a(u)}),{acknowledged:s}},this.request=async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(w){throw this.client.logger.error("request() -> isValidRequest() failed"),w}const{chainId:n,request:i,topic:s,expiry:o=sr.wc_sessionRequest.req.ttl}=r,a=this.client.session.get(s);(a==null?void 0:a.transportType)===yt.relay&&await this.confirmOnlineStateOrThrow();const u=$s(),c=ko().toString(),{done:f,resolve:h,reject:y}=Co(o,"Request expired. Please try again.");this.events.once(tt("session_request",u),({error:w,result:C})=>{w?y(w):h(C)});const v=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);return v?(await this.sendRequest({clientRpcId:u,relayRpcId:c,topic:s,method:"wc_sessionRequest",params:{request:ni(Lt({},i),{expiryTimestamp:Xt(o)}),chainId:n},expiry:o,throwOnFailedPublish:!0,appLink:v}).catch(w=>y(w)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:u}),await f()):await Promise.all([new Promise(async w=>{await this.sendRequest({clientRpcId:u,relayRpcId:c,topic:s,method:"wc_sessionRequest",params:{request:ni(Lt({},i),{expiryTimestamp:Xt(o)}),chainId:n},expiry:o,throwOnFailedPublish:!0}).catch(C=>y(C)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:u}),w()}),new Promise(async w=>{var C;if(!((C=a.sessionConfig)!=null&&C.disableDeepLink)){const N=await Mk(this.client.core.storage,Yb);await Ik({id:u,topic:s,wcDeepLink:N})}w()}),f()]).then(w=>w[2])},this.respond=async r=>{this.isInitialized(),await this.isValidRespond(r);const{topic:n,response:i}=r,{id:s}=i,o=this.client.session.get(n);o.transportType===yt.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);_i(i)?await this.sendResult({id:s,topic:n,result:i.result,throwOnFailedPublish:!0,appLink:a}):Un(i)&&await this.sendError({id:s,topic:n,error:i.error,appLink:a}),this.cleanupAfterResponse(r)},this.ping=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:n}=r;if(this.client.session.keys.includes(n)){const i=$s(),s=ko().toString(),{done:o,resolve:a,reject:u}=Co();this.events.once(tt("session_ping",i),({error:c})=>{c?u(c):a()}),await Promise.all([this.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(n)&&await this.client.core.pairing.ping({topic:n})},this.emit=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);const{topic:n,event:i,chainId:s}=r,o=ko().toString();await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o})},this.disconnect=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);const{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:wt("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{const{message:i}=ge("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(i)}},this.find=r=>(this.isInitialized(),this.client.session.getAll().filter(n=>tU(n,r))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.authenticate=async(r,n)=>{var i;this.isInitialized(),this.isValidAuthenticate(r);const s=n&&this.client.core.linkModeSupportedApps.includes(n)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?yt.link_mode:yt.relay;o===yt.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:u="",uri:c,domain:f,nonce:h,type:y,exp:v,nbf:w,methods:C=[],expiry:N}=r,T=[...r.resources||[]],{topic:x,uri:O}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:x,uri:O}});const k=await this.client.core.crypto.generateKeyPair(),L=Uf(k);if(await Promise.all([this.client.auth.authKeys.set($f,{responseTopic:L,publicKey:k}),this.client.auth.pairingTopics.set(L,{topic:L,pairingTopic:x})]),await this.client.core.relayer.subscribe(L,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${x}`),C.length>0){const{namespace:R}=k0(a[0]);let I=_L(R,"request",C);Lf(T)&&(I=AL(I,T.pop())),T.push(I)}const $=N&&N>sr.wc_sessionAuthenticate.req.ttl?N:sr.wc_sessionAuthenticate.req.ttl,E={authPayload:{type:y??"caip122",chains:a,statement:u,aud:c,domain:f,version:"1",nonce:h,iat:new Date().toISOString(),exp:v,nbf:w,resources:T},requester:{publicKey:k,metadata:this.client.metadata},expiryTimestamp:Xt($)},U={eip155:{chains:a,methods:[...new Set(["personal_sign",...C])],events:["chainChanged","accountsChanged"]}},Z={requiredNamespaces:{},optionalNamespaces:U,relays:[{protocol:"irn"}],pairingTopic:x,proposer:{publicKey:k,metadata:this.client.metadata},expiryTimestamp:Xt(sr.wc_sessionPropose.req.ttl)},{done:ne,resolve:q,reject:b}=Co($,"Request expired"),l=async({error:R,session:I})=>{if(this.events.off(tt("session_request",m),d),R)b(R);else if(I){I.self.publicKey=k,await this.client.session.set(I.topic,I),await this.setExpiry(I.topic,I.expiry),x&&await this.client.core.pairing.updateMetadata({topic:x,metadata:I.peer.metadata});const p=this.client.session.get(I.topic);await this.deleteProposal(A),q({session:p})}},d=async R=>{var I,p,g;if(await this.deletePendingAuthRequest(m,{message:"fulfilled",code:0}),R.error){const K=wt("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return R.error.code===K.code?void 0:(this.events.off(tt("session_connect"),l),b(R.error.message))}await this.deleteProposal(A),this.events.off(tt("session_connect"),l);const{cacaos:B,responder:Y}=R.result,te=[],P=[];for(const K of B){await ob({cacao:K,projectId:this.client.core.projectId})||(this.client.logger.error(K,"Signature verification failed"),b(wt("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:G}=K,S=Lf(G.resources),H=[sb(G.iss)],re=Dd(G.iss);if(S){const ie=ab(S),ae=ub(S);te.push(...ie),H.push(...ae)}for(const ie of H)P.push(`${ie}:${re}`)}const J=await this.client.core.crypto.generateSharedKey(k,Y.publicKey);let j;te.length>0&&(j={topic:J,acknowledged:!0,self:{publicKey:k,metadata:this.client.metadata},peer:Y,controller:Y.publicKey,expiry:Xt(Sa),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:x,namespaces:yb([...new Set(te)],[...new Set(P)]),transportType:o},await this.client.core.relayer.subscribe(J,{transportType:o}),await this.client.session.set(J,j),x&&await this.client.core.pairing.updateMetadata({topic:x,metadata:Y.metadata}),j=this.client.session.get(J)),(I=this.client.metadata.redirect)!=null&&I.linkMode&&(p=Y.metadata.redirect)!=null&&p.linkMode&&(g=Y.metadata.redirect)!=null&&g.universal&&n&&(this.client.core.addLinkModeSupportedApp(Y.metadata.redirect.universal),this.client.session.update(J,{transportType:yt.link_mode})),q({auths:B,session:j})},m=$s(),A=$s();this.events.once(tt("session_connect"),l),this.events.once(tt("session_request",m),d);let D;try{if(s){const R=Fo("wc_sessionAuthenticate",E,m);this.client.core.history.set(x,R);const I=await this.client.core.crypto.encode("",R,{type:Dl,encoding:nc});D=pf(n,x,I)}else await Promise.all([this.sendRequest({topic:x,method:"wc_sessionAuthenticate",params:E,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:m}),this.sendRequest({topic:x,method:"wc_sessionPropose",params:Z,expiry:sr.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:A})])}catch(R){throw this.events.off(tt("session_connect"),l),this.events.off(tt("session_request",m),d),R}return await this.setProposal(A,Lt({id:A},Z)),await this.setAuthRequest(m,{request:ni(Lt({},E),{verifyContext:{}}),pairingTopic:x,transportType:o}),{uri:D??O,response:ne}},this.approveSessionAuthenticate=async r=>{const{id:n,auths:i}=r,s=this.client.core.eventClient.createEvent({properties:{topic:n.toString(),trace:[_o.authenticated_session_approve_started]}});try{this.isInitialized()}catch(N){throw s.setError(oc.no_internet_connection),N}const o=this.getPendingAuthRequest(n);if(!o)throw s.setError(oc.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${n}`);const a=o.transportType||yt.relay;a===yt.relay&&await this.confirmOnlineStateOrThrow();const u=o.requester.publicKey,c=await this.client.core.crypto.generateKeyPair(),f=Uf(u),h={type:Es,receiverPublicKey:u,senderPublicKey:c},y=[],v=[];for(const N of i){if(!await ob({cacao:N,projectId:this.client.core.projectId})){s.setError(oc.invalid_cacao);const L=wt("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:n,topic:f,error:L,encodeOpts:h}),new Error(L.message)}s.addTrace(_o.cacaos_verified);const{p:T}=N,x=Lf(T.resources),O=[sb(T.iss)],k=Dd(T.iss);if(x){const L=ab(x),$=ub(x);y.push(...L),O.push(...$)}for(const L of O)v.push(`${L}:${k}`)}const w=await this.client.core.crypto.generateSharedKey(c,u);s.addTrace(_o.create_authenticated_session_topic);let C;if((y==null?void 0:y.length)>0){C={topic:w,acknowledged:!0,self:{publicKey:c,metadata:this.client.metadata},peer:{publicKey:u,metadata:o.requester.metadata},controller:u,expiry:Xt(Sa),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:yb([...new Set(y)],[...new Set(v)]),transportType:a},s.addTrace(_o.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(w,{transportType:a})}catch(N){throw s.setError(oc.subscribe_authenticated_session_topic_failure),N}s.addTrace(_o.subscribe_authenticated_session_topic_success),await this.client.session.set(w,C),s.addTrace(_o.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(_o.publishing_authenticated_session_approve);try{await this.sendResult({topic:f,id:n,result:{cacaos:i,responder:{publicKey:c,metadata:this.client.metadata}},encodeOpts:h,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(N){throw s.setError(oc.authenticated_session_approve_publish_failure),N}return await this.client.auth.requests.delete(n,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:C}},this.rejectSessionAuthenticate=async r=>{this.isInitialized();const{id:n,reason:i}=r,s=this.getPendingAuthRequest(n);if(!s)throw new Error(`Could not find pending auth request with id ${n}`);s.transportType===yt.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),u=Uf(o),c={type:Es,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:n,topic:u,error:i,encodeOpts:c,rpcOpts:sr.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(n,{message:"rejected",code:0}),await this.client.proposal.delete(n,wt("USER_DISCONNECTED"))},this.formatAuthMessage=r=>{this.isInitialized();const{request:n,iss:i}=r;return nE(n,i)},this.processRelayMessageCache=()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)},this.cleanupDuplicatePairings=async r=>{if(r.pairingTopic)try{const n=this.client.core.pairing.pairings.get(r.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===r.peer.metadata.url&&s.topic&&s.topic!==n.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}},this.deleteSession=async r=>{var n;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=r,{self:u}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,wt("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(u.publicKey)&&await this.client.core.crypto.deleteKeyPair(u.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(Yb).catch(c=>this.client.logger.warn(c)),this.getPendingSessionRequests().forEach(c=>{c.topic===i&&this.deletePendingSessionRequest(c.id,wt("USER_DISCONNECTED"))}),i===((n=this.sessionRequestQueue.queue[0])==null?void 0:n.topic)&&(this.sessionRequestQueue.state=yi.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})},this.deleteProposal=async(r,n)=>{if(n)try{const i=this.client.proposal.get(r),s=this.client.core.eventClient.getEvent({topic:i.pairingTopic});s==null||s.setError(Eo.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(r,wt("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")},this.deletePendingSessionRequest=async(r,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==r),i&&(this.sessionRequestQueue.state=yi.idle,this.client.events.emit("session_request_expire",{id:r}))},this.deletePendingAuthRequest=async(r,n,i=!1)=>{await Promise.all([this.client.auth.requests.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)])},this.setExpiry=async(r,n)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,n),await this.client.session.update(r,{expiry:n}))},this.setProposal=async(r,n)=>{this.client.core.expirer.set(r,Xt(sr.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,n)},this.setAuthRequest=async(r,n)=>{const{request:i,pairingTopic:s,transportType:o=yt.relay}=n;this.client.core.expirer.set(r,i.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:r,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})},this.setPendingSessionRequest=async r=>{const{id:n,topic:i,params:s,verifyContext:o}=r,a=s.request.expiryTimestamp||Xt(sr.wc_sessionRequest.req.ttl);this.client.core.expirer.set(n,a),await this.client.pendingRequest.set(n,{id:n,topic:i,params:s,verifyContext:o})},this.sendRequest=async r=>{const{topic:n,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:u,throwOnFailedPublish:c,appLink:f}=r,h=Fo(i,s,u);let y;const v=!!f;try{const N=v?nc:Ws;y=await this.client.core.crypto.encode(n,h,{encoding:N})}catch(N){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),N}let w;if(Zq.includes(i)){const N=hs(JSON.stringify(h)),T=hs(y);w=await this.client.core.verify.register({id:T,decryptedId:N})}const C=sr[i].req;if(C.attestation=w,o&&(C.ttl=o),a&&(C.id=a),this.client.core.history.set(n,h),v){const N=pf(f,n,y);await global.Linking.openURL(N,this.client.name)}else{const N=sr[i].req;o&&(N.ttl=o),a&&(N.id=a),c?(N.internal=ni(Lt({},N.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,y,N)):this.client.core.relayer.publish(n,y,N).catch(T=>this.client.logger.error(T))}return h.id},this.sendResult=async r=>{const{id:n,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:u}=r,c=Cm(n,s);let f;const h=u&&typeof(global==null?void 0:global.Linking)<"u";try{const v=h?nc:Ws;f=await this.client.core.crypto.encode(i,c,ni(Lt({},a||{}),{encoding:v}))}catch(v){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),v}let y;try{y=await this.client.core.history.get(i,n)}catch(v){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${n}) failed`),v}if(h){const v=pf(u,i,f);await global.Linking.openURL(v,this.client.name)}else{const v=sr[y.request.method].res;o?(v.internal=ni(Lt({},v.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,f,v)):this.client.core.relayer.publish(i,f,v).catch(w=>this.client.logger.error(w))}await this.client.core.history.resolve(c)},this.sendError=async r=>{const{id:n,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:u}=r,c=Dm(n,s);let f;const h=u&&typeof(global==null?void 0:global.Linking)<"u";try{const v=h?nc:Ws;f=await this.client.core.crypto.encode(i,c,ni(Lt({},o||{}),{encoding:v}))}catch(v){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),v}let y;try{y=await this.client.core.history.get(i,n)}catch(v){throw this.client.logger.error(`sendError() -> history.get(${i}, ${n}) failed`),v}if(h){const v=pf(u,i,f);await global.Linking.openURL(v,this.client.name)}else{const v=a||sr[y.request.method].res;this.client.core.relayer.publish(i,f,v)}await this.client.core.history.resolve(c)},this.cleanup=async()=>{const r=[],n=[];this.client.session.getAll().forEach(i=>{let s=!1;Ls(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&r.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{Ls(i.expiryTimestamp)&&n.push(i.id)}),await Promise.all([...r.map(i=>this.deleteSession({topic:i})),...n.map(i=>this.deleteProposal(i))])},this.onRelayEventRequest=async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===yi.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=yi.active;const r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=yi.idle},this.processRequest=async r=>{const{topic:n,payload:i,attestation:s,transportType:o,encryptedId:a}=r,u=i.method;if(!this.shouldIgnorePairingRequest({topic:n,requestMethod:u}))switch(u){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:n,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(n,i);case"wc_sessionPing":return await this.onSessionPingRequest(n,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(n,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${u}`)}},this.onRelayEventResponse=async r=>{const{topic:n,payload:i,transportType:s}=r,o=(await this.client.core.history.get(n,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}},this.onRelayEventUnknownPayload=r=>{const{topic:n}=r,{message:i}=ge("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)},this.shouldIgnorePairingRequest=r=>{const{topic:n,requestMethod:i}=r,s=this.expectedPairingMethodMap.get(n);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)},this.onSessionProposeRequest=async r=>{const{topic:n,payload:i,attestation:s,encryptedId:o}=r,{params:a,id:u}=i;try{const c=this.client.core.eventClient.getEvent({topic:n});this.isValidConnect(Lt({},i.params));const f=a.expiryTimestamp||Xt(sr.wc_sessionPropose.req.ttl),h=Lt({id:u,pairingTopic:n,expiryTimestamp:f},a);await this.setProposal(u,h);const y=await this.getVerifyContext({attestationId:s,hash:hs(JSON.stringify(i)),encryptedId:o,metadata:h.proposer.metadata});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),c==null||c.setError(cs.proposal_listener_not_found)),c==null||c.addTrace(vi.emit_session_proposal),this.client.events.emit("session_proposal",{id:u,params:h,verifyContext:y})}catch(c){await this.sendError({id:u,topic:n,error:c,rpcOpts:sr.wc_sessionPropose.autoReject}),this.client.logger.error(c)}},this.onSessionProposeResponse=async(r,n,i)=>{const{id:s}=n;if(_i(n)){const{result:o}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const u=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:u});const c=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:c});const f=await this.client.core.crypto.generateSharedKey(u,c);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:f});const h=await this.client.core.relayer.subscribe(f,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:h}),await this.client.core.pairing.activate({topic:r})}else if(Un(n)){await this.client.proposal.delete(s,wt("USER_DISCONNECTED"));const o=tt("session_connect");if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(tt("session_connect"),{error:n.error})}},this.onSessionSettleRequest=async(r,n)=>{const{id:i,params:s}=n;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:u,namespaces:c,sessionProperties:f,sessionConfig:h}=n.params,y=ni(Lt(Lt({topic:r,relay:o,expiry:u,namespaces:c,acknowledged:!0,pairingTopic:"",requiredNamespaces:{},optionalNamespaces:{},controller:a.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},f&&{sessionProperties:f}),h&&{sessionConfig:h}),{transportType:yt.relay}),v=tt("session_connect");if(this.events.listenerCount(v)===0)throw new Error(`emitting ${v} without any listeners 997`);this.events.emit(tt("session_connect"),{session:y}),await this.sendResult({id:n.id,topic:r,result:!0,throwOnFailedPublish:!0})}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}},this.onSessionSettleResponse=async(r,n)=>{const{id:i}=n;_i(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(tt("session_approve",i),{})):Un(n)&&(await this.client.session.delete(r,wt("USER_DISCONNECTED")),this.events.emit(tt("session_approve",i),{error:n.error}))},this.onSessionUpdateRequest=async(r,n)=>{const{params:i,id:s}=n;try{const o=`${r}_session_update`,a=ic.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.info(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:r,error:wt("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Lt({topic:r},i));try{ic.set(o,s),await this.client.session.update(r,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0})}catch(u){throw ic.delete(o),u}this.client.events.emit("session_update",{id:s,topic:r,params:i})}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}},this.isRequestOutOfSync=(r,n)=>parseInt(n.toString().slice(0,-3))<=parseInt(r.toString().slice(0,-3)),this.onSessionUpdateResponse=(r,n)=>{const{id:i}=n,s=tt("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);_i(n)?this.events.emit(tt("session_update",i),{}):Un(n)&&this.events.emit(tt("session_update",i),{error:n.error})},this.onSessionExtendRequest=async(r,n)=>{const{id:i}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,Xt(Sa)),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}},this.onSessionExtendResponse=(r,n)=>{const{id:i}=n,s=tt("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);_i(n)?this.events.emit(tt("session_extend",i),{}):Un(n)&&this.events.emit(tt("session_extend",i),{error:n.error})},this.onSessionPingRequest=async(r,n)=>{const{id:i}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}},this.onSessionPingResponse=(r,n)=>{const{id:i}=n,s=tt("session_ping",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);setTimeout(()=>{_i(n)?this.events.emit(tt("session_ping",i),{}):Un(n)&&this.events.emit(tt("session_ping",i),{error:n.error})},500)},this.onSessionDeleteRequest=async(r,n)=>{const{id:i}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),Promise.all([new Promise(s=>{this.client.core.relayer.once(Pr.publish,async()=>{s(await this.deleteSession({topic:r,id:i}))})}),this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:wt("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}},this.onSessionRequest=async r=>{var n,i,s;const{topic:o,payload:a,attestation:u,encryptedId:c,transportType:f}=r,{id:h,params:y}=a;try{await this.isValidRequest(Lt({topic:o},y));const v=this.client.session.get(o),w=await this.getVerifyContext({attestationId:u,hash:hs(JSON.stringify(Fo("wc_sessionRequest",y,h))),encryptedId:c,metadata:v.peer.metadata,transportType:f}),C={id:h,topic:o,params:y,verifyContext:w};await this.setPendingSessionRequest(C),f===yt.link_mode&&(n=v.peer.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp((i=v.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(C):(this.addSessionRequestToSessionRequestQueue(C),this.processSessionRequestQueue())}catch(v){await this.sendError({id:h,topic:o,error:v}),this.client.logger.error(v)}},this.onSessionRequestResponse=(r,n)=>{const{id:i}=n,s=tt("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);_i(n)?this.events.emit(tt("session_request",i),{result:n.result}):Un(n)&&this.events.emit(tt("session_request",i),{error:n.error})},this.onSessionEventRequest=async(r,n)=>{const{id:i,params:s}=n;try{const o=`${r}_session_event_${s.event.name}`,a=ic.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(Lt({topic:r},s)),this.client.events.emit("session_event",{id:i,topic:r,params:s}),ic.set(o,i)}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}},this.onSessionAuthenticateResponse=(r,n)=>{const{id:i}=n;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:n}),_i(n)?this.events.emit(tt("session_request",i),{result:n.result}):Un(n)&&this.events.emit(tt("session_request",i),{error:n.error})},this.onSessionAuthenticateRequest=async r=>{var n;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:u}=r;try{const{requester:c,authPayload:f,expiryTimestamp:h}=s.params,y=await this.getVerifyContext({attestationId:o,hash:hs(JSON.stringify(s)),encryptedId:a,metadata:c.metadata,transportType:u}),v={requester:c,pairingTopic:i,id:s.id,authPayload:f,verifyContext:y,expiryTimestamp:h};await this.setAuthRequest(s.id,{request:v,pairingTopic:i,transportType:u}),u===yt.link_mode&&(n=c.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp(c.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:y})}catch(c){this.client.logger.error(c);const f=s.params.requester.publicKey,h=await this.client.core.crypto.generateKeyPair(),y=this.getAppLinkIfEnabled(s.params.requester.metadata,u),v={type:Es,receiverPublicKey:f,senderPublicKey:h};await this.sendError({id:s.id,topic:i,error:c,encodeOpts:v,rpcOpts:sr.wc_sessionAuthenticate.autoReject,appLink:y})}},this.addSessionRequestToSessionRequestQueue=r=>{this.sessionRequestQueue.queue.push(r)},this.cleanupAfterResponse=r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=yi.idle,this.processSessionRequestQueue()},ye.toMiliseconds(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:r,error:n})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===r&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=tt("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(tt("session_request",s.request.id),{error:n})})},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===yi.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=yi.active,this.emitSessionRequest(r)}catch(n){this.client.logger.error(n)}},this.emitSessionRequest=r=>{this.client.events.emit("session_request",r)},this.onPairingCreated=r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;const n=this.client.proposal.getAll().find(i=>i.pairingTopic===r.topic);n&&this.onSessionProposeRequest({topic:r.topic,payload:Fo("wc_sessionPropose",{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties},n.id)})},this.isValidConnect=async r=>{if(!Qr(r)){const{message:u}=ge("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(u)}const{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,relays:a}=r;if(Zr(n)||await this.isValidPairingTopic(n),!hU(a)){const{message:u}=ge("MISSING_OR_INVALID",`connect() relays: ${a}`);throw new Error(u)}!Zr(i)&&Td(i)!==0&&this.validateNamespaces(i,"requiredNamespaces"),!Zr(s)&&Td(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),Zr(o)||this.validateSessionProps(o,"sessionProperties")},this.validateNamespaces=(r,n)=>{const i=dU(r,"connect()",n);if(i)throw new Error(i.message)},this.isValidApprove=async r=>{if(!Qr(r))throw new Error(ge("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:i,relayProtocol:s,sessionProperties:o}=r;this.checkRecentlyDeleted(n),await this.isValidProposalId(n);const a=this.client.proposal.get(n),u=J0(i,"approve()");if(u)throw new Error(u.message);const c=wb(a.requiredNamespaces,i,"approve()");if(c)throw new Error(c.message);if(!Ht(s,!0)){const{message:f}=ge("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(f)}Zr(o)||this.validateSessionProps(o,"sessionProperties")},this.isValidReject=async r=>{if(!Qr(r)){const{message:s}=ge("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(s)}const{id:n,reason:i}=r;if(this.checkRecentlyDeleted(n),await this.isValidProposalId(n),!gU(i)){const{message:s}=ge("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}},this.isValidSessionSettleRequest=r=>{if(!Qr(r)){const{message:c}=ge("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(c)}const{relay:n,controller:i,namespaces:s,expiry:o}=r;if(!fE(n)){const{message:c}=ge("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(c)}const a=oU(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const u=J0(s,"onSessionSettleRequest()");if(u)throw new Error(u.message);if(Ls(o)){const{message:c}=ge("EXPIRED","onSessionSettleRequest()");throw new Error(c)}},this.isValidUpdate=async r=>{if(!Qr(r)){const{message:u}=ge("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(u)}const{topic:n,namespaces:i}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const s=this.client.session.get(n),o=J0(i,"update()");if(o)throw new Error(o.message);const a=wb(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)},this.isValidExtend=async r=>{if(!Qr(r)){const{message:i}=ge("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(i)}const{topic:n}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n)},this.isValidRequest=async r=>{if(!Qr(r)){const{message:u}=ge("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(u)}const{topic:n,request:i,chainId:s,expiry:o}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!bb(a,s)){const{message:u}=ge("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(u)}if(!mU(i)){const{message:u}=ge("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(u)}if(!bU(a,s,i.method)){const{message:u}=ge("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(u)}if(o&&!SU(o,rp)){const{message:u}=ge("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${rp.min} and ${rp.max}`);throw new Error(u)}},this.isValidRespond=async r=>{var n;if(!Qr(r)){const{message:o}=ge("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(o)}const{topic:i,response:s}=r;try{await this.isValidSessionTopic(i)}catch(o){throw(n=r==null?void 0:r.response)!=null&&n.id&&this.cleanupAfterResponse(r),o}if(!yU(s)){const{message:o}=ge("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}},this.isValidPing=async r=>{if(!Qr(r)){const{message:i}=ge("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.isValidEmit=async r=>{if(!Qr(r)){const{message:a}=ge("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}const{topic:n,event:i,chainId:s}=r;await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!bb(o,s)){const{message:a}=ge("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!vU(i)){const{message:a}=ge("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!wU(o,s,i.name)){const{message:a}=ge("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}},this.isValidDisconnect=async r=>{if(!Qr(r)){const{message:i}=ge("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.isValidAuthenticate=r=>{const{chains:n,uri:i,domain:s,nonce:o}=r;if(!Array.isArray(n)||n.length===0)throw new Error("chains is required and must be a non-empty array");if(!Ht(i,!1))throw new Error("uri is required parameter");if(!Ht(s,!1))throw new Error("domain is required parameter");if(!Ht(o,!1))throw new Error("nonce is required parameter");if([...new Set(n.map(u=>k0(u).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=k0(n[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")},this.getVerifyContext=async r=>{const{attestationId:n,hash:i,encryptedId:s,metadata:o,transportType:a}=r,u={verified:{verifyUrl:o.verifyUrl||Nc,validation:"UNKNOWN",origin:o.url||""}};try{if(a===yt.link_mode){const f=this.getAppLinkIfEnabled(o,a);return u.verified.validation=f&&new URL(f).origin===new URL(o.url).origin?"VALID":"INVALID",u}const c=await this.client.core.verify.resolve({attestationId:n,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});c&&(u.verified.origin=c.origin,u.verified.isScam=c.isScam,u.verified.validation=c.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(c){this.client.logger.warn(c)}return this.client.logger.debug(`Verify context: ${JSON.stringify(u)}`),u},this.validateSessionProps=(r,n)=>{Object.values(r).forEach(i=>{if(!Ht(i,!1)){const{message:s}=ge("MISSING_OR_INVALID",`${n} must be in Record<string, string> format. Received: ${JSON.stringify(i)}`);throw new Error(s)}})},this.getPendingAuthRequest=r=>{const n=this.client.auth.requests.get(r);return typeof n=="object"?n:void 0},this.addToRecentlyDeleted=(r,n)=>{if(this.recentlyDeletedMap.set(r,n),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}},this.checkRecentlyDeleted=r=>{const n=this.recentlyDeletedMap.get(r);if(n){const{message:i}=ge("MISSING_OR_INVALID",`Record was recently deleted - ${n}: ${r}`);throw new Error(i)}},this.isLinkModeEnabled=(r,n)=>{var i,s,o,a,u,c,f,h,y;return!r||n!==yt.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((c=(u=this.client.metadata)==null?void 0:u.redirect)==null?void 0:c.universal)!==""&&((f=r==null?void 0:r.redirect)==null?void 0:f.universal)!==void 0&&((h=r==null?void 0:r.redirect)==null?void 0:h.universal)!==""&&((y=r==null?void 0:r.redirect)==null?void 0:y.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"},this.getAppLinkIfEnabled=(r,n)=>{var i;return this.isLinkModeEnabled(r,n)?(i=r==null?void 0:r.redirect)==null?void 0:i.universal:void 0},this.handleLinkModeMessage=({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;const n=P2(r,"topic")||"",i=decodeURIComponent(P2(r,"wc_ev")||""),s=this.client.session.keys.includes(n);s&&this.client.session.update(n,{transportType:yt.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:i,sessionExists:s})},this.registerLinkModeListeners=async()=>{var r;if(bm()||Tu()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){const n=global==null?void 0:global.Linking;if(typeof n<"u"){n.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await n.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}}isInitialized(){if(!this.initialized){const{message:t}=ge("NOT_INITIALIZED",this.name);throw new Error(t)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Pr.message,t=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(t):this.onRelayMessage(t)})}async onRelayMessage(t){const{topic:r,message:n,attestation:i,transportType:s}=t,{publicKey:o}=this.client.auth.authKeys.keys.includes($f)?this.client.auth.authKeys.get($f):{responseTopic:void 0,publicKey:void 0},a=await this.client.core.crypto.decode(r,n,{receiverPublicKey:o,encoding:s===yt.link_mode?nc:Ws});try{Tm(a)?(this.client.core.history.set(r,a),this.onRelayEventRequest({topic:r,payload:a,attestation:i,transportType:s,encryptedId:hs(n)})):Th(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:r,payload:a,transportType:s}),this.client.core.history.delete(r,a.id)):this.onRelayEventUnknownPayload({topic:r,payload:a,transportType:s})}catch(u){this.client.logger.error(u)}}registerExpirerEvents(){this.client.core.expirer.on(Fn.expired,async t=>{const{topic:r,id:n}=w5(t.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,ge("EXPIRED"),!0);if(n&&this.client.auth.requests.keys.includes(n))return await this.deletePendingAuthRequest(n,ge("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(Do.create,t=>this.onPairingCreated(t)),this.client.core.pairing.events.on(Do.delete,t=>{this.addToRecentlyDeleted(t.topic,"pairing")})}isValidPairingTopic(t){if(!Ht(t,!1)){const{message:r}=ge("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:r}=ge("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(r)}if(Ls(this.client.core.pairing.pairings.get(t).expiry)){const{message:r}=ge("EXPIRED",`pairing topic: ${t}`);throw new Error(r)}}async isValidSessionTopic(t){if(!Ht(t,!1)){const{message:r}=ge("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw new Error(r)}if(this.checkRecentlyDeleted(t),!this.client.session.keys.includes(t)){const{message:r}=ge("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw new Error(r)}if(Ls(this.client.session.get(t).expiry)){await this.deleteSession({topic:t});const{message:r}=ge("EXPIRED",`session topic: ${t}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(t)){const{message:r}=ge("MISSING_OR_INVALID",`session topic does not exist in keychain: ${t}`);throw await this.deleteSession({topic:t}),new Error(r)}}async isValidSessionOrPairingTopic(t){if(this.checkRecentlyDeleted(t),this.client.session.keys.includes(t))await this.isValidSessionTopic(t);else if(this.client.core.pairing.pairings.keys.includes(t))this.isValidPairingTopic(t);else if(Ht(t,!1)){const{message:r}=ge("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw new Error(r)}else{const{message:r}=ge("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw new Error(r)}}async isValidProposalId(t){if(!pU(t)){const{message:r}=ge("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw new Error(r)}if(!this.client.proposal.keys.includes(t)){const{message:r}=ge("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw new Error(r)}if(Ls(this.client.proposal.get(t).expiryTimestamp)){await this.deleteProposal(t);const{message:r}=ge("EXPIRED",`proposal id: ${t}`);throw new Error(r)}}}class fj extends da{constructor(t,r){super(t,r,Wq,Om),this.core=t,this.logger=r}}class dj extends da{constructor(t,r){super(t,r,Qq,Om),this.core=t,this.logger=r}}class hj extends da{constructor(t,r){super(t,r,Xq,Om,n=>n.id),this.core=t,this.logger=r}}class pj extends da{constructor(t,r){super(t,r,rj,Ph,()=>$f),this.core=t,this.logger=r}}class gj extends da{constructor(t,r){super(t,r,nj,Ph),this.core=t,this.logger=r}}class mj extends da{constructor(t,r){super(t,r,ij,Ph,n=>n.id),this.core=t,this.logger=r}}class yj{constructor(t,r){this.core=t,this.logger=r,this.authKeys=new pj(this.core,this.logger),this.pairingTopics=new gj(this.core,this.logger),this.requests=new mj(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}class km extends gD{constructor(t){super(t),this.protocol=NE,this.version=PE,this.name=tp.name,this.events=new xn.EventEmitter,this.on=(n,i)=>this.events.on(n,i),this.once=(n,i)=>this.events.once(n,i),this.off=(n,i)=>this.events.off(n,i),this.removeListener=(n,i)=>this.events.removeListener(n,i),this.removeAllListeners=n=>this.events.removeAllListeners(n),this.connect=async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}},this.pair=async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}},this.approve=async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}},this.reject=async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}},this.update=async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}},this.extend=async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}},this.request=async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}},this.respond=async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}},this.ping=async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}},this.emit=async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}},this.disconnect=async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}},this.find=n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}},this.authenticate=async(n,i)=>{try{return await this.engine.authenticate(n,i)}catch(s){throw this.logger.error(s.message),s}},this.formatAuthMessage=n=>{try{return this.engine.formatAuthMessage(n)}catch(i){throw this.logger.error(i.message),i}},this.approveSessionAuthenticate=async n=>{try{return await this.engine.approveSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}},this.rejectSessionAuthenticate=async n=>{try{return await this.engine.rejectSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}},this.name=(t==null?void 0:t.name)||tp.name,this.metadata=(t==null?void 0:t.metadata)||g5(),this.signConfig=t==null?void 0:t.signConfig;const r=typeof(t==null?void 0:t.logger)<"u"&&typeof(t==null?void 0:t.logger)!="string"?t.logger:lh(nm({level:(t==null?void 0:t.logger)||tp.logger}));this.core=(t==null?void 0:t.core)||new Vq(t),this.logger=zr(r,this.name),this.session=new dj(this.core,this.logger),this.proposal=new fj(this.core,this.logger),this.pendingRequest=new hj(this.core,this.logger),this.engine=new lj(this),this.auth=new yj(this.core,this.logger)}static async init(t){const r=new km(t);return await r.initialize(),r}get context(){return fn(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),this.engine.processRelayMessageCache()}catch(t){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(t.message),t}}}function vj(){return typeof navigator<"u"&&/android/i.test(navigator.userAgent)}function bj(){return typeof navigator<"u"&&/iPhone|iPod/.test(navigator.userAgent)}function wj(){return typeof navigator<"u"&&/iPad/.test(navigator.userAgent)}function kE(){return bj()||wj()}function B1(){return vj()||kE()}let $a=function(e){return e.FLOW_AUTHN="flow_authn",e.FLOW_PRE_AUTHZ="flow_pre_authz",e.FLOW_AUTHZ="flow_authz",e.FLOW_USER_SIGN="flow_user_sign",e}({}),FE=function(e){return e.SESSION_REQUEST="session_proposal",e.SIGNING_REQUEST="signing_request",e}({});async function BE(e){let{client:t,existingPairing:r}=e;const n=await bu(),i={flow:{methods:[$a.FLOW_AUTHN,$a.FLOW_PRE_AUTHZ,$a.FLOW_AUTHZ,$a.FLOW_USER_SIGN],chains:[`flow:${n}`],events:["chainChanged","accountsChanged"]}},{uri:s,approval:o}=await t.connect({pairingTopic:r==null?void 0:r.topic,requiredNamespaces:i});if(!s)throw new Error("FCL-WC: Error creating session proposal. Could not create a proposal URI.");return{uri:s,approval:o}}const LE=async e=>{let{method:t,body:r,session:n,client:i,abortSignal:s}=e;const[o,a,u]=Ej(n),c=JSON.stringify({...r,addr:a,address:u}),f=await Promise.race([i.request({topic:n.topic,chainId:o,request:{method:t,params:[c]}}),new Promise((h,y)=>{s!=null&&s.aborted&&y(new Error("WalletConnect Request aborted")),s==null||s.addEventListener("abort",()=>{y(new Error("WalletConnect Request aborted"))})})]);if(!(typeof f!="object"||f==null))switch(f.status){case"APPROVED":return f.data;case"DECLINED":throw new Error(`Declined: ${f.reason||"No reason supplied"}`);case"REDIRECT":return f.data;default:throw new Error("Declined: No reason supplied")}};function Ej(e){const[t,r,n]=Object.values(e.namespaces).map(o=>o.accounts).flat().filter(o=>o.startsWith("flow:"))[0].split(":");return[`${t}:${r}`,n,n]}const UE="fcl-plugin-service-walletconnect",_j="WC/RPC",Sj=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{projectId:"",includeBaseWC:!1,wallets:[],wcRequestHook:null,pairingModalOverride:null};return{name:UE,f_type:"ServicePlugin",type:"discovery-service",serviceStrategy:{method:_j,exec:Aj(e,t,ER(()=>import("./index-b8_5dO8G.js").then(r=>r.i),[]).then(r=>r.WalletConnectModal))},services:[]}},Aj=(e,t,r)=>{let{wcRequestHook:n,pairingModalOverride:i}=t;return async s=>{let{service:o,body:a,opts:u,abortSignal:c}=s;const f=await e;se(!!f,"WalletConnect is not initialized");let h,y,v;const w=o.endpoint,C=T(o),N=f.pairing.getAll({active:!0});if(N.length>0&&(y=N==null?void 0:N.find(O=>{var k;return((k=O.peerMetadata)==null?void 0:k.url)===o.uid})),f.session.length>0){const O=f.session.keys.length-1;h=f.session.get(f.session.keys.at(O))}return B1()&&(u.windowRef?v=u.windowRef:v=window.open("","_blank")),h==null&&(h=await new Promise((O,k)=>{function L(){k("Declined: Externally Halted")}Ij(r)({service:o,onClose:L,appLink:C,windowRef:v,client:f,method:w,pairing:y,wcRequestHook:n,pairingModalOverride:i,abortSignal:c}).then(O,k)})),n&&n instanceof Function&&n({type:FE.SIGNING_REQUEST,method:w,service:o,session:h??null,pairing:y??null,uri:null}),B1()&&w!==$a.FLOW_AUTHN&&x(),await LE({method:w,body:a,session:h,client:f,abortSignal:c}).finally(()=>{v&&!v.closed&&v.close()});function T(O){let{uid:k}=O;return k&&/^(ftp|http|https):\/\/[^ "]+$/.test(k)||lt({title:"WalletConnect Service Warning",message:`service.uid should be a valid universal link url. Found: ${k}`,level:At.warn}),k}function x(){if(v)if(C.startsWith("http")&&!kE()){const O=document.createElement("a");O.href=C,O.target="_blank",O.rel="noreferrer noopener",O.click()}else v.location.href=C;else lt({title:"Problem opening deep link in new window",message:"Window failed to open (was it blocked by the browser?)",level:At.warn})}}};function Ij(e){return async t=>{var C;let{service:r,onClose:n,appLink:i,windowRef:s,client:o,method:a,pairing:u,wcRequestHook:c,pairingModalOverride:f,abortSignal:h}=t;const y=(C=o.opts)==null?void 0:C.projectId;se(!!y,"Cannot establish connection, WalletConnect projectId is undefined");let v=null,w;try{const{uri:N,approval:T}=await BE({client:o,existingPairing:u});if(v=N,c&&c instanceof Function&&c({type:FE.SESSION_REQUEST,method:a,service:r,session:null,pairing:u??null,uri:N??null}),B1()){const O=new URLSearchParams({uri:N}).toString();let k=u==null?i+"?"+O:i;s.location.href=k}else u||(f?f(N,n):(w=new(await e)({projectId:y,walletConnectVersion:2}),w.openModal({uri:N,onClose:n})));return await Promise.race([T(),new Promise((O,k)=>{h!=null&&h.aborted&&k(new Error("Session request aborted")),h==null||h.addEventListener("abort",()=>{k(new Error("Session request aborted"))})})])}catch(N){throw N instanceof Error&&lt({title:`${N.name} Error establishing WalletConnect session`,message:`
          ${N.message}
          uri: ${v}
        `,level:At.error}),n(),N}finally{s&&!s.closed&&s.close(),w==null||w.closeModal()}}}const xj="wss://relay.walletconnect.com",Mj="debug";let mc=Promise.resolve(null);const Rj=async e=>{let{projectId:t,metadata:r}=e;se(t!=null,"FCL Wallet Connect Error: WalletConnect projectId is required");try{return km.init({logger:Mj,relayUrl:xj,projectId:t,metadata:r})}catch(n){throw n instanceof Error&&lt({title:`${n.name} fcl-wc Init Client`,message:n.message,level:At.error}),n}},Cj=e=>{const{FclWcServicePlugin:t,clientPromise:r}=Dj(e);return LM.authn.update(),{FclWcServicePlugin:t,clientPromise:r}},Dj=e=>{let{projectId:t,metadata:r,includeBaseWC:n=!1,wcRequestHook:i=null,pairingModalOverride:s=null,wallets:o=[]}=e;if(typeof window>"u")throw new Error("FCL Wallet Connect Plugin can only be initialized in the browser");return mc=Promise.resolve(mc).catch(()=>null).then(u=>u||Rj({projectId:t,metadata:r})).catch(u=>{throw lt({title:"WalletConnect Client Initialization Error",message:u.message?u.message:u,level:At.error}),u}),{FclWcServicePlugin:Sj(mc,{projectId:t,includeBaseWC:n,wcRequestHook:i,pairingModalOverride:s,wallets:o}),clientPromise:mc}};async function $E(){return mc.then(e=>{if(!e)throw new Error("WalletConnect client not initialized");return e})}const zE="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",Tj=zE.length;function Fm(){let e="",t=32;for(;t--;)e+=zE[Math.random()*Tj|0];return e}const Nj=globalThis.AbortController||require("abort-controller");function Pj(e){const t=new Nj;return e!=null&&e.aborted&&t.abort(),e==null||e.addEventListener("abort",()=>t.abort()),t}let np=function(e){return e.NOTIFY_QRCODE_CONNECTING="notifyQrCodeConnecting",e.NOTIFY_QRCODE_CONNECTED="notifyQrCodeConnected",e.NOTIFY_QRCODE_ERROR="notifyQrCodeError",e}({}),Xb=function(e){return e.REQUEST_WALLETCONNECT_QRCODE="requestWalletConnectQrCode",e.EXEC_SERVICE="execService",e}({});const Zb="APPROVED",Oj=e=>{let{onExecResult:t,execStrategyOpts:r,execStrategyArgs:n,abortSignal:i}=e;return async s=>{var a;let{service:o}=s;try{const u=await ah({...r,service:o,config:r.config,abortSignal:i},...n.slice(1));if((((a=zi(u))==null?void 0:a.status)||Zb)===Zb)return t(u),null;throw new Error((u==null?void 0:u.reason)||"Service was declined")}catch(u){throw new Error((u==null?void 0:u.message)||"Service execution failed")}}},kj=e=>{let{rpc:t,onExecResult:r,authnBody:n,abortSignal:i}=e;const s=Fj({rpc:t,authnBody:n});return async o=>{if(i.aborted)throw new Error("Handler has been terminated");const a=await $E(),{uri:u,approval:c}=await BE({client:a});return s({uri:u,approval:c,onExecResult:r}),{uri:u}}};function Fj(e){let{rpc:t,authnBody:r}=e;return n=>{let{uri:i,approval:s,onExecResult:o}=n;setTimeout(async()=>{try{const a=await $E(),u=await s();t.notify(np.NOTIFY_QRCODE_CONNECTING,{uri:i});const c=await LE({method:$a.FLOW_AUTHN,body:r,session:u,client:a});t.notify(np.NOTIFY_QRCODE_CONNECTED,{uri:i}),o(c)}catch(a){t.notify(np.NOTIFY_QRCODE_ERROR,{uri:i,error:a==null?void 0:a.message})}},0)}}function Bj(e){let{onExecResult:t,body:r,opts:n,args:i,abortSignal:s}=e;const o=new vR({notifications:[]});return o.on(Xb.REQUEST_WALLETCONNECT_QRCODE,kj({rpc:o,onExecResult:t,authnBody:r,abortSignal:s})),o.on(Xb.EXEC_SERVICE,Oj({onExecResult:t,execStrategyOpts:n,execStrategyArgs:i,abortSignal:s})),{connect:o.connect.bind(o),receive:o.receive.bind(o)}}async function Lj(e){let{customRpc:t,opts:r,args:n,abortSignal:i}=e;const s={...r.config,client:{...r.config.client,discoveryRpcEnabled:!0}};return ah({...r,config:s,customRpc:t,abortSignal:i},...n.slice(1))}const e3="authn";async function Uj(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[n]=t,{body:i,abortSignal:s,service:o}=n;if((o==null?void 0:o.type)!==e3)return console.error(`ERROR: Invalid service type for FCL Discovery execStrategyHook, expected "${e3}" but got "${o==null?void 0:o.type}"`),ah(...t);const a=Pj(s);let u;const c=new Promise(async(f,h)=>{const y=Bj({onExecResult:f,body:i,opts:n,args:t,abortSignal:a.signal});u=Lj({customRpc:y,opts:n,args:t,abortSignal:a.signal}).then(f,h)});return await c.catch(()=>{}),await Promise.race([new Promise(f=>setTimeout(f,1e3)),u]).catch(()=>{}),a.abort(),c}const gf="FCL_IFRAME",$j=`
  position:fixed;
  top: 0px;
  right: 0px;
  bottom: 0px;
  left: 0px;
  height: 100%;
  width: 100vw;
  display:block;
  background:rgba(0,0,0,0.25);
  z-index: 2147483647;
  box-sizing: border-box;
  color-scheme: light;
`;function qE(e){se(!document.getElementById(gf),"Attempt at triggering multiple Frames",{src:e});const t=document.createElement("iframe");t.src=e,t.id=gf,t.allow="usb *; hid *; clipboard-write",t.frameBorder="0",t.style.cssText=$j,document.body.append(t);const r=()=>{document.getElementById(gf)&&document.getElementById(gf).remove()};return[t.contentWindow,r]}const zj="FCL_POP";let hn=null,t3=null;function qj(e,t,r,n,i){const s=r.top.outerHeight/2+r.top.screenY-i/2,o=r.top.outerWidth/2+r.top.screenX-n/2,a=r.open(e,t,`toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=${n}, height=${i}, top=${s}, left=${o}`);if(!a)throw new Error("Popup failed to open (was it blocked by a popup blocker?)");return a}function jE(e){return hn==null||hn!=null&&hn.closed?hn=qj(e,zj,window,640,770):(t3!==e&&hn.location.replace(e),hn.focus()),t3=e,[hn,()=>{hn&&!hn.closed&&hn.close(),hn=null}]}let Wr=null,r3=null;function HE(e){if(Wr==null||Wr!=null&&Wr.closed){if(Wr=window.open(e,"_blank"),!Wr)throw new Error("Tab failed to open (was it blocked by the browser?)")}else r3!==e&&Wr.location.replace(e),Wr.focus();return r3=e,[Wr,()=>{Wr&&!Wr.closed&&Wr.close(),Wr=null}]}const jj=()=>typeof window>"u",Hj=()=>{try{return{can:!jj(),get:async t=>JSON.parse(sessionStorage.getItem(t)),put:async(t,r)=>sessionStorage.setItem(t,JSON.stringify(r))}}catch{return null}},Kj=()=>({"discovery.wallet.method.default":"IFRAME/RPC","fcl.storage.default":Hj()}),So=()=>{};function Gj(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null)return{send:So,close:So};const r=t.onClose||So,n=t.onMessage||So,i=t.onReady||So,s=t.onResponse||So,o=t.onCustomRpc||So;let a,u;const c=uh({close:f,send:h,onReady:i,onResponse:s,onMessage:n,onCustomRpc:o,getSource:()=>a});return window.addEventListener("message",c),[a,u]=qE(yl(e)),{send:h,close:f};function f(){try{window.removeEventListener("message",c),u(),r()}catch(y){console.error("Frame Close Error",y)}}function h(y){try{a.postMessage(JSON.parse(JSON.stringify(y||{})),"*")}catch(v){console.error("Frame Send Error",y,v)}}}const ta="1.12.1";function Vj(e){let{service:t,body:r,config:n,customRpc:i,abortSignal:s,opts:o}=e;return new Promise((a,u)=>{const c=Fm(),f=o.includeOlderJsonRpcCall,{close:h}=Gj(t,{async onReady(y,v){let{send:w}=v;try{w({type:"FCL:VIEW:READY:RESPONSE",fclVersion:ta,body:r,service:{params:t.params,data:t.data,type:t.type},config:n}),w({fclVersion:ta,type:"FCL:FRAME:READY:RESPONSE",body:r,service:{params:t.params,data:t.data,type:t.type},config:n,deprecated:{message:"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),f&&w({jsonrpc:"2.0",id:c,method:"fcl:sign",params:[r,t.params],deprecated:{message:"jsonrpc is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),i==null||i.connect({send:C=>{w({type:"FCL:VIEW:CUSTOM_RPC",payload:C})}})}catch(C){throw C}},onResponse(y,v){let{close:w}=v;try{if(typeof y.data!="object")return;const C=zi(y.data);switch(C.status){case"APPROVED":a(C.data),w();break;case"DECLINED":u(`Declined: ${C.reason||"No reason supplied"}`),w();break;case"REDIRECT":a(C),w();break;default:u("Declined: No reason supplied"),w();break}}catch(C){throw console.error("execIframeRPC onResponse error",C),C}},onMessage(y,v){let{close:w}=v;try{if(typeof y.data!="object"||y.data.jsonrpc!=="2.0"||y.data.id!==c)return;const C=zi(y.data.result);switch(C.status){case"APPROVED":a(C.data),w();break;case"DECLINED":u(`Declined: ${C.reason||"No reason supplied"}`),w();break;case"REDIRECT":a(C),w();break;default:u("Declined: No reason supplied"),w();break}}catch(C){throw console.error("execIframeRPC onMessage error",C),C}},onClose(){u("Declined: Externally Halted")},onCustomRpc(y){i==null||i.receive(y)}});s&&(s.aborted&&(u("Declined: Aborted"),h()),s.addEventListener("abort",()=>{u("Declined: Aborted"),h()}))})}const Ao=()=>{};function Wj(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null)return{send:Ao,close:Ao};const r=t.onClose||Ao,n=t.onMessage||Ao,i=t.onReady||Ao,s=t.onResponse||Ao,o=t.onCustomRpc||Ao;let a,u;const c=uh({close:h,send:y,onReady:i,onResponse:s,onMessage:n,onCustomRpc:o,getSource:()=>a});window.addEventListener("message",c),[a,u]=jE(yl(e));const f=setInterval(function(){a&&a.closed&&h()},500);return{send:y,close:h};function h(){try{window.removeEventListener("message",c),clearInterval(f),u(),r()}catch(v){console.error("Popup Close Error",v)}}function y(v){try{a.postMessage(JSON.parse(JSON.stringify(v||{})),"*")}catch(w){console.error("Popup Send Error",v,w)}}}function Yj(e){let{service:t,body:r,config:n,abortSignal:i,customRpc:s,opts:o}=e;return new Promise((a,u)=>{const c=Fm(),{redir:f,includeOlderJsonRpcCall:h}=o,{close:y}=Wj(t,{customRpc:s,async onReady(v,w){let{send:C}=w;try{C({fclVersion:ta,type:"FCL:VIEW:READY:RESPONSE",body:r,service:{params:t.params,data:t.data,type:t.type},config:n}),C({fclVersion:ta,type:"FCL:FRAME:READY:RESPONSE",body:r,service:{params:t.params,data:t.data,type:t.type},config:n,deprecated:{message:"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),h&&C({jsonrpc:"2.0",id:c,method:"fcl:sign",params:[r,t.params]}),s==null||s.connect({send:N=>{C({type:"FCL:VIEW:CUSTOM_RPC",payload:N})}})}catch(N){throw N}},onResponse(v,w){let{close:C}=w;try{if(typeof v.data!="object")return;const N=zi(v.data);switch(N.status){case"APPROVED":a(N.data),!f&&C();break;case"DECLINED":u(`Declined: ${N.reason||"No reason supplied"}`),C();break;case"REDIRECT":a(N),C();break;default:u("Declined: No reason supplied"),C();break}}catch(N){throw console.error("execPopRPC onResponse error",N),N}},onMessage(v,w){let{close:C}=w;try{if(typeof v.data!="object"||v.data.jsonrpc!=="2.0"||v.data.id!==c)return;const N=zi(v.data.result);switch(N.status){case"APPROVED":a(N.data),!f&&C();break;case"DECLINED":u(`Declined: ${N.reason||"No reason supplied"}`),C();break;case"REDIRECT":a(N),C();break;default:u("Declined: No reason supplied"),C();break}}catch(N){throw console.error("execPopRPC onMessage error",N),N}},onClose(){u("Declined: Externally Halted")},onCustomRpc(v){s==null||s.receive(v)}});i&&(i.aborted&&(u("Declined: Aborted"),y()),i.addEventListener("abort",()=>{u("Declined: Aborted"),y()}))})}const Io=()=>{};function Qj(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null)return{send:Io,close:Io};const r=t.onClose||Io,n=t.onMessage||Io,i=t.onReady||Io,s=t.onResponse||Io,o=t.onCustomRpc||Io;let a,u;const c=uh({close:h,send:y,onReady:i,onResponse:s,onMessage:n,onCustomRpc:o,getSource:()=>a});window.addEventListener("message",c),[a,u]=HE(yl(e));const f=setInterval(function(){a&&a.closed&&h()},500);return{send:y,close:h};function h(){try{window.removeEventListener("message",c),clearInterval(f),u(),r()}catch(v){console.error("Tab Close Error",v)}}function y(v){try{a.postMessage(JSON.parse(JSON.stringify(v||{})),"*")}catch(w){console.error("Tab Send Error",v,w)}}}function Jj(e){let{service:t,body:r,config:n,abortSignal:i,customRpc:s,opts:o}=e;return new Promise((a,u)=>{const c=Fm(),{redir:f,includeOlderJsonRpcCall:h}=o,{close:y}=Qj(t,{customRpc:s,async onReady(v,w){let{send:C}=w;try{C({fclVersion:ta,type:"FCL:VIEW:READY:RESPONSE",body:r,service:{params:t.params,data:t.data,type:t.type},config:n}),C({fclVersion:ta,type:"FCL:FRAME:READY:RESPONSE",body:r,service:{params:t.params,data:t.data,type:t.type},config:n,deprecated:{message:"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),h&&C({jsonrpc:"2.0",id:c,method:"fcl:sign",params:[r,t.params]}),s==null||s.connect({send:N=>{C({type:"FCL:VIEW:CUSTOM_RPC",payload:N})}})}catch(N){throw N}},onResponse(v,w){let{close:C}=w;try{if(typeof v.data!="object")return;const N=zi(v.data);switch(N.status){case"APPROVED":a(N.data),!f&&C();break;case"DECLINED":u(`Declined: ${N.reason||"No reason supplied"}`),C();break;case"REDIRECT":a(N),C();break;default:u("Declined: No reason supplied"),C();break}}catch(N){throw console.error("execPopRPC onResponse error",N),N}},onMessage(v,w){let{close:C}=w;try{if(typeof v.data!="object"||v.data.jsonrpc!=="2.0"||v.data.id!==c)return;const N=zi(v.data.result);switch(N.status){case"APPROVED":a(N.data),!f&&C();break;case"DECLINED":u(`Declined: ${N.reason||"No reason supplied"}`),C();break;case"REDIRECT":a(N),C();break;default:u("Declined: No reason supplied"),C();break}}catch(N){throw console.error("execPopRPC onMessage error",N),N}},onClose(){u("Declined: Externally Halted")},onCustomRpc(v){s==null||s.receive(v)}});i&&(i.aborted&&(y(),u("Declined: Aborted")),i.addEventListener("abort",()=>{y(),u("Declined: Aborted")}))})}const xo=()=>{};function Xj(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null)return{send:xo,close:xo};const r=t.onClose||xo,n=t.onMessage||xo,i=t.onReady||xo,s=t.onResponse||xo,o=t.onCustomRpc||xo,a=uh({close:u,send:c,onReady:i,onResponse:s,onMessage:n,onCustomRpc:o});return window.addEventListener("message",a),c({service:e}),{send:c,close:u};function u(){try{window.removeEventListener("message",a),r()}catch(f){console.error("Ext Close Error",f)}}function c(f){try{window&&window.postMessage(JSON.parse(JSON.stringify(f||{})),"*")}catch(h){console.error("Ext Send Error",f,h)}}}function Zj(e){let{service:t,body:r,config:n,abortSignal:i,customRpc:s,opts:o}=e;return new Promise((a,u)=>{const{close:c}=Xj(t,{async onReady(f,h){let{send:y}=h;try{y({fclVersion:ta,type:"FCL:VIEW:READY:RESPONSE",body:r,service:{params:t.params,data:t.data,type:t.type},config:n}),s==null||s.connect({send:v=>{y({type:"FCL:VIEW:CUSTOM_RPC",body:v})}})}catch(v){throw v}},onResponse(f,h){let{close:y}=h;try{if(typeof f.data!="object")return;const v=zi(f.data);switch(v.status){case"APPROVED":a(v.data),y();break;case"DECLINED":u(`Declined: ${v.reason||"No reason supplied"}`),y();break;case"REDIRECT":a(v),y();break;default:u("Declined: No reason supplied"),y();break}}catch(v){throw console.error("execExtRPC onResponse error",v),v}},onClose(){u("Declined: Externally Halted")},onCustomRpc(f){s==null||s.receive(f)}});i&&(i.aborted&&(c(),u("Declined: Aborted")),i.addEventListener("abort",()=>{c(),u("Declined: Aborted")}))})}const n3=()=>{throw new Error("Strategy util has not been implemented on this platform")},eH={"VIEW/IFRAME":qE,"VIEW/POP":jE,"VIEW/TAB":HE,"VIEW/MOBILE_BROWSER":n3,"VIEW/DEEPLINK":n3};async function i3(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{serviceEndpoint:()=>{}};const{serviceEndpoint:r}=t;try{return eH[e.method](r(e),t)}catch(n){throw console.error("execLocal({service, opts = {}})",n,{service:e,opts:t}),n}}const tH={[yn["HTTP/RPC"]]:Lv(i3),[yn["HTTP/POST"]]:Lv(i3),[yn["IFRAME/RPC"]]:Vj,[yn["POP/RPC"]]:Yj,[yn["TAB/RPC"]]:Jj,[yn["EXT/RPC"]]:Zj},rH=typeof window>"u",nH=e=>{const t=e["app.detail.title"],r=e["app.detail.icon"],n=e["app.detail.description"],i=e["app.detail.url"];return{name:t??document.title,description:n??"",url:i??window.location.origin,icons:r?[r]:[]}};function iH(){if(rH)return;let e=null,t=!1;Be.subscribe(async r=>{const n={"walletconnect.projectId":r["walletconnect.projectId"],"app.detail.title":r["app.detail.title"],"app.detail.icon":r["app.detail.icon"],"app.detail.description":r["app.detail.description"],"app.detail.url":r["app.detail.url"]},i=n["walletconnect.projectId"],s=e;if(e=JSON.stringify(n,null,2),t){s!==e&&console.warn(`FCL WalletConnect Plugin has been already loaded with different configuration. It is not possible to change the configuration after the plugin has been loaded.

Previous configuration:
${s}

Current configuration:
${e}`);return}if(!!!i)return;if(se(!!i,"FCL Configuration value for 'walletconnect.projectId' is required"),Cv.getPlugins().has(UE)){t||console.warn("It seems like the FCL WalletConnect plugins has been already loaded manually. This is no longer necessary, please see the documentation for more information."),t=!0;return}t=!0;const{clientPromise:a,FclWcServicePlugin:u}=Cj({projectId:i,metadata:nH(n)});Cv.add([u])})}const KE={execStrategy:Uj},sH=dR({platform:"web",discovery:KE}),zf=i4({platform:"web",discovery:KE});zf().authorization;Be(Kj());J8({coreStrategies:tH});iH();Be().put("accessNode.api","https://rest-testnet.onflow.org").put("discovery.wallet","https://fcl-discovery.onflow.org/testnet/authn").put("0xHelloWorld","0x3ee81941ffd1eee8");function oH(){const e=async()=>{try{const t=await sH({cadence:`
                    import HelloWorld from 0x3ee81941ffd1eee8
    
                    transaction {
                      prepare(acct: &Account) {}
                    
                      execute {
                        log(HelloWorld.hello())
                      }
                    }
              `,args:()=>[],proposer:zf,payer:zf,authorizations:[zf]}),r=await sa(t).onceSealed();console.log("Success!"),console.log(r)}catch(t){console.error("Error while executing transaction: ",t)}};return yc.jsx("div",{className:"App",children:yc.jsx("header",{className:"App-header",children:yc.jsx("button",{onClick:e,children:"Send Transaction!"})})})}v6(document.getElementById("root")).render(yc.jsx(q1.StrictMode,{children:yc.jsx(oH,{})}));export{ER as _};
