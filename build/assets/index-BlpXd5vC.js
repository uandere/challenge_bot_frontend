(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var yn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function a3(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var u3={exports:{}},Bd={},c3={exports:{}},rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dl=Symbol.for("react.element"),g_=Symbol.for("react.portal"),m_=Symbol.for("react.fragment"),y_=Symbol.for("react.strict_mode"),v_=Symbol.for("react.profiler"),b_=Symbol.for("react.provider"),w_=Symbol.for("react.context"),E_=Symbol.for("react.forward_ref"),__=Symbol.for("react.suspense"),S_=Symbol.for("react.memo"),A_=Symbol.for("react.lazy"),Wm=Symbol.iterator;function I_(e){return e===null||typeof e!="object"?null:(e=Wm&&e[Wm]||e["@@iterator"],typeof e=="function"?e:null)}var l3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f3=Object.assign,d3={};function bu(e,t,r){this.props=e,this.context=t,this.refs=d3,this.updater=r||l3}bu.prototype.isReactComponent={};bu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};bu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function h3(){}h3.prototype=bu.prototype;function $1(e,t,r){this.props=e,this.context=t,this.refs=d3,this.updater=r||l3}var z1=$1.prototype=new h3;z1.constructor=$1;f3(z1,bu.prototype);z1.isPureReactComponent=!0;var Ym=Array.isArray,p3=Object.prototype.hasOwnProperty,q1={current:null},g3={key:!0,ref:!0,__self:!0,__source:!0};function m3(e,t,r){var n,i={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)p3.call(t,n)&&!g3.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:dl,type:e,key:s,ref:o,props:i,_owner:q1.current}}function x_(e,t){return{$$typeof:dl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function j1(e){return typeof e=="object"&&e!==null&&e.$$typeof===dl}function M_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Qm=/\/+/g;function Fh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?M_(""+e.key):t.toString(36)}function bf(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case dl:case g_:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+Fh(o,0):n,Ym(i)?(r="",e!=null&&(r=e.replace(Qm,"$&/")+"/"),bf(i,t,r,"",function(c){return c})):i!=null&&(j1(i)&&(i=x_(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Qm,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",Ym(e))for(var a=0;a<e.length;a++){s=e[a];var u=n+Fh(s,a);o+=bf(s,t,r,u,i)}else if(u=I_(e),typeof u=="function")for(e=u.call(e),a=0;!(s=e.next()).done;)s=s.value,u=n+Fh(s,a++),o+=bf(s,t,r,u,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function $l(e,t,r){if(e==null)return e;var n=[],i=0;return bf(e,n,"","",function(s){return t.call(r,s,i++)}),n}function R_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var zr={current:null},wf={transition:null},C_={ReactCurrentDispatcher:zr,ReactCurrentBatchConfig:wf,ReactCurrentOwner:q1};function y3(){throw Error("act(...) is not supported in production builds of React.")}rt.Children={map:$l,forEach:function(e,t,r){$l(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return $l(e,function(){t++}),t},toArray:function(e){return $l(e,function(t){return t})||[]},only:function(e){if(!j1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};rt.Component=bu;rt.Fragment=m_;rt.Profiler=v_;rt.PureComponent=$1;rt.StrictMode=y_;rt.Suspense=__;rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C_;rt.act=y3;rt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=f3({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=q1.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)p3.call(t,u)&&!g3.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:dl,type:e.type,key:i,ref:s,props:n,_owner:o}};rt.createContext=function(e){return e={$$typeof:w_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:b_,_context:e},e.Consumer=e};rt.createElement=m3;rt.createFactory=function(e){var t=m3.bind(null,e);return t.type=e,t};rt.createRef=function(){return{current:null}};rt.forwardRef=function(e){return{$$typeof:E_,render:e}};rt.isValidElement=j1;rt.lazy=function(e){return{$$typeof:A_,_payload:{_status:-1,_result:e},_init:R_}};rt.memo=function(e,t){return{$$typeof:S_,type:e,compare:t===void 0?null:t}};rt.startTransition=function(e){var t=wf.transition;wf.transition={};try{e()}finally{wf.transition=t}};rt.unstable_act=y3;rt.useCallback=function(e,t){return zr.current.useCallback(e,t)};rt.useContext=function(e){return zr.current.useContext(e)};rt.useDebugValue=function(){};rt.useDeferredValue=function(e){return zr.current.useDeferredValue(e)};rt.useEffect=function(e,t){return zr.current.useEffect(e,t)};rt.useId=function(){return zr.current.useId()};rt.useImperativeHandle=function(e,t,r){return zr.current.useImperativeHandle(e,t,r)};rt.useInsertionEffect=function(e,t){return zr.current.useInsertionEffect(e,t)};rt.useLayoutEffect=function(e,t){return zr.current.useLayoutEffect(e,t)};rt.useMemo=function(e,t){return zr.current.useMemo(e,t)};rt.useReducer=function(e,t,r){return zr.current.useReducer(e,t,r)};rt.useRef=function(e){return zr.current.useRef(e)};rt.useState=function(e){return zr.current.useState(e)};rt.useSyncExternalStore=function(e,t,r){return zr.current.useSyncExternalStore(e,t,r)};rt.useTransition=function(){return zr.current.useTransition()};rt.version="18.3.1";c3.exports=rt;var oo=c3.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_=oo,T_=Symbol.for("react.element"),N_=Symbol.for("react.fragment"),P_=Object.prototype.hasOwnProperty,O_=D_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,k_={key:!0,ref:!0,__self:!0,__source:!0};function v3(e,t,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)P_.call(t,n)&&!k_.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:T_,type:e,key:s,ref:o,props:i,_owner:O_.current}}Bd.Fragment=N_;Bd.jsx=v3;Bd.jsxs=v3;u3.exports=Bd;var kr=u3.exports,b3={exports:{}},xn={},w3={exports:{}},E3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,I){var p=R.length;R.push(I);e:for(;0<p;){var g=p-1>>>1,B=R[g];if(0<i(B,I))R[g]=I,R[p]=B,p=g;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var I=R[0],p=R.pop();if(p!==I){R[0]=p;e:for(var g=0,B=R.length,Y=B>>>1;g<Y;){var te=2*(g+1)-1,P=R[te],J=te+1,j=R[J];if(0>i(P,p))J<B&&0>i(j,P)?(R[g]=j,R[J]=p,g=J):(R[g]=P,R[te]=p,g=te);else if(J<B&&0>i(j,p))R[g]=j,R[J]=p,g=J;else break e}}return I}function i(R,I){var p=R.sortIndex-I.sortIndex;return p!==0?p:R.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],c=[],f=1,h=null,y=3,v=!1,w=!1,C=!1,N=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(R){for(var I=r(c);I!==null;){if(I.callback===null)n(c);else if(I.startTime<=R)n(c),I.sortIndex=I.expirationTime,t(u,I);else break;I=r(c)}}function k(R){if(C=!1,O(R),!w)if(r(u)!==null)w=!0,A(L);else{var I=r(c);I!==null&&D(k,I.startTime-R)}}function L(R,I){w=!1,C&&(C=!1,T(U),U=-1),v=!0;var p=y;try{for(O(I),h=r(u);h!==null&&(!(h.expirationTime>I)||R&&!q());){var g=h.callback;if(typeof g=="function"){h.callback=null,y=h.priorityLevel;var B=g(h.expirationTime<=I);I=e.unstable_now(),typeof B=="function"?h.callback=B:h===r(u)&&n(u),O(I)}else n(u);h=r(u)}if(h!==null)var Y=!0;else{var te=r(c);te!==null&&D(k,te.startTime-I),Y=!1}return Y}finally{h=null,y=p,v=!1}}var $=!1,E=null,U=-1,Z=5,ne=-1;function q(){return!(e.unstable_now()-ne<Z)}function b(){if(E!==null){var R=e.unstable_now();ne=R;var I=!0;try{I=E(!0,R)}finally{I?l():($=!1,E=null)}}else $=!1}var l;if(typeof x=="function")l=function(){x(b)};else if(typeof MessageChannel<"u"){var d=new MessageChannel,m=d.port2;d.port1.onmessage=b,l=function(){m.postMessage(null)}}else l=function(){N(b,0)};function A(R){E=R,$||($=!0,l())}function D(R,I){U=N(function(){R(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){w||v||(w=!0,A(L))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(R){switch(y){case 1:case 2:case 3:var I=3;break;default:I=y}var p=y;y=I;try{return R()}finally{y=p}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,I){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var p=y;y=R;try{return I()}finally{y=p}},e.unstable_scheduleCallback=function(R,I,p){var g=e.unstable_now();switch(typeof p=="object"&&p!==null?(p=p.delay,p=typeof p=="number"&&0<p?g+p:g):p=g,R){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=p+B,R={id:f++,callback:I,priorityLevel:R,startTime:p,expirationTime:B,sortIndex:-1},p>g?(R.sortIndex=p,t(c,R),r(u)===null&&R===r(c)&&(C?(T(U),U=-1):C=!0,D(k,p-g))):(R.sortIndex=B,t(u,R),w||v||(w=!0,A(L))),R},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(R){var I=y;return function(){var p=y;y=I;try{return R.apply(this,arguments)}finally{y=p}}}})(E3);w3.exports=E3;var F_=w3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_=oo,An=F_;function fe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _3=new Set,kc={};function oa(e,t){iu(e,t),iu(e+"Capture",t)}function iu(e,t){for(kc[e]=t,e=0;e<t.length;e++)_3.add(t[e])}var As=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ip=Object.prototype.hasOwnProperty,L_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jm={},Xm={};function U_(e){return ip.call(Xm,e)?!0:ip.call(Jm,e)?!1:L_.test(e)?Xm[e]=!0:(Jm[e]=!0,!1)}function $_(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function z_(e,t,r,n){if(t===null||typeof t>"u"||$_(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qr(e,t,r,n,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var wr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){wr[e]=new qr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];wr[t]=new qr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){wr[e]=new qr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){wr[e]=new qr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){wr[e]=new qr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){wr[e]=new qr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){wr[e]=new qr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){wr[e]=new qr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){wr[e]=new qr(e,5,!1,e.toLowerCase(),null,!1,!1)});var H1=/[\-:]([a-z])/g;function K1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(H1,K1);wr[t]=new qr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(H1,K1);wr[t]=new qr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(H1,K1);wr[t]=new qr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){wr[e]=new qr(e,1,!1,e.toLowerCase(),null,!1,!1)});wr.xlinkHref=new qr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){wr[e]=new qr(e,1,!1,e.toLowerCase(),null,!0,!0)});function G1(e,t,r,n){var i=wr.hasOwnProperty(t)?wr[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(z_(t,r,i,n)&&(r=null),n||i===null?U_(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ts=B_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zl=Symbol.for("react.element"),Da=Symbol.for("react.portal"),Ta=Symbol.for("react.fragment"),V1=Symbol.for("react.strict_mode"),sp=Symbol.for("react.profiler"),S3=Symbol.for("react.provider"),A3=Symbol.for("react.context"),W1=Symbol.for("react.forward_ref"),op=Symbol.for("react.suspense"),ap=Symbol.for("react.suspense_list"),Y1=Symbol.for("react.memo"),Us=Symbol.for("react.lazy"),I3=Symbol.for("react.offscreen"),Zm=Symbol.iterator;function Hu(e){return e===null||typeof e!="object"?null:(e=Zm&&e[Zm]||e["@@iterator"],typeof e=="function"?e:null)}var kt=Object.assign,Bh;function dc(e){if(Bh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Bh=t&&t[1]||""}return`
`+Bh+e}var Lh=!1;function Uh(e,t){if(!e||Lh)return"";Lh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{Lh=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?dc(e):""}function q_(e){switch(e.tag){case 5:return dc(e.type);case 16:return dc("Lazy");case 13:return dc("Suspense");case 19:return dc("SuspenseList");case 0:case 2:case 15:return e=Uh(e.type,!1),e;case 11:return e=Uh(e.type.render,!1),e;case 1:return e=Uh(e.type,!0),e;default:return""}}function up(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ta:return"Fragment";case Da:return"Portal";case sp:return"Profiler";case V1:return"StrictMode";case op:return"Suspense";case ap:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case A3:return(e.displayName||"Context")+".Consumer";case S3:return(e._context.displayName||"Context")+".Provider";case W1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y1:return t=e.displayName||null,t!==null?t:up(e.type)||"Memo";case Us:t=e._payload,e=e._init;try{return up(e(t))}catch{}}return null}function j_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return up(t);case 8:return t===V1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ao(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function x3(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function H_(e){var t=x3(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ql(e){e._valueTracker||(e._valueTracker=H_(e))}function M3(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=x3(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Kf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function cp(e,t){var r=t.checked;return kt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ey(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ao(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function R3(e,t){t=t.checked,t!=null&&G1(e,"checked",t,!1)}function lp(e,t){R3(e,t);var r=ao(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fp(e,t.type,r):t.hasOwnProperty("defaultValue")&&fp(e,t.type,ao(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ty(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function fp(e,t,r){(t!=="number"||Kf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var hc=Array.isArray;function Ha(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ao(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function dp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(fe(91));return kt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ry(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(fe(92));if(hc(r)){if(1<r.length)throw Error(fe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ao(r)}}function C3(e,t){var r=ao(t.value),n=ao(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ny(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function D3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?D3(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var jl,T3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(jl=jl||document.createElement("div"),jl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=jl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Fc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var wc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},K_=["Webkit","ms","Moz","O"];Object.keys(wc).forEach(function(e){K_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wc[t]=wc[e]})});function N3(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||wc.hasOwnProperty(e)&&wc[e]?(""+t).trim():t+"px"}function P3(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=N3(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var G_=kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pp(e,t){if(t){if(G_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(fe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(fe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(fe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(fe(62))}}function gp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mp=null;function Q1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yp=null,Ka=null,Ga=null;function iy(e){if(e=gl(e)){if(typeof yp!="function")throw Error(fe(280));var t=e.stateNode;t&&(t=qd(t),yp(e.stateNode,e.type,t))}}function O3(e){Ka?Ga?Ga.push(e):Ga=[e]:Ka=e}function k3(){if(Ka){var e=Ka,t=Ga;if(Ga=Ka=null,iy(e),t)for(e=0;e<t.length;e++)iy(t[e])}}function F3(e,t){return e(t)}function B3(){}var $h=!1;function L3(e,t,r){if($h)return e(t,r);$h=!0;try{return F3(e,t,r)}finally{$h=!1,(Ka!==null||Ga!==null)&&(B3(),k3())}}function Bc(e,t){var r=e.stateNode;if(r===null)return null;var n=qd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(fe(231,t,typeof r));return r}var vp=!1;if(As)try{var Ku={};Object.defineProperty(Ku,"passive",{get:function(){vp=!0}}),window.addEventListener("test",Ku,Ku),window.removeEventListener("test",Ku,Ku)}catch{vp=!1}function V_(e,t,r,n,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(f){this.onError(f)}}var Ec=!1,Gf=null,Vf=!1,bp=null,W_={onError:function(e){Ec=!0,Gf=e}};function Y_(e,t,r,n,i,s,o,a,u){Ec=!1,Gf=null,V_.apply(W_,arguments)}function Q_(e,t,r,n,i,s,o,a,u){if(Y_.apply(this,arguments),Ec){if(Ec){var c=Gf;Ec=!1,Gf=null}else throw Error(fe(198));Vf||(Vf=!0,bp=c)}}function aa(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function U3(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sy(e){if(aa(e)!==e)throw Error(fe(188))}function J_(e){var t=e.alternate;if(!t){if(t=aa(e),t===null)throw Error(fe(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return sy(i),e;if(s===n)return sy(i),t;s=s.sibling}throw Error(fe(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(fe(189))}}if(r.alternate!==n)throw Error(fe(190))}if(r.tag!==3)throw Error(fe(188));return r.stateNode.current===r?e:t}function $3(e){return e=J_(e),e!==null?z3(e):null}function z3(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=z3(e);if(t!==null)return t;e=e.sibling}return null}var q3=An.unstable_scheduleCallback,oy=An.unstable_cancelCallback,X_=An.unstable_shouldYield,Z_=An.unstable_requestPaint,Kt=An.unstable_now,e7=An.unstable_getCurrentPriorityLevel,J1=An.unstable_ImmediatePriority,j3=An.unstable_UserBlockingPriority,Wf=An.unstable_NormalPriority,t7=An.unstable_LowPriority,H3=An.unstable_IdlePriority,Ld=null,Ti=null;function r7(e){if(Ti&&typeof Ti.onCommitFiberRoot=="function")try{Ti.onCommitFiberRoot(Ld,e,void 0,(e.current.flags&128)===128)}catch{}}var fi=Math.clz32?Math.clz32:s7,n7=Math.log,i7=Math.LN2;function s7(e){return e>>>=0,e===0?32:31-(n7(e)/i7|0)|0}var Hl=64,Kl=4194304;function pc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Yf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=pc(a):(s&=o,s!==0&&(n=pc(s)))}else o=r&~i,o!==0?n=pc(o):s!==0&&(n=pc(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-fi(t),i=1<<r,n|=e[r],t&=~i;return n}function o7(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function a7(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-fi(s),a=1<<o,u=i[o];u===-1?(!(a&r)||a&n)&&(i[o]=o7(a,t)):u<=t&&(e.expiredLanes|=a),s&=~a}}function wp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function K3(){var e=Hl;return Hl<<=1,!(Hl&4194240)&&(Hl=64),e}function zh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function hl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-fi(t),e[t]=r}function u7(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-fi(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function X1(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-fi(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var gt=0;function G3(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var V3,Z1,W3,Y3,Q3,Ep=!1,Gl=[],Xs=null,Zs=null,eo=null,Lc=new Map,Uc=new Map,Hs=[],c7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ay(e,t){switch(e){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":eo=null;break;case"pointerover":case"pointerout":Lc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uc.delete(t.pointerId)}}function Gu(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=gl(t),t!==null&&Z1(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function l7(e,t,r,n,i){switch(t){case"focusin":return Xs=Gu(Xs,e,t,r,n,i),!0;case"dragenter":return Zs=Gu(Zs,e,t,r,n,i),!0;case"mouseover":return eo=Gu(eo,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return Lc.set(s,Gu(Lc.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Uc.set(s,Gu(Uc.get(s)||null,e,t,r,n,i)),!0}return!1}function J3(e){var t=ko(e.target);if(t!==null){var r=aa(t);if(r!==null){if(t=r.tag,t===13){if(t=U3(r),t!==null){e.blockedOn=t,Q3(e.priority,function(){W3(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ef(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=_p(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);mp=n,r.target.dispatchEvent(n),mp=null}else return t=gl(r),t!==null&&Z1(t),e.blockedOn=r,!1;t.shift()}return!0}function uy(e,t,r){Ef(e)&&r.delete(t)}function f7(){Ep=!1,Xs!==null&&Ef(Xs)&&(Xs=null),Zs!==null&&Ef(Zs)&&(Zs=null),eo!==null&&Ef(eo)&&(eo=null),Lc.forEach(uy),Uc.forEach(uy)}function Vu(e,t){e.blockedOn===t&&(e.blockedOn=null,Ep||(Ep=!0,An.unstable_scheduleCallback(An.unstable_NormalPriority,f7)))}function $c(e){function t(i){return Vu(i,e)}if(0<Gl.length){Vu(Gl[0],e);for(var r=1;r<Gl.length;r++){var n=Gl[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Xs!==null&&Vu(Xs,e),Zs!==null&&Vu(Zs,e),eo!==null&&Vu(eo,e),Lc.forEach(t),Uc.forEach(t),r=0;r<Hs.length;r++)n=Hs[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Hs.length&&(r=Hs[0],r.blockedOn===null);)J3(r),r.blockedOn===null&&Hs.shift()}var Va=Ts.ReactCurrentBatchConfig,Qf=!0;function d7(e,t,r,n){var i=gt,s=Va.transition;Va.transition=null;try{gt=1,eg(e,t,r,n)}finally{gt=i,Va.transition=s}}function h7(e,t,r,n){var i=gt,s=Va.transition;Va.transition=null;try{gt=4,eg(e,t,r,n)}finally{gt=i,Va.transition=s}}function eg(e,t,r,n){if(Qf){var i=_p(e,t,r,n);if(i===null)Jh(e,t,n,Jf,r),ay(e,n);else if(l7(i,e,t,r,n))n.stopPropagation();else if(ay(e,n),t&4&&-1<c7.indexOf(e)){for(;i!==null;){var s=gl(i);if(s!==null&&V3(s),s=_p(e,t,r,n),s===null&&Jh(e,t,n,Jf,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Jh(e,t,n,null,r)}}var Jf=null;function _p(e,t,r,n){if(Jf=null,e=Q1(n),e=ko(e),e!==null)if(t=aa(e),t===null)e=null;else if(r=t.tag,r===13){if(e=U3(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jf=e,null}function X3(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(e7()){case J1:return 1;case j3:return 4;case Wf:case t7:return 16;case H3:return 536870912;default:return 16}default:return 16}}var Ws=null,tg=null,_f=null;function Z3(){if(_f)return _f;var e,t=tg,r=t.length,n,i="value"in Ws?Ws.value:Ws.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[s-n];n++);return _f=i.slice(e,1<n?1-n:void 0)}function Sf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vl(){return!0}function cy(){return!1}function Mn(e){function t(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Vl:cy,this.isPropagationStopped=cy,this}return kt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vl)},persist:function(){},isPersistent:Vl}),t}var wu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rg=Mn(wu),pl=kt({},wu,{view:0,detail:0}),p7=Mn(pl),qh,jh,Wu,Ud=kt({},pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ng,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wu&&(Wu&&e.type==="mousemove"?(qh=e.screenX-Wu.screenX,jh=e.screenY-Wu.screenY):jh=qh=0,Wu=e),qh)},movementY:function(e){return"movementY"in e?e.movementY:jh}}),ly=Mn(Ud),g7=kt({},Ud,{dataTransfer:0}),m7=Mn(g7),y7=kt({},pl,{relatedTarget:0}),Hh=Mn(y7),v7=kt({},wu,{animationName:0,elapsedTime:0,pseudoElement:0}),b7=Mn(v7),w7=kt({},wu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),E7=Mn(w7),_7=kt({},wu,{data:0}),fy=Mn(_7),S7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},A7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function x7(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=I7[e])?!!t[e]:!1}function ng(){return x7}var M7=kt({},pl,{key:function(e){if(e.key){var t=S7[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Sf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?A7[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ng,charCode:function(e){return e.type==="keypress"?Sf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Sf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),R7=Mn(M7),C7=kt({},Ud,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dy=Mn(C7),D7=kt({},pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ng}),T7=Mn(D7),N7=kt({},wu,{propertyName:0,elapsedTime:0,pseudoElement:0}),P7=Mn(N7),O7=kt({},Ud,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),k7=Mn(O7),F7=[9,13,27,32],ig=As&&"CompositionEvent"in window,_c=null;As&&"documentMode"in document&&(_c=document.documentMode);var B7=As&&"TextEvent"in window&&!_c,ew=As&&(!ig||_c&&8<_c&&11>=_c),hy=" ",py=!1;function tw(e,t){switch(e){case"keyup":return F7.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Na=!1;function L7(e,t){switch(e){case"compositionend":return rw(t);case"keypress":return t.which!==32?null:(py=!0,hy);case"textInput":return e=t.data,e===hy&&py?null:e;default:return null}}function U7(e,t){if(Na)return e==="compositionend"||!ig&&tw(e,t)?(e=Z3(),_f=tg=Ws=null,Na=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ew&&t.locale!=="ko"?null:t.data;default:return null}}var $7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$7[e.type]:t==="textarea"}function nw(e,t,r,n){O3(n),t=Xf(t,"onChange"),0<t.length&&(r=new rg("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Sc=null,zc=null;function z7(e){pw(e,0)}function $d(e){var t=ka(e);if(M3(t))return e}function q7(e,t){if(e==="change")return t}var iw=!1;if(As){var Kh;if(As){var Gh="oninput"in document;if(!Gh){var my=document.createElement("div");my.setAttribute("oninput","return;"),Gh=typeof my.oninput=="function"}Kh=Gh}else Kh=!1;iw=Kh&&(!document.documentMode||9<document.documentMode)}function yy(){Sc&&(Sc.detachEvent("onpropertychange",sw),zc=Sc=null)}function sw(e){if(e.propertyName==="value"&&$d(zc)){var t=[];nw(t,zc,e,Q1(e)),L3(z7,t)}}function j7(e,t,r){e==="focusin"?(yy(),Sc=t,zc=r,Sc.attachEvent("onpropertychange",sw)):e==="focusout"&&yy()}function H7(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $d(zc)}function K7(e,t){if(e==="click")return $d(t)}function G7(e,t){if(e==="input"||e==="change")return $d(t)}function V7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hi=typeof Object.is=="function"?Object.is:V7;function qc(e,t){if(hi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!ip.call(t,i)||!hi(e[i],t[i]))return!1}return!0}function vy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function by(e,t){var r=vy(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vy(r)}}function ow(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ow(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function aw(){for(var e=window,t=Kf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Kf(e.document)}return t}function sg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function W7(e){var t=aw(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ow(r.ownerDocument.documentElement,r)){if(n!==null&&sg(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=by(r,s);var o=by(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Y7=As&&"documentMode"in document&&11>=document.documentMode,Pa=null,Sp=null,Ac=null,Ap=!1;function wy(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ap||Pa==null||Pa!==Kf(n)||(n=Pa,"selectionStart"in n&&sg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ac&&qc(Ac,n)||(Ac=n,n=Xf(Sp,"onSelect"),0<n.length&&(t=new rg("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Pa)))}function Wl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Oa={animationend:Wl("Animation","AnimationEnd"),animationiteration:Wl("Animation","AnimationIteration"),animationstart:Wl("Animation","AnimationStart"),transitionend:Wl("Transition","TransitionEnd")},Vh={},uw={};As&&(uw=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function zd(e){if(Vh[e])return Vh[e];if(!Oa[e])return e;var t=Oa[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in uw)return Vh[e]=t[r];return e}var cw=zd("animationend"),lw=zd("animationiteration"),fw=zd("animationstart"),dw=zd("transitionend"),hw=new Map,Ey="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lo(e,t){hw.set(e,t),oa(t,[e])}for(var Wh=0;Wh<Ey.length;Wh++){var Yh=Ey[Wh],Q7=Yh.toLowerCase(),J7=Yh[0].toUpperCase()+Yh.slice(1);lo(Q7,"on"+J7)}lo(cw,"onAnimationEnd");lo(lw,"onAnimationIteration");lo(fw,"onAnimationStart");lo("dblclick","onDoubleClick");lo("focusin","onFocus");lo("focusout","onBlur");lo(dw,"onTransitionEnd");iu("onMouseEnter",["mouseout","mouseover"]);iu("onMouseLeave",["mouseout","mouseover"]);iu("onPointerEnter",["pointerout","pointerover"]);iu("onPointerLeave",["pointerout","pointerover"]);oa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oa("onBeforeInput",["compositionend","keypress","textInput","paste"]);oa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X7=new Set("cancel close invalid load scroll toggle".split(" ").concat(gc));function _y(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Q_(n,t,void 0,e),e.currentTarget=null}function pw(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;_y(i,a,c),s=u}else for(o=0;o<n.length;o++){if(a=n[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;_y(i,a,c),s=u}}}if(Vf)throw e=bp,Vf=!1,bp=null,e}function Rt(e,t){var r=t[Cp];r===void 0&&(r=t[Cp]=new Set);var n=e+"__bubble";r.has(n)||(gw(t,e,2,!1),r.add(n))}function Qh(e,t,r){var n=0;t&&(n|=4),gw(r,e,n,t)}var Yl="_reactListening"+Math.random().toString(36).slice(2);function jc(e){if(!e[Yl]){e[Yl]=!0,_3.forEach(function(r){r!=="selectionchange"&&(X7.has(r)||Qh(r,!1,e),Qh(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yl]||(t[Yl]=!0,Qh("selectionchange",!1,t))}}function gw(e,t,r,n){switch(X3(t)){case 1:var i=d7;break;case 4:i=h7;break;default:i=eg}r=i.bind(null,t,r,e),i=void 0,!vp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Jh(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ko(a),o===null)return;if(u=o.tag,u===5||u===6){n=s=o;continue e}a=a.parentNode}}n=n.return}L3(function(){var c=s,f=Q1(r),h=[];e:{var y=hw.get(e);if(y!==void 0){var v=rg,w=e;switch(e){case"keypress":if(Sf(r)===0)break e;case"keydown":case"keyup":v=R7;break;case"focusin":w="focus",v=Hh;break;case"focusout":w="blur",v=Hh;break;case"beforeblur":case"afterblur":v=Hh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=ly;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=m7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=T7;break;case cw:case lw:case fw:v=b7;break;case dw:v=P7;break;case"scroll":v=p7;break;case"wheel":v=k7;break;case"copy":case"cut":case"paste":v=E7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=dy}var C=(t&4)!==0,N=!C&&e==="scroll",T=C?y!==null?y+"Capture":null:y;C=[];for(var x=c,O;x!==null;){O=x;var k=O.stateNode;if(O.tag===5&&k!==null&&(O=k,T!==null&&(k=Bc(x,T),k!=null&&C.push(Hc(x,k,O)))),N)break;x=x.return}0<C.length&&(y=new v(y,w,null,r,f),h.push({event:y,listeners:C}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",y&&r!==mp&&(w=r.relatedTarget||r.fromElement)&&(ko(w)||w[Is]))break e;if((v||y)&&(y=f.window===f?f:(y=f.ownerDocument)?y.defaultView||y.parentWindow:window,v?(w=r.relatedTarget||r.toElement,v=c,w=w?ko(w):null,w!==null&&(N=aa(w),w!==N||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=c),v!==w)){if(C=ly,k="onMouseLeave",T="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(C=dy,k="onPointerLeave",T="onPointerEnter",x="pointer"),N=v==null?y:ka(v),O=w==null?y:ka(w),y=new C(k,x+"leave",v,r,f),y.target=N,y.relatedTarget=O,k=null,ko(f)===c&&(C=new C(T,x+"enter",w,r,f),C.target=O,C.relatedTarget=N,k=C),N=k,v&&w)t:{for(C=v,T=w,x=0,O=C;O;O=va(O))x++;for(O=0,k=T;k;k=va(k))O++;for(;0<x-O;)C=va(C),x--;for(;0<O-x;)T=va(T),O--;for(;x--;){if(C===T||T!==null&&C===T.alternate)break t;C=va(C),T=va(T)}C=null}else C=null;v!==null&&Sy(h,y,v,C,!1),w!==null&&N!==null&&Sy(h,N,w,C,!0)}}e:{if(y=c?ka(c):window,v=y.nodeName&&y.nodeName.toLowerCase(),v==="select"||v==="input"&&y.type==="file")var L=q7;else if(gy(y))if(iw)L=G7;else{L=H7;var $=j7}else(v=y.nodeName)&&v.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(L=K7);if(L&&(L=L(e,c))){nw(h,L,r,f);break e}$&&$(e,y,c),e==="focusout"&&($=y._wrapperState)&&$.controlled&&y.type==="number"&&fp(y,"number",y.value)}switch($=c?ka(c):window,e){case"focusin":(gy($)||$.contentEditable==="true")&&(Pa=$,Sp=c,Ac=null);break;case"focusout":Ac=Sp=Pa=null;break;case"mousedown":Ap=!0;break;case"contextmenu":case"mouseup":case"dragend":Ap=!1,wy(h,r,f);break;case"selectionchange":if(Y7)break;case"keydown":case"keyup":wy(h,r,f)}var E;if(ig)e:{switch(e){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else Na?tw(e,r)&&(U="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(U="onCompositionStart");U&&(ew&&r.locale!=="ko"&&(Na||U!=="onCompositionStart"?U==="onCompositionEnd"&&Na&&(E=Z3()):(Ws=f,tg="value"in Ws?Ws.value:Ws.textContent,Na=!0)),$=Xf(c,U),0<$.length&&(U=new fy(U,e,null,r,f),h.push({event:U,listeners:$}),E?U.data=E:(E=rw(r),E!==null&&(U.data=E)))),(E=B7?L7(e,r):U7(e,r))&&(c=Xf(c,"onBeforeInput"),0<c.length&&(f=new fy("onBeforeInput","beforeinput",null,r,f),h.push({event:f,listeners:c}),f.data=E))}pw(h,t)})}function Hc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Xf(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Bc(e,r),s!=null&&n.unshift(Hc(e,s,i)),s=Bc(e,t),s!=null&&n.push(Hc(e,s,i))),e=e.return}return n}function va(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Sy(e,t,r,n,i){for(var s=t._reactName,o=[];r!==null&&r!==n;){var a=r,u=a.alternate,c=a.stateNode;if(u!==null&&u===n)break;a.tag===5&&c!==null&&(a=c,i?(u=Bc(r,s),u!=null&&o.unshift(Hc(r,u,a))):i||(u=Bc(r,s),u!=null&&o.push(Hc(r,u,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Z7=/\r\n?/g,eS=/\u0000|\uFFFD/g;function Ay(e){return(typeof e=="string"?e:""+e).replace(Z7,`
`).replace(eS,"")}function Ql(e,t,r){if(t=Ay(t),Ay(e)!==t&&r)throw Error(fe(425))}function Zf(){}var Ip=null,xp=null;function Mp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Rp=typeof setTimeout=="function"?setTimeout:void 0,tS=typeof clearTimeout=="function"?clearTimeout:void 0,Iy=typeof Promise=="function"?Promise:void 0,rS=typeof queueMicrotask=="function"?queueMicrotask:typeof Iy<"u"?function(e){return Iy.resolve(null).then(e).catch(nS)}:Rp;function nS(e){setTimeout(function(){throw e})}function Xh(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),$c(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);$c(t)}function to(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Eu=Math.random().toString(36).slice(2),Ri="__reactFiber$"+Eu,Kc="__reactProps$"+Eu,Is="__reactContainer$"+Eu,Cp="__reactEvents$"+Eu,iS="__reactListeners$"+Eu,sS="__reactHandles$"+Eu;function ko(e){var t=e[Ri];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Is]||r[Ri]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=xy(e);e!==null;){if(r=e[Ri])return r;e=xy(e)}return t}e=r,r=e.parentNode}return null}function gl(e){return e=e[Ri]||e[Is],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ka(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(fe(33))}function qd(e){return e[Kc]||null}var Dp=[],Fa=-1;function fo(e){return{current:e}}function Dt(e){0>Fa||(e.current=Dp[Fa],Dp[Fa]=null,Fa--)}function At(e,t){Fa++,Dp[Fa]=e.current,e.current=t}var uo={},Nr=fo(uo),sn=fo(!1),Go=uo;function su(e,t){var r=e.type.contextTypes;if(!r)return uo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function on(e){return e=e.childContextTypes,e!=null}function ed(){Dt(sn),Dt(Nr)}function My(e,t,r){if(Nr.current!==uo)throw Error(fe(168));At(Nr,t),At(sn,r)}function mw(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(fe(108,j_(e)||"Unknown",i));return kt({},r,n)}function td(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||uo,Go=Nr.current,At(Nr,e),At(sn,sn.current),!0}function Ry(e,t,r){var n=e.stateNode;if(!n)throw Error(fe(169));r?(e=mw(e,t,Go),n.__reactInternalMemoizedMergedChildContext=e,Dt(sn),Dt(Nr),At(Nr,e)):Dt(sn),At(sn,r)}var hs=null,jd=!1,Zh=!1;function yw(e){hs===null?hs=[e]:hs.push(e)}function oS(e){jd=!0,yw(e)}function ho(){if(!Zh&&hs!==null){Zh=!0;var e=0,t=gt;try{var r=hs;for(gt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}hs=null,jd=!1}catch(i){throw hs!==null&&(hs=hs.slice(e+1)),q3(J1,ho),i}finally{gt=t,Zh=!1}}return null}var Ba=[],La=0,rd=null,nd=0,jn=[],Hn=0,Vo=null,vs=1,bs="";function To(e,t){Ba[La++]=nd,Ba[La++]=rd,rd=e,nd=t}function vw(e,t,r){jn[Hn++]=vs,jn[Hn++]=bs,jn[Hn++]=Vo,Vo=e;var n=vs;e=bs;var i=32-fi(n)-1;n&=~(1<<i),r+=1;var s=32-fi(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,vs=1<<32-fi(t)+i|r<<i|n,bs=s+e}else vs=1<<s|r<<i|n,bs=e}function og(e){e.return!==null&&(To(e,1),vw(e,1,0))}function ag(e){for(;e===rd;)rd=Ba[--La],Ba[La]=null,nd=Ba[--La],Ba[La]=null;for(;e===Vo;)Vo=jn[--Hn],jn[Hn]=null,bs=jn[--Hn],jn[Hn]=null,vs=jn[--Hn],jn[Hn]=null}var _n=null,wn=null,Tt=!1,ci=null;function bw(e,t){var r=Kn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Cy(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,_n=e,wn=to(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,_n=e,wn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Vo!==null?{id:vs,overflow:bs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Kn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,_n=e,wn=null,!0):!1;default:return!1}}function Tp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Np(e){if(Tt){var t=wn;if(t){var r=t;if(!Cy(e,t)){if(Tp(e))throw Error(fe(418));t=to(r.nextSibling);var n=_n;t&&Cy(e,t)?bw(n,r):(e.flags=e.flags&-4097|2,Tt=!1,_n=e)}}else{if(Tp(e))throw Error(fe(418));e.flags=e.flags&-4097|2,Tt=!1,_n=e}}}function Dy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;_n=e}function Jl(e){if(e!==_n)return!1;if(!Tt)return Dy(e),Tt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Mp(e.type,e.memoizedProps)),t&&(t=wn)){if(Tp(e))throw ww(),Error(fe(418));for(;t;)bw(e,t),t=to(t.nextSibling)}if(Dy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(fe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){wn=to(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}wn=null}}else wn=_n?to(e.stateNode.nextSibling):null;return!0}function ww(){for(var e=wn;e;)e=to(e.nextSibling)}function ou(){wn=_n=null,Tt=!1}function ug(e){ci===null?ci=[e]:ci.push(e)}var aS=Ts.ReactCurrentBatchConfig;function Yu(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(fe(309));var n=r.stateNode}if(!n)throw Error(fe(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(fe(284));if(!r._owner)throw Error(fe(290,e))}return e}function Xl(e,t){throw e=Object.prototype.toString.call(t),Error(fe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ty(e){var t=e._init;return t(e._payload)}function Ew(e){function t(T,x){if(e){var O=T.deletions;O===null?(T.deletions=[x],T.flags|=16):O.push(x)}}function r(T,x){if(!e)return null;for(;x!==null;)t(T,x),x=x.sibling;return null}function n(T,x){for(T=new Map;x!==null;)x.key!==null?T.set(x.key,x):T.set(x.index,x),x=x.sibling;return T}function i(T,x){return T=so(T,x),T.index=0,T.sibling=null,T}function s(T,x,O){return T.index=O,e?(O=T.alternate,O!==null?(O=O.index,O<x?(T.flags|=2,x):O):(T.flags|=2,x)):(T.flags|=1048576,x)}function o(T){return e&&T.alternate===null&&(T.flags|=2),T}function a(T,x,O,k){return x===null||x.tag!==6?(x=o0(O,T.mode,k),x.return=T,x):(x=i(x,O),x.return=T,x)}function u(T,x,O,k){var L=O.type;return L===Ta?f(T,x,O.props.children,k,O.key):x!==null&&(x.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Us&&Ty(L)===x.type)?(k=i(x,O.props),k.ref=Yu(T,x,O),k.return=T,k):(k=Df(O.type,O.key,O.props,null,T.mode,k),k.ref=Yu(T,x,O),k.return=T,k)}function c(T,x,O,k){return x===null||x.tag!==4||x.stateNode.containerInfo!==O.containerInfo||x.stateNode.implementation!==O.implementation?(x=a0(O,T.mode,k),x.return=T,x):(x=i(x,O.children||[]),x.return=T,x)}function f(T,x,O,k,L){return x===null||x.tag!==7?(x=qo(O,T.mode,k,L),x.return=T,x):(x=i(x,O),x.return=T,x)}function h(T,x,O){if(typeof x=="string"&&x!==""||typeof x=="number")return x=o0(""+x,T.mode,O),x.return=T,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case zl:return O=Df(x.type,x.key,x.props,null,T.mode,O),O.ref=Yu(T,null,x),O.return=T,O;case Da:return x=a0(x,T.mode,O),x.return=T,x;case Us:var k=x._init;return h(T,k(x._payload),O)}if(hc(x)||Hu(x))return x=qo(x,T.mode,O,null),x.return=T,x;Xl(T,x)}return null}function y(T,x,O,k){var L=x!==null?x.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return L!==null?null:a(T,x,""+O,k);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case zl:return O.key===L?u(T,x,O,k):null;case Da:return O.key===L?c(T,x,O,k):null;case Us:return L=O._init,y(T,x,L(O._payload),k)}if(hc(O)||Hu(O))return L!==null?null:f(T,x,O,k,null);Xl(T,O)}return null}function v(T,x,O,k,L){if(typeof k=="string"&&k!==""||typeof k=="number")return T=T.get(O)||null,a(x,T,""+k,L);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case zl:return T=T.get(k.key===null?O:k.key)||null,u(x,T,k,L);case Da:return T=T.get(k.key===null?O:k.key)||null,c(x,T,k,L);case Us:var $=k._init;return v(T,x,O,$(k._payload),L)}if(hc(k)||Hu(k))return T=T.get(O)||null,f(x,T,k,L,null);Xl(x,k)}return null}function w(T,x,O,k){for(var L=null,$=null,E=x,U=x=0,Z=null;E!==null&&U<O.length;U++){E.index>U?(Z=E,E=null):Z=E.sibling;var ne=y(T,E,O[U],k);if(ne===null){E===null&&(E=Z);break}e&&E&&ne.alternate===null&&t(T,E),x=s(ne,x,U),$===null?L=ne:$.sibling=ne,$=ne,E=Z}if(U===O.length)return r(T,E),Tt&&To(T,U),L;if(E===null){for(;U<O.length;U++)E=h(T,O[U],k),E!==null&&(x=s(E,x,U),$===null?L=E:$.sibling=E,$=E);return Tt&&To(T,U),L}for(E=n(T,E);U<O.length;U++)Z=v(E,T,U,O[U],k),Z!==null&&(e&&Z.alternate!==null&&E.delete(Z.key===null?U:Z.key),x=s(Z,x,U),$===null?L=Z:$.sibling=Z,$=Z);return e&&E.forEach(function(q){return t(T,q)}),Tt&&To(T,U),L}function C(T,x,O,k){var L=Hu(O);if(typeof L!="function")throw Error(fe(150));if(O=L.call(O),O==null)throw Error(fe(151));for(var $=L=null,E=x,U=x=0,Z=null,ne=O.next();E!==null&&!ne.done;U++,ne=O.next()){E.index>U?(Z=E,E=null):Z=E.sibling;var q=y(T,E,ne.value,k);if(q===null){E===null&&(E=Z);break}e&&E&&q.alternate===null&&t(T,E),x=s(q,x,U),$===null?L=q:$.sibling=q,$=q,E=Z}if(ne.done)return r(T,E),Tt&&To(T,U),L;if(E===null){for(;!ne.done;U++,ne=O.next())ne=h(T,ne.value,k),ne!==null&&(x=s(ne,x,U),$===null?L=ne:$.sibling=ne,$=ne);return Tt&&To(T,U),L}for(E=n(T,E);!ne.done;U++,ne=O.next())ne=v(E,T,U,ne.value,k),ne!==null&&(e&&ne.alternate!==null&&E.delete(ne.key===null?U:ne.key),x=s(ne,x,U),$===null?L=ne:$.sibling=ne,$=ne);return e&&E.forEach(function(b){return t(T,b)}),Tt&&To(T,U),L}function N(T,x,O,k){if(typeof O=="object"&&O!==null&&O.type===Ta&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case zl:e:{for(var L=O.key,$=x;$!==null;){if($.key===L){if(L=O.type,L===Ta){if($.tag===7){r(T,$.sibling),x=i($,O.props.children),x.return=T,T=x;break e}}else if($.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Us&&Ty(L)===$.type){r(T,$.sibling),x=i($,O.props),x.ref=Yu(T,$,O),x.return=T,T=x;break e}r(T,$);break}else t(T,$);$=$.sibling}O.type===Ta?(x=qo(O.props.children,T.mode,k,O.key),x.return=T,T=x):(k=Df(O.type,O.key,O.props,null,T.mode,k),k.ref=Yu(T,x,O),k.return=T,T=k)}return o(T);case Da:e:{for($=O.key;x!==null;){if(x.key===$)if(x.tag===4&&x.stateNode.containerInfo===O.containerInfo&&x.stateNode.implementation===O.implementation){r(T,x.sibling),x=i(x,O.children||[]),x.return=T,T=x;break e}else{r(T,x);break}else t(T,x);x=x.sibling}x=a0(O,T.mode,k),x.return=T,T=x}return o(T);case Us:return $=O._init,N(T,x,$(O._payload),k)}if(hc(O))return w(T,x,O,k);if(Hu(O))return C(T,x,O,k);Xl(T,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,x!==null&&x.tag===6?(r(T,x.sibling),x=i(x,O),x.return=T,T=x):(r(T,x),x=o0(O,T.mode,k),x.return=T,T=x),o(T)):r(T,x)}return N}var au=Ew(!0),_w=Ew(!1),id=fo(null),sd=null,Ua=null,cg=null;function lg(){cg=Ua=sd=null}function fg(e){var t=id.current;Dt(id),e._currentValue=t}function Pp(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Wa(e,t){sd=e,cg=Ua=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(nn=!0),e.firstContext=null)}function Vn(e){var t=e._currentValue;if(cg!==e)if(e={context:e,memoizedValue:t,next:null},Ua===null){if(sd===null)throw Error(fe(308));Ua=e,sd.dependencies={lanes:0,firstContext:e}}else Ua=Ua.next=e;return t}var Fo=null;function dg(e){Fo===null?Fo=[e]:Fo.push(e)}function Sw(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,dg(t)):(r.next=i.next,i.next=r),t.interleaved=r,xs(e,n)}function xs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var $s=!1;function hg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Aw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _s(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ro(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ct&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,xs(e,r)}return i=n.interleaved,i===null?(t.next=t,dg(n)):(t.next=i.next,i.next=t),n.interleaved=t,xs(e,r)}function Af(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,X1(e,r)}}function Ny(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function od(e,t,r,n){var i=e.updateQueue;$s=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var f=e.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=u))}if(s!==null){var h=i.baseState;o=0,f=c=u=null,a=s;do{var y=a.lane,v=a.eventTime;if((n&y)===y){f!==null&&(f=f.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,C=a;switch(y=t,v=r,C.tag){case 1:if(w=C.payload,typeof w=="function"){h=w.call(v,h,y);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=C.payload,y=typeof w=="function"?w.call(v,h,y):w,y==null)break e;h=kt({},h,y);break e;case 2:$s=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,y=i.effects,y===null?i.effects=[a]:y.push(a))}else v={eventTime:v,lane:y,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=v,u=h):f=f.next=v,o|=y;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;y=a,a=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(f===null&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Yo|=o,e.lanes=o,e.memoizedState=h}}function Py(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(fe(191,i));i.call(n)}}}var ml={},Ni=fo(ml),Gc=fo(ml),Vc=fo(ml);function Bo(e){if(e===ml)throw Error(fe(174));return e}function pg(e,t){switch(At(Vc,t),At(Gc,e),At(Ni,ml),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:hp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=hp(t,e)}Dt(Ni),At(Ni,t)}function uu(){Dt(Ni),Dt(Gc),Dt(Vc)}function Iw(e){Bo(Vc.current);var t=Bo(Ni.current),r=hp(t,e.type);t!==r&&(At(Gc,e),At(Ni,r))}function gg(e){Gc.current===e&&(Dt(Ni),Dt(Gc))}var Pt=fo(0);function ad(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var e0=[];function mg(){for(var e=0;e<e0.length;e++)e0[e]._workInProgressVersionPrimary=null;e0.length=0}var If=Ts.ReactCurrentDispatcher,t0=Ts.ReactCurrentBatchConfig,Wo=0,Ot=null,Zt=null,ar=null,ud=!1,Ic=!1,Wc=0,uS=0;function xr(){throw Error(fe(321))}function yg(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!hi(e[r],t[r]))return!1;return!0}function vg(e,t,r,n,i,s){if(Wo=s,Ot=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,If.current=e===null||e.memoizedState===null?dS:hS,e=r(n,i),Ic){s=0;do{if(Ic=!1,Wc=0,25<=s)throw Error(fe(301));s+=1,ar=Zt=null,t.updateQueue=null,If.current=pS,e=r(n,i)}while(Ic)}if(If.current=cd,t=Zt!==null&&Zt.next!==null,Wo=0,ar=Zt=Ot=null,ud=!1,t)throw Error(fe(300));return e}function bg(){var e=Wc!==0;return Wc=0,e}function wi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?Ot.memoizedState=ar=e:ar=ar.next=e,ar}function Wn(){if(Zt===null){var e=Ot.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var t=ar===null?Ot.memoizedState:ar.next;if(t!==null)ar=t,Zt=e;else{if(e===null)throw Error(fe(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},ar===null?Ot.memoizedState=ar=e:ar=ar.next=e}return ar}function Yc(e,t){return typeof t=="function"?t(e):t}function r0(e){var t=Wn(),r=t.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=e;var n=Zt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,u=null,c=s;do{var f=c.lane;if((Wo&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=h,o=n):u=u.next=h,Ot.lanes|=f,Yo|=f}c=c.next}while(c!==null&&c!==s);u===null?o=n:u.next=a,hi(n,t.memoizedState)||(nn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,Ot.lanes|=s,Yo|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function n0(e){var t=Wn(),r=t.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);hi(s,t.memoizedState)||(nn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function xw(){}function Mw(e,t){var r=Ot,n=Wn(),i=t(),s=!hi(n.memoizedState,i);if(s&&(n.memoizedState=i,nn=!0),n=n.queue,wg(Dw.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||ar!==null&&ar.memoizedState.tag&1){if(r.flags|=2048,Qc(9,Cw.bind(null,r,n,i,t),void 0,null),cr===null)throw Error(fe(349));Wo&30||Rw(r,t,i)}return i}function Rw(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ot.updateQueue,t===null?(t={lastEffect:null,stores:null},Ot.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Cw(e,t,r,n){t.value=r,t.getSnapshot=n,Tw(t)&&Nw(e)}function Dw(e,t,r){return r(function(){Tw(t)&&Nw(e)})}function Tw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!hi(e,r)}catch{return!0}}function Nw(e){var t=xs(e,1);t!==null&&di(t,e,1,-1)}function Oy(e){var t=wi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yc,lastRenderedState:e},t.queue=e,e=e.dispatch=fS.bind(null,Ot,e),[t.memoizedState,e]}function Qc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ot.updateQueue,t===null?(t={lastEffect:null,stores:null},Ot.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Pw(){return Wn().memoizedState}function xf(e,t,r,n){var i=wi();Ot.flags|=e,i.memoizedState=Qc(1|t,r,void 0,n===void 0?null:n)}function Hd(e,t,r,n){var i=Wn();n=n===void 0?null:n;var s=void 0;if(Zt!==null){var o=Zt.memoizedState;if(s=o.destroy,n!==null&&yg(n,o.deps)){i.memoizedState=Qc(t,r,s,n);return}}Ot.flags|=e,i.memoizedState=Qc(1|t,r,s,n)}function ky(e,t){return xf(8390656,8,e,t)}function wg(e,t){return Hd(2048,8,e,t)}function Ow(e,t){return Hd(4,2,e,t)}function kw(e,t){return Hd(4,4,e,t)}function Fw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Bw(e,t,r){return r=r!=null?r.concat([e]):null,Hd(4,4,Fw.bind(null,t,e),r)}function Eg(){}function Lw(e,t){var r=Wn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&yg(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Uw(e,t){var r=Wn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&yg(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function $w(e,t,r){return Wo&21?(hi(r,t)||(r=K3(),Ot.lanes|=r,Yo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,nn=!0),e.memoizedState=r)}function cS(e,t){var r=gt;gt=r!==0&&4>r?r:4,e(!0);var n=t0.transition;t0.transition={};try{e(!1),t()}finally{gt=r,t0.transition=n}}function zw(){return Wn().memoizedState}function lS(e,t,r){var n=io(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},qw(e))jw(t,r);else if(r=Sw(e,t,r,n),r!==null){var i=Ur();di(r,e,n,i),Hw(r,t,n)}}function fS(e,t,r){var n=io(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(qw(e))jw(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,hi(a,o)){var u=t.interleaved;u===null?(i.next=i,dg(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}r=Sw(e,t,i,n),r!==null&&(i=Ur(),di(r,e,n,i),Hw(r,t,n))}}function qw(e){var t=e.alternate;return e===Ot||t!==null&&t===Ot}function jw(e,t){Ic=ud=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Hw(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,X1(e,r)}}var cd={readContext:Vn,useCallback:xr,useContext:xr,useEffect:xr,useImperativeHandle:xr,useInsertionEffect:xr,useLayoutEffect:xr,useMemo:xr,useReducer:xr,useRef:xr,useState:xr,useDebugValue:xr,useDeferredValue:xr,useTransition:xr,useMutableSource:xr,useSyncExternalStore:xr,useId:xr,unstable_isNewReconciler:!1},dS={readContext:Vn,useCallback:function(e,t){return wi().memoizedState=[e,t===void 0?null:t],e},useContext:Vn,useEffect:ky,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,xf(4194308,4,Fw.bind(null,t,e),r)},useLayoutEffect:function(e,t){return xf(4194308,4,e,t)},useInsertionEffect:function(e,t){return xf(4,2,e,t)},useMemo:function(e,t){var r=wi();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=wi();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=lS.bind(null,Ot,e),[n.memoizedState,e]},useRef:function(e){var t=wi();return e={current:e},t.memoizedState=e},useState:Oy,useDebugValue:Eg,useDeferredValue:function(e){return wi().memoizedState=e},useTransition:function(){var e=Oy(!1),t=e[0];return e=cS.bind(null,e[1]),wi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ot,i=wi();if(Tt){if(r===void 0)throw Error(fe(407));r=r()}else{if(r=t(),cr===null)throw Error(fe(349));Wo&30||Rw(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,ky(Dw.bind(null,n,s,e),[e]),n.flags|=2048,Qc(9,Cw.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=wi(),t=cr.identifierPrefix;if(Tt){var r=bs,n=vs;r=(n&~(1<<32-fi(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Wc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=uS++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},hS={readContext:Vn,useCallback:Lw,useContext:Vn,useEffect:wg,useImperativeHandle:Bw,useInsertionEffect:Ow,useLayoutEffect:kw,useMemo:Uw,useReducer:r0,useRef:Pw,useState:function(){return r0(Yc)},useDebugValue:Eg,useDeferredValue:function(e){var t=Wn();return $w(t,Zt.memoizedState,e)},useTransition:function(){var e=r0(Yc)[0],t=Wn().memoizedState;return[e,t]},useMutableSource:xw,useSyncExternalStore:Mw,useId:zw,unstable_isNewReconciler:!1},pS={readContext:Vn,useCallback:Lw,useContext:Vn,useEffect:wg,useImperativeHandle:Bw,useInsertionEffect:Ow,useLayoutEffect:kw,useMemo:Uw,useReducer:n0,useRef:Pw,useState:function(){return n0(Yc)},useDebugValue:Eg,useDeferredValue:function(e){var t=Wn();return Zt===null?t.memoizedState=e:$w(t,Zt.memoizedState,e)},useTransition:function(){var e=n0(Yc)[0],t=Wn().memoizedState;return[e,t]},useMutableSource:xw,useSyncExternalStore:Mw,useId:zw,unstable_isNewReconciler:!1};function si(e,t){if(e&&e.defaultProps){t=kt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Op(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:kt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Kd={isMounted:function(e){return(e=e._reactInternals)?aa(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ur(),i=io(e),s=_s(n,i);s.payload=t,r!=null&&(s.callback=r),t=ro(e,s,i),t!==null&&(di(t,e,i,n),Af(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ur(),i=io(e),s=_s(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=ro(e,s,i),t!==null&&(di(t,e,i,n),Af(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ur(),n=io(e),i=_s(r,n);i.tag=2,t!=null&&(i.callback=t),t=ro(e,i,n),t!==null&&(di(t,e,n,r),Af(t,e,n))}};function Fy(e,t,r,n,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!qc(r,n)||!qc(i,s):!0}function Kw(e,t,r){var n=!1,i=uo,s=t.contextType;return typeof s=="object"&&s!==null?s=Vn(s):(i=on(t)?Go:Nr.current,n=t.contextTypes,s=(n=n!=null)?su(e,i):uo),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Kd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function By(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Kd.enqueueReplaceState(t,t.state,null)}function kp(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},hg(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Vn(s):(s=on(t)?Go:Nr.current,i.context=su(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Op(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Kd.enqueueReplaceState(i,i.state,null),od(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function cu(e,t){try{var r="",n=t;do r+=q_(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function i0(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Fp(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var gS=typeof WeakMap=="function"?WeakMap:Map;function Gw(e,t,r){r=_s(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){fd||(fd=!0,Gp=n),Fp(e,t)},r}function Vw(e,t,r){r=_s(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Fp(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Fp(e,t),typeof n!="function"&&(no===null?no=new Set([this]):no.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Ly(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new gS;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=CS.bind(null,e,t,r),t.then(e,e))}function Uy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $y(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=_s(-1,1),t.tag=2,ro(r,t,1))),r.lanes|=1),e)}var mS=Ts.ReactCurrentOwner,nn=!1;function Or(e,t,r,n){t.child=e===null?_w(t,null,r,n):au(t,e.child,r,n)}function zy(e,t,r,n,i){r=r.render;var s=t.ref;return Wa(t,i),n=vg(e,t,r,n,s,i),r=bg(),e!==null&&!nn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ms(e,t,i)):(Tt&&r&&og(t),t.flags|=1,Or(e,t,n,i),t.child)}function qy(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!Cg(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,Ww(e,t,s,n,i)):(e=Df(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:qc,r(o,n)&&e.ref===t.ref)return Ms(e,t,i)}return t.flags|=1,e=so(s,n),e.ref=t.ref,e.return=t,t.child=e}function Ww(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(qc(s,n)&&e.ref===t.ref)if(nn=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(nn=!0);else return t.lanes=e.lanes,Ms(e,t,i)}return Bp(e,t,r,n,i)}function Yw(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},At(za,mn),mn|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,At(za,mn),mn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,At(za,mn),mn|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,At(za,mn),mn|=n;return Or(e,t,i,r),t.child}function Qw(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Bp(e,t,r,n,i){var s=on(r)?Go:Nr.current;return s=su(t,s),Wa(t,i),r=vg(e,t,r,n,s,i),n=bg(),e!==null&&!nn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ms(e,t,i)):(Tt&&n&&og(t),t.flags|=1,Or(e,t,r,i),t.child)}function jy(e,t,r,n,i){if(on(r)){var s=!0;td(t)}else s=!1;if(Wa(t,i),t.stateNode===null)Mf(e,t),Kw(t,r,n),kp(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Vn(c):(c=on(r)?Go:Nr.current,c=su(t,c));var f=r.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||u!==c)&&By(t,o,n,c),$s=!1;var y=t.memoizedState;o.state=y,od(t,n,o,i),u=t.memoizedState,a!==n||y!==u||sn.current||$s?(typeof f=="function"&&(Op(t,r,f,n),u=t.memoizedState),(a=$s||Fy(t,r,a,n,y,u,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),o.props=n,o.state=u,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Aw(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:si(t.type,a),o.props=c,h=t.pendingProps,y=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=Vn(u):(u=on(r)?Go:Nr.current,u=su(t,u));var v=r.getDerivedStateFromProps;(f=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||y!==u)&&By(t,o,n,u),$s=!1,y=t.memoizedState,o.state=y,od(t,n,o,i);var w=t.memoizedState;a!==h||y!==w||sn.current||$s?(typeof v=="function"&&(Op(t,r,v,n),w=t.memoizedState),(c=$s||Fy(t,r,c,n,y,w,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,w,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,w,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),o.props=n,o.state=w,o.context=u,n=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),n=!1)}return Lp(e,t,r,n,s,i)}function Lp(e,t,r,n,i,s){Qw(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&Ry(t,r,!1),Ms(e,t,s);n=t.stateNode,mS.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=au(t,e.child,null,s),t.child=au(t,null,a,s)):Or(e,t,a,s),t.memoizedState=n.state,i&&Ry(t,r,!0),t.child}function Jw(e){var t=e.stateNode;t.pendingContext?My(e,t.pendingContext,t.pendingContext!==t.context):t.context&&My(e,t.context,!1),pg(e,t.containerInfo)}function Hy(e,t,r,n,i){return ou(),ug(i),t.flags|=256,Or(e,t,r,n),t.child}var Up={dehydrated:null,treeContext:null,retryLane:0};function $p(e){return{baseLanes:e,cachePool:null,transitions:null}}function Xw(e,t,r){var n=t.pendingProps,i=Pt.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),At(Pt,i&1),e===null)return Np(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Wd(o,n,0,null),e=qo(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=$p(r),t.memoizedState=Up,e):_g(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return yS(e,t,o,n,a,i,r);if(s){s=n.fallback,o=t.mode,i=e.child,a=i.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=so(i,u),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=so(a,s):(s=qo(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?$p(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=Up,n}return s=e.child,e=s.sibling,n=so(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function _g(e,t){return t=Wd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Zl(e,t,r,n){return n!==null&&ug(n),au(t,e.child,null,r),e=_g(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yS(e,t,r,n,i,s,o){if(r)return t.flags&256?(t.flags&=-257,n=i0(Error(fe(422))),Zl(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=Wd({mode:"visible",children:n.children},i,0,null),s=qo(s,i,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&au(t,e.child,null,o),t.child.memoizedState=$p(o),t.memoizedState=Up,s);if(!(t.mode&1))return Zl(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(fe(419)),n=i0(s,n,void 0),Zl(e,t,o,n)}if(a=(o&e.childLanes)!==0,nn||a){if(n=cr,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,xs(e,i),di(n,e,i,-1))}return Rg(),n=i0(Error(fe(421))),Zl(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=DS.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,wn=to(i.nextSibling),_n=t,Tt=!0,ci=null,e!==null&&(jn[Hn++]=vs,jn[Hn++]=bs,jn[Hn++]=Vo,vs=e.id,bs=e.overflow,Vo=t),t=_g(t,n.children),t.flags|=4096,t)}function Ky(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Pp(e.return,t,r)}function s0(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function Zw(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(Or(e,t,n.children,r),n=Pt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ky(e,r,t);else if(e.tag===19)Ky(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(At(Pt,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&ad(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),s0(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ad(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}s0(t,!0,r,null,s);break;case"together":s0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Mf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ms(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Yo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(fe(153));if(t.child!==null){for(e=t.child,r=so(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=so(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function vS(e,t,r){switch(t.tag){case 3:Jw(t),ou();break;case 5:Iw(t);break;case 1:on(t.type)&&td(t);break;case 4:pg(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;At(id,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(At(Pt,Pt.current&1),t.flags|=128,null):r&t.child.childLanes?Xw(e,t,r):(At(Pt,Pt.current&1),e=Ms(e,t,r),e!==null?e.sibling:null);At(Pt,Pt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Zw(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),At(Pt,Pt.current),n)break;return null;case 22:case 23:return t.lanes=0,Yw(e,t,r)}return Ms(e,t,r)}var e6,zp,t6,r6;e6=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};zp=function(){};t6=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Bo(Ni.current);var s=null;switch(r){case"input":i=cp(e,i),n=cp(e,n),s=[];break;case"select":i=kt({},i,{value:void 0}),n=kt({},n,{value:void 0}),s=[];break;case"textarea":i=dp(e,i),n=dp(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Zf)}pp(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(kc.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var u=n[c];if(a=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(s||(s=[]),s.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(kc.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Rt("scroll",e),s||a===u||(s=[])):(s=s||[]).push(c,u))}r&&(s=s||[]).push("style",r);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};r6=function(e,t,r,n){r!==n&&(t.flags|=4)};function Qu(e,t){if(!Tt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Mr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function bS(e,t,r){var n=t.pendingProps;switch(ag(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mr(t),null;case 1:return on(t.type)&&ed(),Mr(t),null;case 3:return n=t.stateNode,uu(),Dt(sn),Dt(Nr),mg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Jl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ci!==null&&(Yp(ci),ci=null))),zp(e,t),Mr(t),null;case 5:gg(t);var i=Bo(Vc.current);if(r=t.type,e!==null&&t.stateNode!=null)t6(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(fe(166));return Mr(t),null}if(e=Bo(Ni.current),Jl(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Ri]=t,n[Kc]=s,e=(t.mode&1)!==0,r){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(i=0;i<gc.length;i++)Rt(gc[i],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":ey(n,s),Rt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Rt("invalid",n);break;case"textarea":ry(n,s),Rt("invalid",n)}pp(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ql(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ql(n.textContent,a,e),i=["children",""+a]):kc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Rt("scroll",n)}switch(r){case"input":ql(n),ty(n,s,!0);break;case"textarea":ql(n),ny(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Zf)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=D3(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ri]=t,e[Kc]=n,e6(e,t,!1,!1),t.stateNode=e;e:{switch(o=gp(r,n),r){case"dialog":Rt("cancel",e),Rt("close",e),i=n;break;case"iframe":case"object":case"embed":Rt("load",e),i=n;break;case"video":case"audio":for(i=0;i<gc.length;i++)Rt(gc[i],e);i=n;break;case"source":Rt("error",e),i=n;break;case"img":case"image":case"link":Rt("error",e),Rt("load",e),i=n;break;case"details":Rt("toggle",e),i=n;break;case"input":ey(e,n),i=cp(e,n),Rt("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=kt({},n,{value:void 0}),Rt("invalid",e);break;case"textarea":ry(e,n),i=dp(e,n),Rt("invalid",e);break;default:i=n}pp(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?P3(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&T3(e,u)):s==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Fc(e,u):typeof u=="number"&&Fc(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(kc.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Rt("scroll",e):u!=null&&G1(e,s,u,o))}switch(r){case"input":ql(e),ty(e,n,!1);break;case"textarea":ql(e),ny(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ao(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Ha(e,!!n.multiple,s,!1):n.defaultValue!=null&&Ha(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Zf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Mr(t),null;case 6:if(e&&t.stateNode!=null)r6(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(fe(166));if(r=Bo(Vc.current),Bo(Ni.current),Jl(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ri]=t,(s=n.nodeValue!==r)&&(e=_n,e!==null))switch(e.tag){case 3:Ql(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ql(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ri]=t,t.stateNode=n}return Mr(t),null;case 13:if(Dt(Pt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Tt&&wn!==null&&t.mode&1&&!(t.flags&128))ww(),ou(),t.flags|=98560,s=!1;else if(s=Jl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(fe(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(fe(317));s[Ri]=t}else ou(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Mr(t),s=!1}else ci!==null&&(Yp(ci),ci=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Pt.current&1?tr===0&&(tr=3):Rg())),t.updateQueue!==null&&(t.flags|=4),Mr(t),null);case 4:return uu(),zp(e,t),e===null&&jc(t.stateNode.containerInfo),Mr(t),null;case 10:return fg(t.type._context),Mr(t),null;case 17:return on(t.type)&&ed(),Mr(t),null;case 19:if(Dt(Pt),s=t.memoizedState,s===null)return Mr(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Qu(s,!1);else{if(tr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ad(e),o!==null){for(t.flags|=128,Qu(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return At(Pt,Pt.current&1|2),t.child}e=e.sibling}s.tail!==null&&Kt()>lu&&(t.flags|=128,n=!0,Qu(s,!1),t.lanes=4194304)}else{if(!n)if(e=ad(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Qu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Tt)return Mr(t),null}else 2*Kt()-s.renderingStartTime>lu&&r!==1073741824&&(t.flags|=128,n=!0,Qu(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Kt(),t.sibling=null,r=Pt.current,At(Pt,n?r&1|2:r&1),t):(Mr(t),null);case 22:case 23:return Mg(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?mn&1073741824&&(Mr(t),t.subtreeFlags&6&&(t.flags|=8192)):Mr(t),null;case 24:return null;case 25:return null}throw Error(fe(156,t.tag))}function wS(e,t){switch(ag(t),t.tag){case 1:return on(t.type)&&ed(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return uu(),Dt(sn),Dt(Nr),mg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return gg(t),null;case 13:if(Dt(Pt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(fe(340));ou()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Dt(Pt),null;case 4:return uu(),null;case 10:return fg(t.type._context),null;case 22:case 23:return Mg(),null;case 24:return null;default:return null}}var ef=!1,Dr=!1,ES=typeof WeakSet=="function"?WeakSet:Set,Re=null;function $a(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ut(e,t,n)}else r.current=null}function qp(e,t,r){try{r()}catch(n){Ut(e,t,n)}}var Gy=!1;function _S(e,t){if(Ip=Qf,e=aw(),sg(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,u=-1,c=0,f=0,h=e,y=null;t:for(;;){for(var v;h!==r||i!==0&&h.nodeType!==3||(a=o+i),h!==s||n!==0&&h.nodeType!==3||(u=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)y=h,h=v;for(;;){if(h===e)break t;if(y===r&&++c===i&&(a=o),y===s&&++f===n&&(u=o),(v=h.nextSibling)!==null)break;h=y,y=h.parentNode}h=v}r=a===-1||u===-1?null:{start:a,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(xp={focusedElem:e,selectionRange:r},Qf=!1,Re=t;Re!==null;)if(t=Re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Re=e;else for(;Re!==null;){t=Re;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var C=w.memoizedProps,N=w.memoizedState,T=t.stateNode,x=T.getSnapshotBeforeUpdate(t.elementType===t.type?C:si(t.type,C),N);T.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var O=t.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(k){Ut(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,Re=e;break}Re=t.return}return w=Gy,Gy=!1,w}function xc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&qp(t,r,s)}i=i.next}while(i!==n)}}function Gd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function jp(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function n6(e){var t=e.alternate;t!==null&&(e.alternate=null,n6(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ri],delete t[Kc],delete t[Cp],delete t[iS],delete t[sS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function i6(e){return e.tag===5||e.tag===3||e.tag===4}function Vy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||i6(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Zf));else if(n!==4&&(e=e.child,e!==null))for(Hp(e,t,r),e=e.sibling;e!==null;)Hp(e,t,r),e=e.sibling}function Kp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Kp(e,t,r),e=e.sibling;e!==null;)Kp(e,t,r),e=e.sibling}var yr=null,ai=!1;function ks(e,t,r){for(r=r.child;r!==null;)s6(e,t,r),r=r.sibling}function s6(e,t,r){if(Ti&&typeof Ti.onCommitFiberUnmount=="function")try{Ti.onCommitFiberUnmount(Ld,r)}catch{}switch(r.tag){case 5:Dr||$a(r,t);case 6:var n=yr,i=ai;yr=null,ks(e,t,r),yr=n,ai=i,yr!==null&&(ai?(e=yr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):yr.removeChild(r.stateNode));break;case 18:yr!==null&&(ai?(e=yr,r=r.stateNode,e.nodeType===8?Xh(e.parentNode,r):e.nodeType===1&&Xh(e,r),$c(e)):Xh(yr,r.stateNode));break;case 4:n=yr,i=ai,yr=r.stateNode.containerInfo,ai=!0,ks(e,t,r),yr=n,ai=i;break;case 0:case 11:case 14:case 15:if(!Dr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&qp(r,t,o),i=i.next}while(i!==n)}ks(e,t,r);break;case 1:if(!Dr&&($a(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Ut(r,t,a)}ks(e,t,r);break;case 21:ks(e,t,r);break;case 22:r.mode&1?(Dr=(n=Dr)||r.memoizedState!==null,ks(e,t,r),Dr=n):ks(e,t,r);break;default:ks(e,t,r)}}function Wy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new ES),t.forEach(function(n){var i=TS.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Zn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:yr=a.stateNode,ai=!1;break e;case 3:yr=a.stateNode.containerInfo,ai=!0;break e;case 4:yr=a.stateNode.containerInfo,ai=!0;break e}a=a.return}if(yr===null)throw Error(fe(160));s6(s,o,i),yr=null,ai=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Ut(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)o6(t,e),t=t.sibling}function o6(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Zn(t,e),mi(e),n&4){try{xc(3,e,e.return),Gd(3,e)}catch(C){Ut(e,e.return,C)}try{xc(5,e,e.return)}catch(C){Ut(e,e.return,C)}}break;case 1:Zn(t,e),mi(e),n&512&&r!==null&&$a(r,r.return);break;case 5:if(Zn(t,e),mi(e),n&512&&r!==null&&$a(r,r.return),e.flags&32){var i=e.stateNode;try{Fc(i,"")}catch(C){Ut(e,e.return,C)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&R3(i,s),gp(a,o);var c=gp(a,s);for(o=0;o<u.length;o+=2){var f=u[o],h=u[o+1];f==="style"?P3(i,h):f==="dangerouslySetInnerHTML"?T3(i,h):f==="children"?Fc(i,h):G1(i,f,h,c)}switch(a){case"input":lp(i,s);break;case"textarea":C3(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?Ha(i,!!s.multiple,v,!1):y!==!!s.multiple&&(s.defaultValue!=null?Ha(i,!!s.multiple,s.defaultValue,!0):Ha(i,!!s.multiple,s.multiple?[]:"",!1))}i[Kc]=s}catch(C){Ut(e,e.return,C)}}break;case 6:if(Zn(t,e),mi(e),n&4){if(e.stateNode===null)throw Error(fe(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(C){Ut(e,e.return,C)}}break;case 3:if(Zn(t,e),mi(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{$c(t.containerInfo)}catch(C){Ut(e,e.return,C)}break;case 4:Zn(t,e),mi(e);break;case 13:Zn(t,e),mi(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ig=Kt())),n&4&&Wy(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Dr=(c=Dr)||f,Zn(t,e),Dr=c):Zn(t,e),mi(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(Re=e,f=e.child;f!==null;){for(h=Re=f;Re!==null;){switch(y=Re,v=y.child,y.tag){case 0:case 11:case 14:case 15:xc(4,y,y.return);break;case 1:$a(y,y.return);var w=y.stateNode;if(typeof w.componentWillUnmount=="function"){n=y,r=y.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(C){Ut(n,r,C)}}break;case 5:$a(y,y.return);break;case 22:if(y.memoizedState!==null){Qy(h);continue}}v!==null?(v.return=y,Re=v):Qy(h)}f=f.sibling}e:for(f=null,h=e;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=N3("display",o))}catch(C){Ut(e,e.return,C)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(C){Ut(e,e.return,C)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Zn(t,e),mi(e),n&4&&Wy(e);break;case 21:break;default:Zn(t,e),mi(e)}}function mi(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(i6(r)){var n=r;break e}r=r.return}throw Error(fe(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Fc(i,""),n.flags&=-33);var s=Vy(e);Kp(e,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Vy(e);Hp(e,a,o);break;default:throw Error(fe(161))}}catch(u){Ut(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function SS(e,t,r){Re=e,a6(e)}function a6(e,t,r){for(var n=(e.mode&1)!==0;Re!==null;){var i=Re,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||ef;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Dr;a=ef;var c=Dr;if(ef=o,(Dr=u)&&!c)for(Re=i;Re!==null;)o=Re,u=o.child,o.tag===22&&o.memoizedState!==null?Jy(i):u!==null?(u.return=o,Re=u):Jy(i);for(;s!==null;)Re=s,a6(s),s=s.sibling;Re=i,ef=a,Dr=c}Yy(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Re=s):Yy(e)}}function Yy(e){for(;Re!==null;){var t=Re;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Dr||Gd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Dr)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:si(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Py(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Py(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&$c(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}Dr||t.flags&512&&jp(t)}catch(y){Ut(t,t.return,y)}}if(t===e){Re=null;break}if(r=t.sibling,r!==null){r.return=t.return,Re=r;break}Re=t.return}}function Qy(e){for(;Re!==null;){var t=Re;if(t===e){Re=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Re=r;break}Re=t.return}}function Jy(e){for(;Re!==null;){var t=Re;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Gd(4,t)}catch(u){Ut(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(u){Ut(t,i,u)}}var s=t.return;try{jp(t)}catch(u){Ut(t,s,u)}break;case 5:var o=t.return;try{jp(t)}catch(u){Ut(t,o,u)}}}catch(u){Ut(t,t.return,u)}if(t===e){Re=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Re=a;break}Re=t.return}}var AS=Math.ceil,ld=Ts.ReactCurrentDispatcher,Sg=Ts.ReactCurrentOwner,Gn=Ts.ReactCurrentBatchConfig,ct=0,cr=null,Vt=null,br=0,mn=0,za=fo(0),tr=0,Jc=null,Yo=0,Vd=0,Ag=0,Mc=null,tn=null,Ig=0,lu=1/0,fs=null,fd=!1,Gp=null,no=null,tf=!1,Ys=null,dd=0,Rc=0,Vp=null,Rf=-1,Cf=0;function Ur(){return ct&6?Kt():Rf!==-1?Rf:Rf=Kt()}function io(e){return e.mode&1?ct&2&&br!==0?br&-br:aS.transition!==null?(Cf===0&&(Cf=K3()),Cf):(e=gt,e!==0||(e=window.event,e=e===void 0?16:X3(e.type)),e):1}function di(e,t,r,n){if(50<Rc)throw Rc=0,Vp=null,Error(fe(185));hl(e,r,n),(!(ct&2)||e!==cr)&&(e===cr&&(!(ct&2)&&(Vd|=r),tr===4&&Ks(e,br)),an(e,n),r===1&&ct===0&&!(t.mode&1)&&(lu=Kt()+500,jd&&ho()))}function an(e,t){var r=e.callbackNode;a7(e,t);var n=Yf(e,e===cr?br:0);if(n===0)r!==null&&oy(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&oy(r),t===1)e.tag===0?oS(Xy.bind(null,e)):yw(Xy.bind(null,e)),rS(function(){!(ct&6)&&ho()}),r=null;else{switch(G3(n)){case 1:r=J1;break;case 4:r=j3;break;case 16:r=Wf;break;case 536870912:r=H3;break;default:r=Wf}r=g6(r,u6.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function u6(e,t){if(Rf=-1,Cf=0,ct&6)throw Error(fe(327));var r=e.callbackNode;if(Ya()&&e.callbackNode!==r)return null;var n=Yf(e,e===cr?br:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=hd(e,n);else{t=n;var i=ct;ct|=2;var s=l6();(cr!==e||br!==t)&&(fs=null,lu=Kt()+500,zo(e,t));do try{MS();break}catch(a){c6(e,a)}while(!0);lg(),ld.current=s,ct=i,Vt!==null?t=0:(cr=null,br=0,t=tr)}if(t!==0){if(t===2&&(i=wp(e),i!==0&&(n=i,t=Wp(e,i))),t===1)throw r=Jc,zo(e,0),Ks(e,n),an(e,Kt()),r;if(t===6)Ks(e,n);else{if(i=e.current.alternate,!(n&30)&&!IS(i)&&(t=hd(e,n),t===2&&(s=wp(e),s!==0&&(n=s,t=Wp(e,s))),t===1))throw r=Jc,zo(e,0),Ks(e,n),an(e,Kt()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(fe(345));case 2:No(e,tn,fs);break;case 3:if(Ks(e,n),(n&130023424)===n&&(t=Ig+500-Kt(),10<t)){if(Yf(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Ur(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Rp(No.bind(null,e,tn,fs),t);break}No(e,tn,fs);break;case 4:if(Ks(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-fi(n);s=1<<o,o=t[o],o>i&&(i=o),n&=~s}if(n=i,n=Kt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*AS(n/1960))-n,10<n){e.timeoutHandle=Rp(No.bind(null,e,tn,fs),n);break}No(e,tn,fs);break;case 5:No(e,tn,fs);break;default:throw Error(fe(329))}}}return an(e,Kt()),e.callbackNode===r?u6.bind(null,e):null}function Wp(e,t){var r=Mc;return e.current.memoizedState.isDehydrated&&(zo(e,t).flags|=256),e=hd(e,t),e!==2&&(t=tn,tn=r,t!==null&&Yp(t)),e}function Yp(e){tn===null?tn=e:tn.push.apply(tn,e)}function IS(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!hi(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ks(e,t){for(t&=~Ag,t&=~Vd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-fi(t),n=1<<r;e[r]=-1,t&=~n}}function Xy(e){if(ct&6)throw Error(fe(327));Ya();var t=Yf(e,0);if(!(t&1))return an(e,Kt()),null;var r=hd(e,t);if(e.tag!==0&&r===2){var n=wp(e);n!==0&&(t=n,r=Wp(e,n))}if(r===1)throw r=Jc,zo(e,0),Ks(e,t),an(e,Kt()),r;if(r===6)throw Error(fe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,No(e,tn,fs),an(e,Kt()),null}function xg(e,t){var r=ct;ct|=1;try{return e(t)}finally{ct=r,ct===0&&(lu=Kt()+500,jd&&ho())}}function Qo(e){Ys!==null&&Ys.tag===0&&!(ct&6)&&Ya();var t=ct;ct|=1;var r=Gn.transition,n=gt;try{if(Gn.transition=null,gt=1,e)return e()}finally{gt=n,Gn.transition=r,ct=t,!(ct&6)&&ho()}}function Mg(){mn=za.current,Dt(za)}function zo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,tS(r)),Vt!==null)for(r=Vt.return;r!==null;){var n=r;switch(ag(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ed();break;case 3:uu(),Dt(sn),Dt(Nr),mg();break;case 5:gg(n);break;case 4:uu();break;case 13:Dt(Pt);break;case 19:Dt(Pt);break;case 10:fg(n.type._context);break;case 22:case 23:Mg()}r=r.return}if(cr=e,Vt=e=so(e.current,null),br=mn=t,tr=0,Jc=null,Ag=Vd=Yo=0,tn=Mc=null,Fo!==null){for(t=0;t<Fo.length;t++)if(r=Fo[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Fo=null}return e}function c6(e,t){do{var r=Vt;try{if(lg(),If.current=cd,ud){for(var n=Ot.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ud=!1}if(Wo=0,ar=Zt=Ot=null,Ic=!1,Wc=0,Sg.current=null,r===null||r.return===null){tr=1,Jc=t,Vt=null;break}e:{var s=e,o=r.return,a=r,u=t;if(t=br,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var y=f.alternate;y?(f.updateQueue=y.updateQueue,f.memoizedState=y.memoizedState,f.lanes=y.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=Uy(o);if(v!==null){v.flags&=-257,$y(v,o,a,s,t),v.mode&1&&Ly(s,c,t),t=v,u=c;var w=t.updateQueue;if(w===null){var C=new Set;C.add(u),t.updateQueue=C}else w.add(u);break e}else{if(!(t&1)){Ly(s,c,t),Rg();break e}u=Error(fe(426))}}else if(Tt&&a.mode&1){var N=Uy(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),$y(N,o,a,s,t),ug(cu(u,a));break e}}s=u=cu(u,a),tr!==4&&(tr=2),Mc===null?Mc=[s]:Mc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var T=Gw(s,u,t);Ny(s,T);break e;case 1:a=u;var x=s.type,O=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(no===null||!no.has(O)))){s.flags|=65536,t&=-t,s.lanes|=t;var k=Vw(s,a,t);Ny(s,k);break e}}s=s.return}while(s!==null)}d6(r)}catch(L){t=L,Vt===r&&r!==null&&(Vt=r=r.return);continue}break}while(!0)}function l6(){var e=ld.current;return ld.current=cd,e===null?cd:e}function Rg(){(tr===0||tr===3||tr===2)&&(tr=4),cr===null||!(Yo&268435455)&&!(Vd&268435455)||Ks(cr,br)}function hd(e,t){var r=ct;ct|=2;var n=l6();(cr!==e||br!==t)&&(fs=null,zo(e,t));do try{xS();break}catch(i){c6(e,i)}while(!0);if(lg(),ct=r,ld.current=n,Vt!==null)throw Error(fe(261));return cr=null,br=0,tr}function xS(){for(;Vt!==null;)f6(Vt)}function MS(){for(;Vt!==null&&!X_();)f6(Vt)}function f6(e){var t=p6(e.alternate,e,mn);e.memoizedProps=e.pendingProps,t===null?d6(e):Vt=t,Sg.current=null}function d6(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=wS(r,t),r!==null){r.flags&=32767,Vt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{tr=6,Vt=null;return}}else if(r=bS(r,t,mn),r!==null){Vt=r;return}if(t=t.sibling,t!==null){Vt=t;return}Vt=t=e}while(t!==null);tr===0&&(tr=5)}function No(e,t,r){var n=gt,i=Gn.transition;try{Gn.transition=null,gt=1,RS(e,t,r,n)}finally{Gn.transition=i,gt=n}return null}function RS(e,t,r,n){do Ya();while(Ys!==null);if(ct&6)throw Error(fe(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(fe(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(u7(e,s),e===cr&&(Vt=cr=null,br=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||tf||(tf=!0,g6(Wf,function(){return Ya(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Gn.transition,Gn.transition=null;var o=gt;gt=1;var a=ct;ct|=4,Sg.current=null,_S(e,r),o6(r,e),W7(xp),Qf=!!Ip,xp=Ip=null,e.current=r,SS(r),Z_(),ct=a,gt=o,Gn.transition=s}else e.current=r;if(tf&&(tf=!1,Ys=e,dd=i),s=e.pendingLanes,s===0&&(no=null),r7(r.stateNode),an(e,Kt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(fd)throw fd=!1,e=Gp,Gp=null,e;return dd&1&&e.tag!==0&&Ya(),s=e.pendingLanes,s&1?e===Vp?Rc++:(Rc=0,Vp=e):Rc=0,ho(),null}function Ya(){if(Ys!==null){var e=G3(dd),t=Gn.transition,r=gt;try{if(Gn.transition=null,gt=16>e?16:e,Ys===null)var n=!1;else{if(e=Ys,Ys=null,dd=0,ct&6)throw Error(fe(331));var i=ct;for(ct|=4,Re=e.current;Re!==null;){var s=Re,o=s.child;if(Re.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(Re=c;Re!==null;){var f=Re;switch(f.tag){case 0:case 11:case 15:xc(8,f,s)}var h=f.child;if(h!==null)h.return=f,Re=h;else for(;Re!==null;){f=Re;var y=f.sibling,v=f.return;if(n6(f),f===c){Re=null;break}if(y!==null){y.return=v,Re=y;break}Re=v}}}var w=s.alternate;if(w!==null){var C=w.child;if(C!==null){w.child=null;do{var N=C.sibling;C.sibling=null,C=N}while(C!==null)}}Re=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Re=o;else e:for(;Re!==null;){if(s=Re,s.flags&2048)switch(s.tag){case 0:case 11:case 15:xc(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,Re=T;break e}Re=s.return}}var x=e.current;for(Re=x;Re!==null;){o=Re;var O=o.child;if(o.subtreeFlags&2064&&O!==null)O.return=o,Re=O;else e:for(o=x;Re!==null;){if(a=Re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Gd(9,a)}}catch(L){Ut(a,a.return,L)}if(a===o){Re=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,Re=k;break e}Re=a.return}}if(ct=i,ho(),Ti&&typeof Ti.onPostCommitFiberRoot=="function")try{Ti.onPostCommitFiberRoot(Ld,e)}catch{}n=!0}return n}finally{gt=r,Gn.transition=t}}return!1}function Zy(e,t,r){t=cu(r,t),t=Gw(e,t,1),e=ro(e,t,1),t=Ur(),e!==null&&(hl(e,1,t),an(e,t))}function Ut(e,t,r){if(e.tag===3)Zy(e,e,r);else for(;t!==null;){if(t.tag===3){Zy(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(no===null||!no.has(n))){e=cu(r,e),e=Vw(t,e,1),t=ro(t,e,1),e=Ur(),t!==null&&(hl(t,1,e),an(t,e));break}}t=t.return}}function CS(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ur(),e.pingedLanes|=e.suspendedLanes&r,cr===e&&(br&r)===r&&(tr===4||tr===3&&(br&130023424)===br&&500>Kt()-Ig?zo(e,0):Ag|=r),an(e,t)}function h6(e,t){t===0&&(e.mode&1?(t=Kl,Kl<<=1,!(Kl&130023424)&&(Kl=4194304)):t=1);var r=Ur();e=xs(e,t),e!==null&&(hl(e,t,r),an(e,r))}function DS(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),h6(e,r)}function TS(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(fe(314))}n!==null&&n.delete(t),h6(e,r)}var p6;p6=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||sn.current)nn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return nn=!1,vS(e,t,r);nn=!!(e.flags&131072)}else nn=!1,Tt&&t.flags&1048576&&vw(t,nd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Mf(e,t),e=t.pendingProps;var i=su(t,Nr.current);Wa(t,r),i=vg(null,t,n,e,i,r);var s=bg();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,on(n)?(s=!0,td(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hg(t),i.updater=Kd,t.stateNode=i,i._reactInternals=t,kp(t,n,e,r),t=Lp(null,t,n,!0,s,r)):(t.tag=0,Tt&&s&&og(t),Or(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Mf(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=PS(n),e=si(n,e),i){case 0:t=Bp(null,t,n,e,r);break e;case 1:t=jy(null,t,n,e,r);break e;case 11:t=zy(null,t,n,e,r);break e;case 14:t=qy(null,t,n,si(n.type,e),r);break e}throw Error(fe(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:si(n,i),Bp(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:si(n,i),jy(e,t,n,i,r);case 3:e:{if(Jw(t),e===null)throw Error(fe(387));n=t.pendingProps,s=t.memoizedState,i=s.element,Aw(e,t),od(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=cu(Error(fe(423)),t),t=Hy(e,t,n,r,i);break e}else if(n!==i){i=cu(Error(fe(424)),t),t=Hy(e,t,n,r,i);break e}else for(wn=to(t.stateNode.containerInfo.firstChild),_n=t,Tt=!0,ci=null,r=_w(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ou(),n===i){t=Ms(e,t,r);break e}Or(e,t,n,r)}t=t.child}return t;case 5:return Iw(t),e===null&&Np(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Mp(n,i)?o=null:s!==null&&Mp(n,s)&&(t.flags|=32),Qw(e,t),Or(e,t,o,r),t.child;case 6:return e===null&&Np(t),null;case 13:return Xw(e,t,r);case 4:return pg(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=au(t,null,n,r):Or(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:si(n,i),zy(e,t,n,i,r);case 7:return Or(e,t,t.pendingProps,r),t.child;case 8:return Or(e,t,t.pendingProps.children,r),t.child;case 12:return Or(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,At(id,n._currentValue),n._currentValue=o,s!==null)if(hi(s.value,o)){if(s.children===i.children&&!sn.current){t=Ms(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===n){if(s.tag===1){u=_s(-1,r&-r),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}s.lanes|=r,u=s.alternate,u!==null&&(u.lanes|=r),Pp(s.return,r,t),a.lanes|=r;break}u=u.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(fe(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Pp(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Or(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Wa(t,r),i=Vn(i),n=n(i),t.flags|=1,Or(e,t,n,r),t.child;case 14:return n=t.type,i=si(n,t.pendingProps),i=si(n.type,i),qy(e,t,n,i,r);case 15:return Ww(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:si(n,i),Mf(e,t),t.tag=1,on(n)?(e=!0,td(t)):e=!1,Wa(t,r),Kw(t,n,i),kp(t,n,i,r),Lp(null,t,n,!0,e,r);case 19:return Zw(e,t,r);case 22:return Yw(e,t,r)}throw Error(fe(156,t.tag))};function g6(e,t){return q3(e,t)}function NS(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(e,t,r,n){return new NS(e,t,r,n)}function Cg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function PS(e){if(typeof e=="function")return Cg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===W1)return 11;if(e===Y1)return 14}return 2}function so(e,t){var r=e.alternate;return r===null?(r=Kn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Df(e,t,r,n,i,s){var o=2;if(n=e,typeof e=="function")Cg(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ta:return qo(r.children,i,s,t);case V1:o=8,i|=8;break;case sp:return e=Kn(12,r,t,i|2),e.elementType=sp,e.lanes=s,e;case op:return e=Kn(13,r,t,i),e.elementType=op,e.lanes=s,e;case ap:return e=Kn(19,r,t,i),e.elementType=ap,e.lanes=s,e;case I3:return Wd(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case S3:o=10;break e;case A3:o=9;break e;case W1:o=11;break e;case Y1:o=14;break e;case Us:o=16,n=null;break e}throw Error(fe(130,e==null?e:typeof e,""))}return t=Kn(o,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function qo(e,t,r,n){return e=Kn(7,e,n,t),e.lanes=r,e}function Wd(e,t,r,n){return e=Kn(22,e,n,t),e.elementType=I3,e.lanes=r,e.stateNode={isHidden:!1},e}function o0(e,t,r){return e=Kn(6,e,null,t),e.lanes=r,e}function a0(e,t,r){return t=Kn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function OS(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zh(0),this.expirationTimes=zh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zh(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Dg(e,t,r,n,i,s,o,a,u){return e=new OS(e,t,r,a,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Kn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},hg(s),e}function kS(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Da,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function m6(e){if(!e)return uo;e=e._reactInternals;e:{if(aa(e)!==e||e.tag!==1)throw Error(fe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(on(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(fe(171))}if(e.tag===1){var r=e.type;if(on(r))return mw(e,r,t)}return t}function y6(e,t,r,n,i,s,o,a,u){return e=Dg(r,n,!0,e,i,s,o,a,u),e.context=m6(null),r=e.current,n=Ur(),i=io(r),s=_s(n,i),s.callback=t??null,ro(r,s,i),e.current.lanes=i,hl(e,i,n),an(e,n),e}function Yd(e,t,r,n){var i=t.current,s=Ur(),o=io(i);return r=m6(r),t.context===null?t.context=r:t.pendingContext=r,t=_s(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ro(i,t,o),e!==null&&(di(e,i,o,s),Af(e,i,o)),o}function pd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ev(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Tg(e,t){ev(e,t),(e=e.alternate)&&ev(e,t)}function FS(){return null}var v6=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ng(e){this._internalRoot=e}Qd.prototype.render=Ng.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(fe(409));Yd(e,t,null,null)};Qd.prototype.unmount=Ng.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qo(function(){Yd(null,e,null,null)}),t[Is]=null}};function Qd(e){this._internalRoot=e}Qd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Y3();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Hs.length&&t!==0&&t<Hs[r].priority;r++);Hs.splice(r,0,e),r===0&&J3(e)}};function Pg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Jd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function tv(){}function BS(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=pd(o);s.call(c)}}var o=y6(t,n,e,0,null,!1,!1,"",tv);return e._reactRootContainer=o,e[Is]=o.current,jc(e.nodeType===8?e.parentNode:e),Qo(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var c=pd(u);a.call(c)}}var u=Dg(e,0,!1,null,null,!1,!1,"",tv);return e._reactRootContainer=u,e[Is]=u.current,jc(e.nodeType===8?e.parentNode:e),Qo(function(){Yd(t,u,r,n)}),u}function Xd(e,t,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=pd(o);a.call(u)}}Yd(t,o,e,i)}else o=BS(r,t,e,i,n);return pd(o)}V3=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=pc(t.pendingLanes);r!==0&&(X1(t,r|1),an(t,Kt()),!(ct&6)&&(lu=Kt()+500,ho()))}break;case 13:Qo(function(){var n=xs(e,1);if(n!==null){var i=Ur();di(n,e,1,i)}}),Tg(e,1)}};Z1=function(e){if(e.tag===13){var t=xs(e,134217728);if(t!==null){var r=Ur();di(t,e,134217728,r)}Tg(e,134217728)}};W3=function(e){if(e.tag===13){var t=io(e),r=xs(e,t);if(r!==null){var n=Ur();di(r,e,t,n)}Tg(e,t)}};Y3=function(){return gt};Q3=function(e,t){var r=gt;try{return gt=e,t()}finally{gt=r}};yp=function(e,t,r){switch(t){case"input":if(lp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=qd(n);if(!i)throw Error(fe(90));M3(n),lp(n,i)}}}break;case"textarea":C3(e,r);break;case"select":t=r.value,t!=null&&Ha(e,!!r.multiple,t,!1)}};F3=xg;B3=Qo;var LS={usingClientEntryPoint:!1,Events:[gl,ka,qd,O3,k3,xg]},Ju={findFiberByHostInstance:ko,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},US={bundleType:Ju.bundleType,version:Ju.version,rendererPackageName:Ju.rendererPackageName,rendererConfig:Ju.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ts.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$3(e),e===null?null:e.stateNode},findFiberByHostInstance:Ju.findFiberByHostInstance||FS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rf.isDisabled&&rf.supportsFiber)try{Ld=rf.inject(US),Ti=rf}catch{}}xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LS;xn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pg(t))throw Error(fe(200));return kS(e,t,null,r)};xn.createRoot=function(e,t){if(!Pg(e))throw Error(fe(299));var r=!1,n="",i=v6;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Dg(e,1,!1,null,null,r,!1,n,i),e[Is]=t.current,jc(e.nodeType===8?e.parentNode:e),new Ng(t)};xn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(fe(188)):(e=Object.keys(e).join(","),Error(fe(268,e)));return e=$3(t),e=e===null?null:e.stateNode,e};xn.flushSync=function(e){return Qo(e)};xn.hydrate=function(e,t,r){if(!Jd(t))throw Error(fe(200));return Xd(null,e,t,!0,r)};xn.hydrateRoot=function(e,t,r){if(!Pg(e))throw Error(fe(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=v6;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=y6(t,null,e,1,r??null,i,!1,s,o),e[Is]=t.current,jc(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Qd(t)};xn.render=function(e,t,r){if(!Jd(t))throw Error(fe(200));return Xd(null,e,t,!1,r)};xn.unmountComponentAtNode=function(e){if(!Jd(e))throw Error(fe(40));return e._reactRootContainer?(Qo(function(){Xd(null,null,e,!1,function(){e._reactRootContainer=null,e[Is]=null})}),!0):!1};xn.unstable_batchedUpdates=xg;xn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Jd(r))throw Error(fe(200));if(e==null||e._reactInternals===void 0)throw Error(fe(38));return Xd(e,t,r,!1,n)};xn.version="18.3.1-next-f1338f8080-20240426";function b6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(b6)}catch(e){console.error(e)}}b6(),b3.exports=xn;var $S=b3.exports,w6,rv=$S;w6=rv.createRoot,rv.hydrateRoot;let Tf=null;const zS=e=>{Tf=e};let It=function(e){return e[e.debug=5]="debug",e[e.info=4]="info",e[e.log=3]="log",e[e.warn=2]="warn",e[e.error=1]="error",e}({});const qS=e=>{const{title:t,message:r}=e;return[`
    %c${t}
    ============================

    ${r}

    ============================
    `.replace(/\n[^\S\r\n]+/g,`
`).trim(),"font-weight:bold;font-family:monospace;"]},lt=async e=>{var a;const{title:t,message:r,level:n,always:i}=e,s=await((a=Tf==null?void 0:Tf())==null?void 0:a.get("logger.level"))??It.warn;if(!i&&s<n)return;const o=qS({title:t,message:r});switch(n){case It.debug:console.debug(...o);break;case It.info:console.info(...o);break;case It.warn:console.warn(...o);break;case It.error:console.error(...o);break;default:console.log(...o)}};lt.deprecate=e=>{const{pkg:t,subject:r,transition:n,level:i=It.warn,message:s="",callback:o=null}=e,a=c=>c.charAt(0).toUpperCase()+c.slice(1),u=()=>lt({title:`${t?t+" ":""}Deprecation Notice`,message:`
      ${r?`${a(r)} is deprecated and will cease to work in future releases${t?" of "+t:""}.`:""}${s?`
`+s:""}${n?`
You can learn more (including a guide on common transition paths) here: ${n}`:""}
    `.trim(),level:i});return typeof o=="function"?async function(){return await u(),await o(...arguments)}:u()};function se(e,t){var s,o,a;if(!e){const u=new Error(`INVARIANT ${t}`);u.stack=(a=(o=(s=u.stack)==null?void 0:s.split(`
`))==null?void 0:o.filter(c=>!/at invariant/.test(c)))==null?void 0:a.join(`
`);for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];throw console.error(`

---

`,u,`

`,...n,`

---

`),u}}let nf;const jS=new Uint8Array(16);function HS(){if(!nf&&(nf=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!nf))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return nf(jS)}const mr=[];for(let e=0;e<256;++e)mr.push((e+256).toString(16).slice(1));function KS(e,t=0){return mr[e[t+0]]+mr[e[t+1]]+mr[e[t+2]]+mr[e[t+3]]+"-"+mr[e[t+4]]+mr[e[t+5]]+"-"+mr[e[t+6]]+mr[e[t+7]]+"-"+mr[e[t+8]]+mr[e[t+9]]+"-"+mr[e[t+10]]+mr[e[t+11]]+mr[e[t+12]]+mr[e[t+13]]+mr[e[t+14]]+mr[e[t+15]]}const GS=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),nv={randomUUID:GS};function Og(e,t,r){if(nv.randomUUID&&!t&&!e)return nv.randomUUID();e=e||{};const n=e.random||(e.rng||HS)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,KS(n)}var mt=function(e){return e.UNKNOWN="UNKNOWN",e.SCRIPT="SCRIPT",e.TRANSACTION="TRANSACTION",e.GET_TRANSACTION_STATUS="GET_TRANSACTION_STATUS",e.GET_ACCOUNT="GET_ACCOUNT",e.GET_EVENTS="GET_EVENTS",e.PING="PING",e.GET_TRANSACTION="GET_TRANSACTION",e.GET_BLOCK="GET_BLOCK",e.GET_BLOCK_HEADER="GET_BLOCK_HEADER",e.GET_COLLECTION="GET_COLLECTION",e.GET_NETWORK_PARAMETERS="GET_NETWORK_PARAMETERS",e.SUBSCRIBE_EVENTS="SUBSCRIBE_EVENTS",e.GET_NODE_VERSION_INFO="GET_NODE_VERSION_INFO",e}({}),yl=function(e){return e.BAD="BAD",e.OK="OK",e}({}),Xc=function(e){return e.AUTHORIZER="authorizer",e.PAYER="payer",e.PROPOSER="proposer",e}({}),Zd=function(e){return e.ARGUMENT="ARGUMENT",e.ACCOUNT="ACCOUNT",e}({});const VS=()=>{const e=[];let t;return{async deliver(r){e.push(r),t&&(t(e.shift()),t=void 0)},receive(){return new Promise(function(n){const i=e.shift();if(i)return n(i);t=n})}}};let iv;const WS=e=>(iv||(iv=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0)),Zc="INIT",_u="SUBSCRIBE",Jo="UNSUBSCRIBE",Qp="UPDATED",E6="SNAPSHOT",Jp="EXIT",sv="TERMINATE",Nf=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||typeof window=="object"&&window.window===window&&window||{FCL_REGISTRY:null};Nf.FCL_REGISTRY=Nf.FCL_REGISTRY==null?{}:Nf.FCL_REGISTRY;const bt=Nf.FCL_REGISTRY;let u0=0;const YS=5e3;function rr(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{expectReply:!1};return new Promise((i,s)=>{const o=n.expectReply||!1,a=n.timeout!=null?n.timeout:YS;o&&a&&setTimeout(()=>s(new Error(`Timeout: ${a}ms passed without a response.`)),a);const u={to:e,from:n.from,tag:t,data:r,timeout:a,reply:i,reject:s};try{bt[e]&&bt[e].mailbox.deliver(u),o||i(!0)}catch(c){console.error("FCL.Actor -- Could Not Deliver Message",u,bt[e],c),s(c)}})}const QS=e=>{delete bt[e]},JS=e=>async t=>{var r;typeof e[Zc]=="function"&&await e[Zc](t);e:for(;;){const n=await t.receive();try{if(n.tag===Jp){typeof e[sv]=="function"&&await e[sv](t,n,n.data||{});break e}await((r=e[n.tag])==null?void 0:r.call(e,t,n,n.data||{}))}catch(i){console.error(`${t.self()} Error`,n,i)}finally{continue e}}},XS=e=>{if(e==null){for(;bt[String(u0)];)u0++;return String(u0)}return String(e)},ua=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const r=XS(t);if(bt[r]!=null)return r;bt[r]={addr:r,mailbox:VS(),subs:new Set,kvs:{},error:null};const n=ZS(r);let i;return typeof e=="object"?i=JS(e):i=e,WS(async()=>{await i(n),QS(r)}),r},ZS=e=>({self:()=>e,receive:()=>bt[e].mailbox.receive(),send:function(t,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(t!=null)return i.from=e,rr(t,r,n,i)},sendSelf:function(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};bt[e]&&rr(e,t,r,n)},broadcast:function(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};n.from=e;for(const i of bt[e].subs)rr(i,t,r,n)},subscribe:t=>t!=null&&bt[e].subs.add(t),unsubscribe:t=>t!=null&&bt[e].subs.delete(t),subscriberCount:()=>bt[e].subs.size,hasSubs:()=>!!bt[e].subs.size,put:(t,r)=>{t!=null&&(bt[e].kvs[t]=r)},get:function(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;const n=bt[e].kvs[t];return n??r},delete:t=>{delete bt[e].kvs[t]},update:(t,r)=>{t!=null&&(bt[e].kvs[t]=r(bt[e].kvs[t]))},keys:()=>Object.keys(bt[e].kvs),all:()=>bt[e].kvs,where:t=>Object.keys(bt[e].kvs).reduce((r,n)=>t.test(n)?{...r,[n]:bt[e].kvs[n]}:r,{}),merge:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.keys(t).forEach(r=>bt[e].kvs[r]=t[r])},fatalError:t=>{bt[e].error=t;for(const r of bt[e].subs)rr(r,Qp)}});function kg(e,t,r){t(e);const n=ua(async i=>{for(i.send(e,_u);;){const s=await i.receive(),o=bt[e].error;if(s.tag===Jp){i.send(e,Jo);return}if(o){r(null,o),i.send(e,Jo);return}r(s.data,null)}});return()=>rr(n,Jp)}function _6(e,t){return t(e),rr(e,E6,null,{expectReply:!0,timeout:0})}const c0=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n=>t.reduce((i,s)=>s(i),n)},e9=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n=>t.reduce((i,s)=>({...i,...s(n)}),{})},l0=e=>e&&typeof e=="object"&&!Array.isArray(e),Xp=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(!r.length)return e;const i=r.shift();if(l0(e)&&l0(i))for(const s in i)l0(i[s])?(e[s]||Object.assign(e,{[s]:{}}),Xp(e[s],i[s])):Object.assign(e,{[s]:i[s]});return Xp(e,...r)},t9=e=>Array.isArray(e)?Xp({},...e):e,r9=e=>e.contracts?e.contracts:{},n9=e=>e.dependencies?e.dependencies:{},i9=e=>t=>Object.entries(t).reduce((r,n)=>{var a;let[i,s]=n;const o=(a=s==null?void 0:s.aliases)==null?void 0:a[e];return o&&(r[i]=o),r},{}),s9=e=>t=>Object.entries(t).reduce((r,n)=>{var a;let[i,s]=n;const o=(a=s==null?void 0:s.aliases)==null?void 0:a[e];return o&&(r[i]=o),r},{}),o9=e=>t=>{let{deployments:r={},accounts:n={}}=t;const i=r==null?void 0:r[e];return i?Object.entries(i).reduce((s,o)=>{var f;let[a,u]=o;const c=(f=n[a])==null?void 0:f.address;return c?u.reduce((h,y)=>({...h,[y]:c}),{}):s},{}):{}},a9=(e,t)=>c0(t9,e9(o9(t),c0(r9,i9(t)),c0(n9,s9(t))))(e),u9=e=>typeof e!="string"?!1:/^[0-9A-Fa-f]+$/.test(e),ov=e=>Object.entries((e==null?void 0:e.accounts)??[]).reduce((t,r)=>{let[,n]=r;return t?!0:n&&Object.prototype.hasOwnProperty.call(n,"key")&&u9(n==null?void 0:n.key)},!1),c9=e=>Array.isArray(e)?e.some(ov):ov(e),l9=e=>{const t=(e==null?void 0:e.toLowerCase())==="local"?"emulator":e==null?void 0:e.toLowerCase();if(t==="emulator"||t==="testnet"||t==="mainnet"||t==="previewnet")return t;throw new Error(`Invalid network "${e}". Must be one of "emulator", "local", "testnet", or "mainnet"`)};zS(Be);const zi="config",S6="PUT_CONFIG",A6="GET_CONFIG",I6="GET_ALL_CONFIG",x6="UPDATE_CONFIG",M6="DELETE_CONFIG",R6="CLEAR_CONFIG",C6="WHERE_CONFIG",Xu="CONFIG/UPDATED",D6=e=>e,T6={[S6]:(e,t,r)=>{let{key:n,value:i}=r;if(n==null)throw new Error("Missing 'key' for config/put.");e.put(n,i),e.broadcast(Xu,{...e.all()})},[A6]:(e,t,r)=>{let{key:n,fallback:i}=r;if(n==null)throw new Error("Missing 'key' for config/get");t.reply(e.get(n,i))},[I6]:(e,t)=>{t.reply({...e.all()})},[x6]:(e,t,r)=>{let{key:n,fn:i}=r;if(n==null)throw new Error("Missing 'key' for config/update");e.update(n,i||D6),e.broadcast(Xu,{...e.all()})},[M6]:(e,t,r)=>{let{key:n}=r;if(n==null)throw new Error("Missing 'key' for config/delete");e.delete(n),e.broadcast(Xu,{...e.all()})},[R6]:e=>{const t=Object.keys(e.all());for(const r of t)e.delete(r);e.broadcast(Xu,{...e.all()})},[C6]:(e,t,r)=>{let{pattern:n}=r;if(n==null)throw new Error("Missing 'pattern' for config/where");t.reply(e.where(n))},[_u]:(e,t)=>{e.subscribe(t.from),e.send(t.from,Xu,{...e.all()})},[Jo]:(e,t)=>{e.unsubscribe(t.from)}};ua(T6,zi);function el(e,t){return rr(zi,S6,{key:e,value:t}),Be()}function Qa(e,t){return rr(zi,A6,{key:e,fallback:t},{expectReply:!0,timeout:10})}async function Fg(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(!e.length)return t;const[r,...n]=e,i=await Qa(r);return i??Fg(n,t)}function gd(){return rr(zi,I6,null,{expectReply:!0,timeout:10})}function N6(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:D6;return rr(zi,x6,{key:e,fn:t}),Be()}function P6(e){return rr(zi,M6,{key:e}),Be()}function O6(e){return rr(zi,C6,{pattern:e},{expectReply:!0,timeout:10})}function k6(e){return kg(zi,()=>ua(T6,zi),e)}async function f9(){await rr(zi,R6)}async function d9(e){return f9().then(()=>Be(e))}async function F6(e){let{ignoreConflicts:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=await Qa("flow.network"),n=l9(r),{flowJSON:i}=e;if(se(!!i,"config.load -- 'flowJSON' must be defined"),se(!!n,'Flow Network Required -- In order for FCL to load your contracts please define "flow.network" to "emulator", "local", "testnet", or "mainnet" in your config. See more here: https://developers.flow.com/tools/fcl-js/reference/configure-fcl'),c9(i)){const s=n==="emulator";lt({title:"Private Keys Detected",message:"Private keys should be stored in a separate flow.json file for security. See more here: https://developers.flow.com/tools/flow-cli/security",level:s?It.warn:It.error}),se(s,"Private keys should be stored in a separate flow.json file for security. See more here: https://developers.flow.com/tools/flow-cli/security")}for(const[s,o]of Object.entries(a9(i,n))){const a=`0x${s}`,u=await Qa(a);u&&u!==o&&!t?lt({title:"Contract Placeholder Conflict Detected",message:"A generated contract placeholder from config.load conflicts with a placeholder you've set manually in config have the same name.",level:It.warn}):el(a,o);const c=`system.contracts.${s}`,f=await Qa(c);f&&f!==o&&!t?lt({title:"Contract Placeholder Conflict Detected",message:"A generated contract placeholder from config.load conflicts with a placeholder you've set manually in config have the same name.",level:It.warn}):el(c,o)}}function Be(e){return e!=null&&typeof e=="object"&&Object.keys(e).map(t=>el(t,e[t])),{put:el,get:Qa,all:gd,first:Fg,update:N6,delete:P6,where:O6,subscribe:k6,overload:B6,load:F6}}Be.put=el;Be.get=Qa;Be.all=gd;Be.first=Fg;Be.update=N6;Be.delete=P6;Be.where=O6;Be.subscribe=k6;Be.overload=B6;Be.load=F6;async function B6(e,t){const r=await gd();try{return Be(e),await t(await gd())}finally{await d9(r)}}var pt={},eh={};eh.byteLength=g9;eh.toByteArray=y9;eh.fromByteArray=w9;var Ci=[],Un=[],h9=typeof Uint8Array<"u"?Uint8Array:Array,f0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ba=0,p9=f0.length;ba<p9;++ba)Ci[ba]=f0[ba],Un[f0.charCodeAt(ba)]=ba;Un[45]=62;Un[95]=63;function L6(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function g9(e){var t=L6(e),r=t[0],n=t[1];return(r+n)*3/4-n}function m9(e,t,r){return(t+r)*3/4-r}function y9(e){var t,r=L6(e),n=r[0],i=r[1],s=new h9(m9(e,n,i)),o=0,a=i>0?n-4:n,u;for(u=0;u<a;u+=4)t=Un[e.charCodeAt(u)]<<18|Un[e.charCodeAt(u+1)]<<12|Un[e.charCodeAt(u+2)]<<6|Un[e.charCodeAt(u+3)],s[o++]=t>>16&255,s[o++]=t>>8&255,s[o++]=t&255;return i===2&&(t=Un[e.charCodeAt(u)]<<2|Un[e.charCodeAt(u+1)]>>4,s[o++]=t&255),i===1&&(t=Un[e.charCodeAt(u)]<<10|Un[e.charCodeAt(u+1)]<<4|Un[e.charCodeAt(u+2)]>>2,s[o++]=t>>8&255,s[o++]=t&255),s}function v9(e){return Ci[e>>18&63]+Ci[e>>12&63]+Ci[e>>6&63]+Ci[e&63]}function b9(e,t,r){for(var n,i=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),i.push(v9(n));return i.join("")}function w9(e){for(var t,r=e.length,n=r%3,i=[],s=16383,o=0,a=r-n;o<a;o+=s)i.push(b9(e,o,o+s>a?a:o+s));return n===1?(t=e[r-1],i.push(Ci[t>>2]+Ci[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(Ci[t>>10]+Ci[t>>4&63]+Ci[t<<2&63]+"=")),i.join("")}var Bg={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Bg.read=function(e,t,r,n,i){var s,o,a=i*8-n-1,u=(1<<a)-1,c=u>>1,f=-7,h=r?i-1:0,y=r?-1:1,v=e[t+h];for(h+=y,s=v&(1<<-f)-1,v>>=-f,f+=a;f>0;s=s*256+e[t+h],h+=y,f-=8);for(o=s&(1<<-f)-1,s>>=-f,f+=n;f>0;o=o*256+e[t+h],h+=y,f-=8);if(s===0)s=1-c;else{if(s===u)return o?NaN:(v?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-c}return(v?-1:1)*o*Math.pow(2,s-n)};Bg.write=function(e,t,r,n,i,s){var o,a,u,c=s*8-i-1,f=(1<<c)-1,h=f>>1,y=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=n?0:s-1,w=n?1:-1,C=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=f):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+h>=1?t+=y/u:t+=y*Math.pow(2,1-h),t*u>=2&&(o++,u/=2),o+h>=f?(a=0,o=f):o+h>=1?(a=(t*u-1)*Math.pow(2,i),o=o+h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[r+v]=a&255,v+=w,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;e[r+v]=o&255,v+=w,o/=256,c-=8);e[r+v-w]|=C*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=eh,r=Bg,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=x,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const F=new Uint8Array(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(F,_),F.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(F){if(F>i)throw new RangeError('The value "'+F+'" is invalid for option "size"');const _=new Uint8Array(F);return Object.setPrototypeOf(_,a.prototype),_}function a(F,_,M){if(typeof F=="number"){if(typeof _=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(F)}return u(F,_,M)}a.poolSize=8192;function u(F,_,M){if(typeof F=="string")return y(F,_);if(ArrayBuffer.isView(F))return w(F);if(F==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F);if(le(F,ArrayBuffer)||F&&le(F.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(le(F,SharedArrayBuffer)||F&&le(F.buffer,SharedArrayBuffer)))return C(F,_,M);if(typeof F=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const z=F.valueOf&&F.valueOf();if(z!=null&&z!==F)return a.from(z,_,M);const W=N(F);if(W)return W;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof F[Symbol.toPrimitive]=="function")return a.from(F[Symbol.toPrimitive]("string"),_,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F)}a.from=function(F,_,M){return u(F,_,M)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(F){if(typeof F!="number")throw new TypeError('"size" argument must be of type number');if(F<0)throw new RangeError('The value "'+F+'" is invalid for option "size"')}function f(F,_,M){return c(F),F<=0?o(F):_!==void 0?typeof M=="string"?o(F).fill(_,M):o(F).fill(_):o(F)}a.alloc=function(F,_,M){return f(F,_,M)};function h(F){return c(F),o(F<0?0:T(F)|0)}a.allocUnsafe=function(F){return h(F)},a.allocUnsafeSlow=function(F){return h(F)};function y(F,_){if((typeof _!="string"||_==="")&&(_="utf8"),!a.isEncoding(_))throw new TypeError("Unknown encoding: "+_);const M=O(F,_)|0;let z=o(M);const W=z.write(F,_);return W!==M&&(z=z.slice(0,W)),z}function v(F){const _=F.length<0?0:T(F.length)|0,M=o(_);for(let z=0;z<_;z+=1)M[z]=F[z]&255;return M}function w(F){if(le(F,Uint8Array)){const _=new Uint8Array(F);return C(_.buffer,_.byteOffset,_.byteLength)}return v(F)}function C(F,_,M){if(_<0||F.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(F.byteLength<_+(M||0))throw new RangeError('"length" is outside of buffer bounds');let z;return _===void 0&&M===void 0?z=new Uint8Array(F):M===void 0?z=new Uint8Array(F,_):z=new Uint8Array(F,_,M),Object.setPrototypeOf(z,a.prototype),z}function N(F){if(a.isBuffer(F)){const _=T(F.length)|0,M=o(_);return M.length===0||F.copy(M,0,0,_),M}if(F.length!==void 0)return typeof F.length!="number"||we(F.length)?o(0):v(F);if(F.type==="Buffer"&&Array.isArray(F.data))return v(F.data)}function T(F){if(F>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return F|0}function x(F){return+F!=F&&(F=0),a.alloc(+F)}a.isBuffer=function(_){return _!=null&&_._isBuffer===!0&&_!==a.prototype},a.compare=function(_,M){if(le(_,Uint8Array)&&(_=a.from(_,_.offset,_.byteLength)),le(M,Uint8Array)&&(M=a.from(M,M.offset,M.byteLength)),!a.isBuffer(_)||!a.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===M)return 0;let z=_.length,W=M.length;for(let Q=0,ee=Math.min(z,W);Q<ee;++Q)if(_[Q]!==M[Q]){z=_[Q],W=M[Q];break}return z<W?-1:W<z?1:0},a.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(_,M){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(_.length===0)return a.alloc(0);let z;if(M===void 0)for(M=0,z=0;z<_.length;++z)M+=_[z].length;const W=a.allocUnsafe(M);let Q=0;for(z=0;z<_.length;++z){let ee=_[z];if(le(ee,Uint8Array))Q+ee.length>W.length?(a.isBuffer(ee)||(ee=a.from(ee)),ee.copy(W,Q)):Uint8Array.prototype.set.call(W,ee,Q);else if(a.isBuffer(ee))ee.copy(W,Q);else throw new TypeError('"list" argument must be an Array of Buffers');Q+=ee.length}return W};function O(F,_){if(a.isBuffer(F))return F.length;if(ArrayBuffer.isView(F)||le(F,ArrayBuffer))return F.byteLength;if(typeof F!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof F);const M=F.length,z=arguments.length>2&&arguments[2]===!0;if(!z&&M===0)return 0;let W=!1;for(;;)switch(_){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return Oe(F).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M*2;case"hex":return M>>>1;case"base64":return xe(F).length;default:if(W)return z?-1:Oe(F).length;_=(""+_).toLowerCase(),W=!0}}a.byteLength=O;function k(F,_,M){let z=!1;if((_===void 0||_<0)&&(_=0),_>this.length||((M===void 0||M>this.length)&&(M=this.length),M<=0)||(M>>>=0,_>>>=0,M<=_))return"";for(F||(F="utf8");;)switch(F){case"hex":return I(this,_,M);case"utf8":case"utf-8":return d(this,_,M);case"ascii":return D(this,_,M);case"latin1":case"binary":return R(this,_,M);case"base64":return l(this,_,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return p(this,_,M);default:if(z)throw new TypeError("Unknown encoding: "+F);F=(F+"").toLowerCase(),z=!0}}a.prototype._isBuffer=!0;function L(F,_,M){const z=F[_];F[_]=F[M],F[M]=z}a.prototype.swap16=function(){const _=this.length;if(_%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let M=0;M<_;M+=2)L(this,M,M+1);return this},a.prototype.swap32=function(){const _=this.length;if(_%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let M=0;M<_;M+=4)L(this,M,M+3),L(this,M+1,M+2);return this},a.prototype.swap64=function(){const _=this.length;if(_%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let M=0;M<_;M+=8)L(this,M,M+7),L(this,M+1,M+6),L(this,M+2,M+5),L(this,M+3,M+4);return this},a.prototype.toString=function(){const _=this.length;return _===0?"":arguments.length===0?d(this,0,_):k.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(_){if(!a.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_?!0:a.compare(this,_)===0},a.prototype.inspect=function(){let _="";const M=e.INSPECT_MAX_BYTES;return _=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(_+=" ... "),"<Buffer "+_+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(_,M,z,W,Q){if(le(_,Uint8Array)&&(_=a.from(_,_.offset,_.byteLength)),!a.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(M===void 0&&(M=0),z===void 0&&(z=_?_.length:0),W===void 0&&(W=0),Q===void 0&&(Q=this.length),M<0||z>_.length||W<0||Q>this.length)throw new RangeError("out of range index");if(W>=Q&&M>=z)return 0;if(W>=Q)return-1;if(M>=z)return 1;if(M>>>=0,z>>>=0,W>>>=0,Q>>>=0,this===_)return 0;let ee=Q-W,oe=z-M;const he=Math.min(ee,oe),Ce=this.slice(W,Q),me=_.slice(M,z);for(let De=0;De<he;++De)if(Ce[De]!==me[De]){ee=Ce[De],oe=me[De];break}return ee<oe?-1:oe<ee?1:0};function $(F,_,M,z,W){if(F.length===0)return-1;if(typeof M=="string"?(z=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),M=+M,we(M)&&(M=W?0:F.length-1),M<0&&(M=F.length+M),M>=F.length){if(W)return-1;M=F.length-1}else if(M<0)if(W)M=0;else return-1;if(typeof _=="string"&&(_=a.from(_,z)),a.isBuffer(_))return _.length===0?-1:E(F,_,M,z,W);if(typeof _=="number")return _=_&255,typeof Uint8Array.prototype.indexOf=="function"?W?Uint8Array.prototype.indexOf.call(F,_,M):Uint8Array.prototype.lastIndexOf.call(F,_,M):E(F,[_],M,z,W);throw new TypeError("val must be string, number or Buffer")}function E(F,_,M,z,W){let Q=1,ee=F.length,oe=_.length;if(z!==void 0&&(z=String(z).toLowerCase(),z==="ucs2"||z==="ucs-2"||z==="utf16le"||z==="utf-16le")){if(F.length<2||_.length<2)return-1;Q=2,ee/=2,oe/=2,M/=2}function he(me,De){return Q===1?me[De]:me.readUInt16BE(De*Q)}let Ce;if(W){let me=-1;for(Ce=M;Ce<ee;Ce++)if(he(F,Ce)===he(_,me===-1?0:Ce-me)){if(me===-1&&(me=Ce),Ce-me+1===oe)return me*Q}else me!==-1&&(Ce-=Ce-me),me=-1}else for(M+oe>ee&&(M=ee-oe),Ce=M;Ce>=0;Ce--){let me=!0;for(let De=0;De<oe;De++)if(he(F,Ce+De)!==he(_,De)){me=!1;break}if(me)return Ce}return-1}a.prototype.includes=function(_,M,z){return this.indexOf(_,M,z)!==-1},a.prototype.indexOf=function(_,M,z){return $(this,_,M,z,!0)},a.prototype.lastIndexOf=function(_,M,z){return $(this,_,M,z,!1)};function U(F,_,M,z){M=Number(M)||0;const W=F.length-M;z?(z=Number(z),z>W&&(z=W)):z=W;const Q=_.length;z>Q/2&&(z=Q/2);let ee;for(ee=0;ee<z;++ee){const oe=parseInt(_.substr(ee*2,2),16);if(we(oe))return ee;F[M+ee]=oe}return ee}function Z(F,_,M,z){return Ee(Oe(_,F.length-M),F,M,z)}function ne(F,_,M,z){return Ee(Le(_),F,M,z)}function q(F,_,M,z){return Ee(xe(_),F,M,z)}function b(F,_,M,z){return Ee(ve(_,F.length-M),F,M,z)}a.prototype.write=function(_,M,z,W){if(M===void 0)W="utf8",z=this.length,M=0;else if(z===void 0&&typeof M=="string")W=M,z=this.length,M=0;else if(isFinite(M))M=M>>>0,isFinite(z)?(z=z>>>0,W===void 0&&(W="utf8")):(W=z,z=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Q=this.length-M;if((z===void 0||z>Q)&&(z=Q),_.length>0&&(z<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");W||(W="utf8");let ee=!1;for(;;)switch(W){case"hex":return U(this,_,M,z);case"utf8":case"utf-8":return Z(this,_,M,z);case"ascii":case"latin1":case"binary":return ne(this,_,M,z);case"base64":return q(this,_,M,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,_,M,z);default:if(ee)throw new TypeError("Unknown encoding: "+W);W=(""+W).toLowerCase(),ee=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function l(F,_,M){return _===0&&M===F.length?t.fromByteArray(F):t.fromByteArray(F.slice(_,M))}function d(F,_,M){M=Math.min(F.length,M);const z=[];let W=_;for(;W<M;){const Q=F[W];let ee=null,oe=Q>239?4:Q>223?3:Q>191?2:1;if(W+oe<=M){let he,Ce,me,De;switch(oe){case 1:Q<128&&(ee=Q);break;case 2:he=F[W+1],(he&192)===128&&(De=(Q&31)<<6|he&63,De>127&&(ee=De));break;case 3:he=F[W+1],Ce=F[W+2],(he&192)===128&&(Ce&192)===128&&(De=(Q&15)<<12|(he&63)<<6|Ce&63,De>2047&&(De<55296||De>57343)&&(ee=De));break;case 4:he=F[W+1],Ce=F[W+2],me=F[W+3],(he&192)===128&&(Ce&192)===128&&(me&192)===128&&(De=(Q&15)<<18|(he&63)<<12|(Ce&63)<<6|me&63,De>65535&&De<1114112&&(ee=De))}}ee===null?(ee=65533,oe=1):ee>65535&&(ee-=65536,z.push(ee>>>10&1023|55296),ee=56320|ee&1023),z.push(ee),W+=oe}return A(z)}const m=4096;function A(F){const _=F.length;if(_<=m)return String.fromCharCode.apply(String,F);let M="",z=0;for(;z<_;)M+=String.fromCharCode.apply(String,F.slice(z,z+=m));return M}function D(F,_,M){let z="";M=Math.min(F.length,M);for(let W=_;W<M;++W)z+=String.fromCharCode(F[W]&127);return z}function R(F,_,M){let z="";M=Math.min(F.length,M);for(let W=_;W<M;++W)z+=String.fromCharCode(F[W]);return z}function I(F,_,M){const z=F.length;(!_||_<0)&&(_=0),(!M||M<0||M>z)&&(M=z);let W="";for(let Q=_;Q<M;++Q)W+=_e[F[Q]];return W}function p(F,_,M){const z=F.slice(_,M);let W="";for(let Q=0;Q<z.length-1;Q+=2)W+=String.fromCharCode(z[Q]+z[Q+1]*256);return W}a.prototype.slice=function(_,M){const z=this.length;_=~~_,M=M===void 0?z:~~M,_<0?(_+=z,_<0&&(_=0)):_>z&&(_=z),M<0?(M+=z,M<0&&(M=0)):M>z&&(M=z),M<_&&(M=_);const W=this.subarray(_,M);return Object.setPrototypeOf(W,a.prototype),W};function g(F,_,M){if(F%1!==0||F<0)throw new RangeError("offset is not uint");if(F+_>M)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(_,M,z){_=_>>>0,M=M>>>0,z||g(_,M,this.length);let W=this[_],Q=1,ee=0;for(;++ee<M&&(Q*=256);)W+=this[_+ee]*Q;return W},a.prototype.readUintBE=a.prototype.readUIntBE=function(_,M,z){_=_>>>0,M=M>>>0,z||g(_,M,this.length);let W=this[_+--M],Q=1;for(;M>0&&(Q*=256);)W+=this[_+--M]*Q;return W},a.prototype.readUint8=a.prototype.readUInt8=function(_,M){return _=_>>>0,M||g(_,1,this.length),this[_]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(_,M){return _=_>>>0,M||g(_,2,this.length),this[_]|this[_+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(_,M){return _=_>>>0,M||g(_,2,this.length),this[_]<<8|this[_+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(_,M){return _=_>>>0,M||g(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+this[_+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(_,M){return _=_>>>0,M||g(_,4,this.length),this[_]*16777216+(this[_+1]<<16|this[_+2]<<8|this[_+3])},a.prototype.readBigUInt64LE=ce(function(_){_=_>>>0,ie(_,"offset");const M=this[_],z=this[_+7];(M===void 0||z===void 0)&&ae(_,this.length-8);const W=M+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24,Q=this[++_]+this[++_]*2**8+this[++_]*2**16+z*2**24;return BigInt(W)+(BigInt(Q)<<BigInt(32))}),a.prototype.readBigUInt64BE=ce(function(_){_=_>>>0,ie(_,"offset");const M=this[_],z=this[_+7];(M===void 0||z===void 0)&&ae(_,this.length-8);const W=M*2**24+this[++_]*2**16+this[++_]*2**8+this[++_],Q=this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+z;return(BigInt(W)<<BigInt(32))+BigInt(Q)}),a.prototype.readIntLE=function(_,M,z){_=_>>>0,M=M>>>0,z||g(_,M,this.length);let W=this[_],Q=1,ee=0;for(;++ee<M&&(Q*=256);)W+=this[_+ee]*Q;return Q*=128,W>=Q&&(W-=Math.pow(2,8*M)),W},a.prototype.readIntBE=function(_,M,z){_=_>>>0,M=M>>>0,z||g(_,M,this.length);let W=M,Q=1,ee=this[_+--W];for(;W>0&&(Q*=256);)ee+=this[_+--W]*Q;return Q*=128,ee>=Q&&(ee-=Math.pow(2,8*M)),ee},a.prototype.readInt8=function(_,M){return _=_>>>0,M||g(_,1,this.length),this[_]&128?(255-this[_]+1)*-1:this[_]},a.prototype.readInt16LE=function(_,M){_=_>>>0,M||g(_,2,this.length);const z=this[_]|this[_+1]<<8;return z&32768?z|4294901760:z},a.prototype.readInt16BE=function(_,M){_=_>>>0,M||g(_,2,this.length);const z=this[_+1]|this[_]<<8;return z&32768?z|4294901760:z},a.prototype.readInt32LE=function(_,M){return _=_>>>0,M||g(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},a.prototype.readInt32BE=function(_,M){return _=_>>>0,M||g(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},a.prototype.readBigInt64LE=ce(function(_){_=_>>>0,ie(_,"offset");const M=this[_],z=this[_+7];(M===void 0||z===void 0)&&ae(_,this.length-8);const W=this[_+4]+this[_+5]*2**8+this[_+6]*2**16+(z<<24);return(BigInt(W)<<BigInt(32))+BigInt(M+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24)}),a.prototype.readBigInt64BE=ce(function(_){_=_>>>0,ie(_,"offset");const M=this[_],z=this[_+7];(M===void 0||z===void 0)&&ae(_,this.length-8);const W=(M<<24)+this[++_]*2**16+this[++_]*2**8+this[++_];return(BigInt(W)<<BigInt(32))+BigInt(this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+z)}),a.prototype.readFloatLE=function(_,M){return _=_>>>0,M||g(_,4,this.length),r.read(this,_,!0,23,4)},a.prototype.readFloatBE=function(_,M){return _=_>>>0,M||g(_,4,this.length),r.read(this,_,!1,23,4)},a.prototype.readDoubleLE=function(_,M){return _=_>>>0,M||g(_,8,this.length),r.read(this,_,!0,52,8)},a.prototype.readDoubleBE=function(_,M){return _=_>>>0,M||g(_,8,this.length),r.read(this,_,!1,52,8)};function B(F,_,M,z,W,Q){if(!a.isBuffer(F))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>W||_<Q)throw new RangeError('"value" argument is out of bounds');if(M+z>F.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(_,M,z,W){if(_=+_,M=M>>>0,z=z>>>0,!W){const oe=Math.pow(2,8*z)-1;B(this,_,M,z,oe,0)}let Q=1,ee=0;for(this[M]=_&255;++ee<z&&(Q*=256);)this[M+ee]=_/Q&255;return M+z},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(_,M,z,W){if(_=+_,M=M>>>0,z=z>>>0,!W){const oe=Math.pow(2,8*z)-1;B(this,_,M,z,oe,0)}let Q=z-1,ee=1;for(this[M+Q]=_&255;--Q>=0&&(ee*=256);)this[M+Q]=_/ee&255;return M+z},a.prototype.writeUint8=a.prototype.writeUInt8=function(_,M,z){return _=+_,M=M>>>0,z||B(this,_,M,1,255,0),this[M]=_&255,M+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(_,M,z){return _=+_,M=M>>>0,z||B(this,_,M,2,65535,0),this[M]=_&255,this[M+1]=_>>>8,M+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(_,M,z){return _=+_,M=M>>>0,z||B(this,_,M,2,65535,0),this[M]=_>>>8,this[M+1]=_&255,M+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(_,M,z){return _=+_,M=M>>>0,z||B(this,_,M,4,4294967295,0),this[M+3]=_>>>24,this[M+2]=_>>>16,this[M+1]=_>>>8,this[M]=_&255,M+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(_,M,z){return _=+_,M=M>>>0,z||B(this,_,M,4,4294967295,0),this[M]=_>>>24,this[M+1]=_>>>16,this[M+2]=_>>>8,this[M+3]=_&255,M+4};function Y(F,_,M,z,W){re(_,z,W,F,M,7);let Q=Number(_&BigInt(4294967295));F[M++]=Q,Q=Q>>8,F[M++]=Q,Q=Q>>8,F[M++]=Q,Q=Q>>8,F[M++]=Q;let ee=Number(_>>BigInt(32)&BigInt(4294967295));return F[M++]=ee,ee=ee>>8,F[M++]=ee,ee=ee>>8,F[M++]=ee,ee=ee>>8,F[M++]=ee,M}function te(F,_,M,z,W){re(_,z,W,F,M,7);let Q=Number(_&BigInt(4294967295));F[M+7]=Q,Q=Q>>8,F[M+6]=Q,Q=Q>>8,F[M+5]=Q,Q=Q>>8,F[M+4]=Q;let ee=Number(_>>BigInt(32)&BigInt(4294967295));return F[M+3]=ee,ee=ee>>8,F[M+2]=ee,ee=ee>>8,F[M+1]=ee,ee=ee>>8,F[M]=ee,M+8}a.prototype.writeBigUInt64LE=ce(function(_,M=0){return Y(this,_,M,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=ce(function(_,M=0){return te(this,_,M,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(_,M,z,W){if(_=+_,M=M>>>0,!W){const he=Math.pow(2,8*z-1);B(this,_,M,z,he-1,-he)}let Q=0,ee=1,oe=0;for(this[M]=_&255;++Q<z&&(ee*=256);)_<0&&oe===0&&this[M+Q-1]!==0&&(oe=1),this[M+Q]=(_/ee>>0)-oe&255;return M+z},a.prototype.writeIntBE=function(_,M,z,W){if(_=+_,M=M>>>0,!W){const he=Math.pow(2,8*z-1);B(this,_,M,z,he-1,-he)}let Q=z-1,ee=1,oe=0;for(this[M+Q]=_&255;--Q>=0&&(ee*=256);)_<0&&oe===0&&this[M+Q+1]!==0&&(oe=1),this[M+Q]=(_/ee>>0)-oe&255;return M+z},a.prototype.writeInt8=function(_,M,z){return _=+_,M=M>>>0,z||B(this,_,M,1,127,-128),_<0&&(_=255+_+1),this[M]=_&255,M+1},a.prototype.writeInt16LE=function(_,M,z){return _=+_,M=M>>>0,z||B(this,_,M,2,32767,-32768),this[M]=_&255,this[M+1]=_>>>8,M+2},a.prototype.writeInt16BE=function(_,M,z){return _=+_,M=M>>>0,z||B(this,_,M,2,32767,-32768),this[M]=_>>>8,this[M+1]=_&255,M+2},a.prototype.writeInt32LE=function(_,M,z){return _=+_,M=M>>>0,z||B(this,_,M,4,2147483647,-2147483648),this[M]=_&255,this[M+1]=_>>>8,this[M+2]=_>>>16,this[M+3]=_>>>24,M+4},a.prototype.writeInt32BE=function(_,M,z){return _=+_,M=M>>>0,z||B(this,_,M,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[M]=_>>>24,this[M+1]=_>>>16,this[M+2]=_>>>8,this[M+3]=_&255,M+4},a.prototype.writeBigInt64LE=ce(function(_,M=0){return Y(this,_,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=ce(function(_,M=0){return te(this,_,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function P(F,_,M,z,W,Q){if(M+z>F.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function J(F,_,M,z,W){return _=+_,M=M>>>0,W||P(F,_,M,4),r.write(F,_,M,z,23,4),M+4}a.prototype.writeFloatLE=function(_,M,z){return J(this,_,M,!0,z)},a.prototype.writeFloatBE=function(_,M,z){return J(this,_,M,!1,z)};function j(F,_,M,z,W){return _=+_,M=M>>>0,W||P(F,_,M,8),r.write(F,_,M,z,52,8),M+8}a.prototype.writeDoubleLE=function(_,M,z){return j(this,_,M,!0,z)},a.prototype.writeDoubleBE=function(_,M,z){return j(this,_,M,!1,z)},a.prototype.copy=function(_,M,z,W){if(!a.isBuffer(_))throw new TypeError("argument should be a Buffer");if(z||(z=0),!W&&W!==0&&(W=this.length),M>=_.length&&(M=_.length),M||(M=0),W>0&&W<z&&(W=z),W===z||_.length===0||this.length===0)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(z<0||z>=this.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("sourceEnd out of bounds");W>this.length&&(W=this.length),_.length-M<W-z&&(W=_.length-M+z);const Q=W-z;return this===_&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(M,z,W):Uint8Array.prototype.set.call(_,this.subarray(z,W),M),Q},a.prototype.fill=function(_,M,z,W){if(typeof _=="string"){if(typeof M=="string"?(W=M,M=0,z=this.length):typeof z=="string"&&(W=z,z=this.length),W!==void 0&&typeof W!="string")throw new TypeError("encoding must be a string");if(typeof W=="string"&&!a.isEncoding(W))throw new TypeError("Unknown encoding: "+W);if(_.length===1){const ee=_.charCodeAt(0);(W==="utf8"&&ee<128||W==="latin1")&&(_=ee)}}else typeof _=="number"?_=_&255:typeof _=="boolean"&&(_=Number(_));if(M<0||this.length<M||this.length<z)throw new RangeError("Out of range index");if(z<=M)return this;M=M>>>0,z=z===void 0?this.length:z>>>0,_||(_=0);let Q;if(typeof _=="number")for(Q=M;Q<z;++Q)this[Q]=_;else{const ee=a.isBuffer(_)?_:a.from(_,W),oe=ee.length;if(oe===0)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(Q=0;Q<z-M;++Q)this[Q+M]=ee[Q%oe]}return this};const K={};function G(F,_,M){K[F]=class extends M{constructor(){super(),Object.defineProperty(this,"message",{value:_.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${F}]`,this.stack,delete this.name}get code(){return F}set code(W){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:W,writable:!0})}toString(){return`${this.name} [${F}]: ${this.message}`}}}G("ERR_BUFFER_OUT_OF_BOUNDS",function(F){return F?`${F} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),G("ERR_INVALID_ARG_TYPE",function(F,_){return`The "${F}" argument must be of type number. Received type ${typeof _}`},TypeError),G("ERR_OUT_OF_RANGE",function(F,_,M){let z=`The value of "${F}" is out of range.`,W=M;return Number.isInteger(M)&&Math.abs(M)>2**32?W=S(String(M)):typeof M=="bigint"&&(W=String(M),(M>BigInt(2)**BigInt(32)||M<-(BigInt(2)**BigInt(32)))&&(W=S(W)),W+="n"),z+=` It must be ${_}. Received ${W}`,z},RangeError);function S(F){let _="",M=F.length;const z=F[0]==="-"?1:0;for(;M>=z+4;M-=3)_=`_${F.slice(M-3,M)}${_}`;return`${F.slice(0,M)}${_}`}function H(F,_,M){ie(_,"offset"),(F[_]===void 0||F[_+M]===void 0)&&ae(_,F.length-(M+1))}function re(F,_,M,z,W,Q){if(F>M||F<_){const ee=typeof _=="bigint"?"n":"";let oe;throw _===0||_===BigInt(0)?oe=`>= 0${ee} and < 2${ee} ** ${(Q+1)*8}${ee}`:oe=`>= -(2${ee} ** ${(Q+1)*8-1}${ee}) and < 2 ** ${(Q+1)*8-1}${ee}`,new K.ERR_OUT_OF_RANGE("value",oe,F)}H(z,W,Q)}function ie(F,_){if(typeof F!="number")throw new K.ERR_INVALID_ARG_TYPE(_,"number",F)}function ae(F,_,M){throw Math.floor(F)!==F?(ie(F,M),new K.ERR_OUT_OF_RANGE("offset","an integer",F)):_<0?new K.ERR_BUFFER_OUT_OF_BOUNDS:new K.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${_}`,F)}const pe=/[^+/0-9A-Za-z-_]/g;function de(F){if(F=F.split("=")[0],F=F.trim().replace(pe,""),F.length<2)return"";for(;F.length%4!==0;)F=F+"=";return F}function Oe(F,_){_=_||1/0;let M;const z=F.length;let W=null;const Q=[];for(let ee=0;ee<z;++ee){if(M=F.charCodeAt(ee),M>55295&&M<57344){if(!W){if(M>56319){(_-=3)>-1&&Q.push(239,191,189);continue}else if(ee+1===z){(_-=3)>-1&&Q.push(239,191,189);continue}W=M;continue}if(M<56320){(_-=3)>-1&&Q.push(239,191,189),W=M;continue}M=(W-55296<<10|M-56320)+65536}else W&&(_-=3)>-1&&Q.push(239,191,189);if(W=null,M<128){if((_-=1)<0)break;Q.push(M)}else if(M<2048){if((_-=2)<0)break;Q.push(M>>6|192,M&63|128)}else if(M<65536){if((_-=3)<0)break;Q.push(M>>12|224,M>>6&63|128,M&63|128)}else if(M<1114112){if((_-=4)<0)break;Q.push(M>>18|240,M>>12&63|128,M>>6&63|128,M&63|128)}else throw new Error("Invalid code point")}return Q}function Le(F){const _=[];for(let M=0;M<F.length;++M)_.push(F.charCodeAt(M)&255);return _}function ve(F,_){let M,z,W;const Q=[];for(let ee=0;ee<F.length&&!((_-=2)<0);++ee)M=F.charCodeAt(ee),z=M>>8,W=M%256,Q.push(W),Q.push(z);return Q}function xe(F){return t.toByteArray(de(F))}function Ee(F,_,M,z){let W;for(W=0;W<z&&!(W+M>=_.length||W>=F.length);++W)_[W+M]=F[W];return W}function le(F,_){return F instanceof _||F!=null&&F.constructor!=null&&F.constructor.name!=null&&F.constructor.name===_.name}function we(F){return F!==F}const _e=function(){const F="0123456789abcdef",_=new Array(256);for(let M=0;M<16;++M){const z=M*16;for(let W=0;W<16;++W)_[z+W]=F[M]+F[W]}return _}();function ce(F){return typeof BigInt>"u"?be:F}function be(){throw new Error("BigInt not supported")}})(pt);function Lg(e){if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++)t.push(Lg(e[n]));const r=pt.Buffer.concat(t);return pt.Buffer.concat([av(r.length,192),r])}else{const t=A9(e);return t.length===1&&t[0]<128?t:pt.Buffer.concat([av(t.length,128),t])}}function av(e,t){if(e<56)return pt.Buffer.from([e+t]);{const r=Zp(e),n=r.length/2,i=Zp(t+55+n);return pt.Buffer.from(i+r,"hex")}}function U6(e){return e.slice(0,2)==="0x"}function E9(e){return typeof e!="string"?e:U6(e)?e.slice(2):e}function Zp(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");const t=e.toString(16);return t.length%2?"0"+t:t}function _9(e){return e.length%2?"0"+e:e}function S9(e){const t=Zp(e);return pt.Buffer.from(t,"hex")}function A9(e){if(!pt.Buffer.isBuffer(e)){if(typeof e=="string")return U6(e)?pt.Buffer.from(_9(E9(e)),"hex"):pt.Buffer.from(e);if(typeof e=="number")return e?S9(e):pt.Buffer.from([]);if(e==null)return pt.Buffer.from([]);if(e instanceof Uint8Array)return pt.Buffer.from(e);throw new Error("invalid type")}return e}var e1={exports:{}};(function(e,t){var r=typeof self<"u"?self:yn,n=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(o){var a={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function u(d){return d&&DataView.prototype.isPrototypeOf(d)}if(a.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(d){return d&&c.indexOf(Object.prototype.toString.call(d))>-1};function h(d){if(typeof d!="string"&&(d=String(d)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(d))throw new TypeError("Invalid character in header field name");return d.toLowerCase()}function y(d){return typeof d!="string"&&(d=String(d)),d}function v(d){var m={next:function(){var A=d.shift();return{done:A===void 0,value:A}}};return a.iterable&&(m[Symbol.iterator]=function(){return m}),m}function w(d){this.map={},d instanceof w?d.forEach(function(m,A){this.append(A,m)},this):Array.isArray(d)?d.forEach(function(m){this.append(m[0],m[1])},this):d&&Object.getOwnPropertyNames(d).forEach(function(m){this.append(m,d[m])},this)}w.prototype.append=function(d,m){d=h(d),m=y(m);var A=this.map[d];this.map[d]=A?A+", "+m:m},w.prototype.delete=function(d){delete this.map[h(d)]},w.prototype.get=function(d){return d=h(d),this.has(d)?this.map[d]:null},w.prototype.has=function(d){return this.map.hasOwnProperty(h(d))},w.prototype.set=function(d,m){this.map[h(d)]=y(m)},w.prototype.forEach=function(d,m){for(var A in this.map)this.map.hasOwnProperty(A)&&d.call(m,this.map[A],A,this)},w.prototype.keys=function(){var d=[];return this.forEach(function(m,A){d.push(A)}),v(d)},w.prototype.values=function(){var d=[];return this.forEach(function(m){d.push(m)}),v(d)},w.prototype.entries=function(){var d=[];return this.forEach(function(m,A){d.push([A,m])}),v(d)},a.iterable&&(w.prototype[Symbol.iterator]=w.prototype.entries);function C(d){if(d.bodyUsed)return Promise.reject(new TypeError("Already read"));d.bodyUsed=!0}function N(d){return new Promise(function(m,A){d.onload=function(){m(d.result)},d.onerror=function(){A(d.error)}})}function T(d){var m=new FileReader,A=N(m);return m.readAsArrayBuffer(d),A}function x(d){var m=new FileReader,A=N(m);return m.readAsText(d),A}function O(d){for(var m=new Uint8Array(d),A=new Array(m.length),D=0;D<m.length;D++)A[D]=String.fromCharCode(m[D]);return A.join("")}function k(d){if(d.slice)return d.slice(0);var m=new Uint8Array(d.byteLength);return m.set(new Uint8Array(d)),m.buffer}function L(){return this.bodyUsed=!1,this._initBody=function(d){this._bodyInit=d,d?typeof d=="string"?this._bodyText=d:a.blob&&Blob.prototype.isPrototypeOf(d)?this._bodyBlob=d:a.formData&&FormData.prototype.isPrototypeOf(d)?this._bodyFormData=d:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(d)?this._bodyText=d.toString():a.arrayBuffer&&a.blob&&u(d)?(this._bodyArrayBuffer=k(d.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(d)||f(d))?this._bodyArrayBuffer=k(d):this._bodyText=d=Object.prototype.toString.call(d):this._bodyText="",this.headers.get("content-type")||(typeof d=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(d)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var d=C(this);if(d)return d;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?C(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(T)}),this.text=function(){var d=C(this);if(d)return d;if(this._bodyBlob)return x(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(O(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(Z)}),this.json=function(){return this.text().then(JSON.parse)},this}var $=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function E(d){var m=d.toUpperCase();return $.indexOf(m)>-1?m:d}function U(d,m){m=m||{};var A=m.body;if(d instanceof U){if(d.bodyUsed)throw new TypeError("Already read");this.url=d.url,this.credentials=d.credentials,m.headers||(this.headers=new w(d.headers)),this.method=d.method,this.mode=d.mode,this.signal=d.signal,!A&&d._bodyInit!=null&&(A=d._bodyInit,d.bodyUsed=!0)}else this.url=String(d);if(this.credentials=m.credentials||this.credentials||"same-origin",(m.headers||!this.headers)&&(this.headers=new w(m.headers)),this.method=E(m.method||this.method||"GET"),this.mode=m.mode||this.mode||null,this.signal=m.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&A)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(A)}U.prototype.clone=function(){return new U(this,{body:this._bodyInit})};function Z(d){var m=new FormData;return d.trim().split("&").forEach(function(A){if(A){var D=A.split("="),R=D.shift().replace(/\+/g," "),I=D.join("=").replace(/\+/g," ");m.append(decodeURIComponent(R),decodeURIComponent(I))}}),m}function ne(d){var m=new w,A=d.replace(/\r?\n[\t ]+/g," ");return A.split(/\r?\n/).forEach(function(D){var R=D.split(":"),I=R.shift().trim();if(I){var p=R.join(":").trim();m.append(I,p)}}),m}L.call(U.prototype);function q(d,m){m||(m={}),this.type="default",this.status=m.status===void 0?200:m.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in m?m.statusText:"OK",this.headers=new w(m.headers),this.url=m.url||"",this._initBody(d)}L.call(q.prototype),q.prototype.clone=function(){return new q(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new w(this.headers),url:this.url})},q.error=function(){var d=new q(null,{status:0,statusText:""});return d.type="error",d};var b=[301,302,303,307,308];q.redirect=function(d,m){if(b.indexOf(m)===-1)throw new RangeError("Invalid status code");return new q(null,{status:m,headers:{location:d}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function(m,A){this.message=m,this.name=A;var D=Error(m);this.stack=D.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function l(d,m){return new Promise(function(A,D){var R=new U(d,m);if(R.signal&&R.signal.aborted)return D(new o.DOMException("Aborted","AbortError"));var I=new XMLHttpRequest;function p(){I.abort()}I.onload=function(){var g={status:I.status,statusText:I.statusText,headers:ne(I.getAllResponseHeaders()||"")};g.url="responseURL"in I?I.responseURL:g.headers.get("X-Request-URL");var B="response"in I?I.response:I.responseText;A(new q(B,g))},I.onerror=function(){D(new TypeError("Network request failed"))},I.ontimeout=function(){D(new TypeError("Network request failed"))},I.onabort=function(){D(new o.DOMException("Aborted","AbortError"))},I.open(R.method,R.url,!0),R.credentials==="include"?I.withCredentials=!0:R.credentials==="omit"&&(I.withCredentials=!1),"responseType"in I&&a.blob&&(I.responseType="blob"),R.headers.forEach(function(g,B){I.setRequestHeader(B,g)}),R.signal&&(R.signal.addEventListener("abort",p),I.onreadystatechange=function(){I.readyState===4&&R.signal.removeEventListener("abort",p)}),I.send(typeof R._bodyInit>"u"?null:R._bodyInit)})}return l.polyfill=!0,s.fetch||(s.fetch=l,s.Headers=w,s.Request=U,s.Response=q),o.Headers=w,o.Request=U,o.Response=q,o.fetch=l,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;t=i.fetch,t.default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t})(e1,e1.exports);var I9=e1.exports;const $6=Fd(I9);function er(e){return e==null?null:e.replace(/^0x/,"").replace(/^Fx/,"")}function Br(e){return e==null?null:"0x"+er(e)}var Ug={exports:{}},Ja=typeof Reflect=="object"?Reflect:null,uv=Ja&&typeof Ja.apply=="function"?Ja.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},Pf;Ja&&typeof Ja.ownKeys=="function"?Pf=Ja.ownKeys:Object.getOwnPropertySymbols?Pf=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Pf=function(t){return Object.getOwnPropertyNames(t)};function x9(e){console&&console.warn&&console.warn(e)}var z6=Number.isNaN||function(t){return t!==t};function yt(){yt.init.call(this)}Ug.exports=yt;Ug.exports.once=D9;yt.EventEmitter=yt;yt.prototype._events=void 0;yt.prototype._eventsCount=0;yt.prototype._maxListeners=void 0;var cv=10;function th(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(yt,"defaultMaxListeners",{enumerable:!0,get:function(){return cv},set:function(e){if(typeof e!="number"||e<0||z6(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");cv=e}});yt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};yt.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||z6(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function q6(e){return e._maxListeners===void 0?yt.defaultMaxListeners:e._maxListeners}yt.prototype.getMaxListeners=function(){return q6(this)};yt.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=t==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var u=s[t];if(u===void 0)return!1;if(typeof u=="function")uv(u,this,r);else for(var c=u.length,f=V6(u,c),n=0;n<c;++n)uv(f[n],this,r);return!0};function j6(e,t,r,n){var i,s,o;if(th(r),s=e._events,s===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),o=s[t]),o===void 0)o=s[t]=r,++e._eventsCount;else if(typeof o=="function"?o=s[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=q6(e),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,x9(a)}return e}yt.prototype.addListener=function(t,r){return j6(this,t,r,!1)};yt.prototype.on=yt.prototype.addListener;yt.prototype.prependListener=function(t,r){return j6(this,t,r,!0)};function M9(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function H6(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=M9.bind(n);return i.listener=r,n.wrapFn=i,i}yt.prototype.once=function(t,r){return th(r),this.on(t,H6(this,t,r)),this};yt.prototype.prependOnceListener=function(t,r){return th(r),this.prependListener(t,H6(this,t,r)),this};yt.prototype.removeListener=function(t,r){var n,i,s,o,a;if(th(r),i=this._events,i===void 0)return this;if(n=i[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){a=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():R9(n,s),n.length===1&&(i[t]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",t,a||r)}return this};yt.prototype.off=yt.prototype.removeListener;yt.prototype.removeAllListeners=function(t){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(t,r[i]);return this};function K6(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?C9(i):V6(i,i.length)}yt.prototype.listeners=function(t){return K6(this,t,!0)};yt.prototype.rawListeners=function(t){return K6(this,t,!1)};yt.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):G6.call(e,t)};yt.prototype.listenerCount=G6;function G6(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}yt.prototype.eventNames=function(){return this._eventsCount>0?Pf(this._events):[]};function V6(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function R9(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function C9(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function D9(e,t){return new Promise(function(r,n){function i(o){e.removeListener(t,s),n(o)}function s(){typeof e.removeListener=="function"&&e.removeListener("error",i),r([].slice.call(arguments))}W6(e,t,s,{once:!0}),t!=="error"&&T9(e,i,{once:!0})})}function T9(e,t,r){typeof e.on=="function"&&W6(e,"error",t,r)}function W6(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(s){n.once&&e.removeEventListener(t,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var Rn=Ug.exports;const $g=Fd(Rn);var Ma=null;typeof WebSocket<"u"?Ma=WebSocket:typeof MozWebSocket<"u"?Ma=MozWebSocket:typeof global<"u"?Ma=global.WebSocket||global.MozWebSocket:typeof window<"u"?Ma=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(Ma=self.WebSocket||self.MozWebSocket);const N9=Ma;function Y6(e){try{return JSON.parse(e)}catch{return null}}function P9(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}const O9=globalThis.AbortController||require("abort-controller");class Of extends Error{constructor(t){let{error:r,hostname:n,path:i,method:s,requestBody:o,responseBody:a,responseStatusText:u,statusCode:c}=t;const f=`
      HTTP Request Error: An error occurred when interacting with the Access API.
      ${r?`error=${r}`:""}
      ${n?`hostname=${n}`:""}
      ${i?`path=${i}`:""}
      ${s?`method=${s}`:""}
      ${o?`requestBody=${o}`:""}
      ${a?`responseBody=${a}`:""}
      ${u?`responseStatusText=${u}`:""}
      ${c?`statusCode=${c}`:""}
    `;super(f),this.name="HTTP Request Error",this.statusCode=c,this.errorMessage=r}}async function Wt(e){let{hostname:t,path:r,method:n,body:i,headers:s,retryLimit:o=5,retryIntervalMs:a=1e3,timeoutLimit:u=3e4,enableRequestLogging:c=!0}=e;const f=i?JSON.stringify(i):null;function h(){const v=new O9,w=setTimeout(()=>{v.abort()},u);return $6(P9(t,r).toString(),{method:n,body:f,headers:s,signal:v.signal}).then(async C=>{if(C.ok)return C.json();const N=await C.text().catch(()=>null),T=Y6(N);throw new Of({error:T==null?void 0:T.message,hostname:t,path:r,method:n,requestBody:f,responseBody:N,responseStatusText:C.statusText,statusCode:C.status})}).catch(async C=>{throw C instanceof Of||C.name==="AbortError"?C:(c&&await lt({title:"Access Node Error",message:`The provided access node ${t} does not appear to be a valid REST/HTTP access node.
  Please verify that you are not unintentionally using a GRPC access node.
  See more here: https://docs.onflow.org/fcl/reference/sdk-guidelines/#connect`,level:It.error}),new Of({error:C==null?void 0:C.message,hostname:t,path:r,method:n,requestBody:f}))}).finally(()=>{clearTimeout(w)})}async function y(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;try{return await h()}catch(w){const C=[408,429,500,502,503,504];if(w.name==="AbortError"||C.includes(w.statusCode))return await new Promise((N,T)=>{v<o?(c&&console.warn(`Access node unavailable, retrying in ${a} ms...`),setTimeout(()=>{N(y(v+1))},a)):T(w)});throw w}}return await y()}async function k9(e,t,r){const i=await(r.httpRequest||Wt)({hostname:r.node,path:`/v1/scripts?block_id=${e.block.id}`,method:"POST",body:{script:t.Buffer.from(e.message.cadence).toString("base64"),arguments:e.message.arguments.map(s=>t.Buffer.from(JSON.stringify(e.arguments[s].asArgument)).toString("base64"))}});return zg(e,t,i)}async function F9(e,t,r){const i=await(r.httpRequest||Wt)({hostname:r.node,path:`/v1/scripts?block_height=${e.block.height}`,method:"POST",body:{script:t.Buffer.from(e.message.cadence).toString("base64"),arguments:e.message.arguments.map(s=>t.Buffer.from(JSON.stringify(e.arguments[s].asArgument)).toString("base64"))}});return zg(e,t,i)}async function B9(e,t,r){const i=await(r.httpRequest||Wt)({hostname:r.node,path:"/v1/scripts?block_height=sealed",method:"POST",body:{script:t.Buffer.from(e.message.cadence).toString("base64"),arguments:e.message.arguments.map(s=>t.Buffer.from(JSON.stringify(e.arguments[s].asArgument)).toString("base64"))}});return zg(e,t,i)}function zg(e,t,r){let n=t.response();return n.tag=e.tag,n.encodedData=JSON.parse(t.Buffer.from(r,"base64").toString()),n}async function L9(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return se(r.node,"SDK Send Execute Script Error: opts.node must be defined."),se(t.response,"SDK Send Execute Script Error: context.response must be defined."),se(t.Buffer,"SDK Send Execute Script Error: context.Buffer must be defined."),e=await e,e.block.id?await k9(e,t,r):e.block.height?await F9(e,t,r):await B9(e,t,r)}const U9={SHA2_256:1,SHA2_384:2,SHA3_256:3,SHA3_384:4,KMAC128_BLS_BLS12_381:5},$9={ECDSA_P256:1,ECDSA_secp256k1:2,BLS_BLS12_381:3};async function z9(e,t,r){const i=await(r.httpRequest||Wt)({hostname:r.node,path:`/v1/accounts/${e.account.addr}?block_height=${e.block.height}&expand=contracts,keys`,method:"GET",body:null});return Q6(e,t,i)}async function q9(e,t,r){const i=await(r.httpRequest||Wt)({hostname:r.node,path:`/v1/accounts/${e.account.addr}?block_height=sealed&expand=contracts,keys`,method:"GET",body:null});return Q6(e,t,i)}function Q6(e,t,r){var s;let n=t.response();n.tag=e.tag;const i=o=>{const a={};if(!o)return a;for(let u of Object.keys(o))a[u]=t.Buffer.from(o[u],"base64").toString();return a};return n.account={address:r.address,balance:Number(r.balance),code:"",contracts:i(r.contracts),keys:((s=r.keys)==null?void 0:s.map(o=>({index:Number(o.index),publicKey:o.public_key.replace(/^0x/,""),signAlgo:$9[o.signing_algorithm],signAlgoString:o.signing_algorithm,hashAlgo:U9[o.hashing_algorithm],hashAlgoString:o.hashing_algorithm,sequenceNumber:Number(o.sequence_number),weight:Number(o.weight),revoked:o.revoked})))??[]},n}async function j9(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return se(r.node,"SDK Send Get Account Error: opts.node must be defined."),se(t.response,"SDK Send Get Account Error: context.response must be defined."),se(t.Buffer,"SDK Send Get Account Error: context.Buffer must be defined."),e=await e,e.block.height!==null?await z9(e,t,r):await q9(e,t,r)}async function H9(e,t,r){const i=await(r.httpRequest||Wt)({hostname:r.node,path:`/v1/blocks/${e.block.id}`,method:"GET",body:null});return qg(e,t,i)}async function K9(e,t,r){const i=await(r.httpRequest||Wt)({hostname:r.node,path:`/v1/blocks?height=${e.block.height}`,method:"GET",body:null});return qg(e,t,i)}async function G9(e,t,r){var o;const n=r.httpRequest||Wt,i=(o=e.block)!=null&&o.isSealed?"sealed":"final",s=await n({hostname:r.node,path:`/v1/blocks?height=${i}`,method:"GET",body:null});return qg(e,t,s)}function qg(e,t,r){const n=r.length?r[0]:null,i=t.response();return i.tag=e.tag,i.blockHeader={id:n.header.id,parentId:n.header.parent_id,height:Number(n.header.height),timestamp:n.header.timestamp},i}async function V9(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};se(r.node,"SDK Send Get Block Header Error: opts.node must be defined."),se(t.response,"SDK Send Get Block Header Error: context.response must be defined."),e=await e;const n=e.block.id!==null,i=e.block.height!==null;return n?await H9(e,t,r):i?await K9(e,t,r):await G9(e,t,r)}async function W9(e,t,r){const i=await(r.httpRequest||Wt)({hostname:r.node,path:`/v1/blocks/${e.block.id}?expand=payload`,method:"GET",body:null});return jg(e,t,i)}async function Y9(e,t,r){const i=await(r.httpRequest||Wt)({hostname:r.node,path:`/v1/blocks?height=${e.block.height}&expand=payload`,method:"GET",body:null});return jg(e,t,i)}async function Q9(e,t,r){var o;const n=r.httpRequest||Wt,i=(o=e.block)!=null&&o.isSealed?"sealed":"final",s=await n({hostname:r.node,path:`/v1/blocks?height=${i}&expand=payload`,method:"GET",body:null});return jg(e,t,s)}function jg(e,t,r){const n=r.length?r[0]:null,i=t.response();return i.tag=e.tag,i.block={id:n.header.id,parentId:n.header.parent_id,height:Number(n.header.height),timestamp:n.header.timestamp,collectionGuarantees:n.payload.collection_guarantees.map(s=>({collectionId:s.collection_id,signerIds:s.signer_ids})),blockSeals:n.payload.block_seals.map(s=>({blockId:s.block_id,executionReceiptId:s.result_id}))},i}async function J9(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};se(r.node,"SDK Send Get Block Error: opts.node must be defined."),se(t.response,"SDK Send Get Block Error: context.response must be defined."),e=await e;const n=e.block.id!==null,i=e.block.height!==null;return n?await W9(e,t,r):i?await Y9(e,t,r):await Q9(e,t,r)}async function X9(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};se(r.node,"SDK Send Get Collection Error: opts.node must be defined."),se(t.response,"SDK Send Get Collection Error: context.response must be defined.");const i=await(r.httpRequest||Wt)({hostname:r.node,path:`/v1/collections/${e.collection.id}?expand=transactions`,method:"GET",body:null}),s=t.response();return s.tag=e.tag,s.collection={id:i.id,transactionIds:i.transactions.map(o=>o.id)},s}async function Z9(e,t,r){const i=await(r.httpRequest||Wt)({hostname:r.node,path:`/v1/events?type=${e.events.eventType}&start_height=${e.events.start}&end_height=${e.events.end}`,method:"GET",body:null});return J6(e,t,i)}async function eA(e,t,r){const i=await(r.httpRequest||Wt)({hostname:r.node,path:`/v1/events?type=${e.events.eventType}&block_ids=${e.events.blockIds.join(",")}`,method:"GET",body:null});return J6(e,t,i)}function J6(e,t,r){let n=t.response();return n.tag=e.tag,n.events=[],r.forEach(i=>i.events?i.events.forEach(s=>n.events.push({blockId:i.block_id,blockHeight:Number(i.block_height),blockTimestamp:i.block_timestamp,type:s.type,transactionId:s.transaction_id,transactionIndex:Number(s.transaction_index),eventIndex:Number(s.event_index),payload:JSON.parse(t.Buffer.from(s.payload,"base64").toString())})):null),n}async function tA(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};se(r.node,"SDK Send Get Events Error: opts.node must be defined."),se(t.response,"SDK Send Get Events Error: context.response must be defined."),se(t.Buffer,"SDK Send Get Events Error: context.Buffer must be defined."),e=await e;const n=e.events.start!==null,i=Array.isArray(e.events.blockIds)&&e.events.blockIds.length>0;return se(n||i,"SendGetEventsError: Unable to determine which get events request to send. Either a block height range, or block IDs must be specified."),n?await Z9(e,t,r):await eA(e,t,r)}async function rA(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};se(r.node,"SDK Send Get Transaction Error: opts.node must be defined."),se(t.response,"SDK Send Get Transaction Error: context.response must be defined."),se(t.Buffer,"SDK Send Get Transaction Error: context.Buffer must be defined.");const n=r.httpRequest||Wt;e=await e;const i=await n({hostname:r.node,path:`/v1/transactions/${e.transaction.id}`,method:"GET",body:null}),s=c=>({address:c.address,keyId:Number(c.key_id),sequenceNumber:Number(c.sequence_number)}),o=c=>({address:c.address,keyId:Number(c.key_index),signature:c.signature}),a=c=>JSON.parse(t.Buffer.from(c,"base64").toString());let u=t.response();return u.tag=e.tag,u.transaction={script:t.Buffer.from(i.script,"base64").toString(),args:[...i.arguments.map(a)],referenceBlockId:i.reference_block_id,gasLimit:Number(i.gas_limit),payer:i.payer,proposalKey:i.proposal_key?s(i.proposal_key):i.proposal_key,authorizers:i.authorizers,payloadSignatures:[...i.payload_signatures.map(o)],envelopeSignatures:[...i.envelope_signatures.map(o)]},u}const nA={UNKNOWN:0,PENDING:1,FINALIZED:2,EXECUTED:3,SEALED:4,EXPIRED:5};async function iA(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};se(r.node,"SDK Send Get Transaction Status Error: opts.node must be defined."),se(t.response,"SDK Send Get Transaction Status Error: context.response must be defined."),se(t.Buffer,"SDK Send Get Transaction Status Error: context.Buffer must be defined.");const n=r.httpRequest||Wt;e=await e;const i=await n({hostname:r.node,path:`/v1/transaction_results/${e.transaction.id}`,method:"GET",body:null});let s=t.response();return s.tag=e.tag,s.transactionStatus={blockId:i.block_id,status:nA[i.status.toUpperCase()]||"",statusString:i.status.toUpperCase(),statusCode:i.status_code,errorMessage:i.error_message,events:i.events.map(o=>({type:o.type,transactionId:o.transaction_id,transactionIndex:Number(o.transaction_index),eventIndex:Number(o.event_index),payload:JSON.parse(t.Buffer.from(o.payload,"base64").toString())}))},s}async function sA(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};se(!!r.node,"SDK Send Ping Error: opts.node must be defined."),se(!!t.response,"SDK Send Ping Error: context.response must be defined."),await(r.httpRequest||Wt)({hostname:r.node,path:"/v1/blocks?height=sealed",method:"GET",body:null});let i=typeof(t==null?void 0:t.response)=="function"?t.response():{};return i.tag=e.tag,i}const oA=e=>`${withPrefix(e.addr)}-${e.keyId}`;async function aA(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};se(r.node,"SDK Send Transaction Error: opts.node must be defined."),se(t.response,"SDK Send Transaction Error: context.response must be defined."),se(t.Buffer,"SDK Send Transaction Error: context.Buffer must be defined.");const n=r.httpRequest||Wt;e=await e;let i=[];for(let f of Object.values(e.accounts))try{if(!f.role.payer&&f.signature!=null){const h={address:er(f.addr),key_index:String(f.keyId),signature:t.Buffer.from(f.signature,"hex").toString("base64")};i.find(y=>y.address===h.address&&y.key_index===h.key_index&&y.signature===h.signature)||i.push(h)}}catch(h){throw console.error("SDK HTTP Send Error: Trouble applying payload signature",{acct:f,ix:e}),h}let s={};for(let f of Object.values(e.accounts))try{if(f.role.payer&&f.signature!=null){let h=f.tempId||oA(f);s[h]=s[h]||{address:er(f.addr),key_index:String(f.keyId),signature:t.Buffer.from(f.signature,"hex").toString("base64")}}}catch(h){throw console.error("SDK HTTP Send Error: Trouble applying envelope signature",{acct:f,ix:e}),h}s=Object.values(s);var o=Date.now();const a=await n({hostname:r.node,path:"/v1/transactions",method:"POST",body:{script:t.Buffer.from(e.message.cadence).toString("base64"),arguments:[...e.message.arguments.map(f=>t.Buffer.from(JSON.stringify(e.arguments[f].asArgument)).toString("base64"))],reference_block_id:e.message.refBlock?e.message.refBlock:null,gas_limit:String(e.message.computeLimit),payer:er(e.accounts[Array.isArray(e.payer)?e.payer[0]:e.payer].addr),proposal_key:{address:er(e.accounts[e.proposer].addr),key_index:String(e.accounts[e.proposer].keyId),sequence_number:String(e.accounts[e.proposer].sequenceNum)},authorizers:e.authorizations.map(f=>e.accounts[f].addr).reduce((f,h)=>f.find(y=>y===h)?f:[...f,h],[]).map(er),payload_signatures:i,envelope_signatures:s}});var u=Date.now();let c=t.response();return c.tag=e.tag,c.transactionId=a.id,typeof window<"u"&&typeof CustomEvent<"u"&&window.dispatchEvent(new CustomEvent("FLOW::TX",{detail:{txId:c.transactionId,delta:u-o}})),c}async function uA(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};se(r.node,"SDK Send Get Network Parameters Error: opts.node must be defined."),se(t.response,"SDK Send Get Network Parameters Error: context.response must be defined.");const n=r.httpRequest||Wt;e=await e;const i=await n({hostname:r.node,path:"/v1/network/parameters",method:"GET",body:null,enableRequestLogging:r.enableRequestLogging??!0});let s=t.response();return s.tag=e.tag,s.networkParameters={chainId:i.chain_id},s}async function cA(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};se(r.node,"SDK Send Get Node Version Info Error: opts.node must be defined."),se(t.response,"SDK Send Get Node Verison Info Error: context.response must be defined.");const n=r.httpRequest||Wt;e=await e;const i=await n({hostname:r.node,path:"/v1/node_version_info",method:"GET"});let s=t.response();return s.tag=e.tag,s.nodeVersionInfo={semver:i.semver,commit:i.commit,sporkId:i.spork_id,protocolVersion:parseInt(i.protocol_version),sporkRootBlockHeight:parseInt(i.spork_root_block_height),nodeRootBlockHeight:parseInt(i.node_root_block_height)},s}const lA=N9;class lv extends Error{constructor(t){let{code:r,reason:n,message:i,wasClean:s}=t;const o=`
      connectWs: connection closed with error${i?`: ${i}`:""}
      ${r?`code: ${r}`:""}
      ${n?`reason: ${n}`:""}
      ${s?`wasClean: ${s}`:""}
    `;super(o),this.name="WebsocketError",this.code=r,this.reason=n,this.wasClean=!1}}function fA(e){let{hostname:t,path:r,params:n,getParams:i,retryLimit:s=5,retryIntervalMs:o=1e3}=e;if(i&&n)throw new Error("connectWs: cannot specify both params and getParams");let a=new Rn.EventEmitter,u=0;const c=i||(()=>n);let f=()=>{};return function h(){let y=!1,v=!1;const w=dA(t,r,c()),C=new lA(w);C.onmessage=function(N){const T=Y6(N.data);T?a.emit("data",T):(a.emit("error",new lv({message:"invalid JSON data"})),this.close())},C.onclose=function(N){if(y){a.emit("close"),a.removeAllListeners();return}v?setTimeout(h,o):u<s?(u++,setTimeout(h,o)):(a.emit("error",new lv({wasClean:N.wasClean,code:N.code,reason:N.reason,message:"failed to connect"})),setTimeout(()=>{a.emit("close"),a.removeAllListeners()}))},C.onopen=function(){v=!0,u=0},f=()=>{y=!0,C.close()}}(),{on(h,y){return a.on(h,y),this},off(h,y){return a.off(h,y),this},close(){f()}}}function dA(e,t,r){const n=new URL(t||"",e);return n.protocol==="https:"?n.protocol="wss:":n.protocol==="http:"&&(n.protocol="ws:"),Object.entries(r||{}).forEach(i=>{let[s,o]=i;if(o){let a;Array.isArray(o)?a=o.join(","):a=o.toString(),n.searchParams.append(s,a)}}),n.toString()}function hA(e,t,r){var i;const n=t.response();return n.tag=e.tag,n.events=((i=r.Events)==null?void 0:i.length)>0?r.Events.map(s=>({blockId:r.BlockID,blockHeight:Number(r.Height),blockTimestamp:r.Timestamp,type:s.Type,transactionId:s.TransactionID,transactionIndex:Number(s.TransactionIndex),eventIndex:Number(s.EventIndex),payload:JSON.parse(t.Buffer.from(s.Payload,"base64").toString())})):null,n.heartbeat={blockId:r.BlockID,blockHeight:Number(r.Height),blockTimestamp:r.Timestamp},n}function pA(e,t,r){const n=t.response();return n.tag=e.tag,n.streamConnection=r,n}async function gA(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};se(r.node,"SDK Send Get Events Error: opts.node must be defined."),se(t.response,"SDK Send Get Events Error: context.response must be defined."),se(t.Buffer,"SDK Send Get Events Error: context.Buffer must be defined.");const n=await e,i=r.connectWs||fA,s=new Rn.EventEmitter;let o=null;const a=i({hostname:r.node,path:"/v1/subscribe_events",getParams:()=>{var f,h,y,v,w,C;const c={event_types:(f=n.subscribeEvents)==null?void 0:f.eventTypes,addresses:(h=n.subscribeEvents)==null?void 0:h.addresses,contracts:(y=n.subscribeEvents)==null?void 0:y.contracts,heartbeat_interval:(v=n.subscribeEvents)==null?void 0:v.heartbeatInterval};return o?c.start_height=o+1:(c.start_block_id=(w=n.subscribeEvents)==null?void 0:w.startBlockId,c.start_height=(C=n.subscribeEvents)==null?void 0:C.startHeight),c}});return a.on("data",c=>{const f=hA(n,t,c);o=f.heartbeat.blockHeight,s.emit("data",f)}),a.on("error",c=>{s.emit("error",c)}),a.on("close",()=>{s.emit("close")}),pA(n,t,{on(c,f){return s.on(c,f),this},off(c,f){return s.off(c,f),this},close(){a.close()}})}const Hg=async function(e,t){var n,i,s,o;let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};switch(se(!!(r!=null&&r.node),'SDK Send Error: Either opts.node or "accessNode.api" in config must be defined.'),se(!!t.ix,"SDK Send Error: context.ix must be defined."),e=await e,!0){case t.ix.isTransaction(e):return r.sendTransaction?r.sendTransaction(e,t,r):aA(e,t,r);case t.ix.isGetTransactionStatus(e):return r.sendGetTransactionStatus?r.sendGetTransactionStatus(e,t,r):iA(e,t,r);case t.ix.isGetTransaction(e):return r.sendGetTransaction?r.sendGetTransaction(e,t,r):rA(e,t,r);case t.ix.isScript(e):return r.sendExecuteScript?r.sendExecuteScript(e,t,r):L9(e,t,r);case t.ix.isGetAccount(e):return r.sendGetAccount?r.sendGetAccount(e,t,r):j9(e,t,r);case t.ix.isGetEvents(e):return r.sendGetEvents?r.sendGetEvents(e,t,r):tA(e,t,r);case((i=(n=t.ix).isSubscribeEvents)==null?void 0:i.call(n,e)):return r.connectSubscribeEvents?r.connectSubscribeEvents(e,t,r):gA(e,t,r);case t.ix.isGetBlock(e):return r.sendGetBlock?r.sendGetBlock(e,t,r):J9(e,t,r);case t.ix.isGetBlockHeader(e):return r.sendGetBlockHeader?r.sendGetBlockHeader(e,t,r):V9(e,t,r);case t.ix.isGetCollection(e):return r.sendGetCollection?r.sendGetCollection(e,t,r):X9(e,t,r);case t.ix.isPing(e):return r.sendPing?r.sendPing(e,t,r):sA(e,t,r);case t.ix.isGetNetworkParameters(e):return r.sendGetNetworkParameters?r.sendGetNetworkParameters(e,t,r):uA(e,t,r);case((o=(s=t.ix).isGetNodeVersionInfo)==null?void 0:o.call(s,e)):return r.sendGetNodeVersionInfo?r.sendGetNodeVersionInfo(e,t,r):cA(e,t,r);default:return e}};var X6={},Z6={},e8={},t8={},mA=function(t,r){return function(n,i){var s=i*2,o=r*2;n[s]=t[o],n[s+1]=t[o+1]}},Kg=mA;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(Kg);function r(s){return s&&s.__esModule?s:{default:s}}var n=function(o){for(var a=o.A,u=o.C,c=0;c<25;c+=5){for(var f=0;f<5;f++)(0,t.default)(a,c+f)(u,f);for(var h=0;h<5;h++){var y=(c+h)*2,v=(h+1)%5*2,w=(h+2)%5*2;a[y]^=~u[v]&u[w],a[y+1]^=~u[v+1]&u[w+1]}}},i=n;e.default=i})(t8);var r8={},n8={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=new Uint32Array([0,1,0,32898,2147483648,32906,2147483648,2147516416,0,32907,0,2147483649,2147483648,2147516545,2147483648,32777,0,138,0,136,0,2147516425,0,2147483658,0,2147516555,2147483648,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,0,32778,2147483648,2147483658,2147483648,2147516545,2147483648,32896,0,2147483649,2147483648,2147516424]),r=t;e.default=r})(n8);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(n8);function r(s){return s&&s.__esModule?s:{default:s}}var n=function(o){var a=o.A,u=o.roundIndex,c=u*2;a[0]^=t.default[c],a[1]^=t.default[c+1]},i=n;e.default=i})(r8);var i8={},s8={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=[10,7,11,17,18,3,5,16,8,21,24,4,15,23,19,13,12,2,20,14,22,9,6,1],r=t;e.default=r})(s8);var o8={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=[1,3,6,10,15,21,28,36,45,55,2,14,27,41,56,8,25,43,62,18,39,61,20,44],r=t;e.default=r})(o8);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=i(s8),r=i(o8),n=i(Kg);function i(a){return a&&a.__esModule?a:{default:a}}var s=function(u){var c=u.A,f=u.C,h=u.W;(0,n.default)(c,1)(h,0);for(var y=0,v=0,w=0,C=32,N=0;N<24;N++){var T=t.default[N],x=r.default[N];(0,n.default)(c,T)(f,0),y=h[0],v=h[1],C=32-x,w=x<32?0:1,h[w]=y<<x|v>>>C,h[(w+1)%2]=v<<x|y>>>C,(0,n.default)(h,0)(c,T),(0,n.default)(f,0)(h,0)}},o=s;e.default=o})(i8);var a8={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(Kg);function r(s){return s&&s.__esModule?s:{default:s}}var n=function(o){for(var a=o.A,u=o.C,c=o.D,f=o.W,h=0,y=0,v=0;v<5;v++){var w=v*2,C=(v+5)*2,N=(v+10)*2,T=(v+15)*2,x=(v+20)*2;u[w]=a[w]^a[C]^a[N]^a[T]^a[x],u[w+1]=a[w+1]^a[C+1]^a[N+1]^a[T+1]^a[x+1]}for(var O=0;O<5;O++){(0,t.default)(u,(O+1)%5)(f,0),h=f[0],y=f[1],f[0]=h<<1|y>>>31,f[1]=y<<1|h>>>31,c[O*2]=u[(O+4)%5*2]^f[0],c[O*2+1]=u[(O+4)%5*2+1]^f[1];for(var k=0;k<25;k+=5)a[(k+O)*2]^=c[O*2],a[(k+O)*2+1]^=c[O*2+1]}},i=n;e.default=i})(a8);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=s(t8),r=s(r8),n=s(i8),i=s(a8);function s(u){return u&&u.__esModule?u:{default:u}}var o=function(){var c=new Uint32Array(10),f=new Uint32Array(10),h=new Uint32Array(2);return function(y){for(var v=0;v<24;v++)(0,i.default)({A:y,C:c,D:f,W:h}),(0,n.default)({A:y,C:c,W:h}),(0,t.default)({A:y,C:c}),(0,r.default)({A:y,roundIndex:v});c.fill(0),f.fill(0),h.fill(0)}},a=o;e.default=a})(e8);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=pt,r=n(e8);function n(u){return u&&u.__esModule?u:{default:u}}var i=function(c,f){for(var h=0;h<c.length;h+=8){var y=h/4;f[y]^=c[h+7]<<24|c[h+6]<<16|c[h+5]<<8|c[h+4],f[y+1]^=c[h+3]<<24|c[h+2]<<16|c[h+1]<<8|c[h]}return f},s=function(c,f){for(var h=0;h<f.length;h+=8){var y=h/4;f[h]=c[y+1],f[h+1]=c[y+1]>>>8,f[h+2]=c[y+1]>>>16,f[h+3]=c[y+1]>>>24,f[h+4]=c[y],f[h+5]=c[y]>>>8,f[h+6]=c[y]>>>16,f[h+7]=c[y]>>>24}return f},o=function(c){var f=this,h=c.capacity,y=c.padding,v=(0,r.default)(),w=200,C=h/8,N=w-h/4,T=0,x=new Uint32Array(w/4),O=t.Buffer.allocUnsafe(N);return this.absorb=function(k){for(var L=0;L<k.length;L++)O[T]=k[L],T+=1,T>=N&&(i(O,x),v(x),T=0);return f},this.squeeze=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},L={buffer:k.buffer||t.Buffer.allocUnsafe(C),padding:k.padding||y,queue:t.Buffer.allocUnsafe(O.length),state:new Uint32Array(x.length)};O.copy(L.queue);for(var $=0;$<x.length;$++)L.state[$]=x[$];L.queue.fill(0,T),L.queue[T]|=L.padding,L.queue[N-1]|=128,i(L.queue,L.state);for(var E=0;E<L.buffer.length;E+=N)v(L.state),s(L.state,L.buffer.slice(E,E+N));return L.buffer},this.reset=function(){return O.fill(0),x.fill(0),T=0,f},this},a=o;e.default=a})(Z6);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.SHAKE=e.SHA3Hash=e.SHA3=e.Keccak=void 0;var t=pt,r=n(Z6);function n(f){return f&&f.__esModule?f:{default:f}}var i=function(h){var y=h.allowedSizes,v=h.defaultSize,w=h.padding;return function C(){var N=this,T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v;if(!this||this.constructor!==C)return new C(T);if(y&&!y.includes(T))throw new Error("Unsupported hash length");var x=new r.default({capacity:T});return this.update=function(O){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"utf8";if(t.Buffer.isBuffer(O))return x.absorb(O),N;if(typeof O=="string")return N.update(t.Buffer.from(O,k));throw new TypeError("Not a string or buffer")},this.digest=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"binary",k=typeof O=="string"?{format:O}:O,L=x.squeeze({buffer:k.buffer,padding:k.padding||w});return k.format&&k.format!=="binary"?L.toString(k.format):L},this.reset=function(){return x.reset(),N},this}},s=i({allowedSizes:[224,256,384,512],defaultSize:512,padding:1});e.Keccak=s;var o=i({allowedSizes:[224,256,384,512],defaultSize:512,padding:6});e.SHA3=o;var a=i({allowedSizes:[128,256],defaultSize:256,padding:31});e.SHAKE=a;var u=s;e.SHA3Hash=u,o.SHA3Hash=u;var c=o;e.default=c})(X6);function u8(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(!e.length&&!t.length||!e.length)return r;if(!t.length)return r.push(...e),r;const[n,...i]=e,[s,...o]=t;return n!==void 0&&r.push(n),s!==void 0&&r.push(s),u8(i,o,r)}function c8(e){return function(t){return typeof t=="function"?(lt.deprecate({pkg:"FCL/SDK",subject:"Interopolation of functions into template literals",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params"}),c8(e)(t(e))):String(t)}}function l8(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return typeof e=="string"?()=>e:typeof e=="function"?e:i=>u8([...e],r.map(c8(i))).join("").trim()}const yA=`{
  "kind":"${Zd.ACCOUNT}",
  "tempId":null,
  "addr":null,
  "keyId":null,
  "sequenceNum":null,
  "signature":null,
  "signingFunction":null,
  "resolve":null,
  "role": {
    "proposer":false,
    "authorizer":false,
    "payer":false,
    "param":false
  }
}`,vA=`{
  "kind":"${Zd.ARGUMENT}",
  "tempId":null,
  "value":null,
  "asArgument":null,
  "xform":null,
  "resolve": null,
  "resolveArgument": null
}`,f8=`{
  "tag":"${mt.UNKNOWN}",
  "assigns":{},
  "status":"${yl.OK}",
  "reason":null,
  "accounts":{},
  "params":{},
  "arguments":{},
  "message": {
    "cadence":null,
    "refBlock":null,
    "computeLimit":null,
    "proposer":null,
    "payer":null,
    "authorizations":[],
    "params":[],
    "arguments":[]
  },
  "proposer":null,
  "authorizations":[],
  "payer":[],
  "events": {
    "eventType":null,
    "start":null,
    "end":null,
    "blockIds":[]
  },
  "subscribeEvents": {
    "startBlockId":null,
    "startHeight":null,
    "eventTypes":null,
    "addresses":null,
    "contracts":null,
    "heartbeatInterval":null
  },
  "transaction": {
    "id":null
  },
  "block": {
    "id":null,
    "height":null,
    "isSealed":null
  },
  "account": {
    "addr":null
  },
  "collection": {
    "id":null
  }
}`,d8=new Set(Object.keys(JSON.parse(f8))),rh=()=>JSON.parse(f8),bA=()=>(lt.deprecate({pkg:"FCL/SDK",message:"The interaction been deprecated from the Flow JS-SDK/FCL. use initInteraction instead",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0010-deprecate-interaction",level:It.warn}),rh()),h8=e=>typeof e=="number",p8=e=>Array.isArray(e),g8=e=>e!==null&&typeof e=="object",Gg=e=>e==null,fu=e=>typeof e=="function",m8=e=>{if(!g8(e)||Gg(e)||h8(e))return!1;for(let t of d8)if(!e.hasOwnProperty(t))return!1;return!0},Cn=e=>(e.status=yl.OK,e),Vg=(e,t)=>(e.status=yl.BAD,e.reason=t,e),fn=e=>t=>(t.tag=e,Cn(t)),fv=e=>e.keyId==null?e:(se(!isNaN(parseInt(e.keyId.toString())),"account.keyId must be an integer"),{...e,keyId:parseInt(e.keyId.toString())}),y8=()=>JSON.parse(yA),nh=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r=>{se(typeof e=="function"||typeof e=="object","prepAccount must be passed an authorization function or an account object"),se(t.role!=null,"Account must have a role");const n=y8(),i=t.role,s=Og();let o={...e};e.authorization&&fu(e.authorization)&&(o={resolve:e.authorization}),!e.authorization&&fu(e)&&(o={resolve:e});const a=o.resolve;return a&&(o.resolve=function(u){for(var c=arguments.length,f=new Array(c>1?c-1:0),h=1;h<c;h++)f[h-1]=arguments[h];return[a,fv].reduce(async(y,v)=>v(await y,...f),u)}),o=fv(o),r.accounts[s]={...n,tempId:s,...o,role:{...n.role,...typeof e.role=="object"?e.role:{},...i?{[i]:!0}:{}}},i===Xc.AUTHORIZER?r.authorizations.push(s):i===Xc.PAYER?r.payer.push(s):i&&(r[i]=s),r}},v8=e=>t=>{let r=Og();return t.message.arguments.push(r),t.arguments[r]=JSON.parse(vA),t.arguments[r].tempId=r,t.arguments[r].value=e.value,t.arguments[r].asArgument=e.asArgument,t.arguments[r].xform=e.xform,t.arguments[r].resolve=e.resolve,t.arguments[r].resolveArgument=fu(e.resolveArgument)?e.resolveArgument.bind(e):e.resolveArgument,Cn(t)},wA=fn(mt.UNKNOWN),b8=fn(mt.SCRIPT),w8=fn(mt.TRANSACTION),E8=fn(mt.GET_TRANSACTION_STATUS),EA=fn(mt.GET_TRANSACTION),_8=fn(mt.GET_ACCOUNT),_A=fn(mt.GET_EVENTS),SA=fn(mt.PING),S8=fn(mt.GET_BLOCK),AA=fn(mt.GET_BLOCK_HEADER),IA=fn(mt.GET_COLLECTION),A8=fn(mt.GET_NETWORK_PARAMETERS),xA=fn(mt.SUBSCRIBE_EVENTS),MA=fn(mt.GET_NODE_VERSION_INFO),dn=e=>t=>t.tag===e,RA=dn(mt.UNKNOWN),Wg=dn(mt.SCRIPT),po=dn(mt.TRANSACTION),CA=dn(mt.GET_TRANSACTION_STATUS),DA=dn(mt.GET_TRANSACTION),TA=dn(mt.GET_ACCOUNT),NA=dn(mt.GET_EVENTS),PA=dn(mt.PING),OA=dn(mt.GET_BLOCK),kA=dn(mt.GET_BLOCK_HEADER),FA=dn(mt.GET_COLLECTION),BA=dn(mt.GET_NETWORK_PARAMETERS),LA=dn(mt.GET_NODE_VERSION_INFO),UA=dn(mt.SUBSCRIBE_EVENTS),$A=e=>e.status===yl.OK,I8=e=>e.status===yl.BAD,zA=e=>e.reason,qA=e=>e.kind===Zd.ACCOUNT,jA=e=>e.kind===Zd.ARGUMENT,HA=e=>{for(let t of Object.keys(e))if(!d8.has(t))throw new Error(`"${t}" is an invalid root level Interaction property.`);return e},kf=async function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];try{if(e=HA(await e),I8(e))throw new Error(`Interaction Error: ${e.reason}`);if(!t.length)return e;const[r,...n]=t,i=await r;if(fu(i))return kf(i(e),n);if(Gg(i)||!i)return kf(e,n);if(m8(i))return kf(i,n);throw new Error("Invalid Interaction Composition")}catch(r){throw r}};function jr(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[n,i]=t;return p8(n)?a=>jr(a,n):kf(n,i)}const KA=function(e){return e},ih=(e,t,r)=>e.assigns[t]==null?r:e.assigns[t],Yg=(e,t)=>r=>(r.assigns[e]=t,Cn(r)),GA=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:KA;return r=>(r.assigns[e]=t(r.assigns[e],r),Cn(r))},VA=e=>t=>(delete t.assigns[e],Cn(t));var Qg=Object.freeze({__proto__:null,initInteraction:rh,interaction:bA,isNumber:h8,isArray:p8,isObj:g8,isNull:Gg,isFn:fu,isInteraction:m8,Ok:Cn,Bad:Vg,initAccount:y8,prepAccount:nh,makeArgument:v8,makeUnknown:wA,makeScript:b8,makeTransaction:w8,makeGetTransactionStatus:E8,makeGetTransaction:EA,makeGetAccount:_8,makeGetEvents:_A,makePing:SA,makeGetBlock:S8,makeGetBlockHeader:AA,makeGetCollection:IA,makeGetNetworkParameters:A8,makeSubscribeEvents:xA,makeGetNodeVerionInfo:MA,isUnknown:RA,isScript:Wg,isTransaction:po,isGetTransactionStatus:CA,isGetTransaction:DA,isGetAccount:TA,isGetEvents:NA,isPing:PA,isGetBlock:OA,isGetBlockHeader:kA,isGetCollection:FA,isGetNetworkParameters:BA,isGetNodeVersionInfo:LA,isSubscribeEvents:UA,isOk:$A,isBad:I8,why:zA,isAccount:qA,isArgument:jA,pipe:jr,get:ih,put:Yg,update:GA,destroy:VA});function x8(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return jr(rh(),e)}const WA={tag:null,transaction:null,transactionStatus:null,transactionId:null,encodedData:null,events:null,account:null,block:null,blockHeader:null,latestBlock:null,collection:null,networkParameters:null,streamConnection:null,heartbeat:null,nodeVersionInfo:null},Jg=()=>({...WA});function YA(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return jr([S8,t=>(t.block.isSealed=e,Cn(t))])}function QA(e){return jr([_8,t=>(t.account.addr=er(e),Cn(t))])}const JA=(e,t,r)=>{const n=new $g;let i=XA();e.on("data",async o=>{const a=Object.keys(o).filter(c=>o[c]!=null&&c!=="tag");let u=Promise.all(a.map(async c=>{const f={[c]:o[c]},h=await t(f,r);return{channel:c,message:h}}));i.push(async()=>{(await u).forEach(f=>{let{channel:h,message:y}=f;n.emit(h,y)})})});function s(o){e.on(o,a=>{i.push(async()=>{n.emit(o,a)})})}return s("close"),s("error"),{on(o,a){return n.on(o,a),this},off(o,a){return n.off(o,a),this},close:()=>{e.close()}}};function XA(){let e=[],t=!1;async function r(){if(!t){for(t=!0;e.length>0;){const n=e.shift();await(n==null?void 0:n())}t=!1}}return{push:n=>{e.push(n),r()}}}const ZA=()=>{lt.deprecate({pkg:"@onflow/decode",subject:"Operating upon data of the latestBlock field of the response object",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/decode/WARNINGS.md#0001-Deprecating-latestBlock-field"})},ht=async e=>e,eI=async()=>null,tI=async e=>e.staticType,rI=async(e,t,r)=>e?await Xo(e,t,r):null,nI=async(e,t,r)=>await Promise.all(e.map(n=>new Promise(async i=>i(await Xo(n,t,[...r,n.type]))))),iI=async(e,t,r)=>await e.reduce(async(n,i)=>(n=await n,n[await Xo(i.key,t,[...r,i.key])]=await Xo(i.value,t,[...r,i.key]),n),Promise.resolve({})),sf=async(e,t,r)=>{const n=await e.fields.reduce(async(s,o)=>(s=await s,s[o.name]=await Xo(o.value,t,[...r,o.name]),s),Promise.resolve({})),i=e.id&&M8(t,e.id);return i?await i(n):n},sI=async(e,t,r)=>{const n=["start","end","step"];return await Object.keys(e).reduce(async(s,o)=>(s=await s,n.includes(o)&&(s[o]=await Xo(e[o],t,[...r,o])),s),Promise.resolve({}))},dv={UInt:ht,Int:ht,UInt8:ht,Int8:ht,UInt16:ht,Int16:ht,UInt32:ht,Int32:ht,UInt64:ht,Int64:ht,UInt128:ht,Int128:ht,UInt256:ht,Int256:ht,Word8:ht,Word16:ht,Word32:ht,Word64:ht,Word128:ht,Word256:ht,UFix64:ht,Fix64:ht,String:ht,Character:ht,Bool:ht,Address:ht,Void:eI,Optional:rI,Reference:ht,Array:nI,Dictionary:iI,Event:sf,Resource:sf,Struct:sf,Enum:sf,Type:tI,Path:ht,Capability:ht,InclusiveRange:sI},M8=(e,t)=>{const r=Object.keys(e).find(n=>/^\/.*\/$/.test(n)?new RegExp(n.substring(1,n.length-1)).test(t):n===t);return t&&r&&e[r]},Xo=async(e,t,r)=>{let n=M8(t,e.type);if(!n)throw new Error(`Undefined Decoder Error: ${e.type}@${r.join(".")}`);return await n(e.value,t,r)},d0=async function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const i={...Object.keys(dv).filter(s=>!Object.keys(t).find(o=>new RegExp(o).test(s))).reduce((s,o)=>(s[o]=dv[o],s),t),...t};return Xo(e,i,r)},sh=async function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e.encodedData)return d0(e.encodedData,t);if(e.transactionStatus)return{...e.transactionStatus,events:await Promise.all(e.transactionStatus.events.map(async function(n){return{type:n.type,transactionId:n.transactionId,transactionIndex:n.transactionIndex,eventIndex:n.eventIndex,data:await d0(n.payload,t)}}))};if(e.transaction)return e.transaction;if(e.events)return await Promise.all(e.events.map(async function(n){return{blockId:n.blockId,blockHeight:n.blockHeight,blockTimestamp:n.blockTimestamp,type:n.type,transactionId:n.transactionId,transactionIndex:n.transactionIndex,eventIndex:n.eventIndex,data:await d0(n.payload,t)}}));if(e.account)return e.account;if(e.block)return e.block;if(e.blockHeader)return e.blockHeader;if(e.latestBlock)return ZA(),e.latestBlock;if(e.transactionId)return e.transactionId;if(e.collection)return e.collection;if(e.networkParameters){const r=/^flow-/,n=e.networkParameters.chainId;let i;return n==="flow-emulator"?i="local":r.test(n)?i=n.replace(r,""):i=n,{chainId:i}}else{if(e.streamConnection)return JA(e.streamConnection,sh,t);if(e.heartbeat)return e.heartbeat;if(e.nodeVersionInfo)return e.nodeVersionInfo}return null},hv=e=>typeof e=="function",pv=e=>typeof e=="string",oI=()=>/\b(0x\w+)\b/g;function gv(e){return oI().test(e)}const R8=()=>/import\s+"(\w+)"/g;function mv(e){return R8().test(e)}function aI(e){return e.matchAll(R8())}async function uI(e){if(!po(e)&&!Wg(e))return e;var t=ih(e,"ix.cadence");if(se(hv(t)||pv(t),"Cadence needs to be a function or a string."),hv(t)&&(t=await t({})),se(pv(t),"Cadence needs to be a string at this point."),se(!gv(t)||!mv(t),"Both account identifier and contract identifier syntax not simultaneously supported."),gv(t)&&(t=await Be().where(/^0x/).then(r=>Object.entries(r).reduce((n,i)=>{let[s,o]=i;const a=new RegExp("(\\b"+s+"\\b)","g");return n.replace(a,o)},t))),mv(t))for(const[r,n]of aI(t)){const i=await Be().get(`system.contracts.${n}`);i?t=t.replace(r,`import ${n} from ${Br(i)}`):lt({title:"Contract Placeholder not found",message:`Cannot find a value for contract placeholder ${n}. Please add to your flow.json or explicitly add it to the config 'contracts.*' namespace.`,level:It.warn})}return e.message.cadence=t,e}const t1=e=>typeof e=="function";function cI(e){if(se(typeof e.xform!=null,`No type specified for argument: ${e.value}`),t1(e.xform))return e.xform(e.value);if(t1(e.xform.asArgument))return e.xform.asArgument(e.value);se(!1,"Invalid Argument",e)}async function C8(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3;if(se(t>0,`Argument Resolve Recursion Limit Exceeded for Arg: ${e.tempId}`),t1(e.resolveArgument)){const r=await e.resolveArgument();return C8(r,t-1)}else return e}async function lI(e){if(po(e)||Wg(e))for(let[t,r]of Object.entries(e.arguments)){const n=await C8(r);e.arguments[t].asArgument=cI(n)}return e}const fI=e=>T8(N8(P8(e))),dI=e=>T8(N8(bI(e))),hI=(e,t)=>pt.Buffer.from(e.padEnd(t*2,"0"),"hex"),D8=(e,t)=>pt.Buffer.from(e.padStart(t*2,"0"),"hex"),pI=hI(pt.Buffer.from("FLOW-V0.0-transaction").toString("hex"),32).toString("hex"),T8=e=>pI+e,h0=e=>D8(e,8),gI=e=>D8(e,32),mI=e=>pt.Buffer.from(JSON.stringify(e),"utf8"),yI=e=>pt.Buffer.from(e,"utf8"),vI=e=>pt.Buffer.from(e,"hex"),N8=e=>Lg(e).toString("hex"),P8=e=>(_I(e),[yI(e.cadence||""),e.arguments.map(mI),gI(e.refBlock||""),e.computeLimit,h0(er(e.proposalKey.address||"")),e.proposalKey.keyId,e.proposalKey.sequenceNum,h0(er(e.payer)),e.authorizers.map(t=>h0(er(t)))]),bI=e=>(SI(e),[P8(e),wI(e)]),wI=e=>{var r;const t=EI(e);return(r=e.payloadSigs)==null?void 0:r.map(n=>({signerIndex:t.get(n.address)||"",keyId:n.keyId,sig:n.sig})).sort((n,i)=>n.signerIndex>i.signerIndex?1:n.signerIndex<i.signerIndex?-1:n.keyId>i.keyId?1:n.keyId<i.keyId?-1:0).map(n=>[n.signerIndex,n.keyId,vI(n.sig)])},EI=e=>{const t=new Map;let r=0;const n=i=>{t.has(i)||(t.set(i,r),r++)};return e.proposalKey.address&&n(e.proposalKey.address),n(e.payer),e.authorizers.forEach(n),t},_I=e=>{AI.forEach(t=>yd(e,t)),II.forEach(t=>yd(e.proposalKey,t,"proposalKey"))},SI=e=>{var t;xI.forEach(r=>yd(e,r)),(t=e.payloadSigs)==null||t.forEach((r,n)=>{MI.forEach(i=>yd(r,i,"payloadSigs",n))})},md=e=>typeof e=="number",Xa=e=>typeof e=="string",O8=e=>e!==null&&typeof e=="object",r1=e=>O8(e)&&e instanceof Array,AI=[{name:"cadence",check:Xa},{name:"arguments",check:r1},{name:"refBlock",check:Xa,defaultVal:"0"},{name:"computeLimit",check:md},{name:"proposalKey",check:O8},{name:"payer",check:Xa},{name:"authorizers",check:r1}],II=[{name:"address",check:Xa},{name:"keyId",check:md},{name:"sequenceNum",check:md}],xI=[{name:"payloadSigs",check:r1}],MI=[{name:"address",check:Xa},{name:"keyId",check:md},{name:"sig",check:Xa}],yd=(e,t,r,n)=>{const{name:i,check:s,defaultVal:o}=t;if(e[i]==null&&o!=null&&(e[i]=o),e[i]==null)throw RI(i,r,n);if(!s(e[i]))throw CI(i,r,n)},k8=(e,t,r)=>t?r==null?`${t}.${e}`:`${t}.${r}.${e}`:e,RI=(e,t,r)=>new Error(`Missing field ${k8(e,t,r)}`),CI=(e,t,r)=>new Error(`Invalid field ${k8(e,t,r)}`);function F8(e){let t=new Set(e.authorizations);return e.proposer&&t.add(e.proposer),Array.isArray(e.payer)?e.payer.forEach(r=>t.delete(r)):t.delete(e.payer),Array.from(t)}function B8(e){let t=new Set(Array.isArray(e.payer)?e.payer:[e.payer]);return Array.from(t)}const Xg=e=>{const t=()=>e.authorizations.map(o=>Br(e.accounts[o].addr)).reduce((o,a)=>o.find(u=>u===a)?o:[...o,a],[]),r=()=>F8(e).map(s=>({address:Br(e.accounts[s].addr),keyId:e.accounts[s].keyId,sig:e.accounts[s].signature})),n=()=>B8(e).map(s=>({address:Br(e.accounts[s].addr),keyId:e.accounts[s].keyId,sig:e.accounts[s].signature})),i=e.proposer?{address:Br(e.accounts[e.proposer].addr),keyId:e.accounts[e.proposer].keyId,sequenceNum:e.accounts[e.proposer].sequenceNum}:{};return{cadence:e.message.cadence,refBlock:e.message.refBlock||null,computeLimit:e.message.computeLimit,arguments:e.message.arguments.map(s=>e.arguments[s].asArgument),proposalKey:i,payer:Br(e.accounts[Array.isArray(e.payer)?e.payer[0]:e.payer].addr),authorizers:t(),payloadSigs:r(),envelopeSigs:n()}},Ii=5,DI=e=>`${Br(e.addr)}-${e.keyId}`,TI=e=>e&&(Object.prototype.toString.call(e)==="[object Function]"||typeof e=="function"||e instanceof Function),NI=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.join("-")};var vn=function(e){return e.PAYER="payer",e.PROPOSER="proposer",e.AUTHORIZATIONS="authorizations",e}(vn||{});function PI(){const e=" ",r=[];return[function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;r.push(Array(i*4).fill(e).join("-")+n)},function(){return r.reduce((n,i)=>n+`
`+i)}]}function Zg(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3;return t<=0||!Array.isArray(e)?e:Zg(e.flatMap(r=>r),t-1)}function OI(e,t){try{return{f_type:"PreSignable",f_vsn:"1.0.1",roles:e.role,cadence:t.message.cadence,args:t.message.arguments.map(r=>t.arguments[r].asArgument),data:{},interaction:t,voucher:Xg(t)}}catch(r){throw console.error("buildPreSignable",r),r}}async function kI(e,t){const r=Array.isArray(e.payer)?e.payer:[e.payer],n=Array.isArray(e.authorizations)?e.authorizations:[e.authorizations],i=e.proposer===null?[]:Array.isArray(e.proposer)?e.proposer:[e.proposer],s=Object.keys(e.accounts),o=[...new Set(r.concat(n,i))];for(const a of s)o.find(u=>u===a)||delete e.accounts[a]}function yv(e,t){typeof t.addr=="string"&&(typeof t.keyId=="number"||typeof t.keyId=="string")?t.tempId=DI(t):t.tempId=t.tempId||Og();const r=e.accounts[t.tempId]||t;return e.accounts[t.tempId]||(e.accounts[t.tempId]=t),e.accounts[t.tempId].role.proposer=r.role.proposer||t.role.proposer,e.accounts[t.tempId].role.payer=r.role.payer||t.role.payer,e.accounts[t.tempId].role.authorizer=r.role.authorizer||t.role.authorizer,e.accounts[t.tempId]}function FI(e){const t=Zg(e),r=new Set;return t.map(i=>{const s=NI(i.tempId,i.role.payer,i.role.proposer,i.role.authorizer,i.role.param);return r.has(s)?null:(r.add(s),i)}).filter(i=>i!==null)}async function BI(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ii,{debugLogger:n}=arguments.length>3?arguments[3]:void 0;if(r<=0)throw new Error(`recurseResolveAccount Error: Depth limit (${Ii}) reached. Ensure your authorization functions resolve to an account after ${Ii} resolves.`);let i=e.accounts[t];if(!i)return[[],!1];if(n(`account: ${i.tempId}`,Math.max(Ii-r,0)),i!=null&&i.resolve)if(TI(i==null?void 0:i.resolve)){n(`account: ${i.tempId} -- cache MISS`,Math.max(Ii-r,0));const{resolve:s,...o}=i;let a=await s(o,OI(o,e));a=Array.isArray(a)?a:[a];let u=Zg(a);return u=u.map(c=>yv(e,c)),i.resolve=u.map(c=>c.tempId),i=yv(e,i),[u.map(c=>c.tempId),!0]}else return n(`account: ${i.tempId} -- cache HIT`,Math.max(Ii-r,0)),[i.resolve,!1];return[i.tempId?[i.tempId]:[],!1]}const mc=e=>e===null?[]:Array.isArray(e)?e:[e];async function LI(e,t,r){var n;for(let i of Object.values(vn))if(i===vn.AUTHORIZATIONS||i===vn.PAYER)e[i]=mc(e[i]).reduce((s,o)=>o===t?s.concat(...r.filter(a=>i===vn.PAYER&&a.role.payer||i===vn.AUTHORIZATIONS&&a.role.authorizer).map(a=>a.tempId)):s.concat(o),[]);else if(i===vn.PROPOSER){const s=r.filter(o=>o.role.proposer);if(s.length>1)throw new Error("replaceRoles Error: Multiple proposer keys were resolved, but only one is allowed");e[i]=((n=s[0])==null?void 0:n.tempId)??e[i]}}async function UI(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ii,{debugLogger:n}=arguments.length>3?arguments[3]:void 0;se(e&&typeof e=="object","resolveAccountType Error: ix not defined");let i=new Set;for(let o of t){let a=e.accounts[o];se(!!a,"resolveAccountType Error: account not found");const[u,c]=await BI(e,o,r,{debugLogger:n});if(c){const f=u.map(y=>e.accounts[y]),h=FI(f);h.forEach(y=>i.add(y.tempId)),LI(e,o,h)}}let s;for(const o of e[vn.PAYER]){let a=e.accounts[o];if(!s)s=a.addr;else if(s!==a.addr)throw new Error("resolveAccountType Error: payers from different accounts detected")}return i}async function $I(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(po(e)){Array.isArray(e.payer)||lt.deprecate({pkg:"FCL",subject:'"ix.payer" must be an array. Support for ix.payer as a singular',message:"See changelog for more info."});let[r,n]=PI();try{let i=Ii,s=new Set([...mc(e[vn.PAYER]),...mc(e[vn.PROPOSER]),...mc(e[vn.AUTHORIZATIONS])]);for(;s.size>0;){if(i<=0)throw new Error(`resolveAccounts Error: Depth limit (${Ii}) reached. Ensure your authorization functions resolve to an account after ${Ii} resolves.`);s=await UI(e,s,i,{debugLogger:r}),i--}await kI(e,{debugLogger:r});for(const o of Object.values(vn))se(mc(e[o]).length>0||o===vn.AUTHORIZATIONS,`resolveAccountType Error: no accounts for role "${o}" found`);t.enableDebug&&console.debug(n())}catch(i){throw console.error(`=== SAD PANDA ===

`,i,`

=== SAD PANDA ===`),i}}return e}async function zI(e){if(po(e))try{let t=F8(e);const r=fI(bv(e));await Promise.all(t.map(vv(e,r)));let n=B8(e);const i=dI({...bv(e),payloadSigs:t.map(s=>({address:e.accounts[s].addr||"",keyId:e.accounts[s].keyId||0,sig:e.accounts[s].signature||""}))});await Promise.all(n.map(vv(e,i)))}catch(t){throw console.error("Signatures",t,{ix:e}),t}return e}function vv(e,t){return async function(n){const i=e.accounts[n];if(i.signature!=null&&i.signature!==void 0)return;const{signature:s}=await i.signingFunction(qI(i,t,e));e.accounts[n].signature=s}}function qI(e,t,r){try{return{f_type:"Signable",f_vsn:"1.0.1",message:t,addr:er(e.addr),keyId:e.keyId,roles:e.role,cadence:r.message.cadence,args:r.message.arguments.map(n=>r.arguments[n].asArgument),data:{},interaction:r,voucher:Xg(r)}}catch(n){throw console.error("buildSignable",n),n}}function bv(e){const t=er((Array.isArray(e.payer)?e.accounts[e.payer[0]]:e.accounts[e.payer]).addr||""),r=e.proposer?{address:er(e.accounts[e.proposer].addr)||"",keyId:e.accounts[e.proposer].keyId||0,sequenceNum:e.accounts[e.proposer].sequenceNum||0}:{};return{cadence:e.message.cadence,refBlock:e.message.refBlock,computeLimit:e.message.computeLimit,arguments:e.message.arguments.map(n=>e.arguments[n].asArgument),proposalKey:r,payer:t,authorizers:e.authorizations.map(n=>er(e.accounts[n].addr)||"").reduce((n,i)=>n.find(s=>s===i)?n:[...n,i],[])}}async function jI(e){const t=ih(e,"ix.validators",[]);return jr(e,t.map(r=>n=>r(n,{Ok:Cn,Bad:Vg})))}async function HI(e){for(let t of Object.keys(e.accounts))e.accounts[t].addr=er(e.accounts[t].addr);return e}async function KI(e){const t=ih(e,"ix.voucher-intercept");return fu(t)&&await t(Xg(e)),e}const GI=100;async function VI(e){return po(e)&&(e.message.computeLimit=e.message.computeLimit||await Be.get("fcl.limit"),e.message.computeLimit||(lt.deprecate({pkg:"FCL/SDK",subject:"The built-in default compute limit (DEFAULT_COMPUTE_LIMIT=10)",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0009-deprecate-default-compute-limit"}),e.message.computeLimit=GI)),e}const WI=e=>e,wa=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:WI;return async r=>{const n=s=>[`
Accounts:`,{proposer:s.proposer,authorizations:s.authorizations,payer:s.payer},`

Details:`,s.accounts].filter(Boolean),i=function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];console.log(`debug[${e}] ---
`,...o,`


---`)};return await Be.get(`debug.${e}`)&&await t(r,i,n),r}},YI=jr([uI,wa("cadence",(e,t)=>t(e.message.cadence)),VI,wa("compute limit",(e,t)=>t(e.message.computeLimit)),lI,wa("arguments",(e,t)=>t(e.message.arguments,e.message)),$I,wa("accounts",(e,t,r)=>t(...r(e))),QI,JI,zI,wa("signatures",(e,t,r)=>t(...r(e))),HI,jI,KI,wa("resolved",(e,t)=>t(e))]);async function QI(e){if(po(e)&&e.message.refBlock==null){const t=await Be().get("accessNode.api"),r=await Be.first(["sdk.transport","sdk.send"],Hg);se(r,"Required value for sdk.transport is not defined in config. See: https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21"),e.message.refBlock=(await r(x8([YA()]),{config:Be,response:Jg,Buffer:pt.Buffer,ix:Qg},{node:t}).then(sh)).id}return e}async function JI(e){if(po(e)){var t=Object.values(e.accounts).find(r=>r.role.proposer);if(se(t,"Transactions require a proposer"),t.sequenceNum==null){const r=await Be().get("accessNode.api"),n=await Be.first(["sdk.transport","sdk.send"],Hg);se(n,"Required value for sdk.transport is not defined in config. See: https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21"),e.accounts[t.tempId].sequenceNum=await n(await x8([QA(t.addr)]),{config:Be,response:Jg,Buffer:pt.Buffer,ix:Qg},{node:r}).then(sh).then(i=>i.keys).then(i=>i.find(s=>s.index===t.keyId)).then(i=>i.sequenceNumber)}}return e}function L8(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1){const[i,s]=t;return L8((o,a)=>{let{Ok:u,Bad:c}=a;return i?u(o):c(o,s)})}const[n]=t;return i=>n(i,{Ok:Cn,Bad:Vg})}const oh=async function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=await Be.first(["sdk.transport","sdk.send"],t.send||Hg);L8(r,"Required value for sdk.transport is not defined in config. See: https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21");const n=await Be.first(["sdk.resolve"],t.resolve||YI);return t.node=t.node||await Be().get("accessNode.api"),Array.isArray(e)&&(e=jr(rh(),e)),r(await n(e),{config:Be,response:Jg,ix:Qg,Buffer:pt.Buffer},t)};async function ah(e){const t=await Be().where(/^decoder\./),r=Object.entries(t).map(n=>{let[i,s]=n;return i=`/${i.replace(/^decoder\./,"")}$/`,[i,s]});return sh(e,Object.fromEntries(r))}function XI(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return jr(e.map(t=>nh(t,{role:Xc.AUTHORIZER})))}function ZI(e){return jr([E8,t=>(t.transaction.id=e,Cn(t))])}function ex(){return jr([A8,e=>Cn(e)])}function U8(e){return t=>(t.message.computeLimit=e,t)}function $8(e){return jr(e.map(v8))}function z8(e,t){return{value:e,xform:t}}function tx(e){return nh(e,{role:Xc.PROPOSER})}function rx(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Array.isArray(e)||(e=[e]),jr(e.map(t=>nh(t,{role:Xc.PAYER})))}function nx(){return jr([b8,Yg("ix.cadence",l8(...arguments))])}const ix=[],sx=null;function ox(){return jr([w8,Yg("ix.cadence",l8(...arguments)),e=>(e.message.refBlock=e.message.refBlock||sx,e.authorizations=e.authorizations||ix,Cn(e))])}const nt=(e,t,r)=>({label:e,asArgument:t,asInjection:n=>(lt.deprecate({pkg:"@onflow/types",subject:`Passing in ${e} as value for ${e}`,message:`Going forward, use ${e} as value for ${e}.`}),r(n))}),Zo=e=>Array.isArray(e),go=e=>typeof e=="object",q8=e=>e==null,ax=e=>typeof e=="boolean",qt=e=>typeof e=="number",Yt=e=>Number.isInteger(e),wt=e=>typeof e=="string",Qe=e=>{throw new Error("Type Error: "+e)},Qt=e=>{lt.deprecate({pkg:"@onflow/types",subject:`Passing in Number as value for ${e}`,message:`Going forward, use String as value for ${e}.`,transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/types/WARNINGS.md#0002-[U]Int*-and-Word*-as-Number"})};let wv=!1;const ux={label:"Identity",asArgument:e=>(wv||(lt.deprecate({pkg:"@onflow/types",subject:"Identity",message:"Identity type is deprecated and will be removed in v2.0.0.  Please remove it from your code."}),wv=!0),e),asInjection:e=>e},cx=nt("UInt",e=>qt(e)&&Yt(e)?(Qt("UInt"),{type:"UInt",value:e.toString()}):wt(e)?{type:"UInt",value:e}:Qe("Expected Positive Integer for type Unsigned Int"),e=>e),lx=nt("Int",e=>qt(e)&&Yt(e)?(Qt("Int"),{type:"Int",value:e.toString()}):wt(e)?{type:"Int",value:e}:Qe("Expected Integer for type Int"),e=>e),fx=nt("UInt8",e=>qt(e)&&Yt(e)?(Qt("UInt8"),{type:"UInt8",value:e.toString()}):wt(e)?{type:"UInt8",value:e}:Qe("Expected integer for UInt8"),e=>e),dx=nt("Int8",e=>qt(e)&&Yt(e)?(Qt("Int8"),{type:"Int8",value:e.toString()}):wt(e)?{type:"Int8",value:e}:Qe("Expected positive integer for Int8"),e=>e),hx=nt("UInt16",e=>qt(e)&&Yt(e)?(Qt("UInt16"),{type:"UInt16",value:e.toString()}):wt(e)?{type:"UInt16",value:e}:Qe("Expected integer for UInt16"),e=>e),px=nt("Int16",e=>qt(e)&&Yt(e)?(Qt("Int16"),{type:"Int16",value:e.toString()}):wt(e)?{type:"Int16",value:e}:Qe("Expected positive integer for Int16"),e=>e),gx=nt("UInt32",e=>qt(e)&&Yt(e)?(Qt("UInt32"),{type:"UInt32",value:e.toString()}):wt(e)?{type:"UInt32",value:e}:Qe("Expected integer for UInt32"),e=>e),mx=nt("Int32",e=>qt(e)&&Yt(e)?(Qt("Int32"),{type:"Int32",value:e.toString()}):wt(e)?{type:"Int32",value:e}:Qe("Expected positive integer for Int32"),e=>e),yx=nt("UInt64",e=>qt(e)&&Yt(e)?(Qt("UInt64"),{type:"UInt64",value:e.toString()}):wt(e)?{type:"UInt64",value:e}:Qe("Expected integer for UInt64"),e=>e),vx=nt("Int64",e=>qt(e)&&Yt(e)?(Qt("Int64"),{type:"Int64",value:e.toString()}):wt(e)?{type:"Int64",value:e}:Qe("Expected positive integer for Int64"),e=>e),bx=nt("UInt128",e=>qt(e)&&Yt(e)?(Qt("UInt128"),{type:"UInt128",value:e.toString()}):wt(e)?{type:"UInt128",value:e}:Qe("Expected integer for UInt128"),e=>e),wx=nt("Int128",e=>qt(e)&&Yt(e)?(Qt("Int128"),{type:"Int128",value:e.toString()}):wt(e)?{type:"Int128",value:e}:Qe("Expected positive integer for Int128"),e=>e),Ex=nt("UInt256",e=>qt(e)&&Yt(e)?(Qt("UInt256"),{type:"UInt256",value:e.toString()}):wt(e)?{type:"UInt256",value:e}:Qe("Expected integer for UInt256"),e=>e),_x=nt("Int256",e=>qt(e)&&Yt(e)?(Qt("Int256"),{type:"Int256",value:e.toString()}):wt(e)?{type:"Int256",value:e}:Qe("Expected integer for Int256"),e=>e),Sx=nt("Word8",e=>qt(e)&&Yt(e)?(Qt("Word8"),{type:"Word8",value:e.toString()}):wt(e)?{type:"Word8",value:e}:Qe("Expected positive number for Word8"),e=>e),Ax=nt("Word16",e=>qt(e)&&Yt(e)?(Qt("Word16"),{type:"Word16",value:e.toString()}):wt(e)?{type:"Word16",value:e}:Qe("Expected positive number for Word16"),e=>e),Ix=nt("Word32",e=>qt(e)&&Yt(e)?(Qt("Word32"),{type:"Word32",value:e.toString()}):wt(e)?{type:"Word32",value:e}:Qe("Expected positive number for Word32"),e=>e),xx=nt("Word64",e=>qt(e)&&Yt(e)?(Qt("Word64"),{type:"Word64",value:e.toString()}):wt(e)?{type:"Word64",value:e}:Qe("Expected positive number for Word64"),e=>e),Mx=nt("Word128",e=>qt(e)&&Yt(e)?(Qt("Word128"),{type:"Word128",value:e.toString()}):wt(e)?{type:"Word128",value:e}:Qe("Expected positive number for Word128"),e=>e),Rx=nt("Word256",e=>qt(e)&&Yt(e)?(Qt("Word256"),{type:"Word256",value:e.toString()}):wt(e)?{type:"Word256",value:e}:Qe("Expected positive number for Word256"),e=>e),j8=()=>{lt.deprecate({subject:"Passing in Numbers as values for Fix64 and UFix64 types",pkg:"@onflow/types",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/types/WARNINGS.md#0001-[U]Fix64-as-Number"})},Cx=nt("UFix64",e=>{if(wt(e)){const t=e.split(".");return t.length!==2?Qe(`Expected one decimal but found ${t.length} in the [U]Fix64 value. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers`):t[1].length==0||t[1].length>8?Qe(`Expected at least one digit, and at most 8 digits following the decimal of the [U]Fix64 value but found ${t[1].length} digits. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers`):(t[1]=t[1].padEnd(8,"0"),e=t.join("."),{type:"UFix64",value:e})}else if(qt(e))return j8(),{type:"UFix64",value:e.toString()};return Qe("Expected String for UFix64")},e=>e),Dx=nt("Fix64",e=>{if(wt(e)){const t=e.split(".");return t.length!==2?Qe(`Expected one decimal but found ${t.length} in the [U]Fix64 value. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers`):t[1].length==0||t[1].length>8?Qe(`Expected at least one digit, and at most 8 digits following the decimal of the [U]Fix64 value but found ${t[1].length} digits. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers`):(t[1]=t[1].padEnd(8,"0"),e=t.join("."),{type:"Fix64",value:e})}else if(qt(e))return j8(),{type:"Fix64",value:e.toString()};return Qe("Expected String for Fix64")},e=>e),Tx=nt("String",e=>wt(e)?{type:"String",value:e}:Qe("Expected String for type String"),e=>e),Nx=nt("Character",e=>wt(e)?{type:"Character",value:e}:Qe("Expected Character for type Character"),e=>e),Px=nt("Bool",e=>ax(e)?{type:"Bool",value:e}:Qe("Expected Boolean for type Bool"),e=>e),H8=nt("Address",e=>wt(e)?{type:"Address",value:e}:Qe("Expected Address for type Address"),e=>e),Ox=nt("Void",e=>!e||q8(e)?{type:"Void",value:null}:Qe("Expected Void for type Void"),e=>e),kx=e=>nt("Optional",t=>({type:"Optional",value:q8(t)?null:e.asArgument(t)}),t=>t),Fx=nt("Reference",e=>go(e)?{type:"Reference",value:e}:Qe("Expected Object for type Reference"),e=>e),Ev=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return nt("Array",t=>({type:"Array",value:Zo(e)?e.map((r,n)=>r.asArgument(t[n])):t.map(r=>e.asArgument(r))}),t=>t)},Bx=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return nt("Dictionary",t=>{const r=Zo(t),n=Zo(e);return go(t)?{type:"Dictionary",value:n&&r?e.map((i,s)=>({key:i.key.asArgument(t[s].key),value:i.value.asArgument(t[s].value)})):r&&!n?t.map(i=>({key:e.key.asArgument(i.key),value:e.value.asArgument(i.value)})):!r&&!n?[{key:e.key.asArgument(t.key),value:e.value.asArgument(t.value)}]:Qe("Invalid arguments for Dictionary.")}:Qe("Expected Object for type Dictionary")},t=>t)},Lx=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return nt("Event",r=>go(r)?{type:"Event",value:{id:e,fields:Zo(t)?t.map((n,i)=>({name:r.fields[i].name,value:n.value.asArgument(r.fields[i].value)})):r.fields.map(n=>({name:n.name,value:t.value.asArgument(n.value)}))}}:Qe("Expected Object for type Event"),r=>r)},Ux=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return nt("Resource",r=>go(r)?{type:"Resource",value:{id:e,fields:Zo(t)?t.map((n,i)=>({name:r.fields[i].name,value:n.value.asArgument(r.fields[i].value)})):r.fields.map(n=>({name:n.name,value:t.value.asArgument(n.value)}))}}:Qe("Expected Object for type Resource"),r=>r)},$x=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return nt("Struct",r=>go(r)?{type:"Struct",value:{id:e,fields:Zo(t)?t.map((n,i)=>({name:r.fields[i].name,value:n.value.asArgument(r.fields[i].value)})):r.fields.map(n=>({name:n.name,value:t.value.asArgument(n.value)}))}}:Qe("Expected Object for type Struct"),r=>r)},zx=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return nt("Enum",r=>go(r)?{type:"Enum",value:{id:e,fields:Zo(t)?t.map((n,i)=>({name:r.fields[i].name,value:n.value.asArgument(r.fields[i].value)})):r.fields.map(n=>({name:n.name,value:t.value.asArgument(n.value)}))}}:Qe("Expected Object for type Enum"),r=>r)},qx=nt("Path",e=>go(e)?wt(e.domain)?e.domain==="storage"||e.domain==="private"||e.domain==="public"?wt(e.identifier)?{type:"Path",value:{domain:e.domain,identifier:e.identifier}}:Qe(`Expected a string for the Path identifier but found ${e.identifier}. Find out more about the Path type here: https://docs.onflow.org/cadence/json-cadence-spec/#path`):Qe(`Expected either "storage", "private" or "public" as the Path domain but found ${e.domain}. Find out more about the Path type here: https://docs.onflow.org/cadence/json-cadence-spec/#path`):Qe(`Expected a string for the Path domain but found ${e.domain}. Find out more about the Path type here: https://docs.onflow.org/cadence/json-cadence-spec/#path`):Qe("Expected Object for type Path"),e=>e),jx=e=>nt("InclusiveRange",t=>{if(go(t)){const{start:r,end:n,step:i}=t;return{type:"InclusiveRange",value:{start:e.asArgument(r),end:e.asArgument(n),step:e.asArgument(i)}}}return Qe("Expected Object for type InclusiveRange")},t=>t),Hx=Object.freeze(Object.defineProperty({__proto__:null,Address:H8,Array:Ev,Bool:Px,Character:Nx,Dictionary:Bx,Enum:zx,Event:Lx,Fix64:Dx,Identity:ux,InclusiveRange:jx,Int:lx,Int128:wx,Int16:px,Int256:_x,Int32:mx,Int64:vx,Int8:dx,Optional:kx,Path:qx,Reference:Fx,Resource:Ux,String:Tx,Struct:$x,UFix64:Cx,UInt:cx,UInt128:bx,UInt16:hx,UInt256:Ex,UInt32:gx,UInt64:yx,UInt8:fx,Void:Ox,Word128:Mx,Word16:Ax,Word256:Rx,Word32:Ix,Word64:xx,Word8:Sx,_Array:Ev},Symbol.toStringTag,{value:"Module"}));var K8={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(yn,function(){return r={418:function(i,s){(function(o,a){for(var u in a)o[u]=a[u]})(s,function(o){var a={};function u(c){if(a[c])return a[c].exports;var f=a[c]={i:c,l:!1,exports:{}};return o[c].call(f.exports,f,f.exports,u),f.l=!0,f.exports}return u.m=o,u.c=a,u.i=function(c){return c},u.d=function(c,f,h){u.o(c,f)||Object.defineProperty(c,f,{configurable:!1,enumerable:!0,get:h})},u.n=function(c){var f=c&&c.__esModule?function(){return c.default}:function(){return c};return u.d(f,"a",f),f},u.o=function(c,f){return Object.prototype.hasOwnProperty.call(c,f)},u.p="",u(u.s=1)}([function(o,a,u){Object.defineProperty(a,"__esModule",{value:!0});var c=u(3),f=function(){function h(y,v){y===void 0&&(y={}),v===void 0&&(v={splitValues:!1});var w,C=this;this.headersMap={},y&&(typeof Headers<"u"&&y instanceof Headers?c.getHeaderKeys(y).forEach(function(N){c.getHeaderValues(y,N).forEach(function(T){v.splitValues?C.append(N,c.splitHeaderValue(T)):C.append(N,T)})}):typeof(w=y)=="object"&&typeof w.headersMap=="object"&&typeof w.forEach=="function"?y.forEach(function(N,T){C.append(N,T)}):typeof Map<"u"&&y instanceof Map?y.forEach(function(N,T){C.append(T,N)}):typeof y=="string"?this.appendFromString(y):typeof y=="object"&&Object.getOwnPropertyNames(y).forEach(function(N){var T=y[N];Array.isArray(T)?T.forEach(function(x){C.append(N,x)}):C.append(N,T)}))}return h.prototype.appendFromString=function(y){for(var v=y.split(`\r
`),w=0;w<v.length;w++){var C=v[w],N=C.indexOf(":");if(N>0){var T=C.substring(0,N).trim(),x=C.substring(N+1).trim();this.append(T,x)}}},h.prototype.delete=function(y,v){var w=c.normalizeName(y);if(v===void 0)delete this.headersMap[w];else{var C=this.headersMap[w];if(C){var N=C.indexOf(v);N>=0&&C.splice(N,1),C.length===0&&delete this.headersMap[w]}}},h.prototype.append=function(y,v){var w=this,C=c.normalizeName(y);Array.isArray(this.headersMap[C])||(this.headersMap[C]=[]),Array.isArray(v)?v.forEach(function(N){w.headersMap[C].push(c.normalizeValue(N))}):this.headersMap[C].push(c.normalizeValue(v))},h.prototype.set=function(y,v){var w=c.normalizeName(y);if(Array.isArray(v)){var C=[];v.forEach(function(N){C.push(c.normalizeValue(N))}),this.headersMap[w]=C}else this.headersMap[w]=[c.normalizeValue(v)]},h.prototype.has=function(y,v){var w=this.headersMap[c.normalizeName(y)];if(!Array.isArray(w))return!1;if(v!==void 0){var C=c.normalizeValue(v);return w.indexOf(C)>=0}return!0},h.prototype.get=function(y){var v=this.headersMap[c.normalizeName(y)];return v!==void 0?v.concat():[]},h.prototype.forEach=function(y){var v=this;Object.getOwnPropertyNames(this.headersMap).forEach(function(w){y(w,v.headersMap[w])},this)},h.prototype.toHeaders=function(){if(typeof Headers<"u"){var y=new Headers;return this.forEach(function(v,w){w.forEach(function(C){y.append(v,C)})}),y}throw new Error("Headers class is not defined")},h}();a.BrowserHeaders=f},function(o,a,u){Object.defineProperty(a,"__esModule",{value:!0});var c=u(0);a.BrowserHeaders=c.BrowserHeaders},function(o,a,u){Object.defineProperty(a,"__esModule",{value:!0}),a.iterateHeaders=function(c,f){for(var h=c[Symbol.iterator](),y=h.next();!y.done;)f(y.value[0]),y=h.next()},a.iterateHeadersKeys=function(c,f){for(var h=c.keys(),y=h.next();!y.done;)f(y.value),y=h.next()}},function(o,a,u){Object.defineProperty(a,"__esModule",{value:!0});var c=u(2);a.normalizeName=function(f){if(typeof f!="string"&&(f=String(f)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(f))throw new TypeError("Invalid character in header field name");return f.toLowerCase()},a.normalizeValue=function(f){return typeof f!="string"&&(f=String(f)),f},a.getHeaderValues=function(f,h){var y=f;if(y instanceof Headers&&y.getAll)return y.getAll(h);var v=y.get(h);return v&&typeof v=="string"?[v]:v},a.getHeaderKeys=function(f){var h=f,y={},v=[];return h.keys?c.iterateHeadersKeys(h,function(w){y[w]||(y[w]=!0,v.push(w))}):h.forEach?h.forEach(function(w,C){y[C]||(y[C]=!0,v.push(C))}):c.iterateHeaders(h,function(w){var C=w[0];y[C]||(y[C]=!0,v.push(C))}),v},a.splitHeaderValue=function(f){var h=[];return f.split(", ").forEach(function(y){y.split(",").forEach(function(v){h.push(v)})}),h}}]))},617:function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0}),s.ChunkParser=s.ChunkType=s.encodeASCII=s.decodeASCII=void 0;var a,u=o(65);function c(N){return(T=N)===9||T===10||T===13||N>=32&&N<=126;var T}function f(N){for(var T=0;T!==N.length;++T)if(!c(N[T]))throw new Error("Metadata is not valid (printable) ASCII");return String.fromCharCode.apply(String,Array.prototype.slice.call(N))}function h(N){return(128&N.getUint8(0))==128}function y(N){return N.getUint32(1,!1)}function v(N,T,x){return N.byteLength-T>=x}function w(N,T,x){if(N.slice)return N.slice(T,x);var O=N.length;x!==void 0&&(O=x);for(var k=new Uint8Array(O-T),L=0,$=T;$<O;$++)k[L++]=N[$];return k}s.decodeASCII=f,s.encodeASCII=function(N){for(var T=new Uint8Array(N.length),x=0;x!==N.length;++x){var O=N.charCodeAt(x);if(!c(O))throw new Error("Metadata contains invalid ASCII");T[x]=O}return T},function(N){N[N.MESSAGE=1]="MESSAGE",N[N.TRAILERS=2]="TRAILERS"}(a=s.ChunkType||(s.ChunkType={}));var C=function(){function N(){this.buffer=null,this.position=0}return N.prototype.parse=function(T,x){if(T.length===0&&x)return[];var O,k=[];if(this.buffer==null)this.buffer=T,this.position=0;else if(this.position===this.buffer.byteLength)this.buffer=T,this.position=0;else{var L=this.buffer.byteLength-this.position,$=new Uint8Array(L+T.byteLength),E=w(this.buffer,this.position);$.set(E,0);var U=new Uint8Array(T);$.set(U,L),this.buffer=$,this.position=0}for(;;){if(!v(this.buffer,this.position,5))return k;var Z=w(this.buffer,this.position,this.position+5),ne=new DataView(Z.buffer,Z.byteOffset,Z.byteLength),q=y(ne);if(!v(this.buffer,this.position,5+q))return k;var b=w(this.buffer,this.position+5,this.position+5+q);if(this.position+=5+q,h(ne))return k.push({chunkType:a.TRAILERS,trailers:(O=b,new u.Metadata(f(O)))}),k;k.push({chunkType:a.MESSAGE,data:b})}},N}();s.ChunkParser=C},8:function(i,s){var o;Object.defineProperty(s,"__esModule",{value:!0}),s.httpStatusToCode=s.Code=void 0,function(a){a[a.OK=0]="OK",a[a.Canceled=1]="Canceled",a[a.Unknown=2]="Unknown",a[a.InvalidArgument=3]="InvalidArgument",a[a.DeadlineExceeded=4]="DeadlineExceeded",a[a.NotFound=5]="NotFound",a[a.AlreadyExists=6]="AlreadyExists",a[a.PermissionDenied=7]="PermissionDenied",a[a.ResourceExhausted=8]="ResourceExhausted",a[a.FailedPrecondition=9]="FailedPrecondition",a[a.Aborted=10]="Aborted",a[a.OutOfRange=11]="OutOfRange",a[a.Unimplemented=12]="Unimplemented",a[a.Internal=13]="Internal",a[a.Unavailable=14]="Unavailable",a[a.DataLoss=15]="DataLoss",a[a.Unauthenticated=16]="Unauthenticated"}(o=s.Code||(s.Code={})),s.httpStatusToCode=function(a){switch(a){case 0:return o.Internal;case 200:return o.OK;case 400:return o.InvalidArgument;case 401:return o.Unauthenticated;case 403:return o.PermissionDenied;case 404:return o.NotFound;case 409:return o.Aborted;case 412:return o.FailedPrecondition;case 429:return o.ResourceExhausted;case 499:return o.Canceled;case 500:return o.Unknown;case 501:return o.Unimplemented;case 503:return o.Unavailable;case 504:return o.DeadlineExceeded;default:return o.Unknown}}},934:function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0}),s.client=void 0;var a=o(65),u=o(617),c=o(8),f=o(346),h=o(57),y=o(882);s.client=function(C,N){return new v(C,N)};var v=function(){function C(N,T){this.started=!1,this.sentFirstMessage=!1,this.completed=!1,this.closed=!1,this.finishedSending=!1,this.onHeadersCallbacks=[],this.onMessageCallbacks=[],this.onEndCallbacks=[],this.parser=new u.ChunkParser,this.methodDefinition=N,this.props=T,this.createTransport()}return C.prototype.createTransport=function(){var N=this.props.host+"/"+this.methodDefinition.service.serviceName+"/"+this.methodDefinition.methodName,T={methodDefinition:this.methodDefinition,debug:this.props.debug||!1,url:N,onHeaders:this.onTransportHeaders.bind(this),onChunk:this.onTransportChunk.bind(this),onEnd:this.onTransportEnd.bind(this)};this.props.transport?this.transport=this.props.transport(T):this.transport=h.makeDefaultTransport(T)},C.prototype.onTransportHeaders=function(N,T){if(this.props.debug&&f.debug("onHeaders",N,T),this.closed)this.props.debug&&f.debug("grpc.onHeaders received after request was closed - ignoring");else if(T!==0){this.responseHeaders=N,this.props.debug&&f.debug("onHeaders.responseHeaders",JSON.stringify(this.responseHeaders,null,2));var x=w(N);this.props.debug&&f.debug("onHeaders.gRPCStatus",x);var O=x&&x>=0?x:c.httpStatusToCode(T);this.props.debug&&f.debug("onHeaders.code",O);var k=N.get("grpc-message")||[];if(this.props.debug&&f.debug("onHeaders.gRPCMessage",k),this.rawOnHeaders(N),O!==c.Code.OK){var L=this.decodeGRPCStatus(k[0]);this.rawOnError(O,L,N)}}},C.prototype.onTransportChunk=function(N){var T=this;if(this.closed)this.props.debug&&f.debug("grpc.onChunk received after request was closed - ignoring");else{var x=[];try{x=this.parser.parse(N)}catch(O){return this.props.debug&&f.debug("onChunk.parsing error",O,O.message),void this.rawOnError(c.Code.Internal,"parsing error: "+O.message)}x.forEach(function(O){if(O.chunkType===u.ChunkType.MESSAGE){var k=T.methodDefinition.responseType.deserializeBinary(O.data);T.rawOnMessage(k)}else O.chunkType===u.ChunkType.TRAILERS&&(T.responseHeaders?(T.responseTrailers=new a.Metadata(O.trailers),T.props.debug&&f.debug("onChunk.trailers",T.responseTrailers)):(T.responseHeaders=new a.Metadata(O.trailers),T.rawOnHeaders(T.responseHeaders)))})}},C.prototype.onTransportEnd=function(){if(this.props.debug&&f.debug("grpc.onEnd"),this.closed)this.props.debug&&f.debug("grpc.onEnd received after request was closed - ignoring");else if(this.responseTrailers!==void 0){var N=w(this.responseTrailers);if(N!==null){var T=this.responseTrailers.get("grpc-message"),x=this.decodeGRPCStatus(T[0]);this.rawOnEnd(N,x,this.responseTrailers)}else this.rawOnError(c.Code.Internal,"Response closed without grpc-status (Trailers provided)")}else{if(this.responseHeaders===void 0)return void this.rawOnError(c.Code.Unknown,"Response closed without headers");var O=w(this.responseHeaders),k=this.responseHeaders.get("grpc-message");if(this.props.debug&&f.debug("grpc.headers only response ",O,k),O===null)return void this.rawOnEnd(c.Code.Unknown,"Response closed without grpc-status (Headers only)",this.responseHeaders);var L=this.decodeGRPCStatus(k[0]);this.rawOnEnd(O,L,this.responseHeaders)}},C.prototype.decodeGRPCStatus=function(N){if(!N)return"";try{return decodeURIComponent(N)}catch{return N}},C.prototype.rawOnEnd=function(N,T,x){var O=this;this.props.debug&&f.debug("rawOnEnd",N,T,x),this.completed||(this.completed=!0,this.onEndCallbacks.forEach(function(k){if(!O.closed)try{k(N,T,x)}catch(L){setTimeout(function(){throw L},0)}}))},C.prototype.rawOnHeaders=function(N){this.props.debug&&f.debug("rawOnHeaders",N),this.completed||this.onHeadersCallbacks.forEach(function(T){try{T(N)}catch(x){setTimeout(function(){throw x},0)}})},C.prototype.rawOnError=function(N,T,x){var O=this;x===void 0&&(x=new a.Metadata),this.props.debug&&f.debug("rawOnError",N,T),this.completed||(this.completed=!0,this.onEndCallbacks.forEach(function(k){if(!O.closed)try{k(N,T,x)}catch(L){setTimeout(function(){throw L},0)}}))},C.prototype.rawOnMessage=function(N){var T=this;this.props.debug&&f.debug("rawOnMessage",N.toObject()),this.completed||this.closed||this.onMessageCallbacks.forEach(function(x){if(!T.closed)try{x(N)}catch(O){setTimeout(function(){throw O},0)}})},C.prototype.onHeaders=function(N){this.onHeadersCallbacks.push(N)},C.prototype.onMessage=function(N){this.onMessageCallbacks.push(N)},C.prototype.onEnd=function(N){this.onEndCallbacks.push(N)},C.prototype.start=function(N){if(this.started)throw new Error("Client already started - cannot .start()");this.started=!0;var T=new a.Metadata(N||{});T.set("content-type","application/grpc-web+proto"),T.set("x-grpc-web","1"),this.transport.start(T)},C.prototype.send=function(N){if(!this.started)throw new Error("Client not started - .start() must be called before .send()");if(this.closed)throw new Error("Client already closed - cannot .send()");if(this.finishedSending)throw new Error("Client already finished sending - cannot .send()");if(!this.methodDefinition.requestStream&&this.sentFirstMessage)throw new Error("Message already sent for non-client-streaming method - cannot .send()");this.sentFirstMessage=!0;var T=y.frameRequest(N);this.transport.sendMessage(T)},C.prototype.finishSend=function(){if(!this.started)throw new Error("Client not started - .finishSend() must be called before .close()");if(this.closed)throw new Error("Client already closed - cannot .send()");if(this.finishedSending)throw new Error("Client already finished sending - cannot .finishSend()");this.finishedSending=!0,this.transport.finishSend()},C.prototype.close=function(){if(!this.started)throw new Error("Client not started - .start() must be called before .close()");if(this.closed)throw new Error("Client already closed - cannot .close()");this.closed=!0,this.props.debug&&f.debug("request.abort aborting request"),this.transport.cancel()},C}();function w(C){var N=C.get("grpc-status")||[];if(N.length>0)try{var T=N[0];return parseInt(T,10)}catch{return null}return null}},346:function(i,s){Object.defineProperty(s,"__esModule",{value:!0}),s.debug=void 0,s.debug=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];console.debug?console.debug.apply(null,o):console.log.apply(null,o)}},607:function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0}),s.grpc=void 0;var a,u=o(418),c=o(57),f=o(229),h=o(540),y=o(210),v=o(859),w=o(8),C=o(938),N=o(35),T=o(934);(a=s.grpc||(s.grpc={})).setDefaultTransport=c.setDefaultTransportFactory,a.CrossBrowserHttpTransport=v.CrossBrowserHttpTransport,a.FetchReadableStreamTransport=f.FetchReadableStreamTransport,a.XhrTransport=y.XhrTransport,a.WebsocketTransport=h.WebsocketTransport,a.Code=w.Code,a.Metadata=u.BrowserHeaders,a.client=function(x,O){return T.client(x,O)},a.invoke=C.invoke,a.unary=N.unary},938:function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0}),s.invoke=void 0;var a=o(934);s.invoke=function(u,c){if(u.requestStream)throw new Error(".invoke cannot be used with client-streaming methods. Use .client instead.");var f=a.client(u,{host:c.host,transport:c.transport,debug:c.debug});return c.onHeaders&&f.onHeaders(c.onHeaders),c.onMessage&&f.onMessage(c.onMessage),c.onEnd&&f.onEnd(c.onEnd),f.start(c.metadata),f.send(c.request),f.finishSend(),{close:function(){f.close()}}}},65:function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0}),s.Metadata=void 0;var a=o(418);Object.defineProperty(s,"Metadata",{enumerable:!0,get:function(){return a.BrowserHeaders}})},57:function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0}),s.makeDefaultTransport=s.setDefaultTransportFactory=void 0;var a=o(859),u=function(c){return a.CrossBrowserHttpTransport({withCredentials:!1})(c)};s.setDefaultTransportFactory=function(c){u=c},s.makeDefaultTransport=function(c){return u(c)}},229:function(i,s,o){var a=this&&this.__assign||function(){return(a=Object.assign||function(h){for(var y,v=1,w=arguments.length;v<w;v++)for(var C in y=arguments[v])Object.prototype.hasOwnProperty.call(y,C)&&(h[C]=y[C]);return h}).apply(this,arguments)};Object.defineProperty(s,"__esModule",{value:!0}),s.detectFetchSupport=s.FetchReadableStreamTransport=void 0;var u=o(65),c=o(346);s.FetchReadableStreamTransport=function(h){return function(y){return function(v,w){return v.debug&&c.debug("fetchRequest",v),new f(v,w)}(y,h)}};var f=function(){function h(y,v){this.cancelled=!1,this.controller=self.AbortController&&new AbortController,this.options=y,this.init=v}return h.prototype.pump=function(y,v){var w=this;if(this.reader=y,this.cancelled)return this.options.debug&&c.debug("Fetch.pump.cancel at first pump"),void this.reader.cancel().catch(function(C){w.options.debug&&c.debug("Fetch.pump.reader.cancel exception",C)});this.reader.read().then(function(C){if(C.done)return w.options.onEnd(),v;w.options.onChunk(C.value),w.pump(w.reader,v)}).catch(function(C){w.cancelled?w.options.debug&&c.debug("Fetch.catch - request cancelled"):(w.cancelled=!0,w.options.debug&&c.debug("Fetch.catch",C.message),w.options.onEnd(C))})},h.prototype.send=function(y){var v=this;fetch(this.options.url,a(a({},this.init),{headers:this.metadata.toHeaders(),method:"POST",body:y,signal:this.controller&&this.controller.signal})).then(function(w){if(v.options.debug&&c.debug("Fetch.response",w),v.options.onHeaders(new u.Metadata(w.headers),w.status),!w.body)return w;v.pump(w.body.getReader(),w)}).catch(function(w){v.cancelled?v.options.debug&&c.debug("Fetch.catch - request cancelled"):(v.cancelled=!0,v.options.debug&&c.debug("Fetch.catch",w.message),v.options.onEnd(w))})},h.prototype.sendMessage=function(y){this.send(y)},h.prototype.finishSend=function(){},h.prototype.start=function(y){this.metadata=y},h.prototype.cancel=function(){var y=this;this.cancelled?this.options.debug&&c.debug("Fetch.cancel already cancelled"):(this.cancelled=!0,this.controller?(this.options.debug&&c.debug("Fetch.cancel.controller.abort"),this.controller.abort()):this.options.debug&&c.debug("Fetch.cancel.missing abort controller"),this.reader?(this.options.debug&&c.debug("Fetch.cancel.reader.cancel"),this.reader.cancel().catch(function(v){y.options.debug&&c.debug("Fetch.cancel.reader.cancel exception",v)})):this.options.debug&&c.debug("Fetch.cancel before reader"))},h}();s.detectFetchSupport=function(){return typeof Response<"u"&&Response.prototype.hasOwnProperty("body")&&typeof Headers=="function"}},859:function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0}),s.CrossBrowserHttpTransport=void 0;var a=o(229),u=o(210);s.CrossBrowserHttpTransport=function(c){if(a.detectFetchSupport()){var f={credentials:c.withCredentials?"include":"same-origin"};return a.FetchReadableStreamTransport(f)}return u.XhrTransport({withCredentials:c.withCredentials})}},210:function(i,s,o){var a,u=this&&this.__extends||(a=function(N,T){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,O){x.__proto__=O}||function(x,O){for(var k in O)Object.prototype.hasOwnProperty.call(O,k)&&(x[k]=O[k])})(N,T)},function(N,T){function x(){this.constructor=N}a(N,T),N.prototype=T===null?Object.create(T):(x.prototype=T.prototype,new x)});Object.defineProperty(s,"__esModule",{value:!0}),s.stringToArrayBuffer=s.MozChunkedArrayBufferXHR=s.XHR=s.XhrTransport=void 0;var c=o(65),f=o(346),h=o(849);s.XhrTransport=function(N){return function(T){if(h.detectMozXHRSupport())return new v(T,N);if(h.detectXHROverrideMimeTypeSupport())return new y(T,N);throw new Error("This environment's XHR implementation cannot support binary transfer.")}};var y=function(){function N(T,x){this.options=T,this.init=x}return N.prototype.onProgressEvent=function(){this.options.debug&&f.debug("XHR.onProgressEvent.length: ",this.xhr.response.length);var T=this.xhr.response.substr(this.index);this.index=this.xhr.response.length;var x=C(T);this.options.onChunk(x)},N.prototype.onLoadEvent=function(){this.options.debug&&f.debug("XHR.onLoadEvent"),this.options.onEnd()},N.prototype.onStateChange=function(){this.options.debug&&f.debug("XHR.onStateChange",this.xhr.readyState),this.xhr.readyState===XMLHttpRequest.HEADERS_RECEIVED&&this.options.onHeaders(new c.Metadata(this.xhr.getAllResponseHeaders()),this.xhr.status)},N.prototype.sendMessage=function(T){this.xhr.send(T)},N.prototype.finishSend=function(){},N.prototype.start=function(T){var x=this;this.metadata=T;var O=new XMLHttpRequest;this.xhr=O,O.open("POST",this.options.url),this.configureXhr(),this.metadata.forEach(function(k,L){O.setRequestHeader(k,L.join(", "))}),O.withCredentials=!!this.init.withCredentials,O.addEventListener("readystatechange",this.onStateChange.bind(this)),O.addEventListener("progress",this.onProgressEvent.bind(this)),O.addEventListener("loadend",this.onLoadEvent.bind(this)),O.addEventListener("error",function(k){x.options.debug&&f.debug("XHR.error",k),x.options.onEnd(k.error)})},N.prototype.configureXhr=function(){this.xhr.responseType="text",this.xhr.overrideMimeType("text/plain; charset=x-user-defined")},N.prototype.cancel=function(){this.options.debug&&f.debug("XHR.abort"),this.xhr.abort()},N}();s.XHR=y;var v=function(N){function T(){return N!==null&&N.apply(this,arguments)||this}return u(T,N),T.prototype.configureXhr=function(){this.options.debug&&f.debug("MozXHR.configureXhr: setting responseType to 'moz-chunked-arraybuffer'"),this.xhr.responseType="moz-chunked-arraybuffer"},T.prototype.onProgressEvent=function(){var x=this.xhr.response;this.options.debug&&f.debug("MozXHR.onProgressEvent: ",new Uint8Array(x)),this.options.onChunk(new Uint8Array(x))},T}(y);function w(N,T){var x=N.charCodeAt(T);if(x>=55296&&x<=56319){var O=N.charCodeAt(T+1);O>=56320&&O<=57343&&(x=65536+(x-55296<<10)+(O-56320))}return x}function C(N){for(var T=new Uint8Array(N.length),x=0,O=0;O<N.length;O++){var k=String.prototype.codePointAt?N.codePointAt(O):w(N,O);T[x++]=255&k}return T}s.MozChunkedArrayBufferXHR=v,s.stringToArrayBuffer=C},849:function(i,s){var o;function a(){if(o!==void 0)return o;if(XMLHttpRequest){o=new XMLHttpRequest;try{o.open("GET","https://localhost")}catch{}}return o}function u(c){var f=a();if(!f)return!1;try{return f.responseType=c,f.responseType===c}catch{}return!1}Object.defineProperty(s,"__esModule",{value:!0}),s.detectXHROverrideMimeTypeSupport=s.detectMozXHRSupport=s.xhrSupportsResponseType=void 0,s.xhrSupportsResponseType=u,s.detectMozXHRSupport=function(){return typeof XMLHttpRequest<"u"&&u("moz-chunked-arraybuffer")},s.detectXHROverrideMimeTypeSupport=function(){return typeof XMLHttpRequest<"u"&&XMLHttpRequest.prototype.hasOwnProperty("overrideMimeType")}},540:function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0}),s.WebsocketTransport=void 0;var a,u=o(346),c=o(617);(function(h){h[h.FINISH_SEND=1]="FINISH_SEND"})(a||(a={}));var f=new Uint8Array([1]);s.WebsocketTransport=function(){return function(h){return function(y){y.debug&&u.debug("websocketRequest",y);var v,w=function(T){if(T.substr(0,8)==="https://")return"wss://"+T.substr(8);if(T.substr(0,7)==="http://")return"ws://"+T.substr(7);throw new Error("Websocket transport constructed with non-https:// or http:// host.")}(y.url),C=[];function N(T){if(T===a.FINISH_SEND)v.send(f);else{var x=T,O=new Int8Array(x.byteLength+1);O.set(new Uint8Array([0])),O.set(x,1),v.send(O)}}return{sendMessage:function(T){v&&v.readyState!==v.CONNECTING?N(T):C.push(T)},finishSend:function(){v&&v.readyState!==v.CONNECTING?N(a.FINISH_SEND):C.push(a.FINISH_SEND)},start:function(T){(v=new WebSocket(w,["grpc-websockets"])).binaryType="arraybuffer",v.onopen=function(){var x;y.debug&&u.debug("websocketRequest.onopen"),v.send((x="",T.forEach(function(O,k){x+=O+": "+k.join(", ")+`\r
`}),c.encodeASCII(x))),C.forEach(function(O){N(O)})},v.onclose=function(x){y.debug&&u.debug("websocketRequest.onclose",x),y.onEnd()},v.onerror=function(x){y.debug&&u.debug("websocketRequest.onerror",x)},v.onmessage=function(x){y.onChunk(new Uint8Array(x.data))}},cancel:function(){y.debug&&u.debug("websocket.abort"),v.close()}}}(h)}}},35:function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0}),s.unary=void 0;var a=o(65),u=o(934);s.unary=function(c,f){if(c.responseStream)throw new Error(".unary cannot be used with server-streaming methods. Use .invoke or .client instead.");if(c.requestStream)throw new Error(".unary cannot be used with client-streaming methods. Use .client instead.");var h=null,y=null,v=u.client(c,{host:f.host,transport:f.transport,debug:f.debug});return v.onHeaders(function(w){h=w}),v.onMessage(function(w){y=w}),v.onEnd(function(w,C,N){f.onEnd({status:w,statusMessage:C,headers:h||new a.Metadata,message:y,trailers:N})}),v.start(f.metadata),v.send(f.request),v.finishSend(),{close:function(){v.close()}}}},882:function(i,s){Object.defineProperty(s,"__esModule",{value:!0}),s.frameRequest=void 0,s.frameRequest=function(o){var a=o.serializeBinary(),u=new ArrayBuffer(a.byteLength+5);return new DataView(u,1,4).setUint32(0,a.length,!1),new Uint8Array(u,5).set(a),new Uint8Array(u)}}},n={},function i(s){if(n[s])return n[s].exports;var o=n[s]={exports:{}};return r[s].call(o.exports,o,o.exports,i),o.exports}(607);var r,n})})(K8);var Kx=K8.exports,_v=/^[0-9]+$/,Gx=function(t,r){var n=_v.test(t),i=_v.test(r);return n&&i&&(t=+t,r=+r),t===r?0:n&&!i?-1:i&&!n?1:t<r?-1:1},Sv=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/,Vx=function(t,r){if(typeof t!="string"||typeof r!="string")throw new Error("Invalid input");var n=t.match(Sv),i=r.match(Sv);if(!n||!i)throw new Error("Invalid input");for(var s=1;s<=3;s++){if(parseInt(n[s])>parseInt(i[s]))return 1;if(parseInt(n[s])<parseInt(i[s]))return-1}if(n[4]&&i[4])for(var o=(n[4]||"").split("."),a=(i[4]||"").split("."),u=0;u<Math.max(o.length,a.length);u++){if(o[u]===void 0)return-1;if(a[u]===void 0)return 1;var c=Gx(o[u],a[u]);if(c!==0)return c}return 0};const em="1.11.0",uh=e=>t=>typeof t===e,gs=e=>e!=null,Wx=uh("object"),Za=uh("string"),G8=uh("function"),Yx=uh("number");function V8(e){return G8(e)?e(z8,Hx):[]}async function Av(e){let{url:t}=e;se(typeof t<"u","retrieve({ url }) -- url must be defined");let r;try{r=await $6(t)}catch{throw new Error("httpDocumentResolver Error: Failed to retrieve document.")}return r.ok?await r.json():null}const Iv=new Map([["http",Av],["https",Av]]);async function Qx(e){let{url:t}=e;se(typeof t<"u","retrieve({ url }) -- url must be defined"),se(typeof t=="string","retrieve({ url }) -- url must be a string");const r=await Be().where(/^document\.resolver\./);Object.keys(r).map(a=>{const u=r[a],c=a.replace(/^document\.resolver\./,"");Iv.set(c,u)});const n=/^(.*):\/\/([A-Za-z0-9\-\.]+)(:[0-9]+)?(.*)$/.exec(t);se(n,"Failed to parse URL");const i=n[1];se(n,"Failed to parse URL protocol");const s=Iv.get(i);return se(s,`No resolver found for protcol=${i}`),await s({url:t})}async function Jx(e){var i;let{network:t,template:r}=e;return se(r.f_version==="1.0.0","deriveCadenceByNetwork100({ template }) -- template must be version 1.0.0"),Object.keys((i=r==null?void 0:r.data)==null?void 0:i.dependencies).map(s=>{var c,f;const o=Object.values((f=(c=r==null?void 0:r.data)==null?void 0:c.dependencies)==null?void 0:f[s]);se(o!==void 0,`deriveCadenceByNetwork100 -- Could not find contracts for dependency placeholder: ${s}`),se(o.length>0,`deriveCadenceByNetwork100 -- Could not find contracts for dependency placeholder: ${s}`);const a=o[0],u=a==null?void 0:a[t];return se(u,`deriveCadenceByNetwork100 -- Could not find ${t} network information for dependency: ${s}`),[s,u==null?void 0:u.address]}).reduce((s,o)=>{let[a,u]=o;const c=new RegExp("(\\b"+a+"\\b)","g");return s.replace(c,u)},r.data.cadence)}function Xx(e){let{cadence:t,networkDependencies:r}=e;return Object.keys(r).reduce((n,i)=>{const s=r[i],o=new RegExp(`import "\\b${i}\\b"`,"g");return n.replace(o,`import ${i} from ${s}`)},t)}async function Zx(e){var i,s,o,a,u,c;let{network:t,template:r}=e;se(r.f_version==="1.1.0","deriveCadenceByNetwork110({ template }) -- template must be version 1.0.0");const n={};return(i=r==null?void 0:r.data)==null||i.dependencies.forEach(f=>{f.contracts.forEach(h=>{const y=h.contract;h.networks.forEach(v=>{v.network===t&&(n[y]=v.address)}),se(n[y]!==void 0,`deriveCadenceByNetwork110 -- Could not find contracts Network Address: ${t} ${y}`)})}),se(Object.keys(n).length===((s=r==null?void 0:r.data)==null?void 0:s.dependencies.length),`deriveCadenceByNetwork110 -- Could not find contracts for import dependencies: ${n}`),se(Object.keys(n).length===Object.values(n).length,`deriveCadenceByNetwork110 -- Could not find all addresses for network ${t} dependencies:  ${n}`),se((a=(o=r==null?void 0:r.data)==null?void 0:o.cadence)==null?void 0:a.body,`no cadence found -- Could not replace import dependencies: ${n}`),Xx({cadence:(c=(u=r==null?void 0:r.data)==null?void 0:u.cadence)==null?void 0:c.body,networkDependencies:n})}async function eM(e){let{network:t,template:r}=e;switch(se(t!=null,"deriveCadenceByNetwork({ network }) -- network must be defined"),se(typeof t=="string","deriveCadenceByNetwork({ network }) -- network must be a string"),se(r!=null,"deriveCadenceByNetwork({ template }) -- template must be defined"),se(typeof r=="object","deriveCadenceByNetwork({ template }) -- template must be an object"),se(r.f_type==="InteractionTemplate","deriveCadenceByNetwork({ template }) -- template must be an InteractionTemplate"),r.f_version){case"1.1.0":return await Zx({network:t,template:r});case"1.0.0":return await Jx({network:t,template:r});default:throw new Error("deriveCadenceByNetwork Error: Unsupported template version")}}async function tM(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(await oh([ex()],e).then(ah)).chainId}let Ea={},xv=!1;async function Su(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=await Be.get("flow.network"),r=await Be.get("env");r&&!xv&&(lt.deprecate({pkg:"FCL",subject:'Using the "env" configuration key for specifying the flow network',message:"Configuring to specify flow network is no longer required",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/TRANSITIONS.md#0001-deprecate-env-config-key"}),xv=!0);const n=e.node||await Be.get("accessNode.api");if(!n){if(t)return t;if(r)return r;throw new Error('Either the "accessNode.api" config key or opts.node must be set')}if(Ea[n])try{return await Ea[n]}catch{}Ea[n]||(Ea[n]=tM(e).catch(i=>{throw Ea[n]=null,i}));try{return await Ea[n]}catch(i){if(t)return t;if(r)return r;throw new Error(`Error getting chainId from access node - are you using the correct access node endpoint.  If running locally, is your emulator up-to-date? ${i.message}`)}}function rM(){return Be.subscribe(()=>{Su({enableRequestLogging:!1}).catch(()=>{})})}function nM(){return typeof navigator<"u"&&/android/i.test(navigator.userAgent)}function iM(){return typeof navigator<"u"&&/iPhone|iPod/.test(navigator.userAgent)}function sM(){return typeof navigator<"u"&&/iPad/.test(navigator.userAgent)}function oM(){return iM()||sM()}function aM(){return nM()||oM()}async function W8(e){Za(e==null?void 0:e.template)&&(e.template=await Qx({url:e==null?void 0:e.template}));const t=e.cadence||await eM({template:e.template,network:await Su(e)});return e.cadence=t,e}async function Y8(e,t){se(gs(t),`${e}(opts) -- opts is required`),se(Wx(t),`${e}(opts) -- opts must be an object`),se(!(t.cadence&&t.template),`${e}({ template, cadence }) -- cannot pass both cadence and template`),se(gs(t.cadence||(t==null?void 0:t.template)),`${e}({ cadence }) -- cadence is required`),se(Za(t.cadence)||(t==null?void 0:t.template),`${e}({ cadence }) -- cadence must be a string`),se(await Be().get("accessNode.api"),`${e}(opts) -- Required value for "accessNode.api" not defined in config. See: https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/src/exec/query.md#configuration`)}async function uM(e){return Y8("mutate",e)}async function cM(e){return Y8("query",e)}async function lM(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return await cM(e),e=await W8(e),oh([nx(e.cadence),$8(V8(e.args||[])),e.limit&&typeof e.limit=="number"&&U8(e.limit)]).then(ah)}const bn={"HTTP/RPC":"HTTP/RPC","HTTP/POST":"HTTP/POST","IFRAME/RPC":"IFRAME/RPC","POP/RPC":"POP/RPC","TAB/RPC":"TAB/RPC","EXT/RPC":"EXT/RPC","DEEPLINK/RPC":"DEEPLINK/RPC"},fM=globalThis.URL;let tm=class extends fM{constructor(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];super(t,r,...i)}};const Au={f_type:"Service",f_vsn:"1.0.0"},Q8={f_type:"Identity",f_vsn:"1.0.0"},dM={f_type:"USER",f_vsn:"1.0.0"},hM={f_type:"PollingResponse",f_vsn:"1.0.0"},pM={f_type:"CompositeSignature",f_vsn:"1.0.0"},gM="USER_SIGNATURE",mM=e=>{if(e.appIdentifier){const{appIdentifier:t,address:r,nonce:n,signatures:i}=e;return se(Za(t),"verifyAccountProof({ appIdentifier }) -- appIdentifier must be a string"),se(Za(r)&&er(r).length===16,"verifyAccountProof({ address }) -- address must be a valid address"),se(/^[0-9a-f]+$/i.test(n),"nonce must be a hex string"),se(Array.isArray(i)&&i.every((s,o,a)=>s.f_type==="CompositeSignature"),"Must include an Array of CompositeSignatures to verify"),se(i.map(s=>s.addr).every((s,o,a)=>s===a[0]),"User signatures to be verified must be from a single account address"),!0}else{const{message:t,address:r,compSigs:n}=e;return se(/^[0-9a-f]+$/i.test(t),"Signed message must be a hex string"),se(Za(r)&&er(r).length===16,"verifyUserSignatures({ address }) -- address must be a valid address"),se(Array.isArray(n)&&n.every((i,s,o)=>i.f_type==="CompositeSignature"),"Must include an Array of CompositeSignatures to verify"),se(n.map(i=>i.addr).every((i,s,o)=>i===o[0]),"User signatures to be verified must be from a single account address"),!0}},yM=async(e,t)=>{const r="verifyUserSignatures";let n=await Su(t);const i={testnet:"0x74daa6f9c7ef24b1",mainnet:"0xb4b82a1c9d21d284",previewnet:"0x40b5b8b2ce81ea4a"},s=t.fclCryptoContract||i[n];return se(s,`${r}({ fclCryptoContract }) -- FCLCrypto contract address is unknown for network: ${n}. Please manually specify the FCLCrypto contract address.`),`
      import FCLCrypto from ${s}

      access(all) fun main(
          address: Address, 
          message: String, 
          keyIndices: [Int], 
          signatures: [String]
      ): Bool {
        return FCLCrypto.${r}(address: address, message: message, keyIndices: keyIndices, signatures: signatures)
      }
    `};async function vM(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=Br(t[0].addr);mM({message:e,address:n,compSigs:t});let i=[],s=[];for(const o of t)i.push(o.signature),s.push(o.keyId.toString());return lM({cadence:await yM(gM,r),args:(o,a)=>[o(n,a.Address),o(e,a.String),o(s,a.Array(a.Int)),o(i,a.Array(a.String))]})}lt.deprecate({pkg:"FCL",subject:"fcl.verifyUserSignatures()",message:"Please use fcl.AppUtils.verifyUserSignatures()",callback:function(t,r){return vM(t,r)}});async function Mv(e){return Object.fromEntries(Object.entries(await Be().where(e)).map(t=>{let[r,n]=t;return[r.replace(e,""),n]}))}const bM=/^[0-9a-fA-F]{64}$/,p0="POLL",Rv="TIMEOUT",wM=async e=>oh([ZI(e)]).then(ah),EM=e=>e.status===5,rm=e=>e.status>=4,J8=e=>e.status>=3,X8=e=>e.status>=2,_M=e=>e.status>=1,SM=e=>e.status>=0,AM=(e,t)=>JSON.stringify(e)!==JSON.stringify(t),IM=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{[Zc]:async t=>{setTimeout(()=>t.sendSelf(Rv),e.txNotFoundTimeout),t.sendSelf(p0)},[_u]:(t,r)=>{t.subscribe(r.from),t.send(r.from,Qp,t.all())},[Jo]:(t,r)=>{t.unsubscribe(r.from)},[E6]:async(t,r)=>{r.reply(t.all())},[Rv]:async t=>{Object.keys(t.all()).length===0&&t.fatalError(new Error(`TX status polling failed: no transaction was found within timeout interval (${e.txNotFoundTimeout}ms)`))},[p0]:async t=>{const r=()=>setTimeout(()=>t.sendSelf(p0),e.pollRate);let n;const i=t.all();try{n=await wM(t.self())}catch(s){const o=s instanceof Of&&s.statusCode===404,a=s.code===Kx.grpc.Code.NotFound;return o||a?r():t.fatalError(s)}rm(n)||r(),AM(i,n)&&t.broadcast(Qp,n),t.merge(n)}}},n1=e=>{if(typeof e=="object"&&(e=e.transactionId),e==null)throw new Error("transactionId required");return e},Cv=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t=>ua(IM(e),n1(t))};function Rs(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{txNotFoundTimeout:12500,pollRate:2500};if(!bM.test(n1(e)))throw new Error("Invalid transactionId");function r(){return _6(e,Cv(t))}function n(s){return kg(n1(e),Cv(t),s)}function i(s){return function(){const u=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).suppress||!1;return new Promise((c,f)=>{const h=n((y,v)=>{(v||y.statusCode)&&!u?(f(v||y.errorMessage),h()):s(y)&&(c(y),h())})})}}return{snapshot:r,subscribe:n,onceFinalized:i(X8),onceExecuted:i(J8),onceSealed:i(rm)}}Rs.isUnknown=SM;Rs.isPending=_M;Rs.isFinalized=X8;Rs.isExecuted=J8;Rs.isSealed=rm;Rs.isExpired=EM;const _a=()=>{throw new Error("Platform specific Core Strategies are not initialized")},xM={[bn["EXT/RPC"]]:_a,[bn["HTTP/POST"]]:_a,[bn["IFRAME/RPC"]]:_a,[bn["POP/RPC"]]:_a,[bn["TAB/RPC"]]:_a,[bn["EXT/RPC"]]:_a},MM=["ServicePlugin"],RM=["discovery-service"],CM=e=>{const{services:t=[],serviceStrategy:r}=e;se(Array.isArray(t),"Services must be an array");for(const n of t)se(gs(n.f_type)&&n.f_type==="Service","Service is required"),se(gs(n.type)&&n.type==="authn",`Service must be type authn. Received ${n.type}`),se(n.method in bn||r.method===n.method,`Service method ${n.method} is not supported`);return se(gs(r),"Service strategy is required"),se(gs(r.method)&&Za(r.method),"Service strategy method is required"),se(gs(r.exec)&&G8(r.exec),"Service strategy exec function is required"),{discoveryServices:t,serviceStrategy:r}},DM=e=>{let{coreStrategies:t}=e,r=new Set,n=new Map(Object.entries(t));const i=c=>{if(se(RM.includes(c.type),`Service Plugin type ${c.type} is not supported`),c.type==="discovery-service"){const{discoveryServices:f,serviceStrategy:h}=CM(c);s(f),n.has(h.method)?lt({title:"Add Service Plugin",message:`Service strategy for ${h.method} already exists`,level:It.warn}):n.set(h.method,h.exec)}},s=c=>r=new Set([...c]);return Object.freeze({add:i,getServices:()=>[...r],getStrategy:c=>n.get(c),getStrategies:()=>[...n.keys()]})},TM=e=>{let t;se(!!e,"No plugins supplied"),Array.isArray(e)?t=[...e]:t=[e];for(const r of t)se(gs(r.name),"Plugin name is required"),se(gs(r.f_type),"Plugin f_type is required"),se(MM.includes(r.f_type),`Plugin type ${r.f_type} is not supported`);return t},NM=()=>{const e=new Map;return Object.freeze({add:n=>{const i=TM(n);for(const s of i)e.set(s.name,s),s.f_type==="ServicePlugin"&&tl.add(s)},getPlugins:()=>e})};let tl;const Z8=()=>typeof tl<"u",e4=e=>{let{coreStrategies:t}=e;if(Z8())return tl;const r=DM({coreStrategies:t});return tl=r,r},vl=()=>Z8()?tl:(console.warn("Registry is not initalized, it will be initialized with stub core strategies"),e4({coreStrategies:xM})),Dv=NM(),t4=async()=>[...(window==null?void 0:window.fcl_extensions)||[],...vl().getServices()];async function PM(e){const t=await Be.get("discovery.authn.include",[]),r=await Be.get("discovery.features.suggested",[]),n=await Be.first(["discovery.wallet.method","discovery.wallet.method.default"]),i=e!=null&&e.method?e.method:n,s=(e==null?void 0:e.endpoint)??await Be.first(["discovery.wallet","challenge.handshake"]);return se(s,`
    If no service is passed to "authenticate," then "discovery.wallet" must be defined in fcl config.
    See: "https://docs.onflow.org/fcl/reference/api/#setting-configuration-values"
    `),{...e,type:"authn",endpoint:s,method:i,discoveryAuthnInclude:t,discoveryFeaturesSuggested:r}}async function OM(e){var s;let{types:t}=e;const r=await Be.get("discovery.authn.endpoint");se(!!r,'"discovery.authn.endpoint" in config must be defined.');const n=await Be.get("discovery.authn.include",[]),i=new tm(r);return fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:t,fclVersion:em,include:n,features:{suggested:await Be.get("discovery.features.suggested",[])},clientServices:await t4(),supportedStrategies:vl().getStrategies(),userAgent:(s=window==null?void 0:window.navigator)==null?void 0:s.userAgent,network:await Su()})}).then(o=>o.json())}const Di={AUTHN:"authn",RESULTS:"results",SNAPSHOT:"SNAPSHOT",UPDATED:"UPDATED",UPDATE_RESULTS:"UPDATE_RESULTS"},kM=(e,t)=>{e&&console.warn(`
      %cFCL Warning
      ============================
      ${t}
      For more info, please see the docs: https://docs.onflow.org/fcl/
      ============================
      `,"font-weight:bold;font-family:monospace;")},i1=async()=>{try{const e=await OM({types:[Di.AUTHN]});rr(Di.AUTHN,Di.UPDATE_RESULTS,{results:e})}catch(e){lt({title:`${e.name} Error fetching Discovery API services.`,message:e.message,level:It.error})}},FM={[Zc]:async e=>{kM(typeof window>"u",'"fcl.discovery" is only available in the browser.'),document.readyState==="complete"?i1():window.addEventListener("load",()=>{i1()})},[Di.UPDATE_RESULTS]:(e,t,r)=>{e.merge(r),e.broadcast(Di.UPDATED,{...e.all()})},[_u]:(e,t)=>{e.subscribe(t.from),e.send(t.from,Di.UPDATED,{...e.all()})},[Jo]:(e,t)=>e.unsubscribe(t.from),[Di.SNAPSHOT]:async(e,t)=>t.reply({...e.all()})},Tv=()=>ua(FM,Di.AUTHN),BM={subscribe:e=>kg(Di.AUTHN,Tv,e),snapshot:()=>_6(Di.AUTHN,Tv),update:()=>{document.readyState==="complete"&&i1()}},LM={authn:BM};async function UM(e,t){if(e==null||t==null)return[];const r=new tm(e);r.searchParams.append("code",t);const n=await fetch(r,{method:"GET",headers:{"Content-Type":"application/json"}}).then(s=>s.json());if(Array.isArray(n))return n;const i=[];if(Array.isArray(n.authorizations))for(let s of n.authorizations)i.push({type:"authz",keyId:n.keyId,...s});return n.provider!=null&&i.push({type:"authn",id:"wallet-provider#authn",...n.provider}),i}function $M(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return[...e,...t]}function zM(e){if(e==null)return null;if(!e.f_vsn)return{...Au,type:e.type,uid:e.id,endpoint:e.authn,id:e.pid,provider:{address:Br(e.addr),name:e.name,icon:e.icon}};switch(e.f_vsn){case"1.0.0":return e;default:return null}}function qM(e){if(e==null)return null;if(!e.f_vsn)return{...Au,type:e.type,uid:e.id,endpoint:e.endpoint,method:e.method,identity:{...Q8,address:Br(e.addr),keyId:e.keyId},params:e.params,data:e.data};switch(e.f_vsn){case"1.0.0":return e;default:return null}}function jM(e){if(e==null)return null;if(!e.f_vsn)return{...Au,type:e.type,uid:e.id,endpoint:e.endpoint,method:e.method,identity:{...Q8,address:Br(e.addr),keyId:e.keyId},params:e.params,data:e.data};switch(e.f_vsn){case"1.0.0":return e;default:return null}}function r4(e){if(e==null)return null;if(!e.f_vsn)return{old:e,...Au,type:"frame",endpoint:e.endpoint,params:e.params||{},data:e.data||{}};switch(e.f_vsn){case"1.0.0":return e;default:return null}}function n4(e){if(e==null)return null;if(!e.f_vsn)return{...Au,type:"back-channel-rpc",endpoint:e.endpoint,method:e.method,params:e.params||{},data:e.data||{}};switch(e.f_vsn){case"1.0.0":return e;default:return null}}function HM(e){if(e==null)return null;switch(e.f_vsn){case"1.0.0":return e;default:return null}}function KM(e){if(e==null)return null;if(!e.f_vsn)throw new Error("Invalid user-signature service");switch(e.f_vsn){case"1.0.0":return e;default:return null}}function i4(e){if(e==null)return null;if(e.method==null&&(e={...e,type:"local-view",method:"VIEW/IFRAME"}),!e.f_vsn)return{...Au,type:e.type||"local-view",method:e.method,endpoint:e.endpoint,data:e.data||{},params:e.params||{}};switch(e.f_vsn){case"1.0.0":return e;default:return null}}function GM(e){if(e==null)return null;if(!e.f_vsn)throw new Error("FCL Normalizer Error: Invalid account-proof service");switch(e.f_vsn){case"1.0.0":return e;default:return null}}function VM(e){if(e==null)return null;if(!e.f_vsn)throw new Error("Invalid authn-refresh service");switch(e.f_vsn){case"1.0.0":return e;default:return null}}function WM(e,t){return e.map(r=>QM(r,t)).filter(Boolean)}const YM={"back-channel-rpc":n4,"pre-authz":jM,authz:qM,authn:zM,frame:r4,"open-id":HM,"user-signature":KM,"local-view":i4,"account-proof":GM,"authn-refresh":VM};function QM(e,t){try{var r=YM[e.type](e,t);return r}catch(n){return console.error(`Unrecognized FCL Service Type [${e.type}]`,e,n),e}}function rl(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.reduce((r,n)=>n.type===t&&(!r||Vx(n.f_vsn,r.f_vsn)>0)?n:r,null)}function JM(e){var t,r;return Lg([((t=e.provider)==null?void 0:t.address)||((r=e.provider)==null?void 0:r.name)||"UNSPECIFIED",e.id]).toString("hex")}function XM(e){return e.addr=e.addr?Br(e.addr):null,e.paddr=e.paddr?Br(e.paddr):null,e}async function Nv(e){e=XM(e);var t=WM($M(e.services||[],await UM(e.hks,e.code)));const r=rl(t,"authn");return{...dM,addr:Br(e.addr),cid:JM(r),loggedIn:!0,services:t,expiresAt:e.expires}}const ZM="WC/RPC",eR=typeof window>"u";function tR(){if(eR)return;vl().getStrategies().includes(ZM)||lt({title:"FCL WalletConnect Service Plugin",level:It.error,message:"All dApps are expected to register for a WalletConnect projectId & add this to their FCL configuration.  If you do not do so, users will be unable to use certain wallets to interact with your dApp.  See https://developers.flow.com/tools/clients/fcl-js/configure-fcl for more information."})}const rR=globalThis.AbortController||require("abort-controller"),ch=async e=>{let{service:t,body:r,config:n,abortSignal:i,customRpc:s,opts:o}=e;return vl().getStrategy(t.method)({service:t,body:r,config:n,abortSignal:i,customRpc:s,opts:o})};async function ea(e){var c;let{service:t,msg:r={},config:n={},opts:i={},platform:s,abortSignal:o=new rR().signal,execStrategy:a}=e;tR(),r.data=t.data;const u={services:await Mv(/^service\./),app:await Mv(/^app\.detail\./),client:{...n.client,platform:s,fclVersion:em,fclLibrary:"https://github.com/onflow/fcl-js",hostname:((c=window==null?void 0:window.location)==null?void 0:c.hostname)??null,network:await Su(i)}};try{const f=await(a||ch)({service:t,body:r,config:u,opts:i,abortSignal:o});return f.status==="REDIRECT"?(se(t.type===f.data.type,"Cannot shift recursive service type in execService"),await ea({service:f.data,msg:r,config:u,opts:i,abortSignal:o})):f}catch(f){throw lt({title:`Error on execService ${t==null?void 0:t.type}`,message:f,level:It.error}),f}}function s1(e){if(e==null)return null;if(!e.f_vsn)return{...pM,addr:er(e.addr||e.address),signature:e.signature||e.sig,keyId:e.keyId};switch(e.f_vsn){case"1.0.0":return e;default:return null}}const nR=e=>typeof e=="function",pi="CURRENT_USER",g0="CURRENT_USER/UPDATED",s4="SNAPSHOT",o1="SET_CURRENT_USER",o4="DEL_CURRENT_USER",a1=`{
  "f_type": "User",
  "f_vsn": "1.0.0",
  "addr":null,
  "cid":null,
  "loggedIn":null,
  "expiresAt":null,
  "services":[]
}`,iR=async e=>{const t=JSON.parse(a1),r=await e.get(pi);return r!=null&&t.f_vsn!==r.f_vsn?(e.removeItem(pi),t):r||t},sR={[Zc]:async e=>{typeof window>"u"&&console.warn(`
        %cFCL Warning
        ============================
        "currentUser" is only available in the browser.
        For more info, please see the docs: https://docs.onflow.org/fcl/
        ============================
        `,"font-weight:bold;font-family:monospace;"),e.merge(JSON.parse(a1));const t=await Be.first(["fcl.storage","fcl.storage.default"]);if(t.can){const r=await iR(t);oR(r)&&e.merge(r)}},[_u]:(e,t)=>{e.subscribe(t.from),e.send(t.from,g0,{...e.all()})},[Jo]:(e,t)=>{e.unsubscribe(t.from)},[s4]:async(e,t)=>{t.reply({...e.all()})},[o1]:async(e,t,r)=>{e.merge(r);const n=await Be.first(["fcl.storage","fcl.storage.default"]);n.can&&n.put(pi,e.all()),e.broadcast(g0,{...e.all()})},[o4]:async(e,t)=>{e.merge(JSON.parse(a1));const r=await Be.first(["fcl.storage","fcl.storage.default"]);r.can&&r.put(pi,e.all()),e.broadcast(g0,{...e.all()})}},Iu=()=>ua(sR,pi);function oR(e){return e.expiresAt==null||e.expiresAt===0||e.expiresAt>Date.now()}async function aR(){let e=await Be.get("fcl.accountProof.resolver");if(e==null)return;if(!nR(e)){lt({title:"Account Proof Data Resolver must be a function",message:`Check fcl.accountProof.resolver configuration.
                Expected: fcl.accountProof.resolver: async () => { ... }
                Received: fcl.accountProof.resolver: ${typeof e}
                `,level:It.warn});return}const t=await e();if(t!=null)return se(typeof t.appIdentifier=="string","appIdentifier must be a string"),se(/^[0-9a-f]+$/i.test(t.nonce),"Nonce must be a hex string"),t}const uR=async e=>{let{discoveryAuthnInclude:t,discoveryFeaturesSuggested:r}=e;return{client:{discoveryAuthnInclude:t,discoveryFeaturesSuggested:r,clientServices:await t4(),supportedStrategies:vl().getStrategies()}}},nl=e=>{let{platform:t,discovery:r}=e;return async function(){var s,o,a;let{service:n,redir:i=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n&&!((s=n==null?void 0:n.provider)!=null&&s.is_installed)&&((o=n==null?void 0:n.provider)!=null&&o.requires_install)){window.location.href=(a=n==null?void 0:n.provider)==null?void 0:a.install_link;return}return new Promise(async(u,c)=>{Iu();const f={redir:i},h=await Cc(),y=await PM(n),v=rl(h.services,"authn-refresh");let w;if(h.loggedIn)if(v)try{const C=await ea({service:v,msg:w,opts:f,platform:t});rr(pi,o1,await Nv(C))}catch(C){lt({title:`${C.name} Could not refresh wallet authentication.`,message:C.message,level:It.error})}finally{return u(await Cc())}else return u(h);try{w=await aR()}catch(C){return lt({title:`${C.name} On Authentication: Could not resolve account proof data.`,message:C.message,level:It.error}),c(C)}try{const C=await ea({service:y,msg:w,config:await uR(y),opts:f,platform:t,execStrategy:r==null?void 0:r.execStrategy});rr(pi,o1,await Nv(C))}catch(C){lt({title:`${C} On Authentication`,message:C,level:It.error})}finally{u(await Cc())}})}};function Pv(){Iu(),rr(pi,o4)}const cR=e=>({f_type:"PreAuthzResponse",f_vsn:"1.0.0",proposer:(e||{}).proposer,payer:(e||{}).payer||[],authorization:(e||{}).authorization||[]}),lR=e=>{let{platform:t}=e;return r=>{const n=cR(r),i=[];n.proposer!=null&&i.push(["PROPOSER",n.proposer]);for(let o of n.payer||[])i.push(["PAYER",o]);for(let o of n.authorization||[])i.push(["AUTHORIZER",o]);var s=i.map(o=>{let[a,u]=o;return{tempId:[u.identity.address,u.identity.keyId].join("|"),addr:u.identity.address,keyId:u.identity.keyId,signingFunction(c){return ea({service:u,msg:c,platform:t})},role:{proposer:a==="PROPOSER",payer:a==="PAYER",authorizer:a==="AUTHORIZER"}}});return s}},Ov=e=>{let{platform:t,discovery:r}=e;return async n=>(Iu(),{...n,tempId:"CURRENT_USER",async resolve(i,s){const o=await nl({platform:t,discovery:r})({redir:!0}),a=rl(o.services,"authz"),u=rl(o.services,"pre-authz");if(u)return lR({platform:t,discovery:r})(await ea({service:u,msg:s,platform:t}));if(a){let c;return aM()&&a.method==="WC/RPC"&&(c=window.open("","_blank")),{...i,tempId:"CURRENT_USER",resolve:null,addr:er(a.identity.address),keyId:a.identity.keyId,sequenceNum:null,signature:null,async signingFunction(f){return s1(await ea({service:a,msg:f,opts:{includeOlderJsonRpcCall:!0,windowRef:c},platform:t}))}}}throw new Error("No Authz or PreAuthz Service configured for CURRENT_USER")}})};function kv(e){Iu();const t="@EXIT",r=ua(async n=>{for(n.send(pi,_u);;){const i=await n.receive();if(i.tag===t){n.send(pi,Jo);return}e(i.data)}});return()=>rr(r,t)}function Cc(){return Iu(),rr(pi,s4,null,{expectReply:!0,timeout:0})}const Fv=e=>{let{platform:t,discovery:r}=e;return async()=>{const{addr:n}=await nl({platform:t,discovery:r})();return z8(Br(n),H8)}},fR=e=>(se(/^[0-9a-f]+$/i.test(e),"Message must be a hex string"),{message:e}),Bv=e=>{let{platform:t,discovery:r}=e;return async n=>{Iu();const i=await nl({platform:t,discovery:r})({redir:!0}),s=rl(i.services,"user-signature");se(s,"Current user must have authorized a signing service.");try{const o=await ea({service:s,msg:fR(n),platform:t});return Array.isArray(o)?o.map(a=>s1(a)):[s1(o)]}catch(o){return o}}},a4=e=>{let{platform:t,discovery:r}=e,n=()=>({authenticate:nl({platform:t,discovery:r}),unauthenticate:Pv,authorization:Ov({platform:t,discovery:r}),signUserMessage:Bv({platform:t,discovery:r}),subscribe:kv,snapshot:Cc,resolveArgument:Fv({platform:t,discovery:r})});return n.authenticate=nl({platform:t,discovery:r}),n.unauthenticate=Pv,n.authorization=Ov({platform:t,discovery:r}),n.signUserMessage=Bv({platform:t,discovery:r}),n.subscribe=kv,n.snapshot=Cc,n.resolveArgument=Fv({platform:t,discovery:r}),n},dR=e=>{let{platform:t,discovery:r}=e;return async function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var s;try{await uM(i),i=await W8(i);const o=a4({platform:t,discovery:r}),a=await Be().get("fcl.authz",o().authorization);return s=oh([ox(i.cadence),$8(V8(i.args||[])),i.limit&&Yx(i.limit)&&U8(i.limit),tx(i.proposer||i.authz||a),rx(i.payer||i.authz||a),XI(i.authorizations||[i.authz||a])]).then(ah),s}catch(o){throw o}}};function bl(e){var r;const t=new tm(e.endpoint);if((r=window==null?void 0:window.location)!=null&&r.origin&&t.searchParams.append("l6n",window.location.origin),e.params!=null)for(let[n,i]of Object.entries(e.params||{}))t.searchParams.append(n,i);return t}function u4(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=t.method||"POST",n=r==="GET"?void 0:JSON.stringify(t.data||e.data||{});return fetch(bl(e),{method:r,headers:{...e.headers||{},...t.headers||{},"Content-Type":"application/json"},body:n}).then(i=>i.json())}function qi(e){if(e==null)return null;if(!e.f_vsn)return{...hM,status:e.status??"APPROVED",reason:e.reason??null,data:e.compositeSignature||e.data||{...e},updates:n4(e.authorizationUpdates),local:r4((e.local||[])[0])};switch(e.f_vsn){case"1.0.0":return e;default:return null}}const Lv={"HTTP/GET":"GET","HTTP/POST":"POST"},hR=e=>(se(Lv[e.method],"Invalid Service Method for type back-channel-rpc",{service:e}),Lv[e.method]);async function u1(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:()=>!0;if(se(e,"Missing Polling Service",{service:e}),!t())throw new Error("Externally Halted");let n;try{if(typeof document<"u"&&document.visibilityState==="hidden")return await new Promise(i=>setTimeout(i,500)),u1(e,t);n=await u4(e,{method:hR(e)}).then(qi)}catch(i){throw i}switch(n.status){case"APPROVED":return n.data;case"DECLINED":throw new Error(`Declined: ${n.reason||"No reason supplied."}`);default:return await new Promise(i=>setTimeout(i,500)),u1(n.updates,t)}}const Uv=e=>async t=>{let{service:r,body:n,config:i,opts:s}=t;const o=await u4(r,{data:{fclVersion:em,service:{params:r.params,data:r.data,type:r.type},config:i,...n}}).then(qi);if(o.status==="APPROVED")return o.data;if(o.status==="DECLINED")throw new Error(`Declined: ${o.reason||"No reason supplied."}`);if(o.status==="REDIRECT")return o;if(o.status==="PENDING"){var a=!0,u=!0;const[c,f]=await e(i4(o.local),{serviceEndpoint:bl,onClose:()=>u=!1}),h=()=>{try{f(),u=!1}catch(v){console.error("Frame Close Error",v)}},y=()=>{const v=a;return a=u,v};return u1(o.updates,y).then(v=>(h(),v)).catch(v=>{throw console.error(v),h(),v})}else throw console.error("Auto Decline: Invalid Response",{service:r,resp:o}),new Error("Auto Decline: Invalid Response")},of="FCL:VIEW:CLOSE",m0="FCL:VIEW:READY",y0="FCL:VIEW:RESPONSE",pR="FCL:VIEW:CUSTOM_RPC",Bt=e=>typeof e=="string"&&e.toLowerCase(),gR=new Set(["monetizationstart","monetizationpending","monetizationprogress","monetizationstop"]),Eo=(e,t)=>console.warn("DEPRECATION NOTICE",`Received ${e}, please use ${t} for this and future versions of FCL`),lh=e=>{let{close:t,send:r,onReady:n,onResponse:i,onMessage:s,onCustomRpc:o,getSource:a}=e,u;return c=>{try{u=(a==null?void 0:a())||u}catch{u=null}try{if(typeof c.data!="object"||gR.has(c.data.type)||u!=null&&c.source!==u)return;Bt(c.data.type)===Bt(of)&&t(),Bt(c.data.type)===Bt(m0)&&(n(c,{send:r,close:t}),u||(u=c.source)),Bt(c.data.type)===Bt(y0)&&i(c,{send:r,close:t}),Bt(c.data.type)===Bt(pR)&&o(c.data.payload,{send:r,close:t}),s(c,{send:r,close:t}),Bt(c.data.type)===Bt("FCL:FRAME:READY")&&(Eo(c.data.type,m0),n(c,{send:r,close:t}),u||(u=c.source)),Bt(c.data.type)===Bt("FCL:FRAME:RESPONSE")&&(Eo(c.data.type,y0),i(c,{send:r,close:t})),Bt(c.data.type)===Bt("FCL:FRAME:CLOSE")&&(Eo(c.data.type,of),t()),Bt(c.data.type)===Bt("FCL::CHALLENGE::RESPONSE")&&(Eo(c.data.type,y0),i(c,{send:r,close:t})),Bt(c.data.type)===Bt("FCL::AUTHZ_READY")&&(Eo(c.data.type,m0),n(c,{send:r,close:t}),u||(u=c.source)),Bt(c.data.type)===Bt("FCL::CHALLENGE::CANCEL")&&(Eo(c.data.type,of),t()),Bt(c.data.type)===Bt("FCL::CANCEL")&&(Eo(c.data.type,of),t())}catch(f){console.error("Frame Callback Error",f),t()}}};rM();function il(e){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},il(e)}function mR(e,t){if(il(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yR(e){var t=mR(e,"string");return il(t)=="symbol"?t:t+""}function Fs(e,t,r){return(t=yR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let $v=function(e){return e[e.INVALID_REQUEST=-32600]="INVALID_REQUEST",e[e.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",e[e.INVALID_PARAMS=-32602]="INVALID_PARAMS",e[e.INTERNAL_ERROR=-32603]="INTERNAL_ERROR",e[e.PARSE_ERROR=-32700]="PARSE_ERROR",e}({});class zv extends Error{constructor(t,r,n){super(r),this.code=t,this.message=r,this.data=n}}var c1=function(e){return e.HELLO="rpc_hello",e}(c1||{});class vR{constructor(t){let{notifications:r}=t;Fs(this,"id",0),Fs(this,"setSend",()=>{}),Fs(this,"_send",new Promise(n=>{this.setSend=n})),Fs(this,"peerInfo",new Promise((n,i)=>{this.resolvePeerInfo=n,this.rejectPeerInfo=i})),Fs(this,"enabledNotifications",[]),Fs(this,"requestHandlers",{}),Fs(this,"subscriptions",{}),Fs(this,"messageListeners",[]),this.enabledNotifications=r||[],this.on(c1.HELLO,n=>(this.resolvePeerInfo(n),this.ownInfo()))}connect(t){let{send:r}=t;this.setSend(r),this.requestWithoutConnection(c1.HELLO,this.ownInfo()).then(n=>{this.resolvePeerInfo(n)}).catch(this.rejectPeerInfo)}ownInfo(){return{requests:Object.keys(this.requestHandlers),notifications:this.enabledNotifications}}async send(t){return(await this._send)(t)}receive(t){(t==null?void 0:t.jsonrpc)==="2.0"&&("method"in t&&("id"in t?this.handleRequest(t):this.handleNotification(t)),this.messageListeners.forEach(r=>r(t)))}async handleRequest(t){const r=this.requestHandlers[t.method];if(r)try{const n=await r(t.params);this.send({jsonrpc:"2.0",id:t.id,result:n})}catch(n){n instanceof zv?this.send({jsonrpc:"2.0",id:t.id,error:{code:n.code,message:n.message,data:n.data}}):this.send({jsonrpc:"2.0",id:t.id,error:{code:$v.INTERNAL_ERROR,message:n==null?void 0:n.message}})}else this.send({jsonrpc:"2.0",id:t.id,error:{code:$v.METHOD_NOT_FOUND,message:`Method not found: ${t.method}`}})}handleNotification(t){this.subscriptions[t.method]&&this.subscriptions[t.method].forEach(r=>r(t.params))}onMessage(t){return this.messageListeners.push(t),()=>{this.messageListeners=this.messageListeners.filter(r=>r!==t)}}async notify(t,r){await this.onceConnected(),this.send({jsonrpc:"2.0",method:t,params:r})}async request(t,r){return await this.onceConnected(),this.requestWithoutConnection(t,r)}async requestWithoutConnection(t,r){const n=this.id++;let i=()=>{};const s=new Promise((o,a)=>{i=this.onMessage(u=>{if(u.id===n&&("result"in u||"error"in u)){if(u.error){const c=new zv(u.error.code,u.error.message,u.error.data);a(c)}o(u.result)}})}).finally(i);return this.send({jsonrpc:"2.0",method:t,params:r,id:n}),s}on(t,r){this.requestHandlers[t]=r}subscribe(t,r){this.subscriptions[t]=this.subscriptions[t]||new Set,this.subscriptions[t].add(r)}unsubscribe(t,r){var n;(n=this.subscriptions[t])==null||n.delete(r)}async onceConnected(){return this.peerInfo.then(()=>{})}async getAvailableRequests(){return this.peerInfo.then(t=>t.requests)}async getAvailableNotifications(){return this.peerInfo.then(t=>t.notifications)}}const bR="modulepreload",wR=function(e){return"/"+e},qv={},ER=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(u=>{if(u=wR(u),u in qv)return;qv[u]=!0;const c=u.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":bR,c||(h.as="script"),h.crossOrigin="",h.href=u,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((y,v)=>{h.addEventListener("load",y),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};var ye={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var l1=function(e,t){return l1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},l1(e,t)};function _R(e,t){l1(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var f1=function(){return f1=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},f1.apply(this,arguments)};function SR(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function AR(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function IR(e,t){return function(r,n){t(r,n,e)}}function xR(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function MR(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{c(n.next(f))}catch(h){o(h)}}function u(f){try{c(n.throw(f))}catch(h){o(h)}}function c(f){f.done?s(f.value):i(f.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function RR(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(f){return u([c,f])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(f){c=[6,f],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function CR(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function DR(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function d1(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c4(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function TR(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c4(arguments[t]));return e}function NR(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function sl(e){return this instanceof sl?(this.v=e,this):new sl(e)}function PR(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(y){n[y]&&(i[y]=function(v){return new Promise(function(w,C){s.push([y,v,w,C])>1||a(y,v)})})}function a(y,v){try{u(n[y](v))}catch(w){h(s[0][3],w)}}function u(y){y.value instanceof sl?Promise.resolve(y.value.v).then(c,f):h(s[0][2],y)}function c(y){a("next",y)}function f(y){a("throw",y)}function h(y,v){y(v),s.shift(),s.length&&a(s[0][0],s[0][1])}}function OR(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:sl(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function kR(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof d1=="function"?d1(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function FR(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function BR(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function LR(e){return e&&e.__esModule?e:{default:e}}function UR(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function $R(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const zR=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return f1},__asyncDelegator:OR,__asyncGenerator:PR,__asyncValues:kR,__await:sl,__awaiter:MR,__classPrivateFieldGet:UR,__classPrivateFieldSet:$R,__createBinding:CR,__decorate:AR,__exportStar:DR,__extends:_R,__generator:RR,__importDefault:LR,__importStar:BR,__makeTemplateObject:FR,__metadata:xR,__param:IR,__read:c4,__rest:SR,__spread:TR,__spreadArrays:NR,__values:d1},Symbol.toStringTag,{value:"Module"})),wl=a3(zR);var v0={},Zu={},jv;function qR(){if(jv)return Zu;jv=1,Object.defineProperty(Zu,"__esModule",{value:!0}),Zu.delay=void 0;function e(t){return new Promise(r=>{setTimeout(()=>{r(!0)},t)})}return Zu.delay=e,Zu}var _o={},b0={},So={},Hv;function jR(){return Hv||(Hv=1,Object.defineProperty(So,"__esModule",{value:!0}),So.ONE_THOUSAND=So.ONE_HUNDRED=void 0,So.ONE_HUNDRED=100,So.ONE_THOUSAND=1e3),So}var w0={},Kv;function HR(){return Kv||(Kv=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_YEAR=e.FOUR_WEEKS=e.THREE_WEEKS=e.TWO_WEEKS=e.ONE_WEEK=e.THIRTY_DAYS=e.SEVEN_DAYS=e.FIVE_DAYS=e.THREE_DAYS=e.ONE_DAY=e.TWENTY_FOUR_HOURS=e.TWELVE_HOURS=e.SIX_HOURS=e.THREE_HOURS=e.ONE_HOUR=e.SIXTY_MINUTES=e.THIRTY_MINUTES=e.TEN_MINUTES=e.FIVE_MINUTES=e.ONE_MINUTE=e.SIXTY_SECONDS=e.THIRTY_SECONDS=e.TEN_SECONDS=e.FIVE_SECONDS=e.ONE_SECOND=void 0,e.ONE_SECOND=1,e.FIVE_SECONDS=5,e.TEN_SECONDS=10,e.THIRTY_SECONDS=30,e.SIXTY_SECONDS=60,e.ONE_MINUTE=e.SIXTY_SECONDS,e.FIVE_MINUTES=e.ONE_MINUTE*5,e.TEN_MINUTES=e.ONE_MINUTE*10,e.THIRTY_MINUTES=e.ONE_MINUTE*30,e.SIXTY_MINUTES=e.ONE_MINUTE*60,e.ONE_HOUR=e.SIXTY_MINUTES,e.THREE_HOURS=e.ONE_HOUR*3,e.SIX_HOURS=e.ONE_HOUR*6,e.TWELVE_HOURS=e.ONE_HOUR*12,e.TWENTY_FOUR_HOURS=e.ONE_HOUR*24,e.ONE_DAY=e.TWENTY_FOUR_HOURS,e.THREE_DAYS=e.ONE_DAY*3,e.FIVE_DAYS=e.ONE_DAY*5,e.SEVEN_DAYS=e.ONE_DAY*7,e.THIRTY_DAYS=e.ONE_DAY*30,e.ONE_WEEK=e.SEVEN_DAYS,e.TWO_WEEKS=e.ONE_WEEK*2,e.THREE_WEEKS=e.ONE_WEEK*3,e.FOUR_WEEKS=e.ONE_WEEK*4,e.ONE_YEAR=e.ONE_DAY*365}(w0)),w0}var Gv;function l4(){return Gv||(Gv=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=wl;t.__exportStar(jR(),e),t.__exportStar(HR(),e)}(b0)),b0}var Vv;function KR(){if(Vv)return _o;Vv=1,Object.defineProperty(_o,"__esModule",{value:!0}),_o.fromMiliseconds=_o.toMiliseconds=void 0;const e=l4();function t(n){return n*e.ONE_THOUSAND}_o.toMiliseconds=t;function r(n){return Math.floor(n/e.ONE_THOUSAND)}return _o.fromMiliseconds=r,_o}var Wv;function GR(){return Wv||(Wv=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=wl;t.__exportStar(qR(),e),t.__exportStar(KR(),e)}(v0)),v0}var Sa={},Yv;function VR(){if(Yv)return Sa;Yv=1,Object.defineProperty(Sa,"__esModule",{value:!0}),Sa.Watch=void 0;class e{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const i=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:i})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return Sa.Watch=e,Sa.default=e,Sa}var E0={},ec={},Qv;function WR(){if(Qv)return ec;Qv=1,Object.defineProperty(ec,"__esModule",{value:!0}),ec.IWatch=void 0;class e{}return ec.IWatch=e,ec}var Jv;function YR(){return Jv||(Jv=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),wl.__exportStar(WR(),e)}(E0)),E0}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=wl;t.__exportStar(GR(),e),t.__exportStar(VR(),e),t.__exportStar(YR(),e),t.__exportStar(l4(),e)})(ye);class ca{}let QR=class extends ca{constructor(t){super()}};const Xv=ye.FIVE_SECONDS,xu={pulse:"heartbeat_pulse"};let JR=class f4 extends QR{constructor(t){super(t),this.events=new Rn.EventEmitter,this.interval=Xv,this.interval=(t==null?void 0:t.interval)||Xv}static async init(t){const r=new f4(t);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),ye.toMiliseconds(this.interval))}pulse(){this.events.emit(xu.pulse)}};const XR=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,ZR=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,eC=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function tC(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){rC(e);return}return t}function rC(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function af(e,t={}){if(typeof e!="string")return e;const r=e.trim();if(e[0]==='"'&&e.endsWith('"')&&!e.includes("\\"))return r.slice(1,-1);if(r.length<=9){const n=r.toLowerCase();if(n==="true")return!0;if(n==="false")return!1;if(n==="undefined")return;if(n==="null")return null;if(n==="nan")return Number.NaN;if(n==="infinity")return Number.POSITIVE_INFINITY;if(n==="-infinity")return Number.NEGATIVE_INFINITY}if(!eC.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(XR.test(e)||ZR.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,tC)}return JSON.parse(e)}catch(n){if(t.strict)throw n;return e}}function nC(e){return!e||typeof e.then!="function"?Promise.resolve(e):e}function or(e,...t){try{return nC(e(...t))}catch(r){return Promise.reject(r)}}function iC(e){const t=typeof e;return e===null||t!=="object"&&t!=="function"}function sC(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}function Ff(e){if(iC(e))return String(e);if(sC(e)||Array.isArray(e))return JSON.stringify(e);if(typeof e.toJSON=="function")return Ff(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function d4(){if(typeof Buffer>"u")throw new TypeError("[unstorage] Buffer is not supported!")}const h1="base64:";function oC(e){if(typeof e=="string")return e;d4();const t=Buffer.from(e).toString("base64");return h1+t}function aC(e){return typeof e!="string"||!e.startsWith(h1)?e:(d4(),Buffer.from(e.slice(h1.length),"base64"))}function Xr(e){return e?e.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function uC(...e){return Xr(e.join(":"))}function uf(e){return e=Xr(e),e?e+":":""}const cC="memory",lC=()=>{const e=new Map;return{name:cC,getInstance:()=>e,hasItem(t){return e.has(t)},getItem(t){return e.get(t)??null},getItemRaw(t){return e.get(t)??null},setItem(t,r){e.set(t,r)},setItemRaw(t,r){e.set(t,r)},removeItem(t){e.delete(t)},getKeys(){return[...e.keys()]},clear(){e.clear()},dispose(){e.clear()}}};function fC(e={}){const t={mounts:{"":e.driver||lC()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=c=>{for(const f of t.mountpoints)if(c.startsWith(f))return{base:f,relativeKey:c.slice(f.length),driver:t.mounts[f]};return{base:"",relativeKey:c,driver:t.mounts[""]}},n=(c,f)=>t.mountpoints.filter(h=>h.startsWith(c)||f&&c.startsWith(h)).map(h=>({relativeBase:c.length>h.length?c.slice(h.length):void 0,mountpoint:h,driver:t.mounts[h]})),i=(c,f)=>{if(t.watching){f=Xr(f);for(const h of t.watchListeners)h(c,f)}},s=async()=>{if(!t.watching){t.watching=!0;for(const c in t.mounts)t.unwatch[c]=await Zv(t.mounts[c],i,c)}},o=async()=>{if(t.watching){for(const c in t.unwatch)await t.unwatch[c]();t.unwatch={},t.watching=!1}},a=(c,f,h)=>{const y=new Map,v=w=>{let C=y.get(w.base);return C||(C={driver:w.driver,base:w.base,items:[]},y.set(w.base,C)),C};for(const w of c){const C=typeof w=="string",N=Xr(C?w:w.key),T=C?void 0:w.value,x=C||!w.options?f:{...f,...w.options},O=r(N);v(O).items.push({key:N,value:T,relativeKey:O.relativeKey,options:x})}return Promise.all([...y.values()].map(w=>h(w))).then(w=>w.flat())},u={hasItem(c,f={}){c=Xr(c);const{relativeKey:h,driver:y}=r(c);return or(y.hasItem,h,f)},getItem(c,f={}){c=Xr(c);const{relativeKey:h,driver:y}=r(c);return or(y.getItem,h,f).then(v=>af(v))},getItems(c,f){return a(c,f,h=>h.driver.getItems?or(h.driver.getItems,h.items.map(y=>({key:y.relativeKey,options:y.options})),f).then(y=>y.map(v=>({key:uC(h.base,v.key),value:af(v.value)}))):Promise.all(h.items.map(y=>or(h.driver.getItem,y.relativeKey,y.options).then(v=>({key:y.key,value:af(v)})))))},getItemRaw(c,f={}){c=Xr(c);const{relativeKey:h,driver:y}=r(c);return y.getItemRaw?or(y.getItemRaw,h,f):or(y.getItem,h,f).then(v=>aC(v))},async setItem(c,f,h={}){if(f===void 0)return u.removeItem(c);c=Xr(c);const{relativeKey:y,driver:v}=r(c);v.setItem&&(await or(v.setItem,y,Ff(f),h),v.watch||i("update",c))},async setItems(c,f){await a(c,f,async h=>{if(h.driver.setItems)return or(h.driver.setItems,h.items.map(y=>({key:y.relativeKey,value:Ff(y.value),options:y.options})),f);h.driver.setItem&&await Promise.all(h.items.map(y=>or(h.driver.setItem,y.relativeKey,Ff(y.value),y.options)))})},async setItemRaw(c,f,h={}){if(f===void 0)return u.removeItem(c,h);c=Xr(c);const{relativeKey:y,driver:v}=r(c);if(v.setItemRaw)await or(v.setItemRaw,y,f,h);else if(v.setItem)await or(v.setItem,y,oC(f),h);else return;v.watch||i("update",c)},async removeItem(c,f={}){typeof f=="boolean"&&(f={removeMeta:f}),c=Xr(c);const{relativeKey:h,driver:y}=r(c);y.removeItem&&(await or(y.removeItem,h,f),(f.removeMeta||f.removeMata)&&await or(y.removeItem,h+"$",f),y.watch||i("remove",c))},async getMeta(c,f={}){typeof f=="boolean"&&(f={nativeOnly:f}),c=Xr(c);const{relativeKey:h,driver:y}=r(c),v=Object.create(null);if(y.getMeta&&Object.assign(v,await or(y.getMeta,h,f)),!f.nativeOnly){const w=await or(y.getItem,h+"$",f).then(C=>af(C));w&&typeof w=="object"&&(typeof w.atime=="string"&&(w.atime=new Date(w.atime)),typeof w.mtime=="string"&&(w.mtime=new Date(w.mtime)),Object.assign(v,w))}return v},setMeta(c,f,h={}){return this.setItem(c+"$",f,h)},removeMeta(c,f={}){return this.removeItem(c+"$",f)},async getKeys(c,f={}){c=uf(c);const h=n(c,!0);let y=[];const v=[];for(const w of h){const C=await or(w.driver.getKeys,w.relativeBase,f);for(const N of C){const T=w.mountpoint+Xr(N);y.some(x=>T.startsWith(x))||v.push(T)}y=[w.mountpoint,...y.filter(N=>!N.startsWith(w.mountpoint))]}return c?v.filter(w=>w.startsWith(c)&&w[w.length-1]!=="$"):v.filter(w=>w[w.length-1]!=="$")},async clear(c,f={}){c=uf(c),await Promise.all(n(c,!1).map(async h=>{if(h.driver.clear)return or(h.driver.clear,h.relativeBase,f);if(h.driver.removeItem){const y=await h.driver.getKeys(h.relativeBase||"",f);return Promise.all(y.map(v=>h.driver.removeItem(v,f)))}}))},async dispose(){await Promise.all(Object.values(t.mounts).map(c=>e2(c)))},async watch(c){return await s(),t.watchListeners.push(c),async()=>{t.watchListeners=t.watchListeners.filter(f=>f!==c),t.watchListeners.length===0&&await o()}},async unwatch(){t.watchListeners=[],await o()},mount(c,f){if(c=uf(c),c&&t.mounts[c])throw new Error(`already mounted at ${c}`);return c&&(t.mountpoints.push(c),t.mountpoints.sort((h,y)=>y.length-h.length)),t.mounts[c]=f,t.watching&&Promise.resolve(Zv(f,i,c)).then(h=>{t.unwatch[c]=h}).catch(console.error),u},async unmount(c,f=!0){c=uf(c),!(!c||!t.mounts[c])&&(t.watching&&c in t.unwatch&&(t.unwatch[c](),delete t.unwatch[c]),f&&await e2(t.mounts[c]),t.mountpoints=t.mountpoints.filter(h=>h!==c),delete t.mounts[c])},getMount(c=""){c=Xr(c)+":";const f=r(c);return{driver:f.driver,base:f.base}},getMounts(c="",f={}){return c=Xr(c),n(c,f.parents).map(y=>({driver:y.driver,base:y.mountpoint}))},keys:(c,f={})=>u.getKeys(c,f),get:(c,f={})=>u.getItem(c,f),set:(c,f,h={})=>u.setItem(c,f,h),has:(c,f={})=>u.hasItem(c,f),del:(c,f={})=>u.removeItem(c,f),remove:(c,f={})=>u.removeItem(c,f)};return u}function Zv(e,t,r){return e.watch?e.watch((n,i)=>t(n,r+i)):()=>{}}async function e2(e){typeof e.dispose=="function"&&await or(e.dispose)}function la(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function h4(e,t){const r=indexedDB.open(e);r.onupgradeneeded=()=>r.result.createObjectStore(t);const n=la(r);return(i,s)=>n.then(o=>s(o.transaction(t,i).objectStore(t)))}let _0;function El(){return _0||(_0=h4("keyval-store","keyval")),_0}function t2(e,t=El()){return t("readonly",r=>la(r.get(e)))}function dC(e,t,r=El()){return r("readwrite",n=>(n.put(t,e),la(n.transaction)))}function hC(e,t=El()){return t("readwrite",r=>(r.delete(e),la(r.transaction)))}function pC(e=El()){return e("readwrite",t=>(t.clear(),la(t.transaction)))}function gC(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},la(e.transaction)}function mC(e=El()){return e("readonly",t=>{if(t.getAllKeys)return la(t.getAllKeys());const r=[];return gC(t,n=>r.push(n.key)).then(()=>r)})}const yC=e=>JSON.stringify(e,(t,r)=>typeof r=="bigint"?r.toString()+"n":r),vC=e=>{const t=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=e.replace(t,'$1"$2n"$3');return JSON.parse(r,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function du(e){if(typeof e!="string")throw new Error(`Cannot safe json parse value of type ${typeof e}`);try{return vC(e)}catch{return e}}function ta(e){return typeof e=="string"?e:yC(e)||""}const bC="idb-keyval";var wC=(e={})=>{const t=e.base&&e.base.length>0?`${e.base}:`:"",r=i=>t+i;let n;return e.dbName&&e.storeName&&(n=h4(e.dbName,e.storeName)),{name:bC,options:e,async hasItem(i){return!(typeof await t2(r(i),n)>"u")},async getItem(i){return await t2(r(i),n)??null},setItem(i,s){return dC(r(i),s,n)},removeItem(i){return hC(r(i),n)},getKeys(){return mC(n)},clear(){return pC(n)}}};const EC="WALLET_CONNECT_V2_INDEXED_DB",_C="keyvaluestorage";let SC=class{constructor(){this.indexedDb=fC({driver:wC({dbName:EC,storeName:_C})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(t=>[t.key,t.value])}async getItem(t){const r=await this.indexedDb.getItem(t);if(r!==null)return r}async setItem(t,r){await this.indexedDb.setItem(t,ta(r))}async removeItem(t){await this.indexedDb.removeItem(t)}};var S0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Bf={exports:{}};(function(){let e;function t(){}e=t,e.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},e.prototype.setItem=function(r,n){this[r]=String(n)},e.prototype.removeItem=function(r){delete this[r]},e.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},e.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof S0<"u"&&S0.localStorage?Bf.exports=S0.localStorage:typeof window<"u"&&window.localStorage?Bf.exports=window.localStorage:Bf.exports=new t})();function AC(e){var t;return[e[0],du((t=e[1])!=null?t:"")]}let IC=class{constructor(){this.localStorage=Bf.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(AC)}async getItem(t){const r=this.localStorage.getItem(t);if(r!==null)return du(r)}async setItem(t,r){this.localStorage.setItem(t,ta(r))}async removeItem(t){this.localStorage.removeItem(t)}};const xC="wc_storage_version",r2=1,MC=async(e,t,r)=>{const n=xC,i=await t.getItem(n);if(i&&i>=r2){r(t);return}const s=await e.getKeys();if(!s.length){r(t);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const u=a.toLowerCase();if(u.includes("wc@")||u.includes("walletconnect")||u.includes("wc_")||u.includes("wallet_connect")){const c=await e.getItem(a);await t.setItem(a,c),o.push(a)}}await t.setItem(n,r2),r(t),RC(e,o)},RC=async(e,t)=>{t.length&&t.forEach(async r=>{await e.removeItem(r)})};let CC=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const t=new IC;this.storage=t;try{const r=new SC;MC(t,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,r){return await this.initialize(),this.storage.setItem(t,r)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise(t=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),t())},20)})}};function DC(e){try{return JSON.stringify(e)}catch{return'"[Circular]"'}}var TC=NC;function NC(e,t,r){var n=r&&r.stringify||DC,i=1;if(typeof e=="object"&&e!==null){var s=t.length+i;if(s===1)return e;var o=new Array(s);o[0]=n(e);for(var a=1;a<s;a++)o[a]=n(t[a]);return o.join(" ")}if(typeof e!="string")return e;var u=t.length;if(u===0)return e;for(var c="",f=1-i,h=-1,y=e&&e.length||0,v=0;v<y;){if(e.charCodeAt(v)===37&&v+1<y){switch(h=h>-1?h:0,e.charCodeAt(v+1)){case 100:case 102:if(f>=u||t[f]==null)break;h<v&&(c+=e.slice(h,v)),c+=Number(t[f]),h=v+2,v++;break;case 105:if(f>=u||t[f]==null)break;h<v&&(c+=e.slice(h,v)),c+=Math.floor(Number(t[f])),h=v+2,v++;break;case 79:case 111:case 106:if(f>=u||t[f]===void 0)break;h<v&&(c+=e.slice(h,v));var w=typeof t[f];if(w==="string"){c+="'"+t[f]+"'",h=v+2,v++;break}if(w==="function"){c+=t[f].name||"<anonymous>",h=v+2,v++;break}c+=n(t[f]),h=v+2,v++;break;case 115:if(f>=u)break;h<v&&(c+=e.slice(h,v)),c+=String(t[f]),h=v+2,v++;break;case 37:h<v&&(c+=e.slice(h,v)),c+="%",h=v+2,v++,f--;break}++f}++v}return h===-1?e:(h<y&&(c+=e.slice(h)),c)}const n2=TC;var Ra=Pi;const ol=qC().console||{},PC={mapHttpRequest:cf,mapHttpResponse:cf,wrapRequestSerializer:A0,wrapResponseSerializer:A0,wrapErrorSerializer:A0,req:cf,res:cf,err:LC};function OC(e,t){return Array.isArray(e)?e.filter(function(n){return n!=="!stdSerializers.err"}):e===!0?Object.keys(t):!1}function Pi(e){e=e||{},e.browser=e.browser||{};const t=e.browser.transmit;if(t&&typeof t.send!="function")throw Error("pino: transmit option must have a send function");const r=e.browser.write||ol;e.browser.write&&(e.browser.asObject=!0);const n=e.serializers||{},i=OC(e.browser.serialize,n);let s=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const o=["error","fatal","warn","info","debug","trace"];typeof r=="function"&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),e.enabled===!1&&(e.level="silent");const a=e.level||"info",u=Object.create(r);u.log||(u.log=al),Object.defineProperty(u,"levelVal",{get:f}),Object.defineProperty(u,"level",{get:h,set:y});const c={transmit:t,serialize:i,asObject:e.browser.asObject,levels:o,timestamp:UC(e)};u.levels=Pi.levels,u.level=a,u.setMaxListeners=u.getMaxListeners=u.emit=u.addListener=u.on=u.prependListener=u.once=u.prependOnceListener=u.removeListener=u.removeAllListeners=u.listeners=u.listenerCount=u.eventNames=u.write=u.flush=al,u.serializers=n,u._serialize=i,u._stdErrSerialize=s,u.child=v,t&&(u._logEvent=p1());function f(){return this.level==="silent"?1/0:this.levels.values[this.level]}function h(){return this._level}function y(w){if(w!=="silent"&&!this.levels.values[w])throw Error("unknown level "+w);this._level=w,Aa(c,u,"error","log"),Aa(c,u,"fatal","error"),Aa(c,u,"warn","error"),Aa(c,u,"info","log"),Aa(c,u,"debug","log"),Aa(c,u,"trace","log")}function v(w,C){if(!w)throw new Error("missing bindings for child Pino");C=C||{},i&&w.serializers&&(C.serializers=w.serializers);const N=C.serializers;if(i&&N){var T=Object.assign({},n,N),x=e.browser.serialize===!0?Object.keys(T):i;delete w.serializers,fh([w],x,T,this._stdErrSerialize)}function O(k){this._childLevel=(k._childLevel|0)+1,this.error=Ia(k,w,"error"),this.fatal=Ia(k,w,"fatal"),this.warn=Ia(k,w,"warn"),this.info=Ia(k,w,"info"),this.debug=Ia(k,w,"debug"),this.trace=Ia(k,w,"trace"),T&&(this.serializers=T,this._serialize=x),t&&(this._logEvent=p1([].concat(k._logEvent.bindings,w)))}return O.prototype=this,new O(this)}return u}Pi.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};Pi.stdSerializers=PC;Pi.stdTimeFunctions=Object.assign({},{nullTime:p4,epochTime:g4,unixTime:$C,isoTime:zC});function Aa(e,t,r,n){const i=Object.getPrototypeOf(t);t[r]=t.levelVal>t.levels.values[r]?al:i[r]?i[r]:ol[r]||ol[n]||al,kC(e,t,r)}function kC(e,t,r){!e.transmit&&t[r]===al||(t[r]=function(n){return function(){const s=e.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===ol?ol:this;for(var u=0;u<o.length;u++)o[u]=arguments[u];if(e.serialize&&!e.asObject&&fh(o,this._serialize,this.serializers,this._stdErrSerialize),e.asObject?n.call(a,FC(this,r,o,s)):n.apply(a,o),e.transmit){const c=e.transmit.level||t.level,f=Pi.levels.values[c],h=Pi.levels.values[r];if(h<f)return;BC(this,{ts:s,methodLevel:r,methodValue:h,transmitLevel:c,transmitValue:Pi.levels.values[e.transmit.level||t.level],send:e.transmit.send,val:t.levelVal},o)}}}(t[r]))}function FC(e,t,r,n){e._serialize&&fh(r,e._serialize,e.serializers,e._stdErrSerialize);const i=r.slice();let s=i[0];const o={};n&&(o.time=n),o.level=Pi.levels.values[t];let a=(e._childLevel|0)+1;if(a<1&&(a=1),s!==null&&typeof s=="object"){for(;a--&&typeof i[0]=="object";)Object.assign(o,i.shift());s=i.length?n2(i.shift(),i):void 0}else typeof s=="string"&&(s=n2(i.shift(),i));return s!==void 0&&(o.msg=s),o}function fh(e,t,r,n){for(const i in e)if(n&&e[i]instanceof Error)e[i]=Pi.stdSerializers.err(e[i]);else if(typeof e[i]=="object"&&!Array.isArray(e[i]))for(const s in e[i])t&&t.indexOf(s)>-1&&s in r&&(e[i][s]=r[s](e[i][s]))}function Ia(e,t,r){return function(){const n=new Array(1+arguments.length);n[0]=t;for(var i=1;i<n.length;i++)n[i]=arguments[i-1];return e[r].apply(this,n)}}function BC(e,t,r){const n=t.send,i=t.ts,s=t.methodLevel,o=t.methodValue,a=t.val,u=e._logEvent.bindings;fh(r,e._serialize||Object.keys(e.serializers),e.serializers,e._stdErrSerialize===void 0?!0:e._stdErrSerialize),e._logEvent.ts=i,e._logEvent.messages=r.filter(function(c){return u.indexOf(c)===-1}),e._logEvent.level.label=s,e._logEvent.level.value=o,n(s,e._logEvent,a),e._logEvent=p1(u)}function p1(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function LC(e){const t={type:e.constructor.name,msg:e.message,stack:e.stack};for(const r in e)t[r]===void 0&&(t[r]=e[r]);return t}function UC(e){return typeof e.timestamp=="function"?e.timestamp:e.timestamp===!1?p4:g4}function cf(){return{}}function A0(e){return e}function al(){}function p4(){return!1}function g4(){return Date.now()}function $C(){return Math.round(Date.now()/1e3)}function zC(){return new Date(Date.now()).toISOString()}function qC(){function e(t){return typeof t<"u"&&t}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return e(self)||e(window)||e(this)||{}}}const dh=Fd(Ra),jC={level:"info"},_l="custom_context",nm=1e3*1024;let HC=class{constructor(t){this.nodeValue=t,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},i2=class{constructor(t){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=t,this.sizeInBytes=0}append(t){const r=new HC(t);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${t} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const t=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=t.size}toArray(){const t=[];let r=this.head;for(;r!==null;)t.push(r.value),r=r.next;return t}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let t=this.head;return{next:()=>{if(!t)return{done:!0,value:null};const r=t.value;return t=t.next,{done:!1,value:r}}}}};class m4{constructor(t,r=nm){this.level=t??"error",this.levelValue=Ra.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new i2(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(t,r){r===Ra.levels.values.error?console.error(t):r===Ra.levels.values.warn?console.warn(t):r===Ra.levels.values.debug?console.debug(t):r===Ra.levels.values.trace?console.trace(t):console.log(t)}appendToLogs(t){this.logs.append(ta({timestamp:new Date().toISOString(),log:t}));const r=typeof t=="string"?JSON.parse(t).level:t.level;r>=this.levelValue&&this.forwardToConsole(t,r)}getLogs(){return this.logs}clearLogs(){this.logs=new i2(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(t){const r=this.getLogArray();return r.push(ta({extraMetadata:t})),new Blob(r,{type:"application/json"})}}class KC{constructor(t,r=nm){this.baseChunkLogger=new m4(t,r)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}downloadLogsBlobInBrowser(t){const r=URL.createObjectURL(this.logsToBlob(t)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}}class GC{constructor(t,r=nm){this.baseChunkLogger=new m4(t,r)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}}var VC=Object.defineProperty,WC=Object.defineProperties,YC=Object.getOwnPropertyDescriptors,s2=Object.getOwnPropertySymbols,QC=Object.prototype.hasOwnProperty,JC=Object.prototype.propertyIsEnumerable,o2=(e,t,r)=>t in e?VC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,vd=(e,t)=>{for(var r in t||(t={}))QC.call(t,r)&&o2(e,r,t[r]);if(s2)for(var r of s2(t))JC.call(t,r)&&o2(e,r,t[r]);return e},bd=(e,t)=>WC(e,YC(t));function im(e){return bd(vd({},e),{level:(e==null?void 0:e.level)||jC.level})}function XC(e,t=_l){return e[t]||""}function ZC(e,t,r=_l){return e[r]=t,e}function hn(e,t=_l){let r="";return typeof e.bindings>"u"?r=XC(e,t):r=e.bindings().context||"",r}function eD(e,t,r=_l){const n=hn(e,r);return n.trim()?`${n}/${t}`:t}function Hr(e,t,r=_l){const n=eD(e,t,r),i=e.child({context:n});return ZC(i,n,r)}function tD(e){var t,r;const n=new KC((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:dh(bd(vd({},e.opts),{level:"trace",browser:bd(vd({},(r=e.opts)==null?void 0:r.browser),{write:i=>n.write(i)})})),chunkLoggerController:n}}function rD(e){var t;const r=new GC((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:dh(bd(vd({},e.opts),{level:"trace"}),r),chunkLoggerController:r}}function nD(e){return typeof e.loggerOverride<"u"&&typeof e.loggerOverride!="string"?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?tD(e):rD(e)}let iD=class extends ca{constructor(t){super(),this.opts=t,this.protocol="wc",this.version=2}},sD=class extends ca{constructor(t,r){super(),this.core=t,this.logger=r,this.records=new Map}},oD=class{constructor(t,r){this.logger=t,this.core=r}};class aD extends ca{constructor(t,r){super(),this.relayer=t,this.logger=r}}class uD extends ca{constructor(t){super()}}class cD{constructor(t,r,n,i){this.core=t,this.logger=r,this.name=n}}class lD extends ca{constructor(t,r){super(),this.relayer=t,this.logger=r}}let fD=class extends ca{constructor(t,r){super(),this.core=t,this.logger=r}},dD=class{constructor(t,r,n){this.core=t,this.logger=r,this.store=n}},hD=class{constructor(t,r){this.projectId=t,this.logger=r}},pD=class{constructor(t,r,n){this.core=t,this.logger=r,this.telemetryEnabled=n}},gD=class{constructor(t){this.opts=t,this.protocol="wc",this.version=2}},mD=class{constructor(t){this.client=t}};var sm={},mo={},hh={},ph={};Object.defineProperty(ph,"__esModule",{value:!0});ph.BrowserRandomSource=void 0;const a2=65536;class yD{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const t=typeof self<"u"?self.crypto||self.msCrypto:null;t&&t.getRandomValues!==void 0&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const r=new Uint8Array(t);for(let n=0;n<r.length;n+=a2)this._crypto.getRandomValues(r.subarray(n,n+Math.min(r.length-n,a2)));return r}}ph.BrowserRandomSource=yD;function vD(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var gh={},Dn={};Object.defineProperty(Dn,"__esModule",{value:!0});function bD(e){for(var t=0;t<e.length;t++)e[t]=0;return e}Dn.wipe=bD;const wD={},ED=Object.freeze(Object.defineProperty({__proto__:null,default:wD},Symbol.toStringTag,{value:"Module"})),om=a3(ED);Object.defineProperty(gh,"__esModule",{value:!0});gh.NodeRandomSource=void 0;const _D=Dn;class SD{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof vD<"u"){const t=om;t&&t.randomBytes&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let r=this._crypto.randomBytes(t);if(r.length!==t)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(t);for(let i=0;i<n.length;i++)n[i]=r[i];return(0,_D.wipe)(r),n}}gh.NodeRandomSource=SD;Object.defineProperty(hh,"__esModule",{value:!0});hh.SystemRandomSource=void 0;const AD=ph,ID=gh;class xD{constructor(){if(this.isAvailable=!1,this.name="",this._source=new AD.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new ID.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(t){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(t)}}hh.SystemRandomSource=xD;var Xe={},y4={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(a,u){var c=a>>>16&65535,f=a&65535,h=u>>>16&65535,y=u&65535;return f*y+(c*y+f*h<<16>>>0)|0}e.mul=Math.imul||t;function r(a,u){return a+u|0}e.add=r;function n(a,u){return a-u|0}e.sub=n;function i(a,u){return a<<u|a>>>32-u}e.rotl=i;function s(a,u){return a<<32-u|a>>>u}e.rotr=s;function o(a){return typeof a=="number"&&isFinite(a)&&Math.floor(a)===a}e.isInteger=Number.isInteger||o,e.MAX_SAFE_INTEGER=9007199254740991,e.isSafeInteger=function(a){return e.isInteger(a)&&a>=-e.MAX_SAFE_INTEGER&&a<=e.MAX_SAFE_INTEGER}})(y4);Object.defineProperty(Xe,"__esModule",{value:!0});var v4=y4;function MD(e,t){return t===void 0&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16}Xe.readInt16BE=MD;function RD(e,t){return t===void 0&&(t=0),(e[t+0]<<8|e[t+1])>>>0}Xe.readUint16BE=RD;function CD(e,t){return t===void 0&&(t=0),(e[t+1]<<8|e[t])<<16>>16}Xe.readInt16LE=CD;function DD(e,t){return t===void 0&&(t=0),(e[t+1]<<8|e[t])>>>0}Xe.readUint16LE=DD;function b4(e,t,r){return t===void 0&&(t=new Uint8Array(2)),r===void 0&&(r=0),t[r+0]=e>>>8,t[r+1]=e>>>0,t}Xe.writeUint16BE=b4;Xe.writeInt16BE=b4;function w4(e,t,r){return t===void 0&&(t=new Uint8Array(2)),r===void 0&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t}Xe.writeUint16LE=w4;Xe.writeInt16LE=w4;function g1(e,t){return t===void 0&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}Xe.readInt32BE=g1;function m1(e,t){return t===void 0&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}Xe.readUint32BE=m1;function y1(e,t){return t===void 0&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}Xe.readInt32LE=y1;function v1(e,t){return t===void 0&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}Xe.readUint32LE=v1;function wd(e,t,r){return t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0),t[r+0]=e>>>24,t[r+1]=e>>>16,t[r+2]=e>>>8,t[r+3]=e>>>0,t}Xe.writeUint32BE=wd;Xe.writeInt32BE=wd;function Ed(e,t,r){return t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24,t}Xe.writeUint32LE=Ed;Xe.writeInt32LE=Ed;function TD(e,t){t===void 0&&(t=0);var r=g1(e,t),n=g1(e,t+4);return r*4294967296+n-(n>>31)*4294967296}Xe.readInt64BE=TD;function ND(e,t){t===void 0&&(t=0);var r=m1(e,t),n=m1(e,t+4);return r*4294967296+n}Xe.readUint64BE=ND;function PD(e,t){t===void 0&&(t=0);var r=y1(e,t),n=y1(e,t+4);return n*4294967296+r-(r>>31)*4294967296}Xe.readInt64LE=PD;function OD(e,t){t===void 0&&(t=0);var r=v1(e,t),n=v1(e,t+4);return n*4294967296+r}Xe.readUint64LE=OD;function E4(e,t,r){return t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0),wd(e/4294967296>>>0,t,r),wd(e>>>0,t,r+4),t}Xe.writeUint64BE=E4;Xe.writeInt64BE=E4;function _4(e,t,r){return t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0),Ed(e>>>0,t,r),Ed(e/4294967296>>>0,t,r+4),t}Xe.writeUint64LE=_4;Xe.writeInt64LE=_4;function kD(e,t,r){if(r===void 0&&(r=0),e%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,s=e/8+r-1;s>=r;s--)n+=t[s]*i,i*=256;return n}Xe.readUintBE=kD;function FD(e,t,r){if(r===void 0&&(r=0),e%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,s=r;s<r+e/8;s++)n+=t[s]*i,i*=256;return n}Xe.readUintLE=FD;function BD(e,t,r,n){if(r===void 0&&(r=new Uint8Array(e/8)),n===void 0&&(n=0),e%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!v4.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var i=1,s=e/8+n-1;s>=n;s--)r[s]=t/i&255,i*=256;return r}Xe.writeUintBE=BD;function LD(e,t,r,n){if(r===void 0&&(r=new Uint8Array(e/8)),n===void 0&&(n=0),e%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!v4.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var i=1,s=n;s<n+e/8;s++)r[s]=t/i&255,i*=256;return r}Xe.writeUintLE=LD;function UD(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat32(t)}Xe.readFloat32BE=UD;function $D(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat32(t,!0)}Xe.readFloat32LE=$D;function zD(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat64(t)}Xe.readFloat64BE=zD;function qD(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat64(t,!0)}Xe.readFloat64LE=qD;function jD(e,t,r){t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.setFloat32(r,e),t}Xe.writeFloat32BE=jD;function HD(e,t,r){t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.setFloat32(r,e,!0),t}Xe.writeFloat32LE=HD;function KD(e,t,r){t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.setFloat64(r,e),t}Xe.writeFloat64BE=KD;function GD(e,t,r){t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.setFloat64(r,e,!0),t}Xe.writeFloat64LE=GD;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.randomStringForEntropy=e.randomString=e.randomUint32=e.randomBytes=e.defaultRandomSource=void 0;const t=hh,r=Xe,n=Dn;e.defaultRandomSource=new t.SystemRandomSource;function i(c,f=e.defaultRandomSource){return f.randomBytes(c)}e.randomBytes=i;function s(c=e.defaultRandomSource){const f=i(4,c),h=(0,r.readUint32LE)(f);return(0,n.wipe)(f),h}e.randomUint32=s;const o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function a(c,f=o,h=e.defaultRandomSource){if(f.length<2)throw new Error("randomString charset is too short");if(f.length>256)throw new Error("randomString charset is too long");let y="";const v=f.length,w=256-256%v;for(;c>0;){const C=i(Math.ceil(c*256/w),h);for(let N=0;N<C.length&&c>0;N++){const T=C[N];T<w&&(y+=f.charAt(T%v),c--)}(0,n.wipe)(C)}return y}e.randomString=a;function u(c,f=o,h=e.defaultRandomSource){const y=Math.ceil(c/(Math.log(f.length)/Math.LN2));return a(y,f,h)}e.randomStringForEntropy=u})(mo);var S4={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Xe,r=Dn;e.DIGEST_LENGTH=64,e.BLOCK_SIZE=128;var n=function(){function a(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return a.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},a.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},a.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._tempHi),r.wipe(this._tempLo),this.reset()},a.prototype.update=function(u,c){if(c===void 0&&(c=u.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var f=0;if(this._bytesHashed+=c,this._bufferLength>0){for(;this._bufferLength<e.BLOCK_SIZE&&c>0;)this._buffer[this._bufferLength++]=u[f++],c--;this._bufferLength===this.blockSize&&(s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(c>=this.blockSize&&(f=s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,u,f,c),c%=this.blockSize);c>0;)this._buffer[this._bufferLength++]=u[f++],c--;return this},a.prototype.finish=function(u){if(!this._finished){var c=this._bytesHashed,f=this._bufferLength,h=c/536870912|0,y=c<<3,v=c%128<112?128:256;this._buffer[f]=128;for(var w=f+1;w<v-8;w++)this._buffer[w]=0;t.writeUint32BE(h,this._buffer,v-8),t.writeUint32BE(y,this._buffer,v-4),s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,v),this._finished=!0}for(var w=0;w<this.digestLength/8;w++)t.writeUint32BE(this._stateHi[w],u,w*8),t.writeUint32BE(this._stateLo[w],u,w*8+4);return this},a.prototype.digest=function(){var u=new Uint8Array(this.digestLength);return this.finish(u),u},a.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},a.prototype.restoreState=function(u){return this._stateHi.set(u.stateHi),this._stateLo.set(u.stateLo),this._bufferLength=u.bufferLength,u.buffer&&this._buffer.set(u.buffer),this._bytesHashed=u.bytesHashed,this._finished=!1,this},a.prototype.cleanSavedState=function(u){r.wipe(u.stateHi),r.wipe(u.stateLo),u.buffer&&r.wipe(u.buffer),u.bufferLength=0,u.bytesHashed=0},a}();e.SHA512=n;var i=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function s(a,u,c,f,h,y,v){for(var w=c[0],C=c[1],N=c[2],T=c[3],x=c[4],O=c[5],k=c[6],L=c[7],$=f[0],E=f[1],U=f[2],Z=f[3],ne=f[4],q=f[5],b=f[6],l=f[7],d,m,A,D,R,I,p,g;v>=128;){for(var B=0;B<16;B++){var Y=8*B+y;a[B]=t.readUint32BE(h,Y),u[B]=t.readUint32BE(h,Y+4)}for(var B=0;B<80;B++){var te=w,P=C,J=N,j=T,K=x,G=O,S=k,H=L,re=$,ie=E,ae=U,pe=Z,de=ne,Oe=q,Le=b,ve=l;if(d=L,m=l,R=m&65535,I=m>>>16,p=d&65535,g=d>>>16,d=(x>>>14|ne<<18)^(x>>>18|ne<<14)^(ne>>>9|x<<23),m=(ne>>>14|x<<18)^(ne>>>18|x<<14)^(x>>>9|ne<<23),R+=m&65535,I+=m>>>16,p+=d&65535,g+=d>>>16,d=x&O^~x&k,m=ne&q^~ne&b,R+=m&65535,I+=m>>>16,p+=d&65535,g+=d>>>16,d=i[B*2],m=i[B*2+1],R+=m&65535,I+=m>>>16,p+=d&65535,g+=d>>>16,d=a[B%16],m=u[B%16],R+=m&65535,I+=m>>>16,p+=d&65535,g+=d>>>16,I+=R>>>16,p+=I>>>16,g+=p>>>16,A=p&65535|g<<16,D=R&65535|I<<16,d=A,m=D,R=m&65535,I=m>>>16,p=d&65535,g=d>>>16,d=(w>>>28|$<<4)^($>>>2|w<<30)^($>>>7|w<<25),m=($>>>28|w<<4)^(w>>>2|$<<30)^(w>>>7|$<<25),R+=m&65535,I+=m>>>16,p+=d&65535,g+=d>>>16,d=w&C^w&N^C&N,m=$&E^$&U^E&U,R+=m&65535,I+=m>>>16,p+=d&65535,g+=d>>>16,I+=R>>>16,p+=I>>>16,g+=p>>>16,H=p&65535|g<<16,ve=R&65535|I<<16,d=j,m=pe,R=m&65535,I=m>>>16,p=d&65535,g=d>>>16,d=A,m=D,R+=m&65535,I+=m>>>16,p+=d&65535,g+=d>>>16,I+=R>>>16,p+=I>>>16,g+=p>>>16,j=p&65535|g<<16,pe=R&65535|I<<16,C=te,N=P,T=J,x=j,O=K,k=G,L=S,w=H,E=re,U=ie,Z=ae,ne=pe,q=de,b=Oe,l=Le,$=ve,B%16===15)for(var Y=0;Y<16;Y++)d=a[Y],m=u[Y],R=m&65535,I=m>>>16,p=d&65535,g=d>>>16,d=a[(Y+9)%16],m=u[(Y+9)%16],R+=m&65535,I+=m>>>16,p+=d&65535,g+=d>>>16,A=a[(Y+1)%16],D=u[(Y+1)%16],d=(A>>>1|D<<31)^(A>>>8|D<<24)^A>>>7,m=(D>>>1|A<<31)^(D>>>8|A<<24)^(D>>>7|A<<25),R+=m&65535,I+=m>>>16,p+=d&65535,g+=d>>>16,A=a[(Y+14)%16],D=u[(Y+14)%16],d=(A>>>19|D<<13)^(D>>>29|A<<3)^A>>>6,m=(D>>>19|A<<13)^(A>>>29|D<<3)^(D>>>6|A<<26),R+=m&65535,I+=m>>>16,p+=d&65535,g+=d>>>16,I+=R>>>16,p+=I>>>16,g+=p>>>16,a[Y]=p&65535|g<<16,u[Y]=R&65535|I<<16}d=w,m=$,R=m&65535,I=m>>>16,p=d&65535,g=d>>>16,d=c[0],m=f[0],R+=m&65535,I+=m>>>16,p+=d&65535,g+=d>>>16,I+=R>>>16,p+=I>>>16,g+=p>>>16,c[0]=w=p&65535|g<<16,f[0]=$=R&65535|I<<16,d=C,m=E,R=m&65535,I=m>>>16,p=d&65535,g=d>>>16,d=c[1],m=f[1],R+=m&65535,I+=m>>>16,p+=d&65535,g+=d>>>16,I+=R>>>16,p+=I>>>16,g+=p>>>16,c[1]=C=p&65535|g<<16,f[1]=E=R&65535|I<<16,d=N,m=U,R=m&65535,I=m>>>16,p=d&65535,g=d>>>16,d=c[2],m=f[2],R+=m&65535,I+=m>>>16,p+=d&65535,g+=d>>>16,I+=R>>>16,p+=I>>>16,g+=p>>>16,c[2]=N=p&65535|g<<16,f[2]=U=R&65535|I<<16,d=T,m=Z,R=m&65535,I=m>>>16,p=d&65535,g=d>>>16,d=c[3],m=f[3],R+=m&65535,I+=m>>>16,p+=d&65535,g+=d>>>16,I+=R>>>16,p+=I>>>16,g+=p>>>16,c[3]=T=p&65535|g<<16,f[3]=Z=R&65535|I<<16,d=x,m=ne,R=m&65535,I=m>>>16,p=d&65535,g=d>>>16,d=c[4],m=f[4],R+=m&65535,I+=m>>>16,p+=d&65535,g+=d>>>16,I+=R>>>16,p+=I>>>16,g+=p>>>16,c[4]=x=p&65535|g<<16,f[4]=ne=R&65535|I<<16,d=O,m=q,R=m&65535,I=m>>>16,p=d&65535,g=d>>>16,d=c[5],m=f[5],R+=m&65535,I+=m>>>16,p+=d&65535,g+=d>>>16,I+=R>>>16,p+=I>>>16,g+=p>>>16,c[5]=O=p&65535|g<<16,f[5]=q=R&65535|I<<16,d=k,m=b,R=m&65535,I=m>>>16,p=d&65535,g=d>>>16,d=c[6],m=f[6],R+=m&65535,I+=m>>>16,p+=d&65535,g+=d>>>16,I+=R>>>16,p+=I>>>16,g+=p>>>16,c[6]=k=p&65535|g<<16,f[6]=b=R&65535|I<<16,d=L,m=l,R=m&65535,I=m>>>16,p=d&65535,g=d>>>16,d=c[7],m=f[7],R+=m&65535,I+=m>>>16,p+=d&65535,g+=d>>>16,I+=R>>>16,p+=I>>>16,g+=p>>>16,c[7]=L=p&65535|g<<16,f[7]=l=R&65535|I<<16,y+=128,v-=128}return y}function o(a){var u=new n;u.update(a);var c=u.digest();return u.clean(),c}e.hash=o})(S4);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.convertSecretKeyToX25519=e.convertPublicKeyToX25519=e.verify=e.sign=e.extractPublicKeyFromSecretKey=e.generateKeyPair=e.generateKeyPairFromSeed=e.SEED_LENGTH=e.SECRET_KEY_LENGTH=e.PUBLIC_KEY_LENGTH=e.SIGNATURE_LENGTH=void 0;const t=mo,r=S4,n=Dn;e.SIGNATURE_LENGTH=64,e.PUBLIC_KEY_LENGTH=32,e.SECRET_KEY_LENGTH=64,e.SEED_LENGTH=32;function i(j){const K=new Float64Array(16);if(j)for(let G=0;G<j.length;G++)K[G]=j[G];return K}const s=new Uint8Array(32);s[0]=9;const o=i(),a=i([1]),u=i([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=i([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=i([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=i([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),y=i([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function v(j,K){for(let G=0;G<16;G++)j[G]=K[G]|0}function w(j){let K=1;for(let G=0;G<16;G++){let S=j[G]+K+65535;K=Math.floor(S/65536),j[G]=S-K*65536}j[0]+=K-1+37*(K-1)}function C(j,K,G){const S=~(G-1);for(let H=0;H<16;H++){const re=S&(j[H]^K[H]);j[H]^=re,K[H]^=re}}function N(j,K){const G=i(),S=i();for(let H=0;H<16;H++)S[H]=K[H];w(S),w(S),w(S);for(let H=0;H<2;H++){G[0]=S[0]-65517;for(let ie=1;ie<15;ie++)G[ie]=S[ie]-65535-(G[ie-1]>>16&1),G[ie-1]&=65535;G[15]=S[15]-32767-(G[14]>>16&1);const re=G[15]>>16&1;G[14]&=65535,C(S,G,1-re)}for(let H=0;H<16;H++)j[2*H]=S[H]&255,j[2*H+1]=S[H]>>8}function T(j,K){let G=0;for(let S=0;S<32;S++)G|=j[S]^K[S];return(1&G-1>>>8)-1}function x(j,K){const G=new Uint8Array(32),S=new Uint8Array(32);return N(G,j),N(S,K),T(G,S)}function O(j){const K=new Uint8Array(32);return N(K,j),K[0]&1}function k(j,K){for(let G=0;G<16;G++)j[G]=K[2*G]+(K[2*G+1]<<8);j[15]&=32767}function L(j,K,G){for(let S=0;S<16;S++)j[S]=K[S]+G[S]}function $(j,K,G){for(let S=0;S<16;S++)j[S]=K[S]-G[S]}function E(j,K,G){let S,H,re=0,ie=0,ae=0,pe=0,de=0,Oe=0,Le=0,ve=0,xe=0,Ee=0,le=0,we=0,_e=0,ce=0,be=0,F=0,_=0,M=0,z=0,W=0,Q=0,ee=0,oe=0,he=0,Ce=0,me=0,De=0,Je=0,ke=0,at=0,ut=0,Se=G[0],Ue=G[1],ze=G[2],Ae=G[3],qe=G[4],$e=G[5],Te=G[6],Ke=G[7],Ge=G[8],Ne=G[9],Ve=G[10],je=G[11],Ie=G[12],Fe=G[13],We=G[14],Pe=G[15];S=K[0],re+=S*Se,ie+=S*Ue,ae+=S*ze,pe+=S*Ae,de+=S*qe,Oe+=S*$e,Le+=S*Te,ve+=S*Ke,xe+=S*Ge,Ee+=S*Ne,le+=S*Ve,we+=S*je,_e+=S*Ie,ce+=S*Fe,be+=S*We,F+=S*Pe,S=K[1],ie+=S*Se,ae+=S*Ue,pe+=S*ze,de+=S*Ae,Oe+=S*qe,Le+=S*$e,ve+=S*Te,xe+=S*Ke,Ee+=S*Ge,le+=S*Ne,we+=S*Ve,_e+=S*je,ce+=S*Ie,be+=S*Fe,F+=S*We,_+=S*Pe,S=K[2],ae+=S*Se,pe+=S*Ue,de+=S*ze,Oe+=S*Ae,Le+=S*qe,ve+=S*$e,xe+=S*Te,Ee+=S*Ke,le+=S*Ge,we+=S*Ne,_e+=S*Ve,ce+=S*je,be+=S*Ie,F+=S*Fe,_+=S*We,M+=S*Pe,S=K[3],pe+=S*Se,de+=S*Ue,Oe+=S*ze,Le+=S*Ae,ve+=S*qe,xe+=S*$e,Ee+=S*Te,le+=S*Ke,we+=S*Ge,_e+=S*Ne,ce+=S*Ve,be+=S*je,F+=S*Ie,_+=S*Fe,M+=S*We,z+=S*Pe,S=K[4],de+=S*Se,Oe+=S*Ue,Le+=S*ze,ve+=S*Ae,xe+=S*qe,Ee+=S*$e,le+=S*Te,we+=S*Ke,_e+=S*Ge,ce+=S*Ne,be+=S*Ve,F+=S*je,_+=S*Ie,M+=S*Fe,z+=S*We,W+=S*Pe,S=K[5],Oe+=S*Se,Le+=S*Ue,ve+=S*ze,xe+=S*Ae,Ee+=S*qe,le+=S*$e,we+=S*Te,_e+=S*Ke,ce+=S*Ge,be+=S*Ne,F+=S*Ve,_+=S*je,M+=S*Ie,z+=S*Fe,W+=S*We,Q+=S*Pe,S=K[6],Le+=S*Se,ve+=S*Ue,xe+=S*ze,Ee+=S*Ae,le+=S*qe,we+=S*$e,_e+=S*Te,ce+=S*Ke,be+=S*Ge,F+=S*Ne,_+=S*Ve,M+=S*je,z+=S*Ie,W+=S*Fe,Q+=S*We,ee+=S*Pe,S=K[7],ve+=S*Se,xe+=S*Ue,Ee+=S*ze,le+=S*Ae,we+=S*qe,_e+=S*$e,ce+=S*Te,be+=S*Ke,F+=S*Ge,_+=S*Ne,M+=S*Ve,z+=S*je,W+=S*Ie,Q+=S*Fe,ee+=S*We,oe+=S*Pe,S=K[8],xe+=S*Se,Ee+=S*Ue,le+=S*ze,we+=S*Ae,_e+=S*qe,ce+=S*$e,be+=S*Te,F+=S*Ke,_+=S*Ge,M+=S*Ne,z+=S*Ve,W+=S*je,Q+=S*Ie,ee+=S*Fe,oe+=S*We,he+=S*Pe,S=K[9],Ee+=S*Se,le+=S*Ue,we+=S*ze,_e+=S*Ae,ce+=S*qe,be+=S*$e,F+=S*Te,_+=S*Ke,M+=S*Ge,z+=S*Ne,W+=S*Ve,Q+=S*je,ee+=S*Ie,oe+=S*Fe,he+=S*We,Ce+=S*Pe,S=K[10],le+=S*Se,we+=S*Ue,_e+=S*ze,ce+=S*Ae,be+=S*qe,F+=S*$e,_+=S*Te,M+=S*Ke,z+=S*Ge,W+=S*Ne,Q+=S*Ve,ee+=S*je,oe+=S*Ie,he+=S*Fe,Ce+=S*We,me+=S*Pe,S=K[11],we+=S*Se,_e+=S*Ue,ce+=S*ze,be+=S*Ae,F+=S*qe,_+=S*$e,M+=S*Te,z+=S*Ke,W+=S*Ge,Q+=S*Ne,ee+=S*Ve,oe+=S*je,he+=S*Ie,Ce+=S*Fe,me+=S*We,De+=S*Pe,S=K[12],_e+=S*Se,ce+=S*Ue,be+=S*ze,F+=S*Ae,_+=S*qe,M+=S*$e,z+=S*Te,W+=S*Ke,Q+=S*Ge,ee+=S*Ne,oe+=S*Ve,he+=S*je,Ce+=S*Ie,me+=S*Fe,De+=S*We,Je+=S*Pe,S=K[13],ce+=S*Se,be+=S*Ue,F+=S*ze,_+=S*Ae,M+=S*qe,z+=S*$e,W+=S*Te,Q+=S*Ke,ee+=S*Ge,oe+=S*Ne,he+=S*Ve,Ce+=S*je,me+=S*Ie,De+=S*Fe,Je+=S*We,ke+=S*Pe,S=K[14],be+=S*Se,F+=S*Ue,_+=S*ze,M+=S*Ae,z+=S*qe,W+=S*$e,Q+=S*Te,ee+=S*Ke,oe+=S*Ge,he+=S*Ne,Ce+=S*Ve,me+=S*je,De+=S*Ie,Je+=S*Fe,ke+=S*We,at+=S*Pe,S=K[15],F+=S*Se,_+=S*Ue,M+=S*ze,z+=S*Ae,W+=S*qe,Q+=S*$e,ee+=S*Te,oe+=S*Ke,he+=S*Ge,Ce+=S*Ne,me+=S*Ve,De+=S*je,Je+=S*Ie,ke+=S*Fe,at+=S*We,ut+=S*Pe,re+=38*_,ie+=38*M,ae+=38*z,pe+=38*W,de+=38*Q,Oe+=38*ee,Le+=38*oe,ve+=38*he,xe+=38*Ce,Ee+=38*me,le+=38*De,we+=38*Je,_e+=38*ke,ce+=38*at,be+=38*ut,H=1,S=re+H+65535,H=Math.floor(S/65536),re=S-H*65536,S=ie+H+65535,H=Math.floor(S/65536),ie=S-H*65536,S=ae+H+65535,H=Math.floor(S/65536),ae=S-H*65536,S=pe+H+65535,H=Math.floor(S/65536),pe=S-H*65536,S=de+H+65535,H=Math.floor(S/65536),de=S-H*65536,S=Oe+H+65535,H=Math.floor(S/65536),Oe=S-H*65536,S=Le+H+65535,H=Math.floor(S/65536),Le=S-H*65536,S=ve+H+65535,H=Math.floor(S/65536),ve=S-H*65536,S=xe+H+65535,H=Math.floor(S/65536),xe=S-H*65536,S=Ee+H+65535,H=Math.floor(S/65536),Ee=S-H*65536,S=le+H+65535,H=Math.floor(S/65536),le=S-H*65536,S=we+H+65535,H=Math.floor(S/65536),we=S-H*65536,S=_e+H+65535,H=Math.floor(S/65536),_e=S-H*65536,S=ce+H+65535,H=Math.floor(S/65536),ce=S-H*65536,S=be+H+65535,H=Math.floor(S/65536),be=S-H*65536,S=F+H+65535,H=Math.floor(S/65536),F=S-H*65536,re+=H-1+37*(H-1),H=1,S=re+H+65535,H=Math.floor(S/65536),re=S-H*65536,S=ie+H+65535,H=Math.floor(S/65536),ie=S-H*65536,S=ae+H+65535,H=Math.floor(S/65536),ae=S-H*65536,S=pe+H+65535,H=Math.floor(S/65536),pe=S-H*65536,S=de+H+65535,H=Math.floor(S/65536),de=S-H*65536,S=Oe+H+65535,H=Math.floor(S/65536),Oe=S-H*65536,S=Le+H+65535,H=Math.floor(S/65536),Le=S-H*65536,S=ve+H+65535,H=Math.floor(S/65536),ve=S-H*65536,S=xe+H+65535,H=Math.floor(S/65536),xe=S-H*65536,S=Ee+H+65535,H=Math.floor(S/65536),Ee=S-H*65536,S=le+H+65535,H=Math.floor(S/65536),le=S-H*65536,S=we+H+65535,H=Math.floor(S/65536),we=S-H*65536,S=_e+H+65535,H=Math.floor(S/65536),_e=S-H*65536,S=ce+H+65535,H=Math.floor(S/65536),ce=S-H*65536,S=be+H+65535,H=Math.floor(S/65536),be=S-H*65536,S=F+H+65535,H=Math.floor(S/65536),F=S-H*65536,re+=H-1+37*(H-1),j[0]=re,j[1]=ie,j[2]=ae,j[3]=pe,j[4]=de,j[5]=Oe,j[6]=Le,j[7]=ve,j[8]=xe,j[9]=Ee,j[10]=le,j[11]=we,j[12]=_e,j[13]=ce,j[14]=be,j[15]=F}function U(j,K){E(j,K,K)}function Z(j,K){const G=i();let S;for(S=0;S<16;S++)G[S]=K[S];for(S=253;S>=0;S--)U(G,G),S!==2&&S!==4&&E(G,G,K);for(S=0;S<16;S++)j[S]=G[S]}function ne(j,K){const G=i();let S;for(S=0;S<16;S++)G[S]=K[S];for(S=250;S>=0;S--)U(G,G),S!==1&&E(G,G,K);for(S=0;S<16;S++)j[S]=G[S]}function q(j,K){const G=i(),S=i(),H=i(),re=i(),ie=i(),ae=i(),pe=i(),de=i(),Oe=i();$(G,j[1],j[0]),$(Oe,K[1],K[0]),E(G,G,Oe),L(S,j[0],j[1]),L(Oe,K[0],K[1]),E(S,S,Oe),E(H,j[3],K[3]),E(H,H,c),E(re,j[2],K[2]),L(re,re,re),$(ie,S,G),$(ae,re,H),L(pe,re,H),L(de,S,G),E(j[0],ie,ae),E(j[1],de,pe),E(j[2],pe,ae),E(j[3],ie,de)}function b(j,K,G){for(let S=0;S<4;S++)C(j[S],K[S],G)}function l(j,K){const G=i(),S=i(),H=i();Z(H,K[2]),E(G,K[0],H),E(S,K[1],H),N(j,S),j[31]^=O(G)<<7}function d(j,K,G){v(j[0],o),v(j[1],a),v(j[2],a),v(j[3],o);for(let S=255;S>=0;--S){const H=G[S/8|0]>>(S&7)&1;b(j,K,H),q(K,j),q(j,j),b(j,K,H)}}function m(j,K){const G=[i(),i(),i(),i()];v(G[0],f),v(G[1],h),v(G[2],a),E(G[3],f,h),d(j,G,K)}function A(j){if(j.length!==e.SEED_LENGTH)throw new Error(`ed25519: seed must be ${e.SEED_LENGTH} bytes`);const K=(0,r.hash)(j);K[0]&=248,K[31]&=127,K[31]|=64;const G=new Uint8Array(32),S=[i(),i(),i(),i()];m(S,K),l(G,S);const H=new Uint8Array(64);return H.set(j),H.set(G,32),{publicKey:G,secretKey:H}}e.generateKeyPairFromSeed=A;function D(j){const K=(0,t.randomBytes)(32,j),G=A(K);return(0,n.wipe)(K),G}e.generateKeyPair=D;function R(j){if(j.length!==e.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${e.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(j.subarray(32))}e.extractPublicKeyFromSecretKey=R;const I=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function p(j,K){let G,S,H,re;for(S=63;S>=32;--S){for(G=0,H=S-32,re=S-12;H<re;++H)K[H]+=G-16*K[S]*I[H-(S-32)],G=Math.floor((K[H]+128)/256),K[H]-=G*256;K[H]+=G,K[S]=0}for(G=0,H=0;H<32;H++)K[H]+=G-(K[31]>>4)*I[H],G=K[H]>>8,K[H]&=255;for(H=0;H<32;H++)K[H]-=G*I[H];for(S=0;S<32;S++)K[S+1]+=K[S]>>8,j[S]=K[S]&255}function g(j){const K=new Float64Array(64);for(let G=0;G<64;G++)K[G]=j[G];for(let G=0;G<64;G++)j[G]=0;p(j,K)}function B(j,K){const G=new Float64Array(64),S=[i(),i(),i(),i()],H=(0,r.hash)(j.subarray(0,32));H[0]&=248,H[31]&=127,H[31]|=64;const re=new Uint8Array(64);re.set(H.subarray(32),32);const ie=new r.SHA512;ie.update(re.subarray(32)),ie.update(K);const ae=ie.digest();ie.clean(),g(ae),m(S,ae),l(re,S),ie.reset(),ie.update(re.subarray(0,32)),ie.update(j.subarray(32)),ie.update(K);const pe=ie.digest();g(pe);for(let de=0;de<32;de++)G[de]=ae[de];for(let de=0;de<32;de++)for(let Oe=0;Oe<32;Oe++)G[de+Oe]+=pe[de]*H[Oe];return p(re.subarray(32),G),re}e.sign=B;function Y(j,K){const G=i(),S=i(),H=i(),re=i(),ie=i(),ae=i(),pe=i();return v(j[2],a),k(j[1],K),U(H,j[1]),E(re,H,u),$(H,H,j[2]),L(re,j[2],re),U(ie,re),U(ae,ie),E(pe,ae,ie),E(G,pe,H),E(G,G,re),ne(G,G),E(G,G,H),E(G,G,re),E(G,G,re),E(j[0],G,re),U(S,j[0]),E(S,S,re),x(S,H)&&E(j[0],j[0],y),U(S,j[0]),E(S,S,re),x(S,H)?-1:(O(j[0])===K[31]>>7&&$(j[0],o,j[0]),E(j[3],j[0],j[1]),0)}function te(j,K,G){const S=new Uint8Array(32),H=[i(),i(),i(),i()],re=[i(),i(),i(),i()];if(G.length!==e.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${e.SIGNATURE_LENGTH} bytes`);if(Y(re,j))return!1;const ie=new r.SHA512;ie.update(G.subarray(0,32)),ie.update(j),ie.update(K);const ae=ie.digest();return g(ae),d(H,re,ae),m(re,G.subarray(32)),q(H,re),l(S,H),!T(G,S)}e.verify=te;function P(j){let K=[i(),i(),i(),i()];if(Y(K,j))throw new Error("Ed25519: invalid public key");let G=i(),S=i(),H=K[1];L(G,a,H),$(S,a,H),Z(S,S),E(G,G,S);let re=new Uint8Array(32);return N(re,G),re}e.convertPublicKeyToX25519=P;function J(j){const K=(0,r.hash)(j.subarray(0,32));K[0]&=248,K[31]&=127,K[31]|=64;const G=new Uint8Array(K.subarray(0,32));return(0,n.wipe)(K),G}e.convertSecretKeyToX25519=J})(sm);const VD="EdDSA",WD="JWT",_d=".",mh="base64url",A4="utf8",I4="utf8",YD=":",QD="did",JD="key",u2="base58btc",XD="z",ZD="K36",eT=32;function x4(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}function Lf(e,t){t||(t=e.reduce((i,s)=>i+s.length,0));const r=x4(t);let n=0;for(const i of e)r.set(i,n),n+=i.length;return r}function tT(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=e.length,u=e.charAt(0),c=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function h(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";for(var C=0,N=0,T=0,x=w.length;T!==x&&w[T]===0;)T++,C++;for(var O=(x-T)*f+1>>>0,k=new Uint8Array(O);T!==x;){for(var L=w[T],$=0,E=O-1;(L!==0||$<N)&&E!==-1;E--,$++)L+=256*k[E]>>>0,k[E]=L%a>>>0,L=L/a>>>0;if(L!==0)throw new Error("Non-zero carry");N=$,T++}for(var U=O-N;U!==O&&k[U]===0;)U++;for(var Z=u.repeat(C);U<O;++U)Z+=e.charAt(k[U]);return Z}function y(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;var C=0;if(w[C]!==" "){for(var N=0,T=0;w[C]===u;)N++,C++;for(var x=(w.length-C)*c+1>>>0,O=new Uint8Array(x);w[C];){var k=r[w.charCodeAt(C)];if(k===255)return;for(var L=0,$=x-1;(k!==0||L<T)&&$!==-1;$--,L++)k+=a*O[$]>>>0,O[$]=k%256>>>0,k=k/256>>>0;if(k!==0)throw new Error("Non-zero carry");T=L,C++}if(w[C]!==" "){for(var E=x-T;E!==x&&O[E]===0;)E++;for(var U=new Uint8Array(N+(x-E)),Z=N;E!==x;)U[Z++]=O[E++];return U}}}function v(w){var C=y(w);if(C)return C;throw new Error(`Non-${t} character`)}return{encode:h,decodeUnsafe:y,decode:v}}var rT=tT,nT=rT;const iT=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},sT=e=>new TextEncoder().encode(e),oT=e=>new TextDecoder().decode(e);class aT{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class uT{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return M4(this,t)}}class cT{constructor(t){this.decoders=t}or(t){return M4(this,t)}decode(t){const r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const M4=(e,t)=>new cT({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class lT{constructor(t,r,n,i){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new aT(t,r,n),this.decoder=new uT(t,r,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const yh=({name:e,prefix:t,encode:r,decode:n})=>new lT(e,t,r,n),Sl=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:i}=nT(r,t);return yh({prefix:e,name:t,encode:n,decode:s=>iT(i(s))})},fT=(e,t,r,n)=>{const i={};for(let f=0;f<t.length;++f)i[t[f]]=f;let s=e.length;for(;e[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,u=0,c=0;for(let f=0;f<s;++f){const h=i[e[f]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<r|h,a+=r,a>=8&&(a-=8,o[c++]=255&u>>a)}if(a>=r||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return o},dT=(e,t,r)=>{const n=t[t.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let u=0;u<e.length;++u)for(a=a<<8|e[u],o+=8;o>r;)o-=r,s+=t[i&a>>o];if(o&&(s+=t[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},Er=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>yh({prefix:t,name:e,encode(i){return dT(i,n,r)},decode(i){return fT(i,n,r,e)}}),hT=yh({prefix:"\0",name:"identity",encode:e=>oT(e),decode:e=>sT(e)}),pT=Object.freeze(Object.defineProperty({__proto__:null,identity:hT},Symbol.toStringTag,{value:"Module"})),gT=Er({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),mT=Object.freeze(Object.defineProperty({__proto__:null,base2:gT},Symbol.toStringTag,{value:"Module"})),yT=Er({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),vT=Object.freeze(Object.defineProperty({__proto__:null,base8:yT},Symbol.toStringTag,{value:"Module"})),bT=Sl({prefix:"9",name:"base10",alphabet:"0123456789"}),wT=Object.freeze(Object.defineProperty({__proto__:null,base10:bT},Symbol.toStringTag,{value:"Module"})),ET=Er({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),_T=Er({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),ST=Object.freeze(Object.defineProperty({__proto__:null,base16:ET,base16upper:_T},Symbol.toStringTag,{value:"Module"})),AT=Er({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),IT=Er({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),xT=Er({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),MT=Er({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),RT=Er({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),CT=Er({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),DT=Er({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),TT=Er({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),NT=Er({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),PT=Object.freeze(Object.defineProperty({__proto__:null,base32:AT,base32hex:RT,base32hexpad:DT,base32hexpadupper:TT,base32hexupper:CT,base32pad:xT,base32padupper:MT,base32upper:IT,base32z:NT},Symbol.toStringTag,{value:"Module"})),OT=Sl({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),kT=Sl({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),FT=Object.freeze(Object.defineProperty({__proto__:null,base36:OT,base36upper:kT},Symbol.toStringTag,{value:"Module"})),BT=Sl({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),LT=Sl({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),UT=Object.freeze(Object.defineProperty({__proto__:null,base58btc:BT,base58flickr:LT},Symbol.toStringTag,{value:"Module"})),$T=Er({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),zT=Er({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),qT=Er({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),jT=Er({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),HT=Object.freeze(Object.defineProperty({__proto__:null,base64:$T,base64pad:zT,base64url:qT,base64urlpad:jT},Symbol.toStringTag,{value:"Module"})),R4=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),KT=R4.reduce((e,t,r)=>(e[r]=t,e),[]),GT=R4.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function VT(e){return e.reduce((t,r)=>(t+=KT[r],t),"")}function WT(e){const t=[];for(const r of e){const n=GT[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}const YT=yh({prefix:"🚀",name:"base256emoji",encode:VT,decode:WT}),QT=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:YT},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const c2={...pT,...mT,...vT,...wT,...ST,...PT,...FT,...UT,...HT,...QT};function C4(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const l2=C4("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),I0=C4("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=x4(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),D4={utf8:l2,"utf-8":l2,hex:c2.base16,latin1:I0,ascii:I0,binary:I0,...c2};function lr(e,t="utf8"){const r=D4[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}function ur(e,t="utf8"){const r=D4[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}function f2(e){return du(lr(ur(e,mh),A4))}function Sd(e){return lr(ur(ta(e),A4),mh)}function T4(e){const t=ur(ZD,u2),r=XD+lr(Lf([t,e]),u2);return[QD,JD,r].join(YD)}function JT(e){return lr(e,mh)}function XT(e){return ur(e,mh)}function ZT(e){return ur([Sd(e.header),Sd(e.payload)].join(_d),I4)}function eN(e){return[Sd(e.header),Sd(e.payload),JT(e.signature)].join(_d)}function b1(e){const t=e.split(_d),r=f2(t[0]),n=f2(t[1]),i=XT(t[2]),s=ur(t.slice(0,2).join(_d),I4);return{header:r,payload:n,signature:i,data:s}}function d2(e=mo.randomBytes(eT)){return sm.generateKeyPairFromSeed(e)}async function tN(e,t,r,n,i=ye.fromMiliseconds(Date.now())){const s={alg:VD,typ:WD},o=T4(n.publicKey),a=i+r,u={iss:o,sub:e,aud:t,iat:i,exp:a},c=ZT({header:s,payload:u}),f=sm.sign(n.secretKey,c);return eN({header:s,payload:u,signature:f})}var h2=function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))},rN=function(){function e(t,r,n){this.name=t,this.version=r,this.os=n,this.type="browser"}return e}(),nN=function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return e}(),iN=function(){function e(t,r,n,i){this.name=t,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return e}(),sN=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),oN=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),aN=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,uN=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,p2=3,cN=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",aN]],g2=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function lN(e){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new oN:typeof navigator<"u"?dN(navigator.userAgent):pN()}function fN(e){return e!==""&&cN.reduce(function(t,r){var n=r[0],i=r[1];if(t)return t;var s=i.exec(e);return!!s&&[n,s]},!1)}function dN(e){var t=fN(e);if(!t)return null;var r=t[0],n=t[1];if(r==="searchbot")return new sN;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<p2&&(i=h2(h2([],i,!0),gN(p2-i.length),!0)):i=[];var s=i.join("."),o=hN(e),a=uN.exec(e);return a&&a[1]?new iN(r,s,o,a[1]):new rN(r,s,o)}function hN(e){for(var t=0,r=g2.length;t<r;t++){var n=g2[t],i=n[0],s=n[1],o=s.exec(e);if(o)return i}return null}function pN(){var e=typeof process<"u"&&process.version;return e?new nN(process.version.slice(1)):null}function gN(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}var _t={};Object.defineProperty(_t,"__esModule",{value:!0});_t.getLocalStorage=_t.getLocalStorageOrThrow=_t.getCrypto=_t.getCryptoOrThrow=N4=_t.getLocation=_t.getLocationOrThrow=am=_t.getNavigator=_t.getNavigatorOrThrow=vh=_t.getDocument=_t.getDocumentOrThrow=_t.getFromWindowOrThrow=_t.getFromWindow=void 0;function fa(e){let t;return typeof window<"u"&&typeof window[e]<"u"&&(t=window[e]),t}_t.getFromWindow=fa;function Mu(e){const t=fa(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}_t.getFromWindowOrThrow=Mu;function mN(){return Mu("document")}_t.getDocumentOrThrow=mN;function yN(){return fa("document")}var vh=_t.getDocument=yN;function vN(){return Mu("navigator")}_t.getNavigatorOrThrow=vN;function bN(){return fa("navigator")}var am=_t.getNavigator=bN;function wN(){return Mu("location")}_t.getLocationOrThrow=wN;function EN(){return fa("location")}var N4=_t.getLocation=EN;function _N(){return Mu("crypto")}_t.getCryptoOrThrow=_N;function SN(){return fa("crypto")}_t.getCrypto=SN;function AN(){return Mu("localStorage")}_t.getLocalStorageOrThrow=AN;function IN(){return fa("localStorage")}_t.getLocalStorage=IN;var um={};Object.defineProperty(um,"__esModule",{value:!0});var P4=um.getWindowMetadata=void 0;const m2=_t;function xN(){let e,t;try{e=m2.getDocumentOrThrow(),t=m2.getLocationOrThrow()}catch{return null}function r(){const h=e.getElementsByTagName("link"),y=[];for(let v=0;v<h.length;v++){const w=h[v],C=w.getAttribute("rel");if(C&&C.toLowerCase().indexOf("icon")>-1){const N=w.getAttribute("href");if(N)if(N.toLowerCase().indexOf("https:")===-1&&N.toLowerCase().indexOf("http:")===-1&&N.indexOf("//")!==0){let T=t.protocol+"//"+t.host;if(N.indexOf("/")===0)T+=N;else{const x=t.pathname.split("/");x.pop();const O=x.join("/");T+=O+"/"+N}y.push(T)}else if(N.indexOf("//")===0){const T=t.protocol+N;y.push(T)}else y.push(N)}}return y}function n(...h){const y=e.getElementsByTagName("meta");for(let v=0;v<y.length;v++){const w=y[v],C=["itemprop","property","name"].map(N=>w.getAttribute(N)).filter(N=>N?h.includes(N):!1);if(C.length&&C){const N=w.getAttribute("content");if(N)return N}}return""}function i(){let h=n("name","og:site_name","og:title","twitter:title");return h||(h=e.title),h}function s(){return n("description","og:description","twitter:description","keywords")}const o=i(),a=s(),u=t.origin,c=r();return{description:a,url:u,icons:c,name:o}}P4=um.getWindowMetadata=xN;var ul={},MN=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),O4="%[a-f0-9]{2}",y2=new RegExp("("+O4+")|([^%]+?)","gi"),v2=new RegExp("("+O4+")+","gi");function w1(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],w1(r),w1(n))}function RN(e){try{return decodeURIComponent(e)}catch{for(var t=e.match(y2)||[],r=1;r<t.length;r++)e=w1(t,r).join(""),t=e.match(y2)||[];return e}}function CN(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},r=v2.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch{var n=RN(r[0]);n!==r[0]&&(t[r[0]]=n)}r=v2.exec(e)}t["%C2"]="�";for(var i=Object.keys(t),s=0;s<i.length;s++){var o=i[s];e=e.replace(new RegExp(o,"g"),t[o])}return e}var DN=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch{return CN(e)}},TN=(e,t)=>{if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[e];const r=e.indexOf(t);return r===-1?[e]:[e.slice(0,r),e.slice(r+t.length)]},NN=function(e,t){for(var r={},n=Object.keys(e),i=Array.isArray(t),s=0;s<n.length;s++){var o=n[s],a=e[o];(i?t.indexOf(o)!==-1:t(o,a,e))&&(r[o]=a)}return r};(function(e){const t=MN,r=DN,n=TN,i=NN,s=x=>x==null,o=Symbol("encodeFragmentIdentifier");function a(x){switch(x.arrayFormat){case"index":return O=>(k,L)=>{const $=k.length;return L===void 0||x.skipNull&&L===null||x.skipEmptyString&&L===""?k:L===null?[...k,[f(O,x),"[",$,"]"].join("")]:[...k,[f(O,x),"[",f($,x),"]=",f(L,x)].join("")]};case"bracket":return O=>(k,L)=>L===void 0||x.skipNull&&L===null||x.skipEmptyString&&L===""?k:L===null?[...k,[f(O,x),"[]"].join("")]:[...k,[f(O,x),"[]=",f(L,x)].join("")];case"colon-list-separator":return O=>(k,L)=>L===void 0||x.skipNull&&L===null||x.skipEmptyString&&L===""?k:L===null?[...k,[f(O,x),":list="].join("")]:[...k,[f(O,x),":list=",f(L,x)].join("")];case"comma":case"separator":case"bracket-separator":{const O=x.arrayFormat==="bracket-separator"?"[]=":"=";return k=>(L,$)=>$===void 0||x.skipNull&&$===null||x.skipEmptyString&&$===""?L:($=$===null?"":$,L.length===0?[[f(k,x),O,f($,x)].join("")]:[[L,f($,x)].join(x.arrayFormatSeparator)])}default:return O=>(k,L)=>L===void 0||x.skipNull&&L===null||x.skipEmptyString&&L===""?k:L===null?[...k,f(O,x)]:[...k,[f(O,x),"=",f(L,x)].join("")]}}function u(x){let O;switch(x.arrayFormat){case"index":return(k,L,$)=>{if(O=/\[(\d*)\]$/.exec(k),k=k.replace(/\[\d*\]$/,""),!O){$[k]=L;return}$[k]===void 0&&($[k]={}),$[k][O[1]]=L};case"bracket":return(k,L,$)=>{if(O=/(\[\])$/.exec(k),k=k.replace(/\[\]$/,""),!O){$[k]=L;return}if($[k]===void 0){$[k]=[L];return}$[k]=[].concat($[k],L)};case"colon-list-separator":return(k,L,$)=>{if(O=/(:list)$/.exec(k),k=k.replace(/:list$/,""),!O){$[k]=L;return}if($[k]===void 0){$[k]=[L];return}$[k]=[].concat($[k],L)};case"comma":case"separator":return(k,L,$)=>{const E=typeof L=="string"&&L.includes(x.arrayFormatSeparator),U=typeof L=="string"&&!E&&h(L,x).includes(x.arrayFormatSeparator);L=U?h(L,x):L;const Z=E||U?L.split(x.arrayFormatSeparator).map(ne=>h(ne,x)):L===null?L:h(L,x);$[k]=Z};case"bracket-separator":return(k,L,$)=>{const E=/(\[\])$/.test(k);if(k=k.replace(/\[\]$/,""),!E){$[k]=L&&h(L,x);return}const U=L===null?[]:L.split(x.arrayFormatSeparator).map(Z=>h(Z,x));if($[k]===void 0){$[k]=U;return}$[k]=[].concat($[k],U)};default:return(k,L,$)=>{if($[k]===void 0){$[k]=L;return}$[k]=[].concat($[k],L)}}}function c(x){if(typeof x!="string"||x.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function f(x,O){return O.encode?O.strict?t(x):encodeURIComponent(x):x}function h(x,O){return O.decode?r(x):x}function y(x){return Array.isArray(x)?x.sort():typeof x=="object"?y(Object.keys(x)).sort((O,k)=>Number(O)-Number(k)).map(O=>x[O]):x}function v(x){const O=x.indexOf("#");return O!==-1&&(x=x.slice(0,O)),x}function w(x){let O="";const k=x.indexOf("#");return k!==-1&&(O=x.slice(k)),O}function C(x){x=v(x);const O=x.indexOf("?");return O===-1?"":x.slice(O+1)}function N(x,O){return O.parseNumbers&&!Number.isNaN(Number(x))&&typeof x=="string"&&x.trim()!==""?x=Number(x):O.parseBooleans&&x!==null&&(x.toLowerCase()==="true"||x.toLowerCase()==="false")&&(x=x.toLowerCase()==="true"),x}function T(x,O){O=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},O),c(O.arrayFormatSeparator);const k=u(O),L=Object.create(null);if(typeof x!="string"||(x=x.trim().replace(/^[?#&]/,""),!x))return L;for(const $ of x.split("&")){if($==="")continue;let[E,U]=n(O.decode?$.replace(/\+/g," "):$,"=");U=U===void 0?null:["comma","separator","bracket-separator"].includes(O.arrayFormat)?U:h(U,O),k(h(E,O),U,L)}for(const $ of Object.keys(L)){const E=L[$];if(typeof E=="object"&&E!==null)for(const U of Object.keys(E))E[U]=N(E[U],O);else L[$]=N(E,O)}return O.sort===!1?L:(O.sort===!0?Object.keys(L).sort():Object.keys(L).sort(O.sort)).reduce(($,E)=>{const U=L[E];return U&&typeof U=="object"&&!Array.isArray(U)?$[E]=y(U):$[E]=U,$},Object.create(null))}e.extract=C,e.parse=T,e.stringify=(x,O)=>{if(!x)return"";O=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},O),c(O.arrayFormatSeparator);const k=U=>O.skipNull&&s(x[U])||O.skipEmptyString&&x[U]==="",L=a(O),$={};for(const U of Object.keys(x))k(U)||($[U]=x[U]);const E=Object.keys($);return O.sort!==!1&&E.sort(O.sort),E.map(U=>{const Z=x[U];return Z===void 0?"":Z===null?f(U,O):Array.isArray(Z)?Z.length===0&&O.arrayFormat==="bracket-separator"?f(U,O)+"[]":Z.reduce(L(U),[]).join("&"):f(U,O)+"="+f(Z,O)}).filter(U=>U.length>0).join("&")},e.parseUrl=(x,O)=>{O=Object.assign({decode:!0},O);const[k,L]=n(x,"#");return Object.assign({url:k.split("?")[0]||"",query:T(C(x),O)},O&&O.parseFragmentIdentifier&&L?{fragmentIdentifier:h(L,O)}:{})},e.stringifyUrl=(x,O)=>{O=Object.assign({encode:!0,strict:!0,[o]:!0},O);const k=v(x.url).split("?")[0]||"",L=e.extract(x.url),$=e.parse(L,{sort:!1}),E=Object.assign($,x.query);let U=e.stringify(E,O);U&&(U=`?${U}`);let Z=w(x.url);return x.fragmentIdentifier&&(Z=`#${O[o]?f(x.fragmentIdentifier,O):x.fragmentIdentifier}`),`${k}${U}${Z}`},e.pick=(x,O,k)=>{k=Object.assign({parseFragmentIdentifier:!0,[o]:!1},k);const{url:L,query:$,fragmentIdentifier:E}=e.parseUrl(x,k);return e.stringifyUrl({url:L,query:i($,O),fragmentIdentifier:E},k)},e.exclude=(x,O,k)=>{const L=Array.isArray(O)?$=>!O.includes($):($,E)=>!O($,E);return e.pick(x,L,k)}})(ul);var cm={},bh={};Object.defineProperty(bh,"__esModule",{value:!0});var Rr=Xe,E1=Dn,PN=20;function ON(e,t,r){for(var n=1634760805,i=857760878,s=2036477234,o=1797285236,a=r[3]<<24|r[2]<<16|r[1]<<8|r[0],u=r[7]<<24|r[6]<<16|r[5]<<8|r[4],c=r[11]<<24|r[10]<<16|r[9]<<8|r[8],f=r[15]<<24|r[14]<<16|r[13]<<8|r[12],h=r[19]<<24|r[18]<<16|r[17]<<8|r[16],y=r[23]<<24|r[22]<<16|r[21]<<8|r[20],v=r[27]<<24|r[26]<<16|r[25]<<8|r[24],w=r[31]<<24|r[30]<<16|r[29]<<8|r[28],C=t[3]<<24|t[2]<<16|t[1]<<8|t[0],N=t[7]<<24|t[6]<<16|t[5]<<8|t[4],T=t[11]<<24|t[10]<<16|t[9]<<8|t[8],x=t[15]<<24|t[14]<<16|t[13]<<8|t[12],O=n,k=i,L=s,$=o,E=a,U=u,Z=c,ne=f,q=h,b=y,l=v,d=w,m=C,A=N,D=T,R=x,I=0;I<PN;I+=2)O=O+E|0,m^=O,m=m>>>16|m<<16,q=q+m|0,E^=q,E=E>>>20|E<<12,k=k+U|0,A^=k,A=A>>>16|A<<16,b=b+A|0,U^=b,U=U>>>20|U<<12,L=L+Z|0,D^=L,D=D>>>16|D<<16,l=l+D|0,Z^=l,Z=Z>>>20|Z<<12,$=$+ne|0,R^=$,R=R>>>16|R<<16,d=d+R|0,ne^=d,ne=ne>>>20|ne<<12,L=L+Z|0,D^=L,D=D>>>24|D<<8,l=l+D|0,Z^=l,Z=Z>>>25|Z<<7,$=$+ne|0,R^=$,R=R>>>24|R<<8,d=d+R|0,ne^=d,ne=ne>>>25|ne<<7,k=k+U|0,A^=k,A=A>>>24|A<<8,b=b+A|0,U^=b,U=U>>>25|U<<7,O=O+E|0,m^=O,m=m>>>24|m<<8,q=q+m|0,E^=q,E=E>>>25|E<<7,O=O+U|0,R^=O,R=R>>>16|R<<16,l=l+R|0,U^=l,U=U>>>20|U<<12,k=k+Z|0,m^=k,m=m>>>16|m<<16,d=d+m|0,Z^=d,Z=Z>>>20|Z<<12,L=L+ne|0,A^=L,A=A>>>16|A<<16,q=q+A|0,ne^=q,ne=ne>>>20|ne<<12,$=$+E|0,D^=$,D=D>>>16|D<<16,b=b+D|0,E^=b,E=E>>>20|E<<12,L=L+ne|0,A^=L,A=A>>>24|A<<8,q=q+A|0,ne^=q,ne=ne>>>25|ne<<7,$=$+E|0,D^=$,D=D>>>24|D<<8,b=b+D|0,E^=b,E=E>>>25|E<<7,k=k+Z|0,m^=k,m=m>>>24|m<<8,d=d+m|0,Z^=d,Z=Z>>>25|Z<<7,O=O+U|0,R^=O,R=R>>>24|R<<8,l=l+R|0,U^=l,U=U>>>25|U<<7;Rr.writeUint32LE(O+n|0,e,0),Rr.writeUint32LE(k+i|0,e,4),Rr.writeUint32LE(L+s|0,e,8),Rr.writeUint32LE($+o|0,e,12),Rr.writeUint32LE(E+a|0,e,16),Rr.writeUint32LE(U+u|0,e,20),Rr.writeUint32LE(Z+c|0,e,24),Rr.writeUint32LE(ne+f|0,e,28),Rr.writeUint32LE(q+h|0,e,32),Rr.writeUint32LE(b+y|0,e,36),Rr.writeUint32LE(l+v|0,e,40),Rr.writeUint32LE(d+w|0,e,44),Rr.writeUint32LE(m+C|0,e,48),Rr.writeUint32LE(A+N|0,e,52),Rr.writeUint32LE(D+T|0,e,56),Rr.writeUint32LE(R+x|0,e,60)}function k4(e,t,r,n,i){if(i===void 0&&(i=0),e.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var s,o;if(i===0){if(t.length!==8&&t.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");s=new Uint8Array(16),o=s.length-t.length,s.set(t,o)}else{if(t.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");s=t,o=i}for(var a=new Uint8Array(64),u=0;u<r.length;u+=64){ON(a,s,e);for(var c=u;c<u+64&&c<r.length;c++)n[c]=r[c]^a[c-u];FN(s,0,o)}return E1.wipe(a),i===0&&E1.wipe(s),n}bh.streamXOR=k4;function kN(e,t,r,n){return n===void 0&&(n=0),E1.wipe(r),k4(e,t,r,r,n)}bh.stream=kN;function FN(e,t,r){for(var n=1;r--;)n=n+(e[t]&255)|0,e[t]=n&255,n>>>=8,t++;if(n>0)throw new Error("ChaCha: counter overflow")}var F4={},yo={};Object.defineProperty(yo,"__esModule",{value:!0});function BN(e,t,r){return~(e-1)&t|e-1&r}yo.select=BN;function LN(e,t){return(e|0)-(t|0)-1>>>31&1}yo.lessOrEqual=LN;function B4(e,t){if(e.length!==t.length)return 0;for(var r=0,n=0;n<e.length;n++)r|=e[n]^t[n];return 1&r-1>>>8}yo.compare=B4;function UN(e,t){return e.length===0||t.length===0?!1:B4(e,t)!==0}yo.equal=UN;(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=yo,r=Dn;e.DIGEST_LENGTH=16;var n=function(){function o(a){this.digestLength=e.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var u=a[0]|a[1]<<8;this._r[0]=u&8191;var c=a[2]|a[3]<<8;this._r[1]=(u>>>13|c<<3)&8191;var f=a[4]|a[5]<<8;this._r[2]=(c>>>10|f<<6)&7939;var h=a[6]|a[7]<<8;this._r[3]=(f>>>7|h<<9)&8191;var y=a[8]|a[9]<<8;this._r[4]=(h>>>4|y<<12)&255,this._r[5]=y>>>1&8190;var v=a[10]|a[11]<<8;this._r[6]=(y>>>14|v<<2)&8191;var w=a[12]|a[13]<<8;this._r[7]=(v>>>11|w<<5)&8065;var C=a[14]|a[15]<<8;this._r[8]=(w>>>8|C<<8)&8191,this._r[9]=C>>>5&127,this._pad[0]=a[16]|a[17]<<8,this._pad[1]=a[18]|a[19]<<8,this._pad[2]=a[20]|a[21]<<8,this._pad[3]=a[22]|a[23]<<8,this._pad[4]=a[24]|a[25]<<8,this._pad[5]=a[26]|a[27]<<8,this._pad[6]=a[28]|a[29]<<8,this._pad[7]=a[30]|a[31]<<8}return o.prototype._blocks=function(a,u,c){for(var f=this._fin?0:2048,h=this._h[0],y=this._h[1],v=this._h[2],w=this._h[3],C=this._h[4],N=this._h[5],T=this._h[6],x=this._h[7],O=this._h[8],k=this._h[9],L=this._r[0],$=this._r[1],E=this._r[2],U=this._r[3],Z=this._r[4],ne=this._r[5],q=this._r[6],b=this._r[7],l=this._r[8],d=this._r[9];c>=16;){var m=a[u+0]|a[u+1]<<8;h+=m&8191;var A=a[u+2]|a[u+3]<<8;y+=(m>>>13|A<<3)&8191;var D=a[u+4]|a[u+5]<<8;v+=(A>>>10|D<<6)&8191;var R=a[u+6]|a[u+7]<<8;w+=(D>>>7|R<<9)&8191;var I=a[u+8]|a[u+9]<<8;C+=(R>>>4|I<<12)&8191,N+=I>>>1&8191;var p=a[u+10]|a[u+11]<<8;T+=(I>>>14|p<<2)&8191;var g=a[u+12]|a[u+13]<<8;x+=(p>>>11|g<<5)&8191;var B=a[u+14]|a[u+15]<<8;O+=(g>>>8|B<<8)&8191,k+=B>>>5|f;var Y=0,te=Y;te+=h*L,te+=y*(5*d),te+=v*(5*l),te+=w*(5*b),te+=C*(5*q),Y=te>>>13,te&=8191,te+=N*(5*ne),te+=T*(5*Z),te+=x*(5*U),te+=O*(5*E),te+=k*(5*$),Y+=te>>>13,te&=8191;var P=Y;P+=h*$,P+=y*L,P+=v*(5*d),P+=w*(5*l),P+=C*(5*b),Y=P>>>13,P&=8191,P+=N*(5*q),P+=T*(5*ne),P+=x*(5*Z),P+=O*(5*U),P+=k*(5*E),Y+=P>>>13,P&=8191;var J=Y;J+=h*E,J+=y*$,J+=v*L,J+=w*(5*d),J+=C*(5*l),Y=J>>>13,J&=8191,J+=N*(5*b),J+=T*(5*q),J+=x*(5*ne),J+=O*(5*Z),J+=k*(5*U),Y+=J>>>13,J&=8191;var j=Y;j+=h*U,j+=y*E,j+=v*$,j+=w*L,j+=C*(5*d),Y=j>>>13,j&=8191,j+=N*(5*l),j+=T*(5*b),j+=x*(5*q),j+=O*(5*ne),j+=k*(5*Z),Y+=j>>>13,j&=8191;var K=Y;K+=h*Z,K+=y*U,K+=v*E,K+=w*$,K+=C*L,Y=K>>>13,K&=8191,K+=N*(5*d),K+=T*(5*l),K+=x*(5*b),K+=O*(5*q),K+=k*(5*ne),Y+=K>>>13,K&=8191;var G=Y;G+=h*ne,G+=y*Z,G+=v*U,G+=w*E,G+=C*$,Y=G>>>13,G&=8191,G+=N*L,G+=T*(5*d),G+=x*(5*l),G+=O*(5*b),G+=k*(5*q),Y+=G>>>13,G&=8191;var S=Y;S+=h*q,S+=y*ne,S+=v*Z,S+=w*U,S+=C*E,Y=S>>>13,S&=8191,S+=N*$,S+=T*L,S+=x*(5*d),S+=O*(5*l),S+=k*(5*b),Y+=S>>>13,S&=8191;var H=Y;H+=h*b,H+=y*q,H+=v*ne,H+=w*Z,H+=C*U,Y=H>>>13,H&=8191,H+=N*E,H+=T*$,H+=x*L,H+=O*(5*d),H+=k*(5*l),Y+=H>>>13,H&=8191;var re=Y;re+=h*l,re+=y*b,re+=v*q,re+=w*ne,re+=C*Z,Y=re>>>13,re&=8191,re+=N*U,re+=T*E,re+=x*$,re+=O*L,re+=k*(5*d),Y+=re>>>13,re&=8191;var ie=Y;ie+=h*d,ie+=y*l,ie+=v*b,ie+=w*q,ie+=C*ne,Y=ie>>>13,ie&=8191,ie+=N*Z,ie+=T*U,ie+=x*E,ie+=O*$,ie+=k*L,Y+=ie>>>13,ie&=8191,Y=(Y<<2)+Y|0,Y=Y+te|0,te=Y&8191,Y=Y>>>13,P+=Y,h=te,y=P,v=J,w=j,C=K,N=G,T=S,x=H,O=re,k=ie,u+=16,c-=16}this._h[0]=h,this._h[1]=y,this._h[2]=v,this._h[3]=w,this._h[4]=C,this._h[5]=N,this._h[6]=T,this._h[7]=x,this._h[8]=O,this._h[9]=k},o.prototype.finish=function(a,u){u===void 0&&(u=0);var c=new Uint16Array(10),f,h,y,v;if(this._leftover){for(v=this._leftover,this._buffer[v++]=1;v<16;v++)this._buffer[v]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(f=this._h[1]>>>13,this._h[1]&=8191,v=2;v<10;v++)this._h[v]+=f,f=this._h[v]>>>13,this._h[v]&=8191;for(this._h[0]+=f*5,f=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=f,f=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=f,c[0]=this._h[0]+5,f=c[0]>>>13,c[0]&=8191,v=1;v<10;v++)c[v]=this._h[v]+f,f=c[v]>>>13,c[v]&=8191;for(c[9]-=8192,h=(f^1)-1,v=0;v<10;v++)c[v]&=h;for(h=~h,v=0;v<10;v++)this._h[v]=this._h[v]&h|c[v];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,y=this._h[0]+this._pad[0],this._h[0]=y&65535,v=1;v<8;v++)y=(this._h[v]+this._pad[v]|0)+(y>>>16)|0,this._h[v]=y&65535;return a[u+0]=this._h[0]>>>0,a[u+1]=this._h[0]>>>8,a[u+2]=this._h[1]>>>0,a[u+3]=this._h[1]>>>8,a[u+4]=this._h[2]>>>0,a[u+5]=this._h[2]>>>8,a[u+6]=this._h[3]>>>0,a[u+7]=this._h[3]>>>8,a[u+8]=this._h[4]>>>0,a[u+9]=this._h[4]>>>8,a[u+10]=this._h[5]>>>0,a[u+11]=this._h[5]>>>8,a[u+12]=this._h[6]>>>0,a[u+13]=this._h[6]>>>8,a[u+14]=this._h[7]>>>0,a[u+15]=this._h[7]>>>8,this._finished=!0,this},o.prototype.update=function(a){var u=0,c=a.length,f;if(this._leftover){f=16-this._leftover,f>c&&(f=c);for(var h=0;h<f;h++)this._buffer[this._leftover+h]=a[u+h];if(c-=f,u+=f,this._leftover+=f,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(c>=16&&(f=c-c%16,this._blocks(a,u,f),u+=f,c-=f),c){for(var h=0;h<c;h++)this._buffer[this._leftover+h]=a[u+h];this._leftover+=c}return this},o.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var a=new Uint8Array(16);return this.finish(a),a},o.prototype.clean=function(){return r.wipe(this._buffer),r.wipe(this._r),r.wipe(this._h),r.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},o}();e.Poly1305=n;function i(o,a){var u=new n(o);u.update(a);var c=u.digest();return u.clean(),c}e.oneTimeAuth=i;function s(o,a){return o.length!==e.DIGEST_LENGTH||a.length!==e.DIGEST_LENGTH?!1:t.equal(o,a)}e.equal=s})(F4);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=bh,r=F4,n=Dn,i=Xe,s=yo;e.KEY_LENGTH=32,e.NONCE_LENGTH=12,e.TAG_LENGTH=16;var o=new Uint8Array(16),a=function(){function u(c){if(this.nonceLength=e.NONCE_LENGTH,this.tagLength=e.TAG_LENGTH,c.length!==e.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(c)}return u.prototype.seal=function(c,f,h,y){if(c.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var v=new Uint8Array(16);v.set(c,v.length-c.length);var w=new Uint8Array(32);t.stream(this._key,v,w,4);var C=f.length+this.tagLength,N;if(y){if(y.length!==C)throw new Error("ChaCha20Poly1305: incorrect destination length");N=y}else N=new Uint8Array(C);return t.streamXOR(this._key,v,f,N,4),this._authenticate(N.subarray(N.length-this.tagLength,N.length),w,N.subarray(0,N.length-this.tagLength),h),n.wipe(v),N},u.prototype.open=function(c,f,h,y){if(c.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(f.length<this.tagLength)return null;var v=new Uint8Array(16);v.set(c,v.length-c.length);var w=new Uint8Array(32);t.stream(this._key,v,w,4);var C=new Uint8Array(this.tagLength);if(this._authenticate(C,w,f.subarray(0,f.length-this.tagLength),h),!s.equal(C,f.subarray(f.length-this.tagLength,f.length)))return null;var N=f.length-this.tagLength,T;if(y){if(y.length!==N)throw new Error("ChaCha20Poly1305: incorrect destination length");T=y}else T=new Uint8Array(N);return t.streamXOR(this._key,v,f.subarray(0,f.length-this.tagLength),T,4),n.wipe(v),T},u.prototype.clean=function(){return n.wipe(this._key),this},u.prototype._authenticate=function(c,f,h,y){var v=new r.Poly1305(f);y&&(v.update(y),y.length%16>0&&v.update(o.subarray(y.length%16))),v.update(h),h.length%16>0&&v.update(o.subarray(h.length%16));var w=new Uint8Array(8);y&&i.writeUint64LE(y.length,w),v.update(w),i.writeUint64LE(h.length,w),v.update(w);for(var C=v.digest(),N=0;N<C.length;N++)c[N]=C[N];v.clean(),n.wipe(C),n.wipe(w)},u}();e.ChaCha20Poly1305=a})(cm);var L4={},Al={},lm={};Object.defineProperty(lm,"__esModule",{value:!0});function $N(e){return typeof e.saveState<"u"&&typeof e.restoreState<"u"&&typeof e.cleanSavedState<"u"}lm.isSerializableHash=$N;Object.defineProperty(Al,"__esModule",{value:!0});var yi=lm,zN=yo,qN=Dn,U4=function(){function e(t,r){this._finished=!1,this._inner=new t,this._outer=new t,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);r.length>this.blockSize?this._inner.update(r).finish(n).clean():n.set(r);for(var i=0;i<n.length;i++)n[i]^=54;this._inner.update(n);for(var i=0;i<n.length;i++)n[i]^=106;this._outer.update(n),yi.isSerializableHash(this._inner)&&yi.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),qN.wipe(n)}return e.prototype.reset=function(){if(!yi.isSerializableHash(this._inner)||!yi.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.clean=function(){yi.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),yi.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},e.prototype.update=function(t){return this._inner.update(t),this},e.prototype.finish=function(t){return this._finished?(this._outer.finish(t),this):(this._inner.finish(t),this._outer.update(t.subarray(0,this.digestLength)).finish(t),this._finished=!0,this)},e.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},e.prototype.saveState=function(){if(!yi.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},e.prototype.restoreState=function(t){if(!yi.isSerializableHash(this._inner)||!yi.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(t),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.cleanSavedState=function(t){if(!yi.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(t)},e}();Al.HMAC=U4;function jN(e,t,r){var n=new U4(e,t);n.update(r);var i=n.digest();return n.clean(),i}Al.hmac=jN;Al.equal=zN.equal;Object.defineProperty(L4,"__esModule",{value:!0});var b2=Al,w2=Dn,HN=function(){function e(t,r,n,i){n===void 0&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=t,this._info=i;var s=b2.hmac(this._hash,n,r);this._hmac=new b2.HMAC(t,s),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return e.prototype._fillBuffer=function(){this._counter[0]++;var t=this._counter[0];if(t===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),t>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},e.prototype.expand=function(t){for(var r=new Uint8Array(t),n=0;n<r.length;n++)this._bufpos===this._buffer.length&&this._fillBuffer(),r[n]=this._buffer[this._bufpos++];return r},e.prototype.clean=function(){this._hmac.clean(),w2.wipe(this._buffer),w2.wipe(this._counter),this._bufpos=0},e}(),KN=L4.HKDF=HN,Il={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Xe,r=Dn;e.DIGEST_LENGTH=32,e.BLOCK_SIZE=64;var n=function(){function a(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return a.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},a.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},a.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._temp),this.reset()},a.prototype.update=function(u,c){if(c===void 0&&(c=u.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var f=0;if(this._bytesHashed+=c,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&c>0;)this._buffer[this._bufferLength++]=u[f++],c--;this._bufferLength===this.blockSize&&(s(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(c>=this.blockSize&&(f=s(this._temp,this._state,u,f,c),c%=this.blockSize);c>0;)this._buffer[this._bufferLength++]=u[f++],c--;return this},a.prototype.finish=function(u){if(!this._finished){var c=this._bytesHashed,f=this._bufferLength,h=c/536870912|0,y=c<<3,v=c%64<56?64:128;this._buffer[f]=128;for(var w=f+1;w<v-8;w++)this._buffer[w]=0;t.writeUint32BE(h,this._buffer,v-8),t.writeUint32BE(y,this._buffer,v-4),s(this._temp,this._state,this._buffer,0,v),this._finished=!0}for(var w=0;w<this.digestLength/4;w++)t.writeUint32BE(this._state[w],u,w*4);return this},a.prototype.digest=function(){var u=new Uint8Array(this.digestLength);return this.finish(u),u},a.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},a.prototype.restoreState=function(u){return this._state.set(u.state),this._bufferLength=u.bufferLength,u.buffer&&this._buffer.set(u.buffer),this._bytesHashed=u.bytesHashed,this._finished=!1,this},a.prototype.cleanSavedState=function(u){r.wipe(u.state),u.buffer&&r.wipe(u.buffer),u.bufferLength=0,u.bytesHashed=0},a}();e.SHA256=n;var i=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function s(a,u,c,f,h){for(;h>=64;){for(var y=u[0],v=u[1],w=u[2],C=u[3],N=u[4],T=u[5],x=u[6],O=u[7],k=0;k<16;k++){var L=f+k*4;a[k]=t.readUint32BE(c,L)}for(var k=16;k<64;k++){var $=a[k-2],E=($>>>17|$<<15)^($>>>19|$<<13)^$>>>10;$=a[k-15];var U=($>>>7|$<<25)^($>>>18|$<<14)^$>>>3;a[k]=(E+a[k-7]|0)+(U+a[k-16]|0)}for(var k=0;k<64;k++){var E=(((N>>>6|N<<26)^(N>>>11|N<<21)^(N>>>25|N<<7))+(N&T^~N&x)|0)+(O+(i[k]+a[k]|0)|0)|0,U=((y>>>2|y<<30)^(y>>>13|y<<19)^(y>>>22|y<<10))+(y&v^y&w^v&w)|0;O=x,x=T,T=N,N=C+E|0,C=w,w=v,v=y,y=E+U|0}u[0]+=y,u[1]+=v,u[2]+=w,u[3]+=C,u[4]+=N,u[5]+=T,u[6]+=x,u[7]+=O,f+=64,h-=64}return f}function o(a){var u=new n;u.update(a);var c=u.digest();return u.clean(),c}e.hash=o})(Il);var fm={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.sharedKey=e.generateKeyPair=e.generateKeyPairFromSeed=e.scalarMultBase=e.scalarMult=e.SHARED_KEY_LENGTH=e.SECRET_KEY_LENGTH=e.PUBLIC_KEY_LENGTH=void 0;const t=mo,r=Dn;e.PUBLIC_KEY_LENGTH=32,e.SECRET_KEY_LENGTH=32,e.SHARED_KEY_LENGTH=32;function n(k){const L=new Float64Array(16);if(k)for(let $=0;$<k.length;$++)L[$]=k[$];return L}const i=new Uint8Array(32);i[0]=9;const s=n([56129,1]);function o(k){let L=1;for(let $=0;$<16;$++){let E=k[$]+L+65535;L=Math.floor(E/65536),k[$]=E-L*65536}k[0]+=L-1+37*(L-1)}function a(k,L,$){const E=~($-1);for(let U=0;U<16;U++){const Z=E&(k[U]^L[U]);k[U]^=Z,L[U]^=Z}}function u(k,L){const $=n(),E=n();for(let U=0;U<16;U++)E[U]=L[U];o(E),o(E),o(E);for(let U=0;U<2;U++){$[0]=E[0]-65517;for(let ne=1;ne<15;ne++)$[ne]=E[ne]-65535-($[ne-1]>>16&1),$[ne-1]&=65535;$[15]=E[15]-32767-($[14]>>16&1);const Z=$[15]>>16&1;$[14]&=65535,a(E,$,1-Z)}for(let U=0;U<16;U++)k[2*U]=E[U]&255,k[2*U+1]=E[U]>>8}function c(k,L){for(let $=0;$<16;$++)k[$]=L[2*$]+(L[2*$+1]<<8);k[15]&=32767}function f(k,L,$){for(let E=0;E<16;E++)k[E]=L[E]+$[E]}function h(k,L,$){for(let E=0;E<16;E++)k[E]=L[E]-$[E]}function y(k,L,$){let E,U,Z=0,ne=0,q=0,b=0,l=0,d=0,m=0,A=0,D=0,R=0,I=0,p=0,g=0,B=0,Y=0,te=0,P=0,J=0,j=0,K=0,G=0,S=0,H=0,re=0,ie=0,ae=0,pe=0,de=0,Oe=0,Le=0,ve=0,xe=$[0],Ee=$[1],le=$[2],we=$[3],_e=$[4],ce=$[5],be=$[6],F=$[7],_=$[8],M=$[9],z=$[10],W=$[11],Q=$[12],ee=$[13],oe=$[14],he=$[15];E=L[0],Z+=E*xe,ne+=E*Ee,q+=E*le,b+=E*we,l+=E*_e,d+=E*ce,m+=E*be,A+=E*F,D+=E*_,R+=E*M,I+=E*z,p+=E*W,g+=E*Q,B+=E*ee,Y+=E*oe,te+=E*he,E=L[1],ne+=E*xe,q+=E*Ee,b+=E*le,l+=E*we,d+=E*_e,m+=E*ce,A+=E*be,D+=E*F,R+=E*_,I+=E*M,p+=E*z,g+=E*W,B+=E*Q,Y+=E*ee,te+=E*oe,P+=E*he,E=L[2],q+=E*xe,b+=E*Ee,l+=E*le,d+=E*we,m+=E*_e,A+=E*ce,D+=E*be,R+=E*F,I+=E*_,p+=E*M,g+=E*z,B+=E*W,Y+=E*Q,te+=E*ee,P+=E*oe,J+=E*he,E=L[3],b+=E*xe,l+=E*Ee,d+=E*le,m+=E*we,A+=E*_e,D+=E*ce,R+=E*be,I+=E*F,p+=E*_,g+=E*M,B+=E*z,Y+=E*W,te+=E*Q,P+=E*ee,J+=E*oe,j+=E*he,E=L[4],l+=E*xe,d+=E*Ee,m+=E*le,A+=E*we,D+=E*_e,R+=E*ce,I+=E*be,p+=E*F,g+=E*_,B+=E*M,Y+=E*z,te+=E*W,P+=E*Q,J+=E*ee,j+=E*oe,K+=E*he,E=L[5],d+=E*xe,m+=E*Ee,A+=E*le,D+=E*we,R+=E*_e,I+=E*ce,p+=E*be,g+=E*F,B+=E*_,Y+=E*M,te+=E*z,P+=E*W,J+=E*Q,j+=E*ee,K+=E*oe,G+=E*he,E=L[6],m+=E*xe,A+=E*Ee,D+=E*le,R+=E*we,I+=E*_e,p+=E*ce,g+=E*be,B+=E*F,Y+=E*_,te+=E*M,P+=E*z,J+=E*W,j+=E*Q,K+=E*ee,G+=E*oe,S+=E*he,E=L[7],A+=E*xe,D+=E*Ee,R+=E*le,I+=E*we,p+=E*_e,g+=E*ce,B+=E*be,Y+=E*F,te+=E*_,P+=E*M,J+=E*z,j+=E*W,K+=E*Q,G+=E*ee,S+=E*oe,H+=E*he,E=L[8],D+=E*xe,R+=E*Ee,I+=E*le,p+=E*we,g+=E*_e,B+=E*ce,Y+=E*be,te+=E*F,P+=E*_,J+=E*M,j+=E*z,K+=E*W,G+=E*Q,S+=E*ee,H+=E*oe,re+=E*he,E=L[9],R+=E*xe,I+=E*Ee,p+=E*le,g+=E*we,B+=E*_e,Y+=E*ce,te+=E*be,P+=E*F,J+=E*_,j+=E*M,K+=E*z,G+=E*W,S+=E*Q,H+=E*ee,re+=E*oe,ie+=E*he,E=L[10],I+=E*xe,p+=E*Ee,g+=E*le,B+=E*we,Y+=E*_e,te+=E*ce,P+=E*be,J+=E*F,j+=E*_,K+=E*M,G+=E*z,S+=E*W,H+=E*Q,re+=E*ee,ie+=E*oe,ae+=E*he,E=L[11],p+=E*xe,g+=E*Ee,B+=E*le,Y+=E*we,te+=E*_e,P+=E*ce,J+=E*be,j+=E*F,K+=E*_,G+=E*M,S+=E*z,H+=E*W,re+=E*Q,ie+=E*ee,ae+=E*oe,pe+=E*he,E=L[12],g+=E*xe,B+=E*Ee,Y+=E*le,te+=E*we,P+=E*_e,J+=E*ce,j+=E*be,K+=E*F,G+=E*_,S+=E*M,H+=E*z,re+=E*W,ie+=E*Q,ae+=E*ee,pe+=E*oe,de+=E*he,E=L[13],B+=E*xe,Y+=E*Ee,te+=E*le,P+=E*we,J+=E*_e,j+=E*ce,K+=E*be,G+=E*F,S+=E*_,H+=E*M,re+=E*z,ie+=E*W,ae+=E*Q,pe+=E*ee,de+=E*oe,Oe+=E*he,E=L[14],Y+=E*xe,te+=E*Ee,P+=E*le,J+=E*we,j+=E*_e,K+=E*ce,G+=E*be,S+=E*F,H+=E*_,re+=E*M,ie+=E*z,ae+=E*W,pe+=E*Q,de+=E*ee,Oe+=E*oe,Le+=E*he,E=L[15],te+=E*xe,P+=E*Ee,J+=E*le,j+=E*we,K+=E*_e,G+=E*ce,S+=E*be,H+=E*F,re+=E*_,ie+=E*M,ae+=E*z,pe+=E*W,de+=E*Q,Oe+=E*ee,Le+=E*oe,ve+=E*he,Z+=38*P,ne+=38*J,q+=38*j,b+=38*K,l+=38*G,d+=38*S,m+=38*H,A+=38*re,D+=38*ie,R+=38*ae,I+=38*pe,p+=38*de,g+=38*Oe,B+=38*Le,Y+=38*ve,U=1,E=Z+U+65535,U=Math.floor(E/65536),Z=E-U*65536,E=ne+U+65535,U=Math.floor(E/65536),ne=E-U*65536,E=q+U+65535,U=Math.floor(E/65536),q=E-U*65536,E=b+U+65535,U=Math.floor(E/65536),b=E-U*65536,E=l+U+65535,U=Math.floor(E/65536),l=E-U*65536,E=d+U+65535,U=Math.floor(E/65536),d=E-U*65536,E=m+U+65535,U=Math.floor(E/65536),m=E-U*65536,E=A+U+65535,U=Math.floor(E/65536),A=E-U*65536,E=D+U+65535,U=Math.floor(E/65536),D=E-U*65536,E=R+U+65535,U=Math.floor(E/65536),R=E-U*65536,E=I+U+65535,U=Math.floor(E/65536),I=E-U*65536,E=p+U+65535,U=Math.floor(E/65536),p=E-U*65536,E=g+U+65535,U=Math.floor(E/65536),g=E-U*65536,E=B+U+65535,U=Math.floor(E/65536),B=E-U*65536,E=Y+U+65535,U=Math.floor(E/65536),Y=E-U*65536,E=te+U+65535,U=Math.floor(E/65536),te=E-U*65536,Z+=U-1+37*(U-1),U=1,E=Z+U+65535,U=Math.floor(E/65536),Z=E-U*65536,E=ne+U+65535,U=Math.floor(E/65536),ne=E-U*65536,E=q+U+65535,U=Math.floor(E/65536),q=E-U*65536,E=b+U+65535,U=Math.floor(E/65536),b=E-U*65536,E=l+U+65535,U=Math.floor(E/65536),l=E-U*65536,E=d+U+65535,U=Math.floor(E/65536),d=E-U*65536,E=m+U+65535,U=Math.floor(E/65536),m=E-U*65536,E=A+U+65535,U=Math.floor(E/65536),A=E-U*65536,E=D+U+65535,U=Math.floor(E/65536),D=E-U*65536,E=R+U+65535,U=Math.floor(E/65536),R=E-U*65536,E=I+U+65535,U=Math.floor(E/65536),I=E-U*65536,E=p+U+65535,U=Math.floor(E/65536),p=E-U*65536,E=g+U+65535,U=Math.floor(E/65536),g=E-U*65536,E=B+U+65535,U=Math.floor(E/65536),B=E-U*65536,E=Y+U+65535,U=Math.floor(E/65536),Y=E-U*65536,E=te+U+65535,U=Math.floor(E/65536),te=E-U*65536,Z+=U-1+37*(U-1),k[0]=Z,k[1]=ne,k[2]=q,k[3]=b,k[4]=l,k[5]=d,k[6]=m,k[7]=A,k[8]=D,k[9]=R,k[10]=I,k[11]=p,k[12]=g,k[13]=B,k[14]=Y,k[15]=te}function v(k,L){y(k,L,L)}function w(k,L){const $=n();for(let E=0;E<16;E++)$[E]=L[E];for(let E=253;E>=0;E--)v($,$),E!==2&&E!==4&&y($,$,L);for(let E=0;E<16;E++)k[E]=$[E]}function C(k,L){const $=new Uint8Array(32),E=new Float64Array(80),U=n(),Z=n(),ne=n(),q=n(),b=n(),l=n();for(let D=0;D<31;D++)$[D]=k[D];$[31]=k[31]&127|64,$[0]&=248,c(E,L);for(let D=0;D<16;D++)Z[D]=E[D];U[0]=q[0]=1;for(let D=254;D>=0;--D){const R=$[D>>>3]>>>(D&7)&1;a(U,Z,R),a(ne,q,R),f(b,U,ne),h(U,U,ne),f(ne,Z,q),h(Z,Z,q),v(q,b),v(l,U),y(U,ne,U),y(ne,Z,b),f(b,U,ne),h(U,U,ne),v(Z,U),h(ne,q,l),y(U,ne,s),f(U,U,q),y(ne,ne,U),y(U,q,l),y(q,Z,E),v(Z,b),a(U,Z,R),a(ne,q,R)}for(let D=0;D<16;D++)E[D+16]=U[D],E[D+32]=ne[D],E[D+48]=Z[D],E[D+64]=q[D];const d=E.subarray(32),m=E.subarray(16);w(d,d),y(m,m,d);const A=new Uint8Array(32);return u(A,m),A}e.scalarMult=C;function N(k){return C(k,i)}e.scalarMultBase=N;function T(k){if(k.length!==e.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${e.SECRET_KEY_LENGTH} bytes`);const L=new Uint8Array(k);return{publicKey:N(L),secretKey:L}}e.generateKeyPairFromSeed=T;function x(k){const L=(0,t.randomBytes)(32,k),$=T(L);return(0,r.wipe)(L),$}e.generateKeyPair=x;function O(k,L,$=!1){if(k.length!==e.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(L.length!==e.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const E=C(k,L);if($){let U=0;for(let Z=0;Z<E.length;Z++)U|=E[Z];if(U===0)throw new Error("X25519: invalid shared key")}return E}e.sharedKey=O})(fm);var dm={};const GN="elliptic",VN="6.5.7",WN="EC cryptography",YN="lib/elliptic.js",QN=["lib"],JN={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},XN={type:"git",url:"git@github.com:indutny/elliptic"},ZN=["EC","Elliptic","curve","Cryptography"],eP="Fedor Indutny <fedor@indutny.com>",tP="MIT",rP={url:"https://github.com/indutny/elliptic/issues"},nP="https://github.com/indutny/elliptic",iP={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},sP={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},oP={name:GN,version:VN,description:WN,main:YN,files:QN,scripts:JN,repository:XN,keywords:ZN,author:eP,license:tP,bugs:rP,homepage:nP,devDependencies:iP,dependencies:sP};var Tn={},hm={exports:{}};hm.exports;(function(e){(function(t,r){function n(q,b){if(!q)throw new Error(b||"Assertion failed")}function i(q,b){q.super_=b;var l=function(){};l.prototype=b.prototype,q.prototype=new l,q.prototype.constructor=q}function s(q,b,l){if(s.isBN(q))return q;this.negative=0,this.words=null,this.length=0,this.red=null,q!==null&&((b==="le"||b==="be")&&(l=b,b=10),this._init(q||0,b||10,l||"be"))}typeof t=="object"?t.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=om.Buffer}catch{}s.isBN=function(b){return b instanceof s?!0:b!==null&&typeof b=="object"&&b.constructor.wordSize===s.wordSize&&Array.isArray(b.words)},s.max=function(b,l){return b.cmp(l)>0?b:l},s.min=function(b,l){return b.cmp(l)<0?b:l},s.prototype._init=function(b,l,d){if(typeof b=="number")return this._initNumber(b,l,d);if(typeof b=="object")return this._initArray(b,l,d);l==="hex"&&(l=16),n(l===(l|0)&&l>=2&&l<=36),b=b.toString().replace(/\s+/g,"");var m=0;b[0]==="-"&&(m++,this.negative=1),m<b.length&&(l===16?this._parseHex(b,m,d):(this._parseBase(b,l,m),d==="le"&&this._initArray(this.toArray(),l,d)))},s.prototype._initNumber=function(b,l,d){b<0&&(this.negative=1,b=-b),b<67108864?(this.words=[b&67108863],this.length=1):b<4503599627370496?(this.words=[b&67108863,b/67108864&67108863],this.length=2):(n(b<9007199254740992),this.words=[b&67108863,b/67108864&67108863,1],this.length=3),d==="le"&&this._initArray(this.toArray(),l,d)},s.prototype._initArray=function(b,l,d){if(n(typeof b.length=="number"),b.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(b.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var A,D,R=0;if(d==="be")for(m=b.length-1,A=0;m>=0;m-=3)D=b[m]|b[m-1]<<8|b[m-2]<<16,this.words[A]|=D<<R&67108863,this.words[A+1]=D>>>26-R&67108863,R+=24,R>=26&&(R-=26,A++);else if(d==="le")for(m=0,A=0;m<b.length;m+=3)D=b[m]|b[m+1]<<8|b[m+2]<<16,this.words[A]|=D<<R&67108863,this.words[A+1]=D>>>26-R&67108863,R+=24,R>=26&&(R-=26,A++);return this.strip()};function a(q,b){var l=q.charCodeAt(b);return l>=65&&l<=70?l-55:l>=97&&l<=102?l-87:l-48&15}function u(q,b,l){var d=a(q,l);return l-1>=b&&(d|=a(q,l-1)<<4),d}s.prototype._parseHex=function(b,l,d){this.length=Math.ceil((b.length-l)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var A=0,D=0,R;if(d==="be")for(m=b.length-1;m>=l;m-=2)R=u(b,l,m)<<A,this.words[D]|=R&67108863,A>=18?(A-=18,D+=1,this.words[D]|=R>>>26):A+=8;else{var I=b.length-l;for(m=I%2===0?l+1:l;m<b.length;m+=2)R=u(b,l,m)<<A,this.words[D]|=R&67108863,A>=18?(A-=18,D+=1,this.words[D]|=R>>>26):A+=8}this.strip()};function c(q,b,l,d){for(var m=0,A=Math.min(q.length,l),D=b;D<A;D++){var R=q.charCodeAt(D)-48;m*=d,R>=49?m+=R-49+10:R>=17?m+=R-17+10:m+=R}return m}s.prototype._parseBase=function(b,l,d){this.words=[0],this.length=1;for(var m=0,A=1;A<=67108863;A*=l)m++;m--,A=A/l|0;for(var D=b.length-d,R=D%m,I=Math.min(D,D-R)+d,p=0,g=d;g<I;g+=m)p=c(b,g,g+m,l),this.imuln(A),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(R!==0){var B=1;for(p=c(b,g,b.length,l),g=0;g<R;g++)B*=l;this.imuln(B),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this.strip()},s.prototype.copy=function(b){b.words=new Array(this.length);for(var l=0;l<this.length;l++)b.words[l]=this.words[l];b.length=this.length,b.negative=this.negative,b.red=this.red},s.prototype.clone=function(){var b=new s(null);return this.copy(b),b},s.prototype._expand=function(b){for(;this.length<b;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(b,l){b=b||10,l=l|0||1;var d;if(b===16||b==="hex"){d="";for(var m=0,A=0,D=0;D<this.length;D++){var R=this.words[D],I=((R<<m|A)&16777215).toString(16);A=R>>>24-m&16777215,A!==0||D!==this.length-1?d=f[6-I.length]+I+d:d=I+d,m+=2,m>=26&&(m-=26,D--)}for(A!==0&&(d=A.toString(16)+d);d.length%l!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}if(b===(b|0)&&b>=2&&b<=36){var p=h[b],g=y[b];d="";var B=this.clone();for(B.negative=0;!B.isZero();){var Y=B.modn(g).toString(b);B=B.idivn(g),B.isZero()?d=Y+d:d=f[p-Y.length]+Y+d}for(this.isZero()&&(d="0"+d);d.length%l!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var b=this.words[0];return this.length===2?b+=this.words[1]*67108864:this.length===3&&this.words[2]===1?b+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-b:b},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(b,l){return n(typeof o<"u"),this.toArrayLike(o,b,l)},s.prototype.toArray=function(b,l){return this.toArrayLike(Array,b,l)},s.prototype.toArrayLike=function(b,l,d){var m=this.byteLength(),A=d||Math.max(1,m);n(m<=A,"byte array longer than desired length"),n(A>0,"Requested array length <= 0"),this.strip();var D=l==="le",R=new b(A),I,p,g=this.clone();if(D){for(p=0;!g.isZero();p++)I=g.andln(255),g.iushrn(8),R[p]=I;for(;p<A;p++)R[p]=0}else{for(p=0;p<A-m;p++)R[p]=0;for(p=0;!g.isZero();p++)I=g.andln(255),g.iushrn(8),R[A-p-1]=I}return R},Math.clz32?s.prototype._countBits=function(b){return 32-Math.clz32(b)}:s.prototype._countBits=function(b){var l=b,d=0;return l>=4096&&(d+=13,l>>>=13),l>=64&&(d+=7,l>>>=7),l>=8&&(d+=4,l>>>=4),l>=2&&(d+=2,l>>>=2),d+l},s.prototype._zeroBits=function(b){if(b===0)return 26;var l=b,d=0;return l&8191||(d+=13,l>>>=13),l&127||(d+=7,l>>>=7),l&15||(d+=4,l>>>=4),l&3||(d+=2,l>>>=2),l&1||d++,d},s.prototype.bitLength=function(){var b=this.words[this.length-1],l=this._countBits(b);return(this.length-1)*26+l};function v(q){for(var b=new Array(q.bitLength()),l=0;l<b.length;l++){var d=l/26|0,m=l%26;b[l]=(q.words[d]&1<<m)>>>m}return b}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var b=0,l=0;l<this.length;l++){var d=this._zeroBits(this.words[l]);if(b+=d,d!==26)break}return b},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(b){return this.negative!==0?this.abs().inotn(b).iaddn(1):this.clone()},s.prototype.fromTwos=function(b){return this.testn(b-1)?this.notn(b).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(b){for(;this.length<b.length;)this.words[this.length++]=0;for(var l=0;l<b.length;l++)this.words[l]=this.words[l]|b.words[l];return this.strip()},s.prototype.ior=function(b){return n((this.negative|b.negative)===0),this.iuor(b)},s.prototype.or=function(b){return this.length>b.length?this.clone().ior(b):b.clone().ior(this)},s.prototype.uor=function(b){return this.length>b.length?this.clone().iuor(b):b.clone().iuor(this)},s.prototype.iuand=function(b){var l;this.length>b.length?l=b:l=this;for(var d=0;d<l.length;d++)this.words[d]=this.words[d]&b.words[d];return this.length=l.length,this.strip()},s.prototype.iand=function(b){return n((this.negative|b.negative)===0),this.iuand(b)},s.prototype.and=function(b){return this.length>b.length?this.clone().iand(b):b.clone().iand(this)},s.prototype.uand=function(b){return this.length>b.length?this.clone().iuand(b):b.clone().iuand(this)},s.prototype.iuxor=function(b){var l,d;this.length>b.length?(l=this,d=b):(l=b,d=this);for(var m=0;m<d.length;m++)this.words[m]=l.words[m]^d.words[m];if(this!==l)for(;m<l.length;m++)this.words[m]=l.words[m];return this.length=l.length,this.strip()},s.prototype.ixor=function(b){return n((this.negative|b.negative)===0),this.iuxor(b)},s.prototype.xor=function(b){return this.length>b.length?this.clone().ixor(b):b.clone().ixor(this)},s.prototype.uxor=function(b){return this.length>b.length?this.clone().iuxor(b):b.clone().iuxor(this)},s.prototype.inotn=function(b){n(typeof b=="number"&&b>=0);var l=Math.ceil(b/26)|0,d=b%26;this._expand(l),d>0&&l--;for(var m=0;m<l;m++)this.words[m]=~this.words[m]&67108863;return d>0&&(this.words[m]=~this.words[m]&67108863>>26-d),this.strip()},s.prototype.notn=function(b){return this.clone().inotn(b)},s.prototype.setn=function(b,l){n(typeof b=="number"&&b>=0);var d=b/26|0,m=b%26;return this._expand(d+1),l?this.words[d]=this.words[d]|1<<m:this.words[d]=this.words[d]&~(1<<m),this.strip()},s.prototype.iadd=function(b){var l;if(this.negative!==0&&b.negative===0)return this.negative=0,l=this.isub(b),this.negative^=1,this._normSign();if(this.negative===0&&b.negative!==0)return b.negative=0,l=this.isub(b),b.negative=1,l._normSign();var d,m;this.length>b.length?(d=this,m=b):(d=b,m=this);for(var A=0,D=0;D<m.length;D++)l=(d.words[D]|0)+(m.words[D]|0)+A,this.words[D]=l&67108863,A=l>>>26;for(;A!==0&&D<d.length;D++)l=(d.words[D]|0)+A,this.words[D]=l&67108863,A=l>>>26;if(this.length=d.length,A!==0)this.words[this.length]=A,this.length++;else if(d!==this)for(;D<d.length;D++)this.words[D]=d.words[D];return this},s.prototype.add=function(b){var l;return b.negative!==0&&this.negative===0?(b.negative=0,l=this.sub(b),b.negative^=1,l):b.negative===0&&this.negative!==0?(this.negative=0,l=b.sub(this),this.negative=1,l):this.length>b.length?this.clone().iadd(b):b.clone().iadd(this)},s.prototype.isub=function(b){if(b.negative!==0){b.negative=0;var l=this.iadd(b);return b.negative=1,l._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(b),this.negative=1,this._normSign();var d=this.cmp(b);if(d===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,A;d>0?(m=this,A=b):(m=b,A=this);for(var D=0,R=0;R<A.length;R++)l=(m.words[R]|0)-(A.words[R]|0)+D,D=l>>26,this.words[R]=l&67108863;for(;D!==0&&R<m.length;R++)l=(m.words[R]|0)+D,D=l>>26,this.words[R]=l&67108863;if(D===0&&R<m.length&&m!==this)for(;R<m.length;R++)this.words[R]=m.words[R];return this.length=Math.max(this.length,R),m!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(b){return this.clone().isub(b)};function w(q,b,l){l.negative=b.negative^q.negative;var d=q.length+b.length|0;l.length=d,d=d-1|0;var m=q.words[0]|0,A=b.words[0]|0,D=m*A,R=D&67108863,I=D/67108864|0;l.words[0]=R;for(var p=1;p<d;p++){for(var g=I>>>26,B=I&67108863,Y=Math.min(p,b.length-1),te=Math.max(0,p-q.length+1);te<=Y;te++){var P=p-te|0;m=q.words[P]|0,A=b.words[te]|0,D=m*A+B,g+=D/67108864|0,B=D&67108863}l.words[p]=B|0,I=g|0}return I!==0?l.words[p]=I|0:l.length--,l.strip()}var C=function(b,l,d){var m=b.words,A=l.words,D=d.words,R=0,I,p,g,B=m[0]|0,Y=B&8191,te=B>>>13,P=m[1]|0,J=P&8191,j=P>>>13,K=m[2]|0,G=K&8191,S=K>>>13,H=m[3]|0,re=H&8191,ie=H>>>13,ae=m[4]|0,pe=ae&8191,de=ae>>>13,Oe=m[5]|0,Le=Oe&8191,ve=Oe>>>13,xe=m[6]|0,Ee=xe&8191,le=xe>>>13,we=m[7]|0,_e=we&8191,ce=we>>>13,be=m[8]|0,F=be&8191,_=be>>>13,M=m[9]|0,z=M&8191,W=M>>>13,Q=A[0]|0,ee=Q&8191,oe=Q>>>13,he=A[1]|0,Ce=he&8191,me=he>>>13,De=A[2]|0,Je=De&8191,ke=De>>>13,at=A[3]|0,ut=at&8191,Se=at>>>13,Ue=A[4]|0,ze=Ue&8191,Ae=Ue>>>13,qe=A[5]|0,$e=qe&8191,Te=qe>>>13,Ke=A[6]|0,Ge=Ke&8191,Ne=Ke>>>13,Ve=A[7]|0,je=Ve&8191,Ie=Ve>>>13,Fe=A[8]|0,We=Fe&8191,Pe=Fe>>>13,ft=A[9]|0,dt=ft&8191,He=ft>>>13;d.negative=b.negative^l.negative,d.length=19,I=Math.imul(Y,ee),p=Math.imul(Y,oe),p=p+Math.imul(te,ee)|0,g=Math.imul(te,oe);var et=(R+I|0)+((p&8191)<<13)|0;R=(g+(p>>>13)|0)+(et>>>26)|0,et&=67108863,I=Math.imul(J,ee),p=Math.imul(J,oe),p=p+Math.imul(j,ee)|0,g=Math.imul(j,oe),I=I+Math.imul(Y,Ce)|0,p=p+Math.imul(Y,me)|0,p=p+Math.imul(te,Ce)|0,g=g+Math.imul(te,me)|0;var Kr=(R+I|0)+((p&8191)<<13)|0;R=(g+(p>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,I=Math.imul(G,ee),p=Math.imul(G,oe),p=p+Math.imul(S,ee)|0,g=Math.imul(S,oe),I=I+Math.imul(J,Ce)|0,p=p+Math.imul(J,me)|0,p=p+Math.imul(j,Ce)|0,g=g+Math.imul(j,me)|0,I=I+Math.imul(Y,Je)|0,p=p+Math.imul(Y,ke)|0,p=p+Math.imul(te,Je)|0,g=g+Math.imul(te,ke)|0;var Gr=(R+I|0)+((p&8191)<<13)|0;R=(g+(p>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,I=Math.imul(re,ee),p=Math.imul(re,oe),p=p+Math.imul(ie,ee)|0,g=Math.imul(ie,oe),I=I+Math.imul(G,Ce)|0,p=p+Math.imul(G,me)|0,p=p+Math.imul(S,Ce)|0,g=g+Math.imul(S,me)|0,I=I+Math.imul(J,Je)|0,p=p+Math.imul(J,ke)|0,p=p+Math.imul(j,Je)|0,g=g+Math.imul(j,ke)|0,I=I+Math.imul(Y,ut)|0,p=p+Math.imul(Y,Se)|0,p=p+Math.imul(te,ut)|0,g=g+Math.imul(te,Se)|0;var Vr=(R+I|0)+((p&8191)<<13)|0;R=(g+(p>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,I=Math.imul(pe,ee),p=Math.imul(pe,oe),p=p+Math.imul(de,ee)|0,g=Math.imul(de,oe),I=I+Math.imul(re,Ce)|0,p=p+Math.imul(re,me)|0,p=p+Math.imul(ie,Ce)|0,g=g+Math.imul(ie,me)|0,I=I+Math.imul(G,Je)|0,p=p+Math.imul(G,ke)|0,p=p+Math.imul(S,Je)|0,g=g+Math.imul(S,ke)|0,I=I+Math.imul(J,ut)|0,p=p+Math.imul(J,Se)|0,p=p+Math.imul(j,ut)|0,g=g+Math.imul(j,Se)|0,I=I+Math.imul(Y,ze)|0,p=p+Math.imul(Y,Ae)|0,p=p+Math.imul(te,ze)|0,g=g+Math.imul(te,Ae)|0;var Wr=(R+I|0)+((p&8191)<<13)|0;R=(g+(p>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,I=Math.imul(Le,ee),p=Math.imul(Le,oe),p=p+Math.imul(ve,ee)|0,g=Math.imul(ve,oe),I=I+Math.imul(pe,Ce)|0,p=p+Math.imul(pe,me)|0,p=p+Math.imul(de,Ce)|0,g=g+Math.imul(de,me)|0,I=I+Math.imul(re,Je)|0,p=p+Math.imul(re,ke)|0,p=p+Math.imul(ie,Je)|0,g=g+Math.imul(ie,ke)|0,I=I+Math.imul(G,ut)|0,p=p+Math.imul(G,Se)|0,p=p+Math.imul(S,ut)|0,g=g+Math.imul(S,Se)|0,I=I+Math.imul(J,ze)|0,p=p+Math.imul(J,Ae)|0,p=p+Math.imul(j,ze)|0,g=g+Math.imul(j,Ae)|0,I=I+Math.imul(Y,$e)|0,p=p+Math.imul(Y,Te)|0,p=p+Math.imul(te,$e)|0,g=g+Math.imul(te,Te)|0;var Yr=(R+I|0)+((p&8191)<<13)|0;R=(g+(p>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,I=Math.imul(Ee,ee),p=Math.imul(Ee,oe),p=p+Math.imul(le,ee)|0,g=Math.imul(le,oe),I=I+Math.imul(Le,Ce)|0,p=p+Math.imul(Le,me)|0,p=p+Math.imul(ve,Ce)|0,g=g+Math.imul(ve,me)|0,I=I+Math.imul(pe,Je)|0,p=p+Math.imul(pe,ke)|0,p=p+Math.imul(de,Je)|0,g=g+Math.imul(de,ke)|0,I=I+Math.imul(re,ut)|0,p=p+Math.imul(re,Se)|0,p=p+Math.imul(ie,ut)|0,g=g+Math.imul(ie,Se)|0,I=I+Math.imul(G,ze)|0,p=p+Math.imul(G,Ae)|0,p=p+Math.imul(S,ze)|0,g=g+Math.imul(S,Ae)|0,I=I+Math.imul(J,$e)|0,p=p+Math.imul(J,Te)|0,p=p+Math.imul(j,$e)|0,g=g+Math.imul(j,Te)|0,I=I+Math.imul(Y,Ge)|0,p=p+Math.imul(Y,Ne)|0,p=p+Math.imul(te,Ge)|0,g=g+Math.imul(te,Ne)|0;var Gt=(R+I|0)+((p&8191)<<13)|0;R=(g+(p>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,I=Math.imul(_e,ee),p=Math.imul(_e,oe),p=p+Math.imul(ce,ee)|0,g=Math.imul(ce,oe),I=I+Math.imul(Ee,Ce)|0,p=p+Math.imul(Ee,me)|0,p=p+Math.imul(le,Ce)|0,g=g+Math.imul(le,me)|0,I=I+Math.imul(Le,Je)|0,p=p+Math.imul(Le,ke)|0,p=p+Math.imul(ve,Je)|0,g=g+Math.imul(ve,ke)|0,I=I+Math.imul(pe,ut)|0,p=p+Math.imul(pe,Se)|0,p=p+Math.imul(de,ut)|0,g=g+Math.imul(de,Se)|0,I=I+Math.imul(re,ze)|0,p=p+Math.imul(re,Ae)|0,p=p+Math.imul(ie,ze)|0,g=g+Math.imul(ie,Ae)|0,I=I+Math.imul(G,$e)|0,p=p+Math.imul(G,Te)|0,p=p+Math.imul(S,$e)|0,g=g+Math.imul(S,Te)|0,I=I+Math.imul(J,Ge)|0,p=p+Math.imul(J,Ne)|0,p=p+Math.imul(j,Ge)|0,g=g+Math.imul(j,Ne)|0,I=I+Math.imul(Y,je)|0,p=p+Math.imul(Y,Ie)|0,p=p+Math.imul(te,je)|0,g=g+Math.imul(te,Ie)|0;var Qi=(R+I|0)+((p&8191)<<13)|0;R=(g+(p>>>13)|0)+(Qi>>>26)|0,Qi&=67108863,I=Math.imul(F,ee),p=Math.imul(F,oe),p=p+Math.imul(_,ee)|0,g=Math.imul(_,oe),I=I+Math.imul(_e,Ce)|0,p=p+Math.imul(_e,me)|0,p=p+Math.imul(ce,Ce)|0,g=g+Math.imul(ce,me)|0,I=I+Math.imul(Ee,Je)|0,p=p+Math.imul(Ee,ke)|0,p=p+Math.imul(le,Je)|0,g=g+Math.imul(le,ke)|0,I=I+Math.imul(Le,ut)|0,p=p+Math.imul(Le,Se)|0,p=p+Math.imul(ve,ut)|0,g=g+Math.imul(ve,Se)|0,I=I+Math.imul(pe,ze)|0,p=p+Math.imul(pe,Ae)|0,p=p+Math.imul(de,ze)|0,g=g+Math.imul(de,Ae)|0,I=I+Math.imul(re,$e)|0,p=p+Math.imul(re,Te)|0,p=p+Math.imul(ie,$e)|0,g=g+Math.imul(ie,Te)|0,I=I+Math.imul(G,Ge)|0,p=p+Math.imul(G,Ne)|0,p=p+Math.imul(S,Ge)|0,g=g+Math.imul(S,Ne)|0,I=I+Math.imul(J,je)|0,p=p+Math.imul(J,Ie)|0,p=p+Math.imul(j,je)|0,g=g+Math.imul(j,Ie)|0,I=I+Math.imul(Y,We)|0,p=p+Math.imul(Y,Pe)|0,p=p+Math.imul(te,We)|0,g=g+Math.imul(te,Pe)|0;var Ji=(R+I|0)+((p&8191)<<13)|0;R=(g+(p>>>13)|0)+(Ji>>>26)|0,Ji&=67108863,I=Math.imul(z,ee),p=Math.imul(z,oe),p=p+Math.imul(W,ee)|0,g=Math.imul(W,oe),I=I+Math.imul(F,Ce)|0,p=p+Math.imul(F,me)|0,p=p+Math.imul(_,Ce)|0,g=g+Math.imul(_,me)|0,I=I+Math.imul(_e,Je)|0,p=p+Math.imul(_e,ke)|0,p=p+Math.imul(ce,Je)|0,g=g+Math.imul(ce,ke)|0,I=I+Math.imul(Ee,ut)|0,p=p+Math.imul(Ee,Se)|0,p=p+Math.imul(le,ut)|0,g=g+Math.imul(le,Se)|0,I=I+Math.imul(Le,ze)|0,p=p+Math.imul(Le,Ae)|0,p=p+Math.imul(ve,ze)|0,g=g+Math.imul(ve,Ae)|0,I=I+Math.imul(pe,$e)|0,p=p+Math.imul(pe,Te)|0,p=p+Math.imul(de,$e)|0,g=g+Math.imul(de,Te)|0,I=I+Math.imul(re,Ge)|0,p=p+Math.imul(re,Ne)|0,p=p+Math.imul(ie,Ge)|0,g=g+Math.imul(ie,Ne)|0,I=I+Math.imul(G,je)|0,p=p+Math.imul(G,Ie)|0,p=p+Math.imul(S,je)|0,g=g+Math.imul(S,Ie)|0,I=I+Math.imul(J,We)|0,p=p+Math.imul(J,Pe)|0,p=p+Math.imul(j,We)|0,g=g+Math.imul(j,Pe)|0,I=I+Math.imul(Y,dt)|0,p=p+Math.imul(Y,He)|0,p=p+Math.imul(te,dt)|0,g=g+Math.imul(te,He)|0;var Xi=(R+I|0)+((p&8191)<<13)|0;R=(g+(p>>>13)|0)+(Xi>>>26)|0,Xi&=67108863,I=Math.imul(z,Ce),p=Math.imul(z,me),p=p+Math.imul(W,Ce)|0,g=Math.imul(W,me),I=I+Math.imul(F,Je)|0,p=p+Math.imul(F,ke)|0,p=p+Math.imul(_,Je)|0,g=g+Math.imul(_,ke)|0,I=I+Math.imul(_e,ut)|0,p=p+Math.imul(_e,Se)|0,p=p+Math.imul(ce,ut)|0,g=g+Math.imul(ce,Se)|0,I=I+Math.imul(Ee,ze)|0,p=p+Math.imul(Ee,Ae)|0,p=p+Math.imul(le,ze)|0,g=g+Math.imul(le,Ae)|0,I=I+Math.imul(Le,$e)|0,p=p+Math.imul(Le,Te)|0,p=p+Math.imul(ve,$e)|0,g=g+Math.imul(ve,Te)|0,I=I+Math.imul(pe,Ge)|0,p=p+Math.imul(pe,Ne)|0,p=p+Math.imul(de,Ge)|0,g=g+Math.imul(de,Ne)|0,I=I+Math.imul(re,je)|0,p=p+Math.imul(re,Ie)|0,p=p+Math.imul(ie,je)|0,g=g+Math.imul(ie,Ie)|0,I=I+Math.imul(G,We)|0,p=p+Math.imul(G,Pe)|0,p=p+Math.imul(S,We)|0,g=g+Math.imul(S,Pe)|0,I=I+Math.imul(J,dt)|0,p=p+Math.imul(J,He)|0,p=p+Math.imul(j,dt)|0,g=g+Math.imul(j,He)|0;var Zi=(R+I|0)+((p&8191)<<13)|0;R=(g+(p>>>13)|0)+(Zi>>>26)|0,Zi&=67108863,I=Math.imul(z,Je),p=Math.imul(z,ke),p=p+Math.imul(W,Je)|0,g=Math.imul(W,ke),I=I+Math.imul(F,ut)|0,p=p+Math.imul(F,Se)|0,p=p+Math.imul(_,ut)|0,g=g+Math.imul(_,Se)|0,I=I+Math.imul(_e,ze)|0,p=p+Math.imul(_e,Ae)|0,p=p+Math.imul(ce,ze)|0,g=g+Math.imul(ce,Ae)|0,I=I+Math.imul(Ee,$e)|0,p=p+Math.imul(Ee,Te)|0,p=p+Math.imul(le,$e)|0,g=g+Math.imul(le,Te)|0,I=I+Math.imul(Le,Ge)|0,p=p+Math.imul(Le,Ne)|0,p=p+Math.imul(ve,Ge)|0,g=g+Math.imul(ve,Ne)|0,I=I+Math.imul(pe,je)|0,p=p+Math.imul(pe,Ie)|0,p=p+Math.imul(de,je)|0,g=g+Math.imul(de,Ie)|0,I=I+Math.imul(re,We)|0,p=p+Math.imul(re,Pe)|0,p=p+Math.imul(ie,We)|0,g=g+Math.imul(ie,Pe)|0,I=I+Math.imul(G,dt)|0,p=p+Math.imul(G,He)|0,p=p+Math.imul(S,dt)|0,g=g+Math.imul(S,He)|0;var es=(R+I|0)+((p&8191)<<13)|0;R=(g+(p>>>13)|0)+(es>>>26)|0,es&=67108863,I=Math.imul(z,ut),p=Math.imul(z,Se),p=p+Math.imul(W,ut)|0,g=Math.imul(W,Se),I=I+Math.imul(F,ze)|0,p=p+Math.imul(F,Ae)|0,p=p+Math.imul(_,ze)|0,g=g+Math.imul(_,Ae)|0,I=I+Math.imul(_e,$e)|0,p=p+Math.imul(_e,Te)|0,p=p+Math.imul(ce,$e)|0,g=g+Math.imul(ce,Te)|0,I=I+Math.imul(Ee,Ge)|0,p=p+Math.imul(Ee,Ne)|0,p=p+Math.imul(le,Ge)|0,g=g+Math.imul(le,Ne)|0,I=I+Math.imul(Le,je)|0,p=p+Math.imul(Le,Ie)|0,p=p+Math.imul(ve,je)|0,g=g+Math.imul(ve,Ie)|0,I=I+Math.imul(pe,We)|0,p=p+Math.imul(pe,Pe)|0,p=p+Math.imul(de,We)|0,g=g+Math.imul(de,Pe)|0,I=I+Math.imul(re,dt)|0,p=p+Math.imul(re,He)|0,p=p+Math.imul(ie,dt)|0,g=g+Math.imul(ie,He)|0;var Nn=(R+I|0)+((p&8191)<<13)|0;R=(g+(p>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,I=Math.imul(z,ze),p=Math.imul(z,Ae),p=p+Math.imul(W,ze)|0,g=Math.imul(W,Ae),I=I+Math.imul(F,$e)|0,p=p+Math.imul(F,Te)|0,p=p+Math.imul(_,$e)|0,g=g+Math.imul(_,Te)|0,I=I+Math.imul(_e,Ge)|0,p=p+Math.imul(_e,Ne)|0,p=p+Math.imul(ce,Ge)|0,g=g+Math.imul(ce,Ne)|0,I=I+Math.imul(Ee,je)|0,p=p+Math.imul(Ee,Ie)|0,p=p+Math.imul(le,je)|0,g=g+Math.imul(le,Ie)|0,I=I+Math.imul(Le,We)|0,p=p+Math.imul(Le,Pe)|0,p=p+Math.imul(ve,We)|0,g=g+Math.imul(ve,Pe)|0,I=I+Math.imul(pe,dt)|0,p=p+Math.imul(pe,He)|0,p=p+Math.imul(de,dt)|0,g=g+Math.imul(de,He)|0;var ts=(R+I|0)+((p&8191)<<13)|0;R=(g+(p>>>13)|0)+(ts>>>26)|0,ts&=67108863,I=Math.imul(z,$e),p=Math.imul(z,Te),p=p+Math.imul(W,$e)|0,g=Math.imul(W,Te),I=I+Math.imul(F,Ge)|0,p=p+Math.imul(F,Ne)|0,p=p+Math.imul(_,Ge)|0,g=g+Math.imul(_,Ne)|0,I=I+Math.imul(_e,je)|0,p=p+Math.imul(_e,Ie)|0,p=p+Math.imul(ce,je)|0,g=g+Math.imul(ce,Ie)|0,I=I+Math.imul(Ee,We)|0,p=p+Math.imul(Ee,Pe)|0,p=p+Math.imul(le,We)|0,g=g+Math.imul(le,Pe)|0,I=I+Math.imul(Le,dt)|0,p=p+Math.imul(Le,He)|0,p=p+Math.imul(ve,dt)|0,g=g+Math.imul(ve,He)|0;var rs=(R+I|0)+((p&8191)<<13)|0;R=(g+(p>>>13)|0)+(rs>>>26)|0,rs&=67108863,I=Math.imul(z,Ge),p=Math.imul(z,Ne),p=p+Math.imul(W,Ge)|0,g=Math.imul(W,Ne),I=I+Math.imul(F,je)|0,p=p+Math.imul(F,Ie)|0,p=p+Math.imul(_,je)|0,g=g+Math.imul(_,Ie)|0,I=I+Math.imul(_e,We)|0,p=p+Math.imul(_e,Pe)|0,p=p+Math.imul(ce,We)|0,g=g+Math.imul(ce,Pe)|0,I=I+Math.imul(Ee,dt)|0,p=p+Math.imul(Ee,He)|0,p=p+Math.imul(le,dt)|0,g=g+Math.imul(le,He)|0;var Ar=(R+I|0)+((p&8191)<<13)|0;R=(g+(p>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,I=Math.imul(z,je),p=Math.imul(z,Ie),p=p+Math.imul(W,je)|0,g=Math.imul(W,Ie),I=I+Math.imul(F,We)|0,p=p+Math.imul(F,Pe)|0,p=p+Math.imul(_,We)|0,g=g+Math.imul(_,Pe)|0,I=I+Math.imul(_e,dt)|0,p=p+Math.imul(_e,He)|0,p=p+Math.imul(ce,dt)|0,g=g+Math.imul(ce,He)|0;var ns=(R+I|0)+((p&8191)<<13)|0;R=(g+(p>>>13)|0)+(ns>>>26)|0,ns&=67108863,I=Math.imul(z,We),p=Math.imul(z,Pe),p=p+Math.imul(W,We)|0,g=Math.imul(W,Pe),I=I+Math.imul(F,dt)|0,p=p+Math.imul(F,He)|0,p=p+Math.imul(_,dt)|0,g=g+Math.imul(_,He)|0;var is=(R+I|0)+((p&8191)<<13)|0;R=(g+(p>>>13)|0)+(is>>>26)|0,is&=67108863,I=Math.imul(z,dt),p=Math.imul(z,He),p=p+Math.imul(W,dt)|0,g=Math.imul(W,He);var ss=(R+I|0)+((p&8191)<<13)|0;return R=(g+(p>>>13)|0)+(ss>>>26)|0,ss&=67108863,D[0]=et,D[1]=Kr,D[2]=Gr,D[3]=Vr,D[4]=Wr,D[5]=Yr,D[6]=Gt,D[7]=Qi,D[8]=Ji,D[9]=Xi,D[10]=Zi,D[11]=es,D[12]=Nn,D[13]=ts,D[14]=rs,D[15]=Ar,D[16]=ns,D[17]=is,D[18]=ss,R!==0&&(D[19]=R,d.length++),d};Math.imul||(C=w);function N(q,b,l){l.negative=b.negative^q.negative,l.length=q.length+b.length;for(var d=0,m=0,A=0;A<l.length-1;A++){var D=m;m=0;for(var R=d&67108863,I=Math.min(A,b.length-1),p=Math.max(0,A-q.length+1);p<=I;p++){var g=A-p,B=q.words[g]|0,Y=b.words[p]|0,te=B*Y,P=te&67108863;D=D+(te/67108864|0)|0,P=P+R|0,R=P&67108863,D=D+(P>>>26)|0,m+=D>>>26,D&=67108863}l.words[A]=R,d=D,D=m}return d!==0?l.words[A]=d:l.length--,l.strip()}function T(q,b,l){var d=new x;return d.mulp(q,b,l)}s.prototype.mulTo=function(b,l){var d,m=this.length+b.length;return this.length===10&&b.length===10?d=C(this,b,l):m<63?d=w(this,b,l):m<1024?d=N(this,b,l):d=T(this,b,l),d};function x(q,b){this.x=q,this.y=b}x.prototype.makeRBT=function(b){for(var l=new Array(b),d=s.prototype._countBits(b)-1,m=0;m<b;m++)l[m]=this.revBin(m,d,b);return l},x.prototype.revBin=function(b,l,d){if(b===0||b===d-1)return b;for(var m=0,A=0;A<l;A++)m|=(b&1)<<l-A-1,b>>=1;return m},x.prototype.permute=function(b,l,d,m,A,D){for(var R=0;R<D;R++)m[R]=l[b[R]],A[R]=d[b[R]]},x.prototype.transform=function(b,l,d,m,A,D){this.permute(D,b,l,d,m,A);for(var R=1;R<A;R<<=1)for(var I=R<<1,p=Math.cos(2*Math.PI/I),g=Math.sin(2*Math.PI/I),B=0;B<A;B+=I)for(var Y=p,te=g,P=0;P<R;P++){var J=d[B+P],j=m[B+P],K=d[B+P+R],G=m[B+P+R],S=Y*K-te*G;G=Y*G+te*K,K=S,d[B+P]=J+K,m[B+P]=j+G,d[B+P+R]=J-K,m[B+P+R]=j-G,P!==I&&(S=p*Y-g*te,te=p*te+g*Y,Y=S)}},x.prototype.guessLen13b=function(b,l){var d=Math.max(l,b)|1,m=d&1,A=0;for(d=d/2|0;d;d=d>>>1)A++;return 1<<A+1+m},x.prototype.conjugate=function(b,l,d){if(!(d<=1))for(var m=0;m<d/2;m++){var A=b[m];b[m]=b[d-m-1],b[d-m-1]=A,A=l[m],l[m]=-l[d-m-1],l[d-m-1]=-A}},x.prototype.normalize13b=function(b,l){for(var d=0,m=0;m<l/2;m++){var A=Math.round(b[2*m+1]/l)*8192+Math.round(b[2*m]/l)+d;b[m]=A&67108863,A<67108864?d=0:d=A/67108864|0}return b},x.prototype.convert13b=function(b,l,d,m){for(var A=0,D=0;D<l;D++)A=A+(b[D]|0),d[2*D]=A&8191,A=A>>>13,d[2*D+1]=A&8191,A=A>>>13;for(D=2*l;D<m;++D)d[D]=0;n(A===0),n((A&-8192)===0)},x.prototype.stub=function(b){for(var l=new Array(b),d=0;d<b;d++)l[d]=0;return l},x.prototype.mulp=function(b,l,d){var m=2*this.guessLen13b(b.length,l.length),A=this.makeRBT(m),D=this.stub(m),R=new Array(m),I=new Array(m),p=new Array(m),g=new Array(m),B=new Array(m),Y=new Array(m),te=d.words;te.length=m,this.convert13b(b.words,b.length,R,m),this.convert13b(l.words,l.length,g,m),this.transform(R,D,I,p,m,A),this.transform(g,D,B,Y,m,A);for(var P=0;P<m;P++){var J=I[P]*B[P]-p[P]*Y[P];p[P]=I[P]*Y[P]+p[P]*B[P],I[P]=J}return this.conjugate(I,p,m),this.transform(I,p,te,D,m,A),this.conjugate(te,D,m),this.normalize13b(te,m),d.negative=b.negative^l.negative,d.length=b.length+l.length,d.strip()},s.prototype.mul=function(b){var l=new s(null);return l.words=new Array(this.length+b.length),this.mulTo(b,l)},s.prototype.mulf=function(b){var l=new s(null);return l.words=new Array(this.length+b.length),T(this,b,l)},s.prototype.imul=function(b){return this.clone().mulTo(b,this)},s.prototype.imuln=function(b){n(typeof b=="number"),n(b<67108864);for(var l=0,d=0;d<this.length;d++){var m=(this.words[d]|0)*b,A=(m&67108863)+(l&67108863);l>>=26,l+=m/67108864|0,l+=A>>>26,this.words[d]=A&67108863}return l!==0&&(this.words[d]=l,this.length++),this},s.prototype.muln=function(b){return this.clone().imuln(b)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(b){var l=v(b);if(l.length===0)return new s(1);for(var d=this,m=0;m<l.length&&l[m]===0;m++,d=d.sqr());if(++m<l.length)for(var A=d.sqr();m<l.length;m++,A=A.sqr())l[m]!==0&&(d=d.mul(A));return d},s.prototype.iushln=function(b){n(typeof b=="number"&&b>=0);var l=b%26,d=(b-l)/26,m=67108863>>>26-l<<26-l,A;if(l!==0){var D=0;for(A=0;A<this.length;A++){var R=this.words[A]&m,I=(this.words[A]|0)-R<<l;this.words[A]=I|D,D=R>>>26-l}D&&(this.words[A]=D,this.length++)}if(d!==0){for(A=this.length-1;A>=0;A--)this.words[A+d]=this.words[A];for(A=0;A<d;A++)this.words[A]=0;this.length+=d}return this.strip()},s.prototype.ishln=function(b){return n(this.negative===0),this.iushln(b)},s.prototype.iushrn=function(b,l,d){n(typeof b=="number"&&b>=0);var m;l?m=(l-l%26)/26:m=0;var A=b%26,D=Math.min((b-A)/26,this.length),R=67108863^67108863>>>A<<A,I=d;if(m-=D,m=Math.max(0,m),I){for(var p=0;p<D;p++)I.words[p]=this.words[p];I.length=D}if(D!==0)if(this.length>D)for(this.length-=D,p=0;p<this.length;p++)this.words[p]=this.words[p+D];else this.words[0]=0,this.length=1;var g=0;for(p=this.length-1;p>=0&&(g!==0||p>=m);p--){var B=this.words[p]|0;this.words[p]=g<<26-A|B>>>A,g=B&R}return I&&g!==0&&(I.words[I.length++]=g),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(b,l,d){return n(this.negative===0),this.iushrn(b,l,d)},s.prototype.shln=function(b){return this.clone().ishln(b)},s.prototype.ushln=function(b){return this.clone().iushln(b)},s.prototype.shrn=function(b){return this.clone().ishrn(b)},s.prototype.ushrn=function(b){return this.clone().iushrn(b)},s.prototype.testn=function(b){n(typeof b=="number"&&b>=0);var l=b%26,d=(b-l)/26,m=1<<l;if(this.length<=d)return!1;var A=this.words[d];return!!(A&m)},s.prototype.imaskn=function(b){n(typeof b=="number"&&b>=0);var l=b%26,d=(b-l)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=d)return this;if(l!==0&&d++,this.length=Math.min(d,this.length),l!==0){var m=67108863^67108863>>>l<<l;this.words[this.length-1]&=m}return this.strip()},s.prototype.maskn=function(b){return this.clone().imaskn(b)},s.prototype.iaddn=function(b){return n(typeof b=="number"),n(b<67108864),b<0?this.isubn(-b):this.negative!==0?this.length===1&&(this.words[0]|0)<b?(this.words[0]=b-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(b),this.negative=1,this):this._iaddn(b)},s.prototype._iaddn=function(b){this.words[0]+=b;for(var l=0;l<this.length&&this.words[l]>=67108864;l++)this.words[l]-=67108864,l===this.length-1?this.words[l+1]=1:this.words[l+1]++;return this.length=Math.max(this.length,l+1),this},s.prototype.isubn=function(b){if(n(typeof b=="number"),n(b<67108864),b<0)return this.iaddn(-b);if(this.negative!==0)return this.negative=0,this.iaddn(b),this.negative=1,this;if(this.words[0]-=b,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var l=0;l<this.length&&this.words[l]<0;l++)this.words[l]+=67108864,this.words[l+1]-=1;return this.strip()},s.prototype.addn=function(b){return this.clone().iaddn(b)},s.prototype.subn=function(b){return this.clone().isubn(b)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(b,l,d){var m=b.length+d,A;this._expand(m);var D,R=0;for(A=0;A<b.length;A++){D=(this.words[A+d]|0)+R;var I=(b.words[A]|0)*l;D-=I&67108863,R=(D>>26)-(I/67108864|0),this.words[A+d]=D&67108863}for(;A<this.length-d;A++)D=(this.words[A+d]|0)+R,R=D>>26,this.words[A+d]=D&67108863;if(R===0)return this.strip();for(n(R===-1),R=0,A=0;A<this.length;A++)D=-(this.words[A]|0)+R,R=D>>26,this.words[A]=D&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(b,l){var d=this.length-b.length,m=this.clone(),A=b,D=A.words[A.length-1]|0,R=this._countBits(D);d=26-R,d!==0&&(A=A.ushln(d),m.iushln(d),D=A.words[A.length-1]|0);var I=m.length-A.length,p;if(l!=="mod"){p=new s(null),p.length=I+1,p.words=new Array(p.length);for(var g=0;g<p.length;g++)p.words[g]=0}var B=m.clone()._ishlnsubmul(A,1,I);B.negative===0&&(m=B,p&&(p.words[I]=1));for(var Y=I-1;Y>=0;Y--){var te=(m.words[A.length+Y]|0)*67108864+(m.words[A.length+Y-1]|0);for(te=Math.min(te/D|0,67108863),m._ishlnsubmul(A,te,Y);m.negative!==0;)te--,m.negative=0,m._ishlnsubmul(A,1,Y),m.isZero()||(m.negative^=1);p&&(p.words[Y]=te)}return p&&p.strip(),m.strip(),l!=="div"&&d!==0&&m.iushrn(d),{div:p||null,mod:m}},s.prototype.divmod=function(b,l,d){if(n(!b.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var m,A,D;return this.negative!==0&&b.negative===0?(D=this.neg().divmod(b,l),l!=="mod"&&(m=D.div.neg()),l!=="div"&&(A=D.mod.neg(),d&&A.negative!==0&&A.iadd(b)),{div:m,mod:A}):this.negative===0&&b.negative!==0?(D=this.divmod(b.neg(),l),l!=="mod"&&(m=D.div.neg()),{div:m,mod:D.mod}):this.negative&b.negative?(D=this.neg().divmod(b.neg(),l),l!=="div"&&(A=D.mod.neg(),d&&A.negative!==0&&A.isub(b)),{div:D.div,mod:A}):b.length>this.length||this.cmp(b)<0?{div:new s(0),mod:this}:b.length===1?l==="div"?{div:this.divn(b.words[0]),mod:null}:l==="mod"?{div:null,mod:new s(this.modn(b.words[0]))}:{div:this.divn(b.words[0]),mod:new s(this.modn(b.words[0]))}:this._wordDiv(b,l)},s.prototype.div=function(b){return this.divmod(b,"div",!1).div},s.prototype.mod=function(b){return this.divmod(b,"mod",!1).mod},s.prototype.umod=function(b){return this.divmod(b,"mod",!0).mod},s.prototype.divRound=function(b){var l=this.divmod(b);if(l.mod.isZero())return l.div;var d=l.div.negative!==0?l.mod.isub(b):l.mod,m=b.ushrn(1),A=b.andln(1),D=d.cmp(m);return D<0||A===1&&D===0?l.div:l.div.negative!==0?l.div.isubn(1):l.div.iaddn(1)},s.prototype.modn=function(b){n(b<=67108863);for(var l=(1<<26)%b,d=0,m=this.length-1;m>=0;m--)d=(l*d+(this.words[m]|0))%b;return d},s.prototype.idivn=function(b){n(b<=67108863);for(var l=0,d=this.length-1;d>=0;d--){var m=(this.words[d]|0)+l*67108864;this.words[d]=m/b|0,l=m%b}return this.strip()},s.prototype.divn=function(b){return this.clone().idivn(b)},s.prototype.egcd=function(b){n(b.negative===0),n(!b.isZero());var l=this,d=b.clone();l.negative!==0?l=l.umod(b):l=l.clone();for(var m=new s(1),A=new s(0),D=new s(0),R=new s(1),I=0;l.isEven()&&d.isEven();)l.iushrn(1),d.iushrn(1),++I;for(var p=d.clone(),g=l.clone();!l.isZero();){for(var B=0,Y=1;!(l.words[0]&Y)&&B<26;++B,Y<<=1);if(B>0)for(l.iushrn(B);B-- >0;)(m.isOdd()||A.isOdd())&&(m.iadd(p),A.isub(g)),m.iushrn(1),A.iushrn(1);for(var te=0,P=1;!(d.words[0]&P)&&te<26;++te,P<<=1);if(te>0)for(d.iushrn(te);te-- >0;)(D.isOdd()||R.isOdd())&&(D.iadd(p),R.isub(g)),D.iushrn(1),R.iushrn(1);l.cmp(d)>=0?(l.isub(d),m.isub(D),A.isub(R)):(d.isub(l),D.isub(m),R.isub(A))}return{a:D,b:R,gcd:d.iushln(I)}},s.prototype._invmp=function(b){n(b.negative===0),n(!b.isZero());var l=this,d=b.clone();l.negative!==0?l=l.umod(b):l=l.clone();for(var m=new s(1),A=new s(0),D=d.clone();l.cmpn(1)>0&&d.cmpn(1)>0;){for(var R=0,I=1;!(l.words[0]&I)&&R<26;++R,I<<=1);if(R>0)for(l.iushrn(R);R-- >0;)m.isOdd()&&m.iadd(D),m.iushrn(1);for(var p=0,g=1;!(d.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(d.iushrn(p);p-- >0;)A.isOdd()&&A.iadd(D),A.iushrn(1);l.cmp(d)>=0?(l.isub(d),m.isub(A)):(d.isub(l),A.isub(m))}var B;return l.cmpn(1)===0?B=m:B=A,B.cmpn(0)<0&&B.iadd(b),B},s.prototype.gcd=function(b){if(this.isZero())return b.abs();if(b.isZero())return this.abs();var l=this.clone(),d=b.clone();l.negative=0,d.negative=0;for(var m=0;l.isEven()&&d.isEven();m++)l.iushrn(1),d.iushrn(1);do{for(;l.isEven();)l.iushrn(1);for(;d.isEven();)d.iushrn(1);var A=l.cmp(d);if(A<0){var D=l;l=d,d=D}else if(A===0||d.cmpn(1)===0)break;l.isub(d)}while(!0);return d.iushln(m)},s.prototype.invm=function(b){return this.egcd(b).a.umod(b)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(b){return this.words[0]&b},s.prototype.bincn=function(b){n(typeof b=="number");var l=b%26,d=(b-l)/26,m=1<<l;if(this.length<=d)return this._expand(d+1),this.words[d]|=m,this;for(var A=m,D=d;A!==0&&D<this.length;D++){var R=this.words[D]|0;R+=A,A=R>>>26,R&=67108863,this.words[D]=R}return A!==0&&(this.words[D]=A,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(b){var l=b<0;if(this.negative!==0&&!l)return-1;if(this.negative===0&&l)return 1;this.strip();var d;if(this.length>1)d=1;else{l&&(b=-b),n(b<=67108863,"Number is too big");var m=this.words[0]|0;d=m===b?0:m<b?-1:1}return this.negative!==0?-d|0:d},s.prototype.cmp=function(b){if(this.negative!==0&&b.negative===0)return-1;if(this.negative===0&&b.negative!==0)return 1;var l=this.ucmp(b);return this.negative!==0?-l|0:l},s.prototype.ucmp=function(b){if(this.length>b.length)return 1;if(this.length<b.length)return-1;for(var l=0,d=this.length-1;d>=0;d--){var m=this.words[d]|0,A=b.words[d]|0;if(m!==A){m<A?l=-1:m>A&&(l=1);break}}return l},s.prototype.gtn=function(b){return this.cmpn(b)===1},s.prototype.gt=function(b){return this.cmp(b)===1},s.prototype.gten=function(b){return this.cmpn(b)>=0},s.prototype.gte=function(b){return this.cmp(b)>=0},s.prototype.ltn=function(b){return this.cmpn(b)===-1},s.prototype.lt=function(b){return this.cmp(b)===-1},s.prototype.lten=function(b){return this.cmpn(b)<=0},s.prototype.lte=function(b){return this.cmp(b)<=0},s.prototype.eqn=function(b){return this.cmpn(b)===0},s.prototype.eq=function(b){return this.cmp(b)===0},s.red=function(b){return new Z(b)},s.prototype.toRed=function(b){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),b.convertTo(this)._forceRed(b)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(b){return this.red=b,this},s.prototype.forceRed=function(b){return n(!this.red,"Already a number in reduction context"),this._forceRed(b)},s.prototype.redAdd=function(b){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,b)},s.prototype.redIAdd=function(b){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,b)},s.prototype.redSub=function(b){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,b)},s.prototype.redISub=function(b){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,b)},s.prototype.redShl=function(b){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,b)},s.prototype.redMul=function(b){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.mul(this,b)},s.prototype.redIMul=function(b){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.imul(this,b)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(b){return n(this.red&&!b.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,b)};var O={k256:null,p224:null,p192:null,p25519:null};function k(q,b){this.name=q,this.p=new s(b,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}k.prototype._tmp=function(){var b=new s(null);return b.words=new Array(Math.ceil(this.n/13)),b},k.prototype.ireduce=function(b){var l=b,d;do this.split(l,this.tmp),l=this.imulK(l),l=l.iadd(this.tmp),d=l.bitLength();while(d>this.n);var m=d<this.n?-1:l.ucmp(this.p);return m===0?(l.words[0]=0,l.length=1):m>0?l.isub(this.p):l.strip!==void 0?l.strip():l._strip(),l},k.prototype.split=function(b,l){b.iushrn(this.n,0,l)},k.prototype.imulK=function(b){return b.imul(this.k)};function L(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(L,k),L.prototype.split=function(b,l){for(var d=4194303,m=Math.min(b.length,9),A=0;A<m;A++)l.words[A]=b.words[A];if(l.length=m,b.length<=9){b.words[0]=0,b.length=1;return}var D=b.words[9];for(l.words[l.length++]=D&d,A=10;A<b.length;A++){var R=b.words[A]|0;b.words[A-10]=(R&d)<<4|D>>>22,D=R}D>>>=22,b.words[A-10]=D,D===0&&b.length>10?b.length-=10:b.length-=9},L.prototype.imulK=function(b){b.words[b.length]=0,b.words[b.length+1]=0,b.length+=2;for(var l=0,d=0;d<b.length;d++){var m=b.words[d]|0;l+=m*977,b.words[d]=l&67108863,l=m*64+(l/67108864|0)}return b.words[b.length-1]===0&&(b.length--,b.words[b.length-1]===0&&b.length--),b};function $(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i($,k);function E(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(E,k);function U(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(U,k),U.prototype.imulK=function(b){for(var l=0,d=0;d<b.length;d++){var m=(b.words[d]|0)*19+l,A=m&67108863;m>>>=26,b.words[d]=A,l=m}return l!==0&&(b.words[b.length++]=l),b},s._prime=function(b){if(O[b])return O[b];var l;if(b==="k256")l=new L;else if(b==="p224")l=new $;else if(b==="p192")l=new E;else if(b==="p25519")l=new U;else throw new Error("Unknown prime "+b);return O[b]=l,l};function Z(q){if(typeof q=="string"){var b=s._prime(q);this.m=b.p,this.prime=b}else n(q.gtn(1),"modulus must be greater than 1"),this.m=q,this.prime=null}Z.prototype._verify1=function(b){n(b.negative===0,"red works only with positives"),n(b.red,"red works only with red numbers")},Z.prototype._verify2=function(b,l){n((b.negative|l.negative)===0,"red works only with positives"),n(b.red&&b.red===l.red,"red works only with red numbers")},Z.prototype.imod=function(b){return this.prime?this.prime.ireduce(b)._forceRed(this):b.umod(this.m)._forceRed(this)},Z.prototype.neg=function(b){return b.isZero()?b.clone():this.m.sub(b)._forceRed(this)},Z.prototype.add=function(b,l){this._verify2(b,l);var d=b.add(l);return d.cmp(this.m)>=0&&d.isub(this.m),d._forceRed(this)},Z.prototype.iadd=function(b,l){this._verify2(b,l);var d=b.iadd(l);return d.cmp(this.m)>=0&&d.isub(this.m),d},Z.prototype.sub=function(b,l){this._verify2(b,l);var d=b.sub(l);return d.cmpn(0)<0&&d.iadd(this.m),d._forceRed(this)},Z.prototype.isub=function(b,l){this._verify2(b,l);var d=b.isub(l);return d.cmpn(0)<0&&d.iadd(this.m),d},Z.prototype.shl=function(b,l){return this._verify1(b),this.imod(b.ushln(l))},Z.prototype.imul=function(b,l){return this._verify2(b,l),this.imod(b.imul(l))},Z.prototype.mul=function(b,l){return this._verify2(b,l),this.imod(b.mul(l))},Z.prototype.isqr=function(b){return this.imul(b,b.clone())},Z.prototype.sqr=function(b){return this.mul(b,b)},Z.prototype.sqrt=function(b){if(b.isZero())return b.clone();var l=this.m.andln(3);if(n(l%2===1),l===3){var d=this.m.add(new s(1)).iushrn(2);return this.pow(b,d)}for(var m=this.m.subn(1),A=0;!m.isZero()&&m.andln(1)===0;)A++,m.iushrn(1);n(!m.isZero());var D=new s(1).toRed(this),R=D.redNeg(),I=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new s(2*p*p).toRed(this);this.pow(p,I).cmp(R)!==0;)p.redIAdd(R);for(var g=this.pow(p,m),B=this.pow(b,m.addn(1).iushrn(1)),Y=this.pow(b,m),te=A;Y.cmp(D)!==0;){for(var P=Y,J=0;P.cmp(D)!==0;J++)P=P.redSqr();n(J<te);var j=this.pow(g,new s(1).iushln(te-J-1));B=B.redMul(j),g=j.redSqr(),Y=Y.redMul(g),te=J}return B},Z.prototype.invm=function(b){var l=b._invmp(this.m);return l.negative!==0?(l.negative=0,this.imod(l).redNeg()):this.imod(l)},Z.prototype.pow=function(b,l){if(l.isZero())return new s(1).toRed(this);if(l.cmpn(1)===0)return b.clone();var d=4,m=new Array(1<<d);m[0]=new s(1).toRed(this),m[1]=b;for(var A=2;A<m.length;A++)m[A]=this.mul(m[A-1],b);var D=m[0],R=0,I=0,p=l.bitLength()%26;for(p===0&&(p=26),A=l.length-1;A>=0;A--){for(var g=l.words[A],B=p-1;B>=0;B--){var Y=g>>B&1;if(D!==m[0]&&(D=this.sqr(D)),Y===0&&R===0){I=0;continue}R<<=1,R|=Y,I++,!(I!==d&&(A!==0||B!==0))&&(D=this.mul(D,m[R]),I=0,R=0)}p=26}return D},Z.prototype.convertTo=function(b){var l=b.umod(this.m);return l===b?l.clone():l},Z.prototype.convertFrom=function(b){var l=b.clone();return l.red=null,l},s.mont=function(b){return new ne(b)};function ne(q){Z.call(this,q),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(ne,Z),ne.prototype.convertTo=function(b){return this.imod(b.ushln(this.shift))},ne.prototype.convertFrom=function(b){var l=this.imod(b.mul(this.rinv));return l.red=null,l},ne.prototype.imul=function(b,l){if(b.isZero()||l.isZero())return b.words[0]=0,b.length=1,b;var d=b.imul(l),m=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=d.isub(m).iushrn(this.shift),D=A;return A.cmp(this.m)>=0?D=A.isub(this.m):A.cmpn(0)<0&&(D=A.iadd(this.m)),D._forceRed(this)},ne.prototype.mul=function(b,l){if(b.isZero()||l.isZero())return new s(0)._forceRed(this);var d=b.mul(l),m=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=d.isub(m).iushrn(this.shift),D=A;return A.cmp(this.m)>=0?D=A.isub(this.m):A.cmpn(0)<0&&(D=A.iadd(this.m)),D._forceRed(this)},ne.prototype.invm=function(b){var l=this.imod(b._invmp(this.m).mul(this.r2));return l._forceRed(this)}})(e,yn)})(hm);var Ns=hm.exports,da=$4;function $4(e,t){if(!e)throw new Error(t||"Assertion failed")}$4.equal=function(t,r,n){if(t!=r)throw new Error(n||"Assertion failed: "+t+" != "+r)};var pm={};(function(e){var t=e;function r(s,o){if(Array.isArray(s))return s.slice();if(!s)return[];var a=[];if(typeof s!="string"){for(var u=0;u<s.length;u++)a[u]=s[u]|0;return a}if(o==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var u=0;u<s.length;u+=2)a.push(parseInt(s[u]+s[u+1],16))}else for(var u=0;u<s.length;u++){var c=s.charCodeAt(u),f=c>>8,h=c&255;f?a.push(f,h):a.push(h)}return a}t.toArray=r;function n(s){return s.length===1?"0"+s:s}t.zero2=n;function i(s){for(var o="",a=0;a<s.length;a++)o+=n(s[a].toString(16));return o}t.toHex=i,t.encode=function(o,a){return a==="hex"?i(o):o}})(pm);(function(e){var t=e,r=Ns,n=da,i=pm;t.assert=n,t.toArray=i.toArray,t.zero2=i.zero2,t.toHex=i.toHex,t.encode=i.encode;function s(f,h,y){var v=new Array(Math.max(f.bitLength(),y)+1),w;for(w=0;w<v.length;w+=1)v[w]=0;var C=1<<h+1,N=f.clone();for(w=0;w<v.length;w++){var T,x=N.andln(C-1);N.isOdd()?(x>(C>>1)-1?T=(C>>1)-x:T=x,N.isubn(T)):T=0,v[w]=T,N.iushrn(1)}return v}t.getNAF=s;function o(f,h){var y=[[],[]];f=f.clone(),h=h.clone();for(var v=0,w=0,C;f.cmpn(-v)>0||h.cmpn(-w)>0;){var N=f.andln(3)+v&3,T=h.andln(3)+w&3;N===3&&(N=-1),T===3&&(T=-1);var x;N&1?(C=f.andln(7)+v&7,(C===3||C===5)&&T===2?x=-N:x=N):x=0,y[0].push(x);var O;T&1?(C=h.andln(7)+w&7,(C===3||C===5)&&N===2?O=-T:O=T):O=0,y[1].push(O),2*v===x+1&&(v=1-v),2*w===O+1&&(w=1-w),f.iushrn(1),h.iushrn(1)}return y}t.getJSF=o;function a(f,h,y){var v="_"+h;f.prototype[h]=function(){return this[v]!==void 0?this[v]:this[v]=y.call(this)}}t.cachedProperty=a;function u(f){return typeof f=="string"?t.toArray(f,"hex"):f}t.parseBytes=u;function c(f){return new r(f,"hex","le")}t.intFromLE=c})(Tn);var gm={exports:{}},x0;gm.exports=function(t){return x0||(x0=new Qs(null)),x0.generate(t)};function Qs(e){this.rand=e}gm.exports.Rand=Qs;Qs.prototype.generate=function(t){return this._rand(t)};Qs.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var r=new Uint8Array(t),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Qs.prototype._rand=function(t){var r=new Uint8Array(t);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?Qs.prototype._rand=function(t){var r=new Uint8Array(t);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(Qs.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var E2=om;if(typeof E2.randomBytes!="function")throw new Error("Not supported");Qs.prototype._rand=function(t){return E2.randomBytes(t)}}catch{}var z4=gm.exports,mm={},Ao=Ns,xl=Tn,Ad=xl.getNAF,aP=xl.getJSF,Id=xl.assert;function vo(e,t){this.type=e,this.p=new Ao(t.p,16),this.red=t.prime?Ao.red(t.prime):Ao.mont(this.p),this.zero=new Ao(0).toRed(this.red),this.one=new Ao(1).toRed(this.red),this.two=new Ao(2).toRed(this.red),this.n=t.n&&new Ao(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var wh=vo;vo.prototype.point=function(){throw new Error("Not implemented")};vo.prototype.validate=function(){throw new Error("Not implemented")};vo.prototype._fixedNafMul=function(t,r){Id(t.precomputed);var n=t._getDoubles(),i=Ad(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,u;for(a=0;a<i.length;a+=n.step){u=0;for(var c=a+n.step-1;c>=a;c--)u=(u<<1)+i[c];o.push(u)}for(var f=this.jpoint(null,null,null),h=this.jpoint(null,null,null),y=s;y>0;y--){for(a=0;a<o.length;a++)u=o[a],u===y?h=h.mixedAdd(n.points[a]):u===-y&&(h=h.mixedAdd(n.points[a].neg()));f=f.add(h)}return f.toP()};vo.prototype._wnafMul=function(t,r){var n=4,i=t._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=Ad(r,n,this._bitLength),a=this.jpoint(null,null,null),u=o.length-1;u>=0;u--){for(var c=0;u>=0&&o[u]===0;u--)c++;if(u>=0&&c++,a=a.dblp(c),u<0)break;var f=o[u];Id(f!==0),t.type==="affine"?f>0?a=a.mixedAdd(s[f-1>>1]):a=a.mixedAdd(s[-f-1>>1].neg()):f>0?a=a.add(s[f-1>>1]):a=a.add(s[-f-1>>1].neg())}return t.type==="affine"?a.toP():a};vo.prototype._wnafMulAdd=function(t,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,u=this._wnafT3,c=0,f,h,y;for(f=0;f<i;f++){y=r[f];var v=y._getNAFPoints(t);o[f]=v.wnd,a[f]=v.points}for(f=i-1;f>=1;f-=2){var w=f-1,C=f;if(o[w]!==1||o[C]!==1){u[w]=Ad(n[w],o[w],this._bitLength),u[C]=Ad(n[C],o[C],this._bitLength),c=Math.max(u[w].length,c),c=Math.max(u[C].length,c);continue}var N=[r[w],null,null,r[C]];r[w].y.cmp(r[C].y)===0?(N[1]=r[w].add(r[C]),N[2]=r[w].toJ().mixedAdd(r[C].neg())):r[w].y.cmp(r[C].y.redNeg())===0?(N[1]=r[w].toJ().mixedAdd(r[C]),N[2]=r[w].add(r[C].neg())):(N[1]=r[w].toJ().mixedAdd(r[C]),N[2]=r[w].toJ().mixedAdd(r[C].neg()));var T=[-3,-1,-5,-7,0,7,5,1,3],x=aP(n[w],n[C]);for(c=Math.max(x[0].length,c),u[w]=new Array(c),u[C]=new Array(c),h=0;h<c;h++){var O=x[0][h]|0,k=x[1][h]|0;u[w][h]=T[(O+1)*3+(k+1)],u[C][h]=0,a[w]=N}}var L=this.jpoint(null,null,null),$=this._wnafT4;for(f=c;f>=0;f--){for(var E=0;f>=0;){var U=!0;for(h=0;h<i;h++)$[h]=u[h][f]|0,$[h]!==0&&(U=!1);if(!U)break;E++,f--}if(f>=0&&E++,L=L.dblp(E),f<0)break;for(h=0;h<i;h++){var Z=$[h];Z!==0&&(Z>0?y=a[h][Z-1>>1]:Z<0&&(y=a[h][-Z-1>>1].neg()),y.type==="affine"?L=L.mixedAdd(y):L=L.add(y))}}for(f=0;f<i;f++)a[f]=null;return s?L:L.toP()};function Qn(e,t){this.curve=e,this.type=t,this.precomputed=null}vo.BasePoint=Qn;Qn.prototype.eq=function(){throw new Error("Not implemented")};Qn.prototype.validate=function(){return this.curve.validate(this)};vo.prototype.decodePoint=function(t,r){t=xl.toArray(t,r);var n=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1===2*n){t[0]===6?Id(t[t.length-1]%2===0):t[0]===7&&Id(t[t.length-1]%2===1);var i=this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));return i}else if((t[0]===2||t[0]===3)&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),t[0]===3);throw new Error("Unknown point format")};Qn.prototype.encodeCompressed=function(t){return this.encode(t,!0)};Qn.prototype._encode=function(t){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Qn.prototype.encode=function(t,r){return xl.encode(this._encode(r),t)};Qn.prototype.precompute=function(t){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,t),r.beta=this._getBeta(),this.precomputed=r,this};Qn.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((t.bitLength()+1)/r.step):!1};Qn.prototype._getDoubles=function(t,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=t){for(var o=0;o<t;o++)i=i.dbl();n.push(i)}return{step:t,points:n}};Qn.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<t)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:t,points:r}};Qn.prototype._getBeta=function(){return null};Qn.prototype.dblp=function(t){for(var r=this,n=0;n<t;n++)r=r.dbl();return r};var _1={exports:{}};typeof Object.create=="function"?_1.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:_1.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}};var Eh=_1.exports,uP=Tn,zt=Ns,ym=Eh,Ru=wh,cP=uP.assert;function Jn(e){Ru.call(this,"short",e),this.a=new zt(e.a,16).toRed(this.red),this.b=new zt(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}ym(Jn,Ru);var lP=Jn;Jn.prototype._getEndomorphism=function(t){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(t.beta)r=new zt(t.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(t.lambda)n=new zt(t.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],cP(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return t.basis?o=t.basis.map(function(a){return{a:new zt(a.a,16),b:new zt(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};Jn.prototype._getEndoRoots=function(t){var r=t===this.p?this.red:zt.mont(t),n=new zt(2).toRed(r).redInvm(),i=n.redNeg(),s=new zt(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};Jn.prototype._getEndoBasis=function(t){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=t,i=this.n.clone(),s=new zt(1),o=new zt(0),a=new zt(0),u=new zt(1),c,f,h,y,v,w,C,N=0,T,x;n.cmpn(0)!==0;){var O=i.div(n);T=i.sub(O.mul(n)),x=a.sub(O.mul(s));var k=u.sub(O.mul(o));if(!h&&T.cmp(r)<0)c=C.neg(),f=s,h=T.neg(),y=x;else if(h&&++N===2)break;C=T,i=n,n=T,a=s,s=x,u=o,o=k}v=T.neg(),w=x;var L=h.sqr().add(y.sqr()),$=v.sqr().add(w.sqr());return $.cmp(L)>=0&&(v=c,w=f),h.negative&&(h=h.neg(),y=y.neg()),v.negative&&(v=v.neg(),w=w.neg()),[{a:h,b:y},{a:v,b:w}]};Jn.prototype._endoSplit=function(t){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(t).divRound(this.n),o=n.b.neg().mul(t).divRound(this.n),a=s.mul(n.a),u=o.mul(i.a),c=s.mul(n.b),f=o.mul(i.b),h=t.sub(a).sub(u),y=c.add(f).neg();return{k1:h,k2:y}};Jn.prototype.pointFromX=function(t,r){t=new zt(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(t,i)};Jn.prototype.validate=function(t){if(t.inf)return!0;var r=t.x,n=t.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};Jn.prototype._endoWnafMulAdd=function(t,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<t.length;o++){var a=this._endoSplit(r[o]),u=t[o],c=u._getBeta();a.k1.negative&&(a.k1.ineg(),u=u.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),i[o*2]=u,i[o*2+1]=c,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var f=this._wnafMulAdd(1,i,s,o*2,n),h=0;h<o*2;h++)i[h]=null,s[h]=null;return f};function hr(e,t,r,n){Ru.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new zt(t,16),this.y=new zt(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}ym(hr,Ru.BasePoint);Jn.prototype.point=function(t,r,n){return new hr(this,t,r,n)};Jn.prototype.pointFromJSON=function(t,r){return hr.fromJSON(this,t,r)};hr.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};t.beta=r,r.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(i)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(i)}}}return r}};hr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};hr.fromJSON=function(t,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=t.point(r[0],r[1],n);if(!r[2])return i;function s(a){return t.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};hr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};hr.prototype.isInfinity=function(){return this.inf};hr.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var r=this.y.redSub(t.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(t.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(t.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};hr.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=t.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};hr.prototype.getX=function(){return this.x.fromRed()};hr.prototype.getY=function(){return this.y.fromRed()};hr.prototype.mul=function(t){return t=new zt(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)};hr.prototype.mulAdd=function(t,r,n){var i=[this,r],s=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};hr.prototype.jmulAdd=function(t,r,n){var i=[this,r],s=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};hr.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)};hr.prototype.neg=function(t){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};hr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t};function _r(e,t,r,n){Ru.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new zt(0)):(this.x=new zt(t,16),this.y=new zt(r,16),this.z=new zt(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}ym(_r,Ru.BasePoint);Jn.prototype.jpoint=function(t,r,n){return new _r(this,t,r,n)};_r.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),r=t.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(t);return this.curve.point(n,i)};_r.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};_r.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var r=t.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=t.x.redMul(n),o=this.y.redMul(r.redMul(t.z)),a=t.y.redMul(n.redMul(this.z)),u=i.redSub(s),c=o.redSub(a);if(u.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=u.redSqr(),h=f.redMul(u),y=i.redMul(f),v=c.redSqr().redIAdd(h).redISub(y).redISub(y),w=c.redMul(y.redISub(v)).redISub(o.redMul(h)),C=this.z.redMul(t.z).redMul(u);return this.curve.jpoint(v,w,C)};_r.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=t.x.redMul(r),s=this.y,o=t.y.redMul(r).redMul(this.z),a=n.redSub(i),u=s.redSub(o);if(a.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),f=c.redMul(a),h=n.redMul(c),y=u.redSqr().redIAdd(f).redISub(h).redISub(h),v=u.redMul(h.redISub(y)).redISub(s.redMul(f)),w=this.z.redMul(a);return this.curve.jpoint(y,v,w)};_r.prototype.dblp=function(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<t;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,u=this.z,c=u.redSqr().redSqr(),f=a.redAdd(a);for(r=0;r<t;r++){var h=o.redSqr(),y=f.redSqr(),v=y.redSqr(),w=h.redAdd(h).redIAdd(h).redIAdd(i.redMul(c)),C=o.redMul(y),N=w.redSqr().redISub(C.redAdd(C)),T=C.redISub(N),x=w.redMul(T);x=x.redIAdd(x).redISub(v);var O=f.redMul(u);r+1<t&&(c=c.redMul(v)),o=N,u=O,f=x}return this.curve.jpoint(o,f.redMul(s),u)};_r.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};_r.prototype._zeroDbl=function(){var t,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var u=i.redAdd(i).redIAdd(i),c=u.redSqr().redISub(a).redISub(a),f=o.redIAdd(o);f=f.redIAdd(f),f=f.redIAdd(f),t=c,r=u.redMul(a.redISub(c)).redISub(f),n=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),y=this.y.redSqr(),v=y.redSqr(),w=this.x.redAdd(y).redSqr().redISub(h).redISub(v);w=w.redIAdd(w);var C=h.redAdd(h).redIAdd(h),N=C.redSqr(),T=v.redIAdd(v);T=T.redIAdd(T),T=T.redIAdd(T),t=N.redISub(w).redISub(w),r=C.redMul(w.redISub(t)).redISub(T),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(t,r,n)};_r.prototype._threeDbl=function(){var t,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var u=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=u.redSqr().redISub(a).redISub(a);t=c;var f=o.redIAdd(o);f=f.redIAdd(f),f=f.redIAdd(f),r=u.redMul(a.redISub(c)).redISub(f),n=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),y=this.y.redSqr(),v=this.x.redMul(y),w=this.x.redSub(h).redMul(this.x.redAdd(h));w=w.redAdd(w).redIAdd(w);var C=v.redIAdd(v);C=C.redIAdd(C);var N=C.redAdd(C);t=w.redSqr().redISub(N),n=this.y.redAdd(this.z).redSqr().redISub(y).redISub(h);var T=y.redSqr();T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T),r=w.redMul(C.redISub(t)).redISub(T)}return this.curve.jpoint(t,r,n)};_r.prototype._dbl=function(){var t=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),u=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(s)),c=r.redAdd(r);c=c.redIAdd(c);var f=c.redMul(a),h=u.redSqr().redISub(f.redAdd(f)),y=f.redISub(h),v=a.redSqr();v=v.redIAdd(v),v=v.redIAdd(v),v=v.redIAdd(v);var w=u.redMul(y).redISub(v),C=n.redAdd(n).redMul(i);return this.curve.jpoint(h,w,C)};_r.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=t.redAdd(t).redIAdd(t),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(t).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var u=a.redSqr(),c=i.redIAdd(i);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var f=s.redIAdd(a).redSqr().redISub(o).redISub(u).redISub(c),h=r.redMul(f);h=h.redIAdd(h),h=h.redIAdd(h);var y=this.x.redMul(u).redISub(h);y=y.redIAdd(y),y=y.redIAdd(y);var v=this.y.redMul(f.redMul(c.redISub(f)).redISub(a.redMul(u)));v=v.redIAdd(v),v=v.redIAdd(v),v=v.redIAdd(v);var w=this.z.redAdd(a).redSqr().redISub(n).redISub(u);return this.curve.jpoint(y,v,w)};_r.prototype.mul=function(t,r){return t=new zt(t,r),this.curve._wnafMul(this,t)};_r.prototype.eq=function(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return!0;var r=this.z.redSqr(),n=t.z.redSqr();if(this.x.redMul(n).redISub(t.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(t.z);return this.y.redMul(s).redISub(t.y.redMul(i)).cmpn(0)===0};_r.prototype.eqXToP=function(t){var r=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=t.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};_r.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};_r.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var qa=Ns,q4=Eh,_h=wh,fP=Tn;function Cu(e){_h.call(this,"mont",e),this.a=new qa(e.a,16).toRed(this.red),this.b=new qa(e.b,16).toRed(this.red),this.i4=new qa(4).toRed(this.red).redInvm(),this.two=new qa(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}q4(Cu,_h);var dP=Cu;Cu.prototype.validate=function(t){var r=t.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),s=i.redSqrt();return s.redSqr().cmp(i)===0};function dr(e,t,r){_h.BasePoint.call(this,e,"projective"),t===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new qa(t,16),this.z=new qa(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}q4(dr,_h.BasePoint);Cu.prototype.decodePoint=function(t,r){return this.point(fP.toArray(t,r),1)};Cu.prototype.point=function(t,r){return new dr(this,t,r)};Cu.prototype.pointFromJSON=function(t){return dr.fromJSON(this,t)};dr.prototype.precompute=function(){};dr.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};dr.fromJSON=function(t,r){return new dr(t,r[0],r[1]||t.one)};dr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};dr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};dr.prototype.dbl=function(){var t=this.x.redAdd(this.z),r=t.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),s=r.redSub(i),o=r.redMul(i),a=s.redMul(i.redAdd(this.curve.a24.redMul(s)));return this.curve.point(o,a)};dr.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};dr.prototype.diffAdd=function(t,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),s=t.x.redAdd(t.z),o=t.x.redSub(t.z),a=o.redMul(n),u=s.redMul(i),c=r.z.redMul(a.redAdd(u).redSqr()),f=r.x.redMul(a.redISub(u).redSqr());return this.curve.point(c,f)};dr.prototype.mul=function(t){for(var r=t.clone(),n=this,i=this.curve.point(null,null),s=this,o=[];r.cmpn(0)!==0;r.iushrn(1))o.push(r.andln(1));for(var a=o.length-1;a>=0;a--)o[a]===0?(n=n.diffAdd(i,s),i=i.dbl()):(i=n.diffAdd(i,s),n=n.dbl());return i};dr.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};dr.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};dr.prototype.eq=function(t){return this.getX().cmp(t.getX())===0};dr.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};dr.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var hP=Tn,ws=Ns,j4=Eh,Sh=wh,pP=hP.assert;function Vi(e){this.twisted=(e.a|0)!==1,this.mOneA=this.twisted&&(e.a|0)===-1,this.extended=this.mOneA,Sh.call(this,"edwards",e),this.a=new ws(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new ws(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new ws(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),pP(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(e.c|0)===1}j4(Vi,Sh);var gP=Vi;Vi.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)};Vi.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)};Vi.prototype.jpoint=function(t,r,n,i){return this.point(t,r,n,i)};Vi.prototype.pointFromX=function(t,r){t=new ws(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),i=this.c2.redSub(this.a.redMul(n)),s=this.one.redSub(this.c2.redMul(this.d).redMul(n)),o=i.redMul(s.redInvm()),a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");var u=a.fromRed().isOdd();return(r&&!u||!r&&u)&&(a=a.redNeg()),this.point(t,a)};Vi.prototype.pointFromY=function(t,r){t=new ws(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),i=n.redSub(this.c2),s=n.redMul(this.d).redMul(this.c2).redSub(this.a),o=i.redMul(s.redInvm());if(o.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,t)}var a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");return a.fromRed().isOdd()!==r&&(a=a.redNeg()),this.point(a,t)};Vi.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var r=t.x.redSqr(),n=t.y.redSqr(),i=r.redMul(this.a).redAdd(n),s=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(s)===0};function xt(e,t,r,n,i){Sh.BasePoint.call(this,e,"projective"),t===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new ws(t,16),this.y=new ws(r,16),this.z=n?new ws(n,16):this.curve.one,this.t=i&&new ws(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}j4(xt,Sh.BasePoint);Vi.prototype.pointFromJSON=function(t){return xt.fromJSON(this,t)};Vi.prototype.point=function(t,r,n,i){return new xt(this,t,r,n,i)};xt.fromJSON=function(t,r){return new xt(t,r[0],r[1],r[2])};xt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};xt.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};xt.prototype._extDbl=function(){var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(t),s=this.x.redAdd(this.y).redSqr().redISub(t).redISub(r),o=i.redAdd(r),a=o.redSub(n),u=i.redSub(r),c=s.redMul(a),f=o.redMul(u),h=s.redMul(u),y=a.redMul(o);return this.curve.point(c,f,y,h)};xt.prototype._projDbl=function(){var t=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,s,o,a,u,c;if(this.curve.twisted){a=this.curve._mulA(r);var f=a.redAdd(n);this.zOne?(i=t.redSub(r).redSub(n).redMul(f.redSub(this.curve.two)),s=f.redMul(a.redSub(n)),o=f.redSqr().redSub(f).redSub(f)):(u=this.z.redSqr(),c=f.redSub(u).redISub(u),i=t.redSub(r).redISub(n).redMul(c),s=f.redMul(a.redSub(n)),o=f.redMul(c))}else a=r.redAdd(n),u=this.curve._mulC(this.z).redSqr(),c=a.redSub(u).redSub(u),i=this.curve._mulC(t.redISub(a)).redMul(c),s=this.curve._mulC(a).redMul(r.redISub(n)),o=a.redMul(c);return this.curve.point(i,s,o)};xt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};xt.prototype._extAdd=function(t){var r=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),n=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),i=this.t.redMul(this.curve.dd).redMul(t.t),s=this.z.redMul(t.z.redAdd(t.z)),o=n.redSub(r),a=s.redSub(i),u=s.redAdd(i),c=n.redAdd(r),f=o.redMul(a),h=u.redMul(c),y=o.redMul(c),v=a.redMul(u);return this.curve.point(f,h,v,y)};xt.prototype._projAdd=function(t){var r=this.z.redMul(t.z),n=r.redSqr(),i=this.x.redMul(t.x),s=this.y.redMul(t.y),o=this.curve.d.redMul(i).redMul(s),a=n.redSub(o),u=n.redAdd(o),c=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(i).redISub(s),f=r.redMul(a).redMul(c),h,y;return this.curve.twisted?(h=r.redMul(u).redMul(s.redSub(this.curve._mulA(i))),y=a.redMul(u)):(h=r.redMul(u).redMul(s.redSub(i)),y=this.curve._mulC(a).redMul(u)),this.curve.point(f,h,y)};xt.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)};xt.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)};xt.prototype.mulAdd=function(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,!1)};xt.prototype.jmulAdd=function(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,!0)};xt.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this};xt.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};xt.prototype.getX=function(){return this.normalize(),this.x.fromRed()};xt.prototype.getY=function(){return this.normalize(),this.y.fromRed()};xt.prototype.eq=function(t){return this===t||this.getX().cmp(t.getX())===0&&this.getY().cmp(t.getY())===0};xt.prototype.eqXToP=function(t){var r=t.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=t.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};xt.prototype.toP=xt.prototype.normalize;xt.prototype.mixedAdd=xt.prototype.add;(function(e){var t=e;t.base=wh,t.short=lP,t.mont=dP,t.edwards=gP})(mm);var Ah={},Ih={},st={},mP=da,yP=Eh;st.inherits=yP;function vP(e,t){return(e.charCodeAt(t)&64512)!==55296||t<0||t+1>=e.length?!1:(e.charCodeAt(t+1)&64512)===56320}function bP(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e=="string")if(t){if(t==="hex")for(e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var s=e.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):vP(e,i)?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128)}else for(i=0;i<e.length;i++)r[i]=e[i]|0;return r}st.toArray=bP;function wP(e){for(var t="",r=0;r<e.length;r++)t+=K4(e[r].toString(16));return t}st.toHex=wP;function H4(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}st.htonl=H4;function EP(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];t==="little"&&(i=H4(i)),r+=G4(i.toString(16))}return r}st.toHex32=EP;function K4(e){return e.length===1?"0"+e:e}st.zero2=K4;function G4(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}st.zero8=G4;function _P(e,t,r,n){var i=r-t;mP(i%4===0);for(var s=new Array(i/4),o=0,a=t;o<s.length;o++,a+=4){var u;n==="big"?u=e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3]:u=e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a],s[o]=u>>>0}return s}st.join32=_P;function SP(e,t){for(var r=new Array(e.length*4),n=0,i=0;n<e.length;n++,i+=4){var s=e[n];t==="big"?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=s&255):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=s&255)}return r}st.split32=SP;function AP(e,t){return e>>>t|e<<32-t}st.rotr32=AP;function IP(e,t){return e<<t|e>>>32-t}st.rotl32=IP;function xP(e,t){return e+t>>>0}st.sum32=xP;function MP(e,t,r){return e+t+r>>>0}st.sum32_3=MP;function RP(e,t,r,n){return e+t+r+n>>>0}st.sum32_4=RP;function CP(e,t,r,n,i){return e+t+r+n+i>>>0}st.sum32_5=CP;function DP(e,t,r,n){var i=e[t],s=e[t+1],o=n+s>>>0,a=(o<n?1:0)+r+i;e[t]=a>>>0,e[t+1]=o}st.sum64=DP;function TP(e,t,r,n){var i=t+n>>>0,s=(i<t?1:0)+e+r;return s>>>0}st.sum64_hi=TP;function NP(e,t,r,n){var i=t+n;return i>>>0}st.sum64_lo=NP;function PP(e,t,r,n,i,s,o,a){var u=0,c=t;c=c+n>>>0,u+=c<t?1:0,c=c+s>>>0,u+=c<s?1:0,c=c+a>>>0,u+=c<a?1:0;var f=e+r+i+o+u;return f>>>0}st.sum64_4_hi=PP;function OP(e,t,r,n,i,s,o,a){var u=t+n+s+a;return u>>>0}st.sum64_4_lo=OP;function kP(e,t,r,n,i,s,o,a,u,c){var f=0,h=t;h=h+n>>>0,f+=h<t?1:0,h=h+s>>>0,f+=h<s?1:0,h=h+a>>>0,f+=h<a?1:0,h=h+c>>>0,f+=h<c?1:0;var y=e+r+i+o+u+f;return y>>>0}st.sum64_5_hi=kP;function FP(e,t,r,n,i,s,o,a,u,c){var f=t+n+s+a+c;return f>>>0}st.sum64_5_lo=FP;function BP(e,t,r){var n=t<<32-r|e>>>r;return n>>>0}st.rotr64_hi=BP;function LP(e,t,r){var n=e<<32-r|t>>>r;return n>>>0}st.rotr64_lo=LP;function UP(e,t,r){return e>>>r}st.shr64_hi=UP;function $P(e,t,r){var n=e<<32-r|t>>>r;return n>>>0}st.shr64_lo=$P;var Du={},_2=st,zP=da;function xh(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Du.BlockHash=xh;xh.prototype.update=function(t,r){if(t=_2.toArray(t,r),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){t=this.pending;var n=t.length%this._delta8;this.pending=t.slice(t.length-n,t.length),this.pending.length===0&&(this.pending=null),t=_2.join32(t,0,t.length-n,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this};xh.prototype.digest=function(t){return this.update(this._pad()),zP(this.pending===null),this._digest(t)};xh.prototype._pad=function(){var t=this.pendingTotal,r=this._delta8,n=r-(t+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var s=1;s<n;s++)i[s]=0;if(t<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=t>>>24&255,i[s++]=t>>>16&255,i[s++]=t>>>8&255,i[s++]=t&255}else for(i[s++]=t&255,i[s++]=t>>>8&255,i[s++]=t>>>16&255,i[s++]=t>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,o=8;o<this.padLength;o++)i[s++]=0;return i};var Tu={},Wi={},qP=st,Oi=qP.rotr32;function jP(e,t,r,n){if(e===0)return V4(t,r,n);if(e===1||e===3)return Y4(t,r,n);if(e===2)return W4(t,r,n)}Wi.ft_1=jP;function V4(e,t,r){return e&t^~e&r}Wi.ch32=V4;function W4(e,t,r){return e&t^e&r^t&r}Wi.maj32=W4;function Y4(e,t,r){return e^t^r}Wi.p32=Y4;function HP(e){return Oi(e,2)^Oi(e,13)^Oi(e,22)}Wi.s0_256=HP;function KP(e){return Oi(e,6)^Oi(e,11)^Oi(e,25)}Wi.s1_256=KP;function GP(e){return Oi(e,7)^Oi(e,18)^e>>>3}Wi.g0_256=GP;function VP(e){return Oi(e,17)^Oi(e,19)^e>>>10}Wi.g1_256=VP;var hu=st,WP=Du,YP=Wi,M0=hu.rotl32,tc=hu.sum32,QP=hu.sum32_5,JP=YP.ft_1,Q4=WP.BlockHash,XP=[1518500249,1859775393,2400959708,3395469782];function ji(){if(!(this instanceof ji))return new ji;Q4.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}hu.inherits(ji,Q4);var ZP=ji;ji.blockSize=512;ji.outSize=160;ji.hmacStrength=80;ji.padLength=64;ji.prototype._update=function(t,r){for(var n=this.W,i=0;i<16;i++)n[i]=t[r+i];for(;i<n.length;i++)n[i]=M0(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var s=this.h[0],o=this.h[1],a=this.h[2],u=this.h[3],c=this.h[4];for(i=0;i<n.length;i++){var f=~~(i/20),h=QP(M0(s,5),JP(f,o,a,u),c,n[i],XP[f]);c=u,u=a,a=M0(o,30),o=s,s=h}this.h[0]=tc(this.h[0],s),this.h[1]=tc(this.h[1],o),this.h[2]=tc(this.h[2],a),this.h[3]=tc(this.h[3],u),this.h[4]=tc(this.h[4],c)};ji.prototype._digest=function(t){return t==="hex"?hu.toHex32(this.h,"big"):hu.split32(this.h,"big")};var pu=st,eO=Du,Nu=Wi,tO=da,ei=pu.sum32,rO=pu.sum32_4,nO=pu.sum32_5,iO=Nu.ch32,sO=Nu.maj32,oO=Nu.s0_256,aO=Nu.s1_256,uO=Nu.g0_256,cO=Nu.g1_256,J4=eO.BlockHash,lO=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Hi(){if(!(this instanceof Hi))return new Hi;J4.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=lO,this.W=new Array(64)}pu.inherits(Hi,J4);var X4=Hi;Hi.blockSize=512;Hi.outSize=256;Hi.hmacStrength=192;Hi.padLength=64;Hi.prototype._update=function(t,r){for(var n=this.W,i=0;i<16;i++)n[i]=t[r+i];for(;i<n.length;i++)n[i]=rO(cO(n[i-2]),n[i-7],uO(n[i-15]),n[i-16]);var s=this.h[0],o=this.h[1],a=this.h[2],u=this.h[3],c=this.h[4],f=this.h[5],h=this.h[6],y=this.h[7];for(tO(this.k.length===n.length),i=0;i<n.length;i++){var v=nO(y,aO(c),iO(c,f,h),this.k[i],n[i]),w=ei(oO(s),sO(s,o,a));y=h,h=f,f=c,c=ei(u,v),u=a,a=o,o=s,s=ei(v,w)}this.h[0]=ei(this.h[0],s),this.h[1]=ei(this.h[1],o),this.h[2]=ei(this.h[2],a),this.h[3]=ei(this.h[3],u),this.h[4]=ei(this.h[4],c),this.h[5]=ei(this.h[5],f),this.h[6]=ei(this.h[6],h),this.h[7]=ei(this.h[7],y)};Hi.prototype._digest=function(t){return t==="hex"?pu.toHex32(this.h,"big"):pu.split32(this.h,"big")};var S1=st,Z4=X4;function Cs(){if(!(this instanceof Cs))return new Cs;Z4.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}S1.inherits(Cs,Z4);var fO=Cs;Cs.blockSize=512;Cs.outSize=224;Cs.hmacStrength=192;Cs.padLength=64;Cs.prototype._digest=function(t){return t==="hex"?S1.toHex32(this.h.slice(0,7),"big"):S1.split32(this.h.slice(0,7),"big")};var un=st,dO=Du,hO=da,ki=un.rotr64_hi,Fi=un.rotr64_lo,e5=un.shr64_hi,t5=un.shr64_lo,Bs=un.sum64,R0=un.sum64_hi,C0=un.sum64_lo,pO=un.sum64_4_hi,gO=un.sum64_4_lo,mO=un.sum64_5_hi,yO=un.sum64_5_lo,r5=dO.BlockHash,vO=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function gi(){if(!(this instanceof gi))return new gi;r5.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=vO,this.W=new Array(160)}un.inherits(gi,r5);var n5=gi;gi.blockSize=1024;gi.outSize=512;gi.hmacStrength=192;gi.padLength=128;gi.prototype._prepareBlock=function(t,r){for(var n=this.W,i=0;i<32;i++)n[i]=t[r+i];for(;i<n.length;i+=2){var s=CO(n[i-4],n[i-3]),o=DO(n[i-4],n[i-3]),a=n[i-14],u=n[i-13],c=MO(n[i-30],n[i-29]),f=RO(n[i-30],n[i-29]),h=n[i-32],y=n[i-31];n[i]=pO(s,o,a,u,c,f,h,y),n[i+1]=gO(s,o,a,u,c,f,h,y)}};gi.prototype._update=function(t,r){this._prepareBlock(t,r);var n=this.W,i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],u=this.h[4],c=this.h[5],f=this.h[6],h=this.h[7],y=this.h[8],v=this.h[9],w=this.h[10],C=this.h[11],N=this.h[12],T=this.h[13],x=this.h[14],O=this.h[15];hO(this.k.length===n.length);for(var k=0;k<n.length;k+=2){var L=x,$=O,E=IO(y,v),U=xO(y,v),Z=bO(y,v,w,C,N),ne=wO(y,v,w,C,N,T),q=this.k[k],b=this.k[k+1],l=n[k],d=n[k+1],m=mO(L,$,E,U,Z,ne,q,b,l,d),A=yO(L,$,E,U,Z,ne,q,b,l,d);L=SO(i,s),$=AO(i,s),E=EO(i,s,o,a,u),U=_O(i,s,o,a,u,c);var D=R0(L,$,E,U),R=C0(L,$,E,U);x=N,O=T,N=w,T=C,w=y,C=v,y=R0(f,h,m,A),v=C0(h,h,m,A),f=u,h=c,u=o,c=a,o=i,a=s,i=R0(m,A,D,R),s=C0(m,A,D,R)}Bs(this.h,0,i,s),Bs(this.h,2,o,a),Bs(this.h,4,u,c),Bs(this.h,6,f,h),Bs(this.h,8,y,v),Bs(this.h,10,w,C),Bs(this.h,12,N,T),Bs(this.h,14,x,O)};gi.prototype._digest=function(t){return t==="hex"?un.toHex32(this.h,"big"):un.split32(this.h,"big")};function bO(e,t,r,n,i){var s=e&r^~e&i;return s<0&&(s+=4294967296),s}function wO(e,t,r,n,i,s){var o=t&n^~t&s;return o<0&&(o+=4294967296),o}function EO(e,t,r,n,i){var s=e&r^e&i^r&i;return s<0&&(s+=4294967296),s}function _O(e,t,r,n,i,s){var o=t&n^t&s^n&s;return o<0&&(o+=4294967296),o}function SO(e,t){var r=ki(e,t,28),n=ki(t,e,2),i=ki(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function AO(e,t){var r=Fi(e,t,28),n=Fi(t,e,2),i=Fi(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function IO(e,t){var r=ki(e,t,14),n=ki(e,t,18),i=ki(t,e,9),s=r^n^i;return s<0&&(s+=4294967296),s}function xO(e,t){var r=Fi(e,t,14),n=Fi(e,t,18),i=Fi(t,e,9),s=r^n^i;return s<0&&(s+=4294967296),s}function MO(e,t){var r=ki(e,t,1),n=ki(e,t,8),i=e5(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function RO(e,t){var r=Fi(e,t,1),n=Fi(e,t,8),i=t5(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function CO(e,t){var r=ki(e,t,19),n=ki(t,e,29),i=e5(e,t,6),s=r^n^i;return s<0&&(s+=4294967296),s}function DO(e,t){var r=Fi(e,t,19),n=Fi(t,e,29),i=t5(e,t,6),s=r^n^i;return s<0&&(s+=4294967296),s}var A1=st,i5=n5;function Ds(){if(!(this instanceof Ds))return new Ds;i5.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}A1.inherits(Ds,i5);var TO=Ds;Ds.blockSize=1024;Ds.outSize=384;Ds.hmacStrength=192;Ds.padLength=128;Ds.prototype._digest=function(t){return t==="hex"?A1.toHex32(this.h.slice(0,12),"big"):A1.split32(this.h.slice(0,12),"big")};Tu.sha1=ZP;Tu.sha224=fO;Tu.sha256=X4;Tu.sha384=TO;Tu.sha512=n5;var s5={},ra=st,NO=Du,lf=ra.rotl32,S2=ra.sum32,rc=ra.sum32_3,A2=ra.sum32_4,o5=NO.BlockHash;function Ki(){if(!(this instanceof Ki))return new Ki;o5.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}ra.inherits(Ki,o5);s5.ripemd160=Ki;Ki.blockSize=512;Ki.outSize=160;Ki.hmacStrength=192;Ki.padLength=64;Ki.prototype._update=function(t,r){for(var n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],u=n,c=i,f=s,h=o,y=a,v=0;v<80;v++){var w=S2(lf(A2(n,I2(v,i,s,o),t[kO[v]+r],PO(v)),BO[v]),a);n=a,a=o,o=lf(s,10),s=i,i=w,w=S2(lf(A2(u,I2(79-v,c,f,h),t[FO[v]+r],OO(v)),LO[v]),y),u=y,y=h,h=lf(f,10),f=c,c=w}w=rc(this.h[1],s,h),this.h[1]=rc(this.h[2],o,y),this.h[2]=rc(this.h[3],a,u),this.h[3]=rc(this.h[4],n,c),this.h[4]=rc(this.h[0],i,f),this.h[0]=w};Ki.prototype._digest=function(t){return t==="hex"?ra.toHex32(this.h,"little"):ra.split32(this.h,"little")};function I2(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function PO(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function OO(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var kO=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],FO=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],BO=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],LO=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],UO=st,$O=da;function gu(e,t,r){if(!(this instanceof gu))return new gu(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(UO.toArray(t,r))}var zO=gu;gu.prototype._init=function(t){t.length>this.blockSize&&(t=new this.Hash().update(t).digest()),$O(t.length<=this.blockSize);for(var r=t.length;r<this.blockSize;r++)t.push(0);for(r=0;r<t.length;r++)t[r]^=54;for(this.inner=new this.Hash().update(t),r=0;r<t.length;r++)t[r]^=106;this.outer=new this.Hash().update(t)};gu.prototype.update=function(t,r){return this.inner.update(t,r),this};gu.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)};(function(e){var t=e;t.utils=st,t.common=Du,t.sha=Tu,t.ripemd=s5,t.hmac=zO,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160})(Ih);var D0,x2;function qO(){return x2||(x2=1,D0={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),D0}(function(e){var t=e,r=Ih,n=mm,i=Tn,s=i.assert;function o(c){c.type==="short"?this.curve=new n.short(c):c.type==="edwards"?this.curve=new n.edwards(c):this.curve=new n.mont(c),this.g=this.curve.g,this.n=this.curve.n,this.hash=c.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=o;function a(c,f){Object.defineProperty(t,c,{configurable:!0,enumerable:!0,get:function(){var h=new o(f);return Object.defineProperty(t,c,{configurable:!0,enumerable:!0,value:h}),h}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var u;try{u=qO()}catch{u=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",u]})})(Ah);var jO=Ih,jo=pm,a5=da;function co(e){if(!(this instanceof co))return new co(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=jo.toArray(e.entropy,e.entropyEnc||"hex"),r=jo.toArray(e.nonce,e.nonceEnc||"hex"),n=jo.toArray(e.pers,e.persEnc||"hex");a5(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var HO=co;co.prototype._init=function(t,r,n){var i=t.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};co.prototype._hmac=function(){return new jO.hmac(this.hash,this.K)};co.prototype._update=function(t){var r=this._hmac().update(this.V).update([0]);t&&(r=r.update(t)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())};co.prototype.reseed=function(t,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),t=jo.toArray(t,r),n=jo.toArray(n,i),a5(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(n||[])),this._reseed=1};co.prototype.generate=function(t,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=jo.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<t;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,t);return this._update(n),this._reseed++,jo.encode(o,r)};var KO=Ns,GO=Tn,I1=GO.assert;function Tr(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var VO=Tr;Tr.fromPublic=function(t,r,n){return r instanceof Tr?r:new Tr(t,{pub:r,pubEnc:n})};Tr.fromPrivate=function(t,r,n){return r instanceof Tr?r:new Tr(t,{priv:r,privEnc:n})};Tr.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Tr.prototype.getPublic=function(t,r){return typeof t=="string"&&(r=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,t):this.pub};Tr.prototype.getPrivate=function(t){return t==="hex"?this.priv.toString(16,2):this.priv};Tr.prototype._importPrivate=function(t,r){this.priv=new KO(t,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Tr.prototype._importPublic=function(t,r){if(t.x||t.y){this.ec.curve.type==="mont"?I1(t.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&I1(t.x&&t.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(t.x,t.y);return}this.pub=this.ec.curve.decodePoint(t,r)};Tr.prototype.derive=function(t){return t.validate()||I1(t.validate(),"public point not validated"),t.mul(this.priv).getX()};Tr.prototype.sign=function(t,r,n){return this.ec.sign(t,this,r,n)};Tr.prototype.verify=function(t,r){return this.ec.verify(t,r,this)};Tr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var xd=Ns,vm=Tn,WO=vm.assert;function Mh(e,t){if(e instanceof Mh)return e;this._importDER(e,t)||(WO(e.r&&e.s,"Signature without r or s"),this.r=new xd(e.r,16),this.s=new xd(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var YO=Mh;function QO(){this.place=0}function T0(e,t){var r=e[t.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||e[t.place]===0)return!1;for(var i=0,s=0,o=t.place;s<n;s++,o++)i<<=8,i|=e[o],i>>>=0;return i<=127?!1:(t.place=o,i)}function M2(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}Mh.prototype._importDER=function(t,r){t=vm.toArray(t,r);var n=new QO;if(t[n.place++]!==48)return!1;var i=T0(t,n);if(i===!1||i+n.place!==t.length||t[n.place++]!==2)return!1;var s=T0(t,n);if(s===!1||t[n.place]&128)return!1;var o=t.slice(n.place,s+n.place);if(n.place+=s,t[n.place++]!==2)return!1;var a=T0(t,n);if(a===!1||t.length!==a+n.place||t[n.place]&128)return!1;var u=t.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(u[0]===0)if(u[1]&128)u=u.slice(1);else return!1;return this.r=new xd(o),this.s=new xd(u),this.recoveryParam=null,!0};function N0(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}Mh.prototype.toDER=function(t){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=M2(r),n=M2(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];N0(i,r.length),i=i.concat(r),i.push(2),N0(i,n.length);var s=i.concat(n),o=[48];return N0(o,s.length),o=o.concat(s),vm.encode(o,t)};var Ho=Ns,u5=HO,JO=Tn,P0=Ah,XO=z4,c5=JO.assert,bm=VO,Rh=YO;function Yn(e){if(!(this instanceof Yn))return new Yn(e);typeof e=="string"&&(c5(Object.prototype.hasOwnProperty.call(P0,e),"Unknown curve "+e),e=P0[e]),e instanceof P0.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var ZO=Yn;Yn.prototype.keyPair=function(t){return new bm(this,t)};Yn.prototype.keyFromPrivate=function(t,r){return bm.fromPrivate(this,t,r)};Yn.prototype.keyFromPublic=function(t,r){return bm.fromPublic(this,t,r)};Yn.prototype.genKeyPair=function(t){t||(t={});for(var r=new u5({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||XO(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Ho(2));;){var s=new Ho(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Yn.prototype._truncateToN=function(t,r){var n=t.byteLength()*8-this.n.bitLength();return n>0&&(t=t.ushrn(n)),!r&&t.cmp(this.n)>=0?t.sub(this.n):t};Yn.prototype.sign=function(t,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),t=this._truncateToN(new Ho(t,16));for(var s=this.n.byteLength(),o=r.getPrivate().toArray("be",s),a=t.toArray("be",s),u=new u5({hash:this.hash,entropy:o,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"}),c=this.n.sub(new Ho(1)),f=0;;f++){var h=i.k?i.k(f):new Ho(u.generate(this.n.byteLength()));if(h=this._truncateToN(h,!0),!(h.cmpn(1)<=0||h.cmp(c)>=0)){var y=this.g.mul(h);if(!y.isInfinity()){var v=y.getX(),w=v.umod(this.n);if(w.cmpn(0)!==0){var C=h.invm(this.n).mul(w.mul(r.getPrivate()).iadd(t));if(C=C.umod(this.n),C.cmpn(0)!==0){var N=(y.getY().isOdd()?1:0)|(v.cmp(w)!==0?2:0);return i.canonical&&C.cmp(this.nh)>0&&(C=this.n.sub(C),N^=1),new Rh({r:w,s:C,recoveryParam:N})}}}}}};Yn.prototype.verify=function(t,r,n,i){t=this._truncateToN(new Ho(t,16)),n=this.keyFromPublic(n,i),r=new Rh(r,"hex");var s=r.r,o=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a=o.invm(this.n),u=a.mul(t).umod(this.n),c=a.mul(s).umod(this.n),f;return this.curve._maxwellTrick?(f=this.g.jmulAdd(u,n.getPublic(),c),f.isInfinity()?!1:f.eqXToP(s)):(f=this.g.mulAdd(u,n.getPublic(),c),f.isInfinity()?!1:f.getX().umod(this.n).cmp(s)===0)};Yn.prototype.recoverPubKey=function(e,t,r,n){c5((3&r)===r,"The recovery param is more than two bits"),t=new Rh(t,n);var i=this.n,s=new Ho(e),o=t.r,a=t.s,u=r&1,c=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?o=this.curve.pointFromX(o.add(this.curve.n),u):o=this.curve.pointFromX(o,u);var f=t.r.invm(i),h=i.sub(s).mul(f).umod(i),y=a.mul(f).umod(i);return this.g.mulAdd(h,o,y)};Yn.prototype.getKeyRecoveryParam=function(e,t,r,n){if(t=new Rh(t,n),t.recoveryParam!==null)return t.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(e,t,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var Ml=Tn,l5=Ml.assert,R2=Ml.parseBytes,Pu=Ml.cachedProperty;function fr(e,t){this.eddsa=e,this._secret=R2(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=R2(t.pub)}fr.fromPublic=function(t,r){return r instanceof fr?r:new fr(t,{pub:r})};fr.fromSecret=function(t,r){return r instanceof fr?r:new fr(t,{secret:r})};fr.prototype.secret=function(){return this._secret};Pu(fr,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});Pu(fr,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});Pu(fr,"privBytes",function(){var t=this.eddsa,r=this.hash(),n=t.encodingLength-1,i=r.slice(0,t.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});Pu(fr,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});Pu(fr,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});Pu(fr,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});fr.prototype.sign=function(t){return l5(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)};fr.prototype.verify=function(t,r){return this.eddsa.verify(t,r,this)};fr.prototype.getSecret=function(t){return l5(this._secret,"KeyPair is public only"),Ml.encode(this.secret(),t)};fr.prototype.getPublic=function(t){return Ml.encode(this.pubBytes(),t)};var ek=fr,tk=Ns,Ch=Tn,C2=Ch.assert,Dh=Ch.cachedProperty,rk=Ch.parseBytes;function ha(e,t){this.eddsa=e,typeof t!="object"&&(t=rk(t)),Array.isArray(t)&&(C2(t.length===e.encodingLength*2,"Signature has invalid size"),t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),C2(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof tk&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}Dh(ha,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});Dh(ha,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});Dh(ha,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});Dh(ha,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});ha.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};ha.prototype.toHex=function(){return Ch.encode(this.toBytes(),"hex").toUpperCase()};var nk=ha,ik=Ih,sk=Ah,mu=Tn,ok=mu.assert,f5=mu.parseBytes,d5=ek,D2=nk;function cn(e){if(ok(e==="ed25519","only tested with ed25519 so far"),!(this instanceof cn))return new cn(e);e=sk[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=ik.sha512}var ak=cn;cn.prototype.sign=function(t,r){t=f5(t);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),t),s=this.g.mul(i),o=this.encodePoint(s),a=this.hashInt(o,n.pubBytes(),t).mul(n.priv()),u=i.add(a).umod(this.curve.n);return this.makeSignature({R:s,S:u,Rencoded:o})};cn.prototype.verify=function(t,r,n){if(t=f5(t),r=this.makeSignature(r),r.S().gte(r.eddsa.curve.n)||r.S().isNeg())return!1;var i=this.keyFromPublic(n),s=this.hashInt(r.Rencoded(),i.pubBytes(),t),o=this.g.mul(r.S()),a=r.R().add(i.pub().mul(s));return a.eq(o)};cn.prototype.hashInt=function(){for(var t=this.hash(),r=0;r<arguments.length;r++)t.update(arguments[r]);return mu.intFromLE(t.digest()).umod(this.curve.n)};cn.prototype.keyFromPublic=function(t){return d5.fromPublic(this,t)};cn.prototype.keyFromSecret=function(t){return d5.fromSecret(this,t)};cn.prototype.makeSignature=function(t){return t instanceof D2?t:new D2(this,t)};cn.prototype.encodePoint=function(t){var r=t.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=t.getX().isOdd()?128:0,r};cn.prototype.decodePoint=function(t){t=mu.parseBytes(t);var r=t.length-1,n=t.slice(0,r).concat(t[r]&-129),i=(t[r]&128)!==0,s=mu.intFromLE(n);return this.curve.pointFromY(s,i)};cn.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)};cn.prototype.decodeInt=function(t){return mu.intFromLE(t)};cn.prototype.isPoint=function(t){return t instanceof this.pointClass};(function(e){var t=e;t.version=oP.version,t.utils=Tn,t.rand=z4,t.curve=mm,t.curves=Ah,t.ec=ZO,t.eddsa=ak})(dm);const uk={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var ck={};const lk=":";function O0(e){const[t,r]=e.split(lk);return{namespace:t,reference:r}}function h5(e,t){return e.includes(":")?[e]:t.chains||[]}var fk=Object.defineProperty,T2=Object.getOwnPropertySymbols,dk=Object.prototype.hasOwnProperty,hk=Object.prototype.propertyIsEnumerable,N2=(e,t,r)=>t in e?fk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,P2=(e,t)=>{for(var r in t||(t={}))dk.call(t,r)&&N2(e,r,t[r]);if(T2)for(var r of T2(t))hk.call(t,r)&&N2(e,r,t[r]);return e};const pk="ReactNative",En={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},gk="js";function Md(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Ou(){return!vh()&&!!am()&&navigator.product===pk}function Rl(){return!Md()&&!!am()&&!!vh()}function Cl(){return Ou()?En.reactNative:Md()?En.node:Rl()?En.browser:En.unknown}function mk(){var e;try{return Ou()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(e=global.Application)==null?void 0:e.applicationId:void 0}catch{return}}function yk(e,t){let r=ul.parse(e);return r=P2(P2({},r),t),e=ul.stringify(r),e}function p5(){return P4()||{name:"",description:"",url:"",icons:[""]}}function vk(){if(Cl()===En.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:r,Version:n}=global.Platform;return[r,n].join("-")}const e=lN();if(e===null)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return e.type==="browser"?[t,e.name,e.version].join("-"):[t,e.version].join("-")}function bk(){var e;const t=Cl();return t===En.browser?[t,((e=N4())==null?void 0:e.host)||"unknown"].join(":"):t}function g5(e,t,r){const n=vk(),i=bk();return[[e,t].join("-"),[gk,r].join("-"),n,i].join("/")}function wk({protocol:e,version:t,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a}){const u=r.split("?"),c=g5(e,t,n),f={auth:i,ua:c,projectId:s,useOnCloseEvent:o||void 0,origin:a||void 0},h=yk(u[1]||"",f);return u[0]+"?"+h}function Lo(e,t){return e.filter(r=>t.includes(r)).length===e.length}function m5(e){return Object.fromEntries(e.entries())}function y5(e){return new Map(Object.entries(e))}function Po(e=ye.FIVE_MINUTES,t){const r=ye.toMiliseconds(e||ye.FIVE_MINUTES);let n,i,s;return{resolve:o=>{s&&n&&(clearTimeout(s),n(o))},reject:o=>{s&&i&&(clearTimeout(s),i(o))},done:()=>new Promise((o,a)=>{s=setTimeout(()=>{a(new Error(t))},r),n=o,i=a})}}function eu(e,t,r){return new Promise(async(n,i)=>{const s=setTimeout(()=>i(new Error(r)),t);try{const o=await e;n(o)}catch(o){i(o)}clearTimeout(s)})}function v5(e,t){if(typeof t=="string"&&t.startsWith(`${e}:`))return t;if(e.toLowerCase()==="topic"){if(typeof t!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}else if(e.toLowerCase()==="id"){if(typeof t!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function Ek(e){return v5("topic",e)}function _k(e){return v5("id",e)}function b5(e){const[t,r]=e.split(":"),n={id:void 0,topic:void 0};if(t==="topic"&&typeof r=="string")n.topic=r;else if(t==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);return n}function Xt(e,t){return ye.fromMiliseconds(Date.now()+ye.toMiliseconds(e))}function zs(e){return Date.now()>=ye.toMiliseconds(e)}function tt(e,t){return`${e}${t?`:${t}`:""}`}function Sk(e=[],t=[]){return[...new Set([...e,...t])]}async function Ak({id:e,topic:t,wcDeepLink:r}){var n;try{if(!r)return;const i=typeof r=="string"?JSON.parse(r):r,s=i==null?void 0:i.href;if(typeof s!="string")return;const o=Ik(s,e,t),a=Cl();if(a===En.browser){if(!((n=vh())!=null&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}o.startsWith("https://")||o.startsWith("http://")?window.open(o,"_blank","noreferrer noopener"):window.open(o,Mk()?"_blank":"_self","noreferrer noopener")}else a===En.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(i){console.error(i)}}function Ik(e,t,r){const n=`requestId=${t}&sessionTopic=${r}`;e.endsWith("/")&&(e=e.slice(0,-1));let i=`${e}`;if(e.startsWith("https://t.me")){const s=e.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${Rk(n,!0)}`}else i=`${i}/wc?${n}`;return i}async function xk(e,t){let r="";try{if(Rl()&&(r=localStorage.getItem(t),r))return r;r=await e.getItem(t)}catch(n){console.error(n)}return r}function O2(e,t){if(!e.includes(t))return null;const r=e.split(/([&,?,=])/),n=r.indexOf(t);return r[n+2]}function k2(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function wm(){return typeof process<"u"&&ck.IS_VITEST==="true"}function Mk(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function Rk(e,t=!1){const r=Buffer.from(e).toString("base64");return t?r.replace(/[=]/g,""):r}function w5(e){return Buffer.from(e,"base64").toString("utf-8")}var E5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ck(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var _5={exports:{}};/**
* [js-sha3]{@link https://github.com/emn178/js-sha3}
*
* @version 0.8.0
* @author Chen, Yi-Cyuan [emn178@gmail.com]
* @copyright Chen, Yi-Cyuan 2015-2018
* @license MIT
*/(function(e){(function(){var t="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=E5:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&e.exports,u=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",c="0123456789abcdef".split(""),f=[31,7936,2031616,520093696],h=[4,1024,262144,67108864],y=[1,256,65536,16777216],v=[6,1536,393216,100663296],w=[0,8,16,24],C=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],N=[224,256,384,512],T=[128,256],x=["hex","buffer","arrayBuffer","array","digest"],O={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(P){return Object.prototype.toString.call(P)==="[object Array]"}),u&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(P){return typeof P=="object"&&P.buffer&&P.buffer.constructor===ArrayBuffer});for(var k=function(P,J,j){return function(K){return new B(P,J,P).update(K)[j]()}},L=function(P,J,j){return function(K,G){return new B(P,J,G).update(K)[j]()}},$=function(P,J,j){return function(K,G,S,H){return d["cshake"+P].update(K,G,S,H)[j]()}},E=function(P,J,j){return function(K,G,S,H){return d["kmac"+P].update(K,G,S,H)[j]()}},U=function(P,J,j,K){for(var G=0;G<x.length;++G){var S=x[G];P[S]=J(j,K,S)}return P},Z=function(P,J){var j=k(P,J,"hex");return j.create=function(){return new B(P,J,P)},j.update=function(K){return j.create().update(K)},U(j,k,P,J)},ne=function(P,J){var j=L(P,J,"hex");return j.create=function(K){return new B(P,J,K)},j.update=function(K,G){return j.create(G).update(K)},U(j,L,P,J)},q=function(P,J){var j=O[P],K=$(P,J,"hex");return K.create=function(G,S,H){return!S&&!H?d["shake"+P].create(G):new B(P,J,G).bytepad([S,H],j)},K.update=function(G,S,H,re){return K.create(S,H,re).update(G)},U(K,$,P,J)},b=function(P,J){var j=O[P],K=E(P,J,"hex");return K.create=function(G,S,H){return new Y(P,J,S).bytepad(["KMAC",H],j).bytepad([G],j)},K.update=function(G,S,H,re){return K.create(G,H,re).update(S)},U(K,E,P,J)},l=[{name:"keccak",padding:y,bits:N,createMethod:Z},{name:"sha3",padding:v,bits:N,createMethod:Z},{name:"shake",padding:f,bits:T,createMethod:ne},{name:"cshake",padding:h,bits:T,createMethod:q},{name:"kmac",padding:h,bits:T,createMethod:b}],d={},m=[],A=0;A<l.length;++A)for(var D=l[A],R=D.bits,I=0;I<R.length;++I){var p=D.name+"_"+R[I];if(m.push(p),d[p]=D.createMethod(R[I],D.padding),D.name!=="sha3"){var g=D.name+R[I];m.push(g),d[g]=d[p]}}function B(P,J,j){this.blocks=[],this.s=[],this.padding=J,this.outputBits=j,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(P<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=j>>5,this.extraBytes=(j&31)>>3;for(var K=0;K<50;++K)this.s[K]=0}B.prototype.update=function(P){if(this.finalized)throw new Error(r);var J,j=typeof P;if(j!=="string"){if(j==="object"){if(P===null)throw new Error(t);if(u&&P.constructor===ArrayBuffer)P=new Uint8Array(P);else if(!Array.isArray(P)&&(!u||!ArrayBuffer.isView(P)))throw new Error(t)}else throw new Error(t);J=!0}for(var K=this.blocks,G=this.byteCount,S=P.length,H=this.blockCount,re=0,ie=this.s,ae,pe;re<S;){if(this.reset)for(this.reset=!1,K[0]=this.block,ae=1;ae<H+1;++ae)K[ae]=0;if(J)for(ae=this.start;re<S&&ae<G;++re)K[ae>>2]|=P[re]<<w[ae++&3];else for(ae=this.start;re<S&&ae<G;++re)pe=P.charCodeAt(re),pe<128?K[ae>>2]|=pe<<w[ae++&3]:pe<2048?(K[ae>>2]|=(192|pe>>6)<<w[ae++&3],K[ae>>2]|=(128|pe&63)<<w[ae++&3]):pe<55296||pe>=57344?(K[ae>>2]|=(224|pe>>12)<<w[ae++&3],K[ae>>2]|=(128|pe>>6&63)<<w[ae++&3],K[ae>>2]|=(128|pe&63)<<w[ae++&3]):(pe=65536+((pe&1023)<<10|P.charCodeAt(++re)&1023),K[ae>>2]|=(240|pe>>18)<<w[ae++&3],K[ae>>2]|=(128|pe>>12&63)<<w[ae++&3],K[ae>>2]|=(128|pe>>6&63)<<w[ae++&3],K[ae>>2]|=(128|pe&63)<<w[ae++&3]);if(this.lastByteIndex=ae,ae>=G){for(this.start=ae-G,this.block=K[H],ae=0;ae<H;++ae)ie[ae]^=K[ae];te(ie),this.reset=!0}else this.start=ae}return this},B.prototype.encode=function(P,J){var j=P&255,K=1,G=[j];for(P=P>>8,j=P&255;j>0;)G.unshift(j),P=P>>8,j=P&255,++K;return J?G.push(K):G.unshift(K),this.update(G),G.length},B.prototype.encodeString=function(P){var J,j=typeof P;if(j!=="string"){if(j==="object"){if(P===null)throw new Error(t);if(u&&P.constructor===ArrayBuffer)P=new Uint8Array(P);else if(!Array.isArray(P)&&(!u||!ArrayBuffer.isView(P)))throw new Error(t)}else throw new Error(t);J=!0}var K=0,G=P.length;if(J)K=G;else for(var S=0;S<P.length;++S){var H=P.charCodeAt(S);H<128?K+=1:H<2048?K+=2:H<55296||H>=57344?K+=3:(H=65536+((H&1023)<<10|P.charCodeAt(++S)&1023),K+=4)}return K+=this.encode(K*8),this.update(P),K},B.prototype.bytepad=function(P,J){for(var j=this.encode(J),K=0;K<P.length;++K)j+=this.encodeString(P[K]);var G=J-j%J,S=[];return S.length=G,this.update(S),this},B.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var P=this.blocks,J=this.lastByteIndex,j=this.blockCount,K=this.s;if(P[J>>2]|=this.padding[J&3],this.lastByteIndex===this.byteCount)for(P[0]=P[j],J=1;J<j+1;++J)P[J]=0;for(P[j-1]|=2147483648,J=0;J<j;++J)K[J]^=P[J];te(K)}},B.prototype.toString=B.prototype.hex=function(){this.finalize();for(var P=this.blockCount,J=this.s,j=this.outputBlocks,K=this.extraBytes,G=0,S=0,H="",re;S<j;){for(G=0;G<P&&S<j;++G,++S)re=J[G],H+=c[re>>4&15]+c[re&15]+c[re>>12&15]+c[re>>8&15]+c[re>>20&15]+c[re>>16&15]+c[re>>28&15]+c[re>>24&15];S%P===0&&(te(J),G=0)}return K&&(re=J[G],H+=c[re>>4&15]+c[re&15],K>1&&(H+=c[re>>12&15]+c[re>>8&15]),K>2&&(H+=c[re>>20&15]+c[re>>16&15])),H},B.prototype.arrayBuffer=function(){this.finalize();var P=this.blockCount,J=this.s,j=this.outputBlocks,K=this.extraBytes,G=0,S=0,H=this.outputBits>>3,re;K?re=new ArrayBuffer(j+1<<2):re=new ArrayBuffer(H);for(var ie=new Uint32Array(re);S<j;){for(G=0;G<P&&S<j;++G,++S)ie[S]=J[G];S%P===0&&te(J)}return K&&(ie[G]=J[G],re=re.slice(0,H)),re},B.prototype.buffer=B.prototype.arrayBuffer,B.prototype.digest=B.prototype.array=function(){this.finalize();for(var P=this.blockCount,J=this.s,j=this.outputBlocks,K=this.extraBytes,G=0,S=0,H=[],re,ie;S<j;){for(G=0;G<P&&S<j;++G,++S)re=S<<2,ie=J[G],H[re]=ie&255,H[re+1]=ie>>8&255,H[re+2]=ie>>16&255,H[re+3]=ie>>24&255;S%P===0&&te(J)}return K&&(re=S<<2,ie=J[G],H[re]=ie&255,K>1&&(H[re+1]=ie>>8&255),K>2&&(H[re+2]=ie>>16&255)),H};function Y(P,J,j){B.call(this,P,J,j)}Y.prototype=new B,Y.prototype.finalize=function(){return this.encode(this.outputBits,!0),B.prototype.finalize.call(this)};var te=function(P){var J,j,K,G,S,H,re,ie,ae,pe,de,Oe,Le,ve,xe,Ee,le,we,_e,ce,be,F,_,M,z,W,Q,ee,oe,he,Ce,me,De,Je,ke,at,ut,Se,Ue,ze,Ae,qe,$e,Te,Ke,Ge,Ne,Ve,je,Ie,Fe,We,Pe,ft,dt,He,et,Kr,Gr,Vr,Wr,Yr,Gt;for(K=0;K<48;K+=2)G=P[0]^P[10]^P[20]^P[30]^P[40],S=P[1]^P[11]^P[21]^P[31]^P[41],H=P[2]^P[12]^P[22]^P[32]^P[42],re=P[3]^P[13]^P[23]^P[33]^P[43],ie=P[4]^P[14]^P[24]^P[34]^P[44],ae=P[5]^P[15]^P[25]^P[35]^P[45],pe=P[6]^P[16]^P[26]^P[36]^P[46],de=P[7]^P[17]^P[27]^P[37]^P[47],Oe=P[8]^P[18]^P[28]^P[38]^P[48],Le=P[9]^P[19]^P[29]^P[39]^P[49],J=Oe^(H<<1|re>>>31),j=Le^(re<<1|H>>>31),P[0]^=J,P[1]^=j,P[10]^=J,P[11]^=j,P[20]^=J,P[21]^=j,P[30]^=J,P[31]^=j,P[40]^=J,P[41]^=j,J=G^(ie<<1|ae>>>31),j=S^(ae<<1|ie>>>31),P[2]^=J,P[3]^=j,P[12]^=J,P[13]^=j,P[22]^=J,P[23]^=j,P[32]^=J,P[33]^=j,P[42]^=J,P[43]^=j,J=H^(pe<<1|de>>>31),j=re^(de<<1|pe>>>31),P[4]^=J,P[5]^=j,P[14]^=J,P[15]^=j,P[24]^=J,P[25]^=j,P[34]^=J,P[35]^=j,P[44]^=J,P[45]^=j,J=ie^(Oe<<1|Le>>>31),j=ae^(Le<<1|Oe>>>31),P[6]^=J,P[7]^=j,P[16]^=J,P[17]^=j,P[26]^=J,P[27]^=j,P[36]^=J,P[37]^=j,P[46]^=J,P[47]^=j,J=pe^(G<<1|S>>>31),j=de^(S<<1|G>>>31),P[8]^=J,P[9]^=j,P[18]^=J,P[19]^=j,P[28]^=J,P[29]^=j,P[38]^=J,P[39]^=j,P[48]^=J,P[49]^=j,ve=P[0],xe=P[1],Ge=P[11]<<4|P[10]>>>28,Ne=P[10]<<4|P[11]>>>28,ee=P[20]<<3|P[21]>>>29,oe=P[21]<<3|P[20]>>>29,Vr=P[31]<<9|P[30]>>>23,Wr=P[30]<<9|P[31]>>>23,qe=P[40]<<18|P[41]>>>14,$e=P[41]<<18|P[40]>>>14,Je=P[2]<<1|P[3]>>>31,ke=P[3]<<1|P[2]>>>31,Ee=P[13]<<12|P[12]>>>20,le=P[12]<<12|P[13]>>>20,Ve=P[22]<<10|P[23]>>>22,je=P[23]<<10|P[22]>>>22,he=P[33]<<13|P[32]>>>19,Ce=P[32]<<13|P[33]>>>19,Yr=P[42]<<2|P[43]>>>30,Gt=P[43]<<2|P[42]>>>30,ft=P[5]<<30|P[4]>>>2,dt=P[4]<<30|P[5]>>>2,at=P[14]<<6|P[15]>>>26,ut=P[15]<<6|P[14]>>>26,we=P[25]<<11|P[24]>>>21,_e=P[24]<<11|P[25]>>>21,Ie=P[34]<<15|P[35]>>>17,Fe=P[35]<<15|P[34]>>>17,me=P[45]<<29|P[44]>>>3,De=P[44]<<29|P[45]>>>3,M=P[6]<<28|P[7]>>>4,z=P[7]<<28|P[6]>>>4,He=P[17]<<23|P[16]>>>9,et=P[16]<<23|P[17]>>>9,Se=P[26]<<25|P[27]>>>7,Ue=P[27]<<25|P[26]>>>7,ce=P[36]<<21|P[37]>>>11,be=P[37]<<21|P[36]>>>11,We=P[47]<<24|P[46]>>>8,Pe=P[46]<<24|P[47]>>>8,Te=P[8]<<27|P[9]>>>5,Ke=P[9]<<27|P[8]>>>5,W=P[18]<<20|P[19]>>>12,Q=P[19]<<20|P[18]>>>12,Kr=P[29]<<7|P[28]>>>25,Gr=P[28]<<7|P[29]>>>25,ze=P[38]<<8|P[39]>>>24,Ae=P[39]<<8|P[38]>>>24,F=P[48]<<14|P[49]>>>18,_=P[49]<<14|P[48]>>>18,P[0]=ve^~Ee&we,P[1]=xe^~le&_e,P[10]=M^~W&ee,P[11]=z^~Q&oe,P[20]=Je^~at&Se,P[21]=ke^~ut&Ue,P[30]=Te^~Ge&Ve,P[31]=Ke^~Ne&je,P[40]=ft^~He&Kr,P[41]=dt^~et&Gr,P[2]=Ee^~we&ce,P[3]=le^~_e&be,P[12]=W^~ee&he,P[13]=Q^~oe&Ce,P[22]=at^~Se&ze,P[23]=ut^~Ue&Ae,P[32]=Ge^~Ve&Ie,P[33]=Ne^~je&Fe,P[42]=He^~Kr&Vr,P[43]=et^~Gr&Wr,P[4]=we^~ce&F,P[5]=_e^~be&_,P[14]=ee^~he&me,P[15]=oe^~Ce&De,P[24]=Se^~ze&qe,P[25]=Ue^~Ae&$e,P[34]=Ve^~Ie&We,P[35]=je^~Fe&Pe,P[44]=Kr^~Vr&Yr,P[45]=Gr^~Wr&Gt,P[6]=ce^~F&ve,P[7]=be^~_&xe,P[16]=he^~me&M,P[17]=Ce^~De&z,P[26]=ze^~qe&Je,P[27]=Ae^~$e&ke,P[36]=Ie^~We&Te,P[37]=Fe^~Pe&Ke,P[46]=Vr^~Yr&ft,P[47]=Wr^~Gt&dt,P[8]=F^~ve&Ee,P[9]=_^~xe&le,P[18]=me^~M&W,P[19]=De^~z&Q,P[28]=qe^~Je&at,P[29]=$e^~ke&ut,P[38]=We^~Te&Ge,P[39]=Pe^~Ke&Ne,P[48]=Yr^~ft&He,P[49]=Gt^~dt&et,P[0]^=C[K],P[1]^=C[K+1]};if(a)e.exports=d;else for(A=0;A<m.length;++A)i[m[A]]=d[m[A]]})()})(_5);var Dk=_5.exports;const Tk="logger/5.7.0";let F2=!1,B2=!1;const Uf={debug:1,default:2,info:2,warning:3,error:4,off:5};let L2=Uf.default,k0=null;function Nk(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test".normalize(t)!=="test")throw new Error("bad normalize")}catch{e.push(t)}}),e.length)throw new Error("missing "+e.join(", "));if("é".normalize("NFD")!=="é")throw new Error("broken implementation")}catch(e){return e.message}return null}const U2=Nk();var x1;(function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"})(x1||(x1={}));var oi;(function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"})(oi||(oi={}));const $2="0123456789abcdef";let vr=class Jt{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,r){const n=t.toLowerCase();Uf[n]==null&&this.throwArgumentError("invalid log level name","logLevel",t),!(L2>Uf[n])&&console.log.apply(console,r)}debug(...t){this._log(Jt.levels.DEBUG,t)}info(...t){this._log(Jt.levels.INFO,t)}warn(...t){this._log(Jt.levels.WARNING,t)}makeError(t,r,n){if(B2)return this.makeError("censored error",r,{});r||(r=Jt.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(u=>{const c=n[u];try{if(c instanceof Uint8Array){let f="";for(let h=0;h<c.length;h++)f+=$2[c[h]>>4],f+=$2[c[h]&15];i.push(u+"=Uint8Array(0x"+f+")")}else i.push(u+"="+JSON.stringify(c))}catch{i.push(u+"="+JSON.stringify(n[u].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=t;let o="";switch(r){case oi.NUMERIC_FAULT:{o="NUMERIC_FAULT";const u=t;switch(u){case"overflow":case"underflow":case"division-by-zero":o+="-"+u;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case oi.CALL_EXCEPTION:case oi.INSUFFICIENT_FUNDS:case oi.MISSING_NEW:case oi.NONCE_EXPIRED:case oi.REPLACEMENT_UNDERPRICED:case oi.TRANSACTION_REPLACED:case oi.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(t+=" ("+i.join(", ")+")");const a=new Error(t);return a.reason=s,a.code=r,Object.keys(n).forEach(function(u){a[u]=n[u]}),a}throwError(t,r,n){throw this.makeError(t,r,n)}throwArgumentError(t,r,n){return this.throwError(t,Jt.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(t,r,n,i){t||this.throwError(r,n,i)}assertArgument(t,r,n,i){t||this.throwArgumentError(r,n,i)}checkNormalize(t){U2&&this.throwError("platform missing String.prototype.normalize",Jt.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:U2})}checkSafeUint53(t,r){typeof t=="number"&&(r==null&&(r="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(r,Jt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(r,Jt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,r,n){n?n=": "+n:n="",t<r&&this.throwError("missing argument"+n,Jt.errors.MISSING_ARGUMENT,{count:t,expectedCount:r}),t>r&&this.throwError("too many arguments"+n,Jt.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:r})}checkNew(t,r){(t===Object||t==null)&&this.throwError("missing new",Jt.errors.MISSING_NEW,{name:r.name})}checkAbstract(t,r){t===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Jt.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||t==null)&&this.throwError("missing new",Jt.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return k0||(k0=new Jt(Tk)),k0}static setCensorship(t,r){if(!t&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Jt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),F2){if(!t)return;this.globalLogger().throwError("error censorship permanent",Jt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}B2=!!t,F2=!!r}static setLogLevel(t){const r=Uf[t.toLowerCase()];if(r==null){Jt.globalLogger().warn("invalid log level - "+t);return}L2=r}static from(t){return new Jt(t)}};vr.errors=oi,vr.levels=x1;const Pk="bytes/5.7.0",jt=new vr(Pk);function S5(e){return!!e.toHexString}function tu(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return tu(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function Ok(e){return Sn(e)&&!(e.length%2)||ku(e)}function z2(e){return typeof e=="number"&&e==e&&e%1===0}function ku(e){if(e==null)return!1;if(e.constructor===Uint8Array)return!0;if(typeof e=="string"||!z2(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!z2(r)||r<0||r>=256)return!1}return!0}function $t(e,t){if(t||(t={}),typeof e=="number"){jt.checkSafeUint53(e,"invalid arrayify value");const r=[];for(;e;)r.unshift(e&255),e=parseInt(String(e/256));return r.length===0&&r.push(0),tu(new Uint8Array(r))}if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),S5(e)&&(e=e.toHexString()),Sn(e)){let r=e.substring(2);r.length%2&&(t.hexPad==="left"?r="0"+r:t.hexPad==="right"?r+="0":jt.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return tu(new Uint8Array(n))}return ku(e)?tu(new Uint8Array(e)):jt.throwArgumentError("invalid arrayify value","value",e)}function kk(e){const t=e.map(i=>$t(i)),r=t.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return t.reduce((i,s)=>(n.set(s,i),i+s.length),0),tu(n)}function Fk(e,t){e=$t(e),e.length>t&&jt.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(t);return r.set(e,t-e.length),tu(r)}function Sn(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}const F0="0123456789abcdef";function en(e,t){if(t||(t={}),typeof e=="number"){jt.checkSafeUint53(e,"invalid hexlify value");let r="";for(;e;)r=F0[e&15]+r,e=Math.floor(e/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof e=="bigint")return e=e.toString(16),e.length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),S5(e))return e.toHexString();if(Sn(e))return e.length%2&&(t.hexPad==="left"?e="0x0"+e.substring(2):t.hexPad==="right"?e+="0":jt.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(ku(e)){let r="0x";for(let n=0;n<e.length;n++){let i=e[n];r+=F0[(i&240)>>4]+F0[i&15]}return r}return jt.throwArgumentError("invalid hexlify value","value",e)}function Bk(e){if(typeof e!="string")e=en(e);else if(!Sn(e)||e.length%2)return null;return(e.length-2)/2}function q2(e,t,r){return typeof e!="string"?e=en(e):(!Sn(e)||e.length%2)&&jt.throwArgumentError("invalid hexData","value",e),t=2+2*t,r!=null?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function Bi(e,t){for(typeof e!="string"?e=en(e):Sn(e)||jt.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&jt.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function A5(e){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Ok(e)){let r=$t(e);r.length===64?(t.v=27+(r[32]>>7),r[32]&=127,t.r=en(r.slice(0,32)),t.s=en(r.slice(32,64))):r.length===65?(t.r=en(r.slice(0,32)),t.s=en(r.slice(32,64)),t.v=r[64]):jt.throwArgumentError("invalid signature string","signature",e),t.v<27&&(t.v===0||t.v===1?t.v+=27:jt.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=en(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,t._vs!=null){const i=Fk($t(t._vs),32);t._vs=en(i);const s=i[0]>=128?1:0;t.recoveryParam==null?t.recoveryParam=s:t.recoveryParam!==s&&jt.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),i[0]&=127;const o=en(i);t.s==null?t.s=o:t.s!==o&&jt.throwArgumentError("signature v mismatch _vs","signature",e)}if(t.recoveryParam==null)t.v==null?jt.throwArgumentError("signature missing v and recoveryParam","signature",e):t.v===0||t.v===1?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(t.v==null)t.v=27+t.recoveryParam;else{const i=t.v===0||t.v===1?t.v:1-t.v%2;t.recoveryParam!==i&&jt.throwArgumentError("signature recoveryParam mismatch v","signature",e)}t.r==null||!Sn(t.r)?jt.throwArgumentError("signature missing or invalid r","signature",e):t.r=Bi(t.r,32),t.s==null||!Sn(t.s)?jt.throwArgumentError("signature missing or invalid s","signature",e):t.s=Bi(t.s,32);const r=$t(t.s);r[0]>=128&&jt.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(r[0]|=128);const n=en(r);t._vs&&(Sn(t._vs)||jt.throwArgumentError("signature invalid _vs","signature",e),t._vs=Bi(t._vs,32)),t._vs==null?t._vs=n:t._vs!==n&&jt.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}function Em(e){return"0x"+Dk.keccak_256($t(e))}var I5={exports:{}},Lk={},Uk=Object.freeze({__proto__:null,default:Lk}),$k=Ck(Uk);(function(e){(function(t,r){function n(l,d){if(!l)throw new Error(d||"Assertion failed")}function i(l,d){l.super_=d;var m=function(){};m.prototype=d.prototype,l.prototype=new m,l.prototype.constructor=l}function s(l,d,m){if(s.isBN(l))return l;this.negative=0,this.words=null,this.length=0,this.red=null,l!==null&&((d==="le"||d==="be")&&(m=d,d=10),this._init(l||0,d||10,m||"be"))}typeof t=="object"?t.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=$k.Buffer}catch{}s.isBN=function(l){return l instanceof s?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===s.wordSize&&Array.isArray(l.words)},s.max=function(l,d){return l.cmp(d)>0?l:d},s.min=function(l,d){return l.cmp(d)<0?l:d},s.prototype._init=function(l,d,m){if(typeof l=="number")return this._initNumber(l,d,m);if(typeof l=="object")return this._initArray(l,d,m);d==="hex"&&(d=16),n(d===(d|0)&&d>=2&&d<=36),l=l.toString().replace(/\s+/g,"");var A=0;l[0]==="-"&&(A++,this.negative=1),A<l.length&&(d===16?this._parseHex(l,A,m):(this._parseBase(l,d,A),m==="le"&&this._initArray(this.toArray(),d,m)))},s.prototype._initNumber=function(l,d,m){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(n(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),d,m)},s.prototype._initArray=function(l,d,m){if(n(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var D,R,I=0;if(m==="be")for(A=l.length-1,D=0;A>=0;A-=3)R=l[A]|l[A-1]<<8|l[A-2]<<16,this.words[D]|=R<<I&67108863,this.words[D+1]=R>>>26-I&67108863,I+=24,I>=26&&(I-=26,D++);else if(m==="le")for(A=0,D=0;A<l.length;A+=3)R=l[A]|l[A+1]<<8|l[A+2]<<16,this.words[D]|=R<<I&67108863,this.words[D+1]=R>>>26-I&67108863,I+=24,I>=26&&(I-=26,D++);return this._strip()};function a(l,d){var m=l.charCodeAt(d);if(m>=48&&m<=57)return m-48;if(m>=65&&m<=70)return m-55;if(m>=97&&m<=102)return m-87;n(!1,"Invalid character in "+l)}function u(l,d,m){var A=a(l,m);return m-1>=d&&(A|=a(l,m-1)<<4),A}s.prototype._parseHex=function(l,d,m){this.length=Math.ceil((l.length-d)/6),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var D=0,R=0,I;if(m==="be")for(A=l.length-1;A>=d;A-=2)I=u(l,d,A)<<D,this.words[R]|=I&67108863,D>=18?(D-=18,R+=1,this.words[R]|=I>>>26):D+=8;else{var p=l.length-d;for(A=p%2===0?d+1:d;A<l.length;A+=2)I=u(l,d,A)<<D,this.words[R]|=I&67108863,D>=18?(D-=18,R+=1,this.words[R]|=I>>>26):D+=8}this._strip()};function c(l,d,m,A){for(var D=0,R=0,I=Math.min(l.length,m),p=d;p<I;p++){var g=l.charCodeAt(p)-48;D*=A,g>=49?R=g-49+10:g>=17?R=g-17+10:R=g,n(g>=0&&R<A,"Invalid character"),D+=R}return D}s.prototype._parseBase=function(l,d,m){this.words=[0],this.length=1;for(var A=0,D=1;D<=67108863;D*=d)A++;A--,D=D/d|0;for(var R=l.length-m,I=R%A,p=Math.min(R,R-I)+m,g=0,B=m;B<p;B+=A)g=c(l,B,B+A,d),this.imuln(D),this.words[0]+g<67108864?this.words[0]+=g:this._iaddn(g);if(I!==0){var Y=1;for(g=c(l,B,l.length,d),B=0;B<I;B++)Y*=d;this.imuln(Y),this.words[0]+g<67108864?this.words[0]+=g:this._iaddn(g)}this._strip()},s.prototype.copy=function(l){l.words=new Array(this.length);for(var d=0;d<this.length;d++)l.words[d]=this.words[d];l.length=this.length,l.negative=this.negative,l.red=this.red};function f(l,d){l.words=d.words,l.length=d.length,l.negative=d.negative,l.red=d.red}if(s.prototype._move=function(l){f(l,this)},s.prototype.clone=function(){var l=new s(null);return this.copy(l),l},s.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch{s.prototype.inspect=h}else s.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(l,d){l=l||10,d=d|0||1;var m;if(l===16||l==="hex"){m="";for(var A=0,D=0,R=0;R<this.length;R++){var I=this.words[R],p=((I<<A|D)&16777215).toString(16);D=I>>>24-A&16777215,A+=2,A>=26&&(A-=26,R--),D!==0||R!==this.length-1?m=y[6-p.length]+p+m:m=p+m}for(D!==0&&(m=D.toString(16)+m);m.length%d!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(l===(l|0)&&l>=2&&l<=36){var g=v[l],B=w[l];m="";var Y=this.clone();for(Y.negative=0;!Y.isZero();){var te=Y.modrn(B).toString(l);Y=Y.idivn(B),Y.isZero()?m=te+m:m=y[g-te.length]+te+m}for(this.isZero()&&(m="0"+m);m.length%d!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(l,d){return this.toArrayLike(o,l,d)}),s.prototype.toArray=function(l,d){return this.toArrayLike(Array,l,d)};var C=function(l,d){return l.allocUnsafe?l.allocUnsafe(d):new l(d)};s.prototype.toArrayLike=function(l,d,m){this._strip();var A=this.byteLength(),D=m||Math.max(1,A);n(A<=D,"byte array longer than desired length"),n(D>0,"Requested array length <= 0");var R=C(l,D),I=d==="le"?"LE":"BE";return this["_toArrayLike"+I](R,A),R},s.prototype._toArrayLikeLE=function(l,d){for(var m=0,A=0,D=0,R=0;D<this.length;D++){var I=this.words[D]<<R|A;l[m++]=I&255,m<l.length&&(l[m++]=I>>8&255),m<l.length&&(l[m++]=I>>16&255),R===6?(m<l.length&&(l[m++]=I>>24&255),A=0,R=0):(A=I>>>24,R+=2)}if(m<l.length)for(l[m++]=A;m<l.length;)l[m++]=0},s.prototype._toArrayLikeBE=function(l,d){for(var m=l.length-1,A=0,D=0,R=0;D<this.length;D++){var I=this.words[D]<<R|A;l[m--]=I&255,m>=0&&(l[m--]=I>>8&255),m>=0&&(l[m--]=I>>16&255),R===6?(m>=0&&(l[m--]=I>>24&255),A=0,R=0):(A=I>>>24,R+=2)}if(m>=0)for(l[m--]=A;m>=0;)l[m--]=0},Math.clz32?s.prototype._countBits=function(l){return 32-Math.clz32(l)}:s.prototype._countBits=function(l){var d=l,m=0;return d>=4096&&(m+=13,d>>>=13),d>=64&&(m+=7,d>>>=7),d>=8&&(m+=4,d>>>=4),d>=2&&(m+=2,d>>>=2),m+d},s.prototype._zeroBits=function(l){if(l===0)return 26;var d=l,m=0;return d&8191||(m+=13,d>>>=13),d&127||(m+=7,d>>>=7),d&15||(m+=4,d>>>=4),d&3||(m+=2,d>>>=2),d&1||m++,m},s.prototype.bitLength=function(){var l=this.words[this.length-1],d=this._countBits(l);return(this.length-1)*26+d};function N(l){for(var d=new Array(l.bitLength()),m=0;m<d.length;m++){var A=m/26|0,D=m%26;d[m]=l.words[A]>>>D&1}return d}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,d=0;d<this.length;d++){var m=this._zeroBits(this.words[d]);if(l+=m,m!==26)break}return l},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},s.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var d=0;d<l.length;d++)this.words[d]=this.words[d]|l.words[d];return this._strip()},s.prototype.ior=function(l){return n((this.negative|l.negative)===0),this.iuor(l)},s.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},s.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},s.prototype.iuand=function(l){var d;this.length>l.length?d=l:d=this;for(var m=0;m<d.length;m++)this.words[m]=this.words[m]&l.words[m];return this.length=d.length,this._strip()},s.prototype.iand=function(l){return n((this.negative|l.negative)===0),this.iuand(l)},s.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},s.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},s.prototype.iuxor=function(l){var d,m;this.length>l.length?(d=this,m=l):(d=l,m=this);for(var A=0;A<m.length;A++)this.words[A]=d.words[A]^m.words[A];if(this!==d)for(;A<d.length;A++)this.words[A]=d.words[A];return this.length=d.length,this._strip()},s.prototype.ixor=function(l){return n((this.negative|l.negative)===0),this.iuxor(l)},s.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},s.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},s.prototype.inotn=function(l){n(typeof l=="number"&&l>=0);var d=Math.ceil(l/26)|0,m=l%26;this._expand(d),m>0&&d--;for(var A=0;A<d;A++)this.words[A]=~this.words[A]&67108863;return m>0&&(this.words[A]=~this.words[A]&67108863>>26-m),this._strip()},s.prototype.notn=function(l){return this.clone().inotn(l)},s.prototype.setn=function(l,d){n(typeof l=="number"&&l>=0);var m=l/26|0,A=l%26;return this._expand(m+1),d?this.words[m]=this.words[m]|1<<A:this.words[m]=this.words[m]&~(1<<A),this._strip()},s.prototype.iadd=function(l){var d;if(this.negative!==0&&l.negative===0)return this.negative=0,d=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,d=this.isub(l),l.negative=1,d._normSign();var m,A;this.length>l.length?(m=this,A=l):(m=l,A=this);for(var D=0,R=0;R<A.length;R++)d=(m.words[R]|0)+(A.words[R]|0)+D,this.words[R]=d&67108863,D=d>>>26;for(;D!==0&&R<m.length;R++)d=(m.words[R]|0)+D,this.words[R]=d&67108863,D=d>>>26;if(this.length=m.length,D!==0)this.words[this.length]=D,this.length++;else if(m!==this)for(;R<m.length;R++)this.words[R]=m.words[R];return this},s.prototype.add=function(l){var d;return l.negative!==0&&this.negative===0?(l.negative=0,d=this.sub(l),l.negative^=1,d):l.negative===0&&this.negative!==0?(this.negative=0,d=l.sub(this),this.negative=1,d):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},s.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var d=this.iadd(l);return l.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var m=this.cmp(l);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var A,D;m>0?(A=this,D=l):(A=l,D=this);for(var R=0,I=0;I<D.length;I++)d=(A.words[I]|0)-(D.words[I]|0)+R,R=d>>26,this.words[I]=d&67108863;for(;R!==0&&I<A.length;I++)d=(A.words[I]|0)+R,R=d>>26,this.words[I]=d&67108863;if(R===0&&I<A.length&&A!==this)for(;I<A.length;I++)this.words[I]=A.words[I];return this.length=Math.max(this.length,I),A!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(l){return this.clone().isub(l)};function T(l,d,m){m.negative=d.negative^l.negative;var A=l.length+d.length|0;m.length=A,A=A-1|0;var D=l.words[0]|0,R=d.words[0]|0,I=D*R,p=I&67108863,g=I/67108864|0;m.words[0]=p;for(var B=1;B<A;B++){for(var Y=g>>>26,te=g&67108863,P=Math.min(B,d.length-1),J=Math.max(0,B-l.length+1);J<=P;J++){var j=B-J|0;D=l.words[j]|0,R=d.words[J]|0,I=D*R+te,Y+=I/67108864|0,te=I&67108863}m.words[B]=te|0,g=Y|0}return g!==0?m.words[B]=g|0:m.length--,m._strip()}var x=function(l,d,m){var A=l.words,D=d.words,R=m.words,I=0,p,g,B,Y=A[0]|0,te=Y&8191,P=Y>>>13,J=A[1]|0,j=J&8191,K=J>>>13,G=A[2]|0,S=G&8191,H=G>>>13,re=A[3]|0,ie=re&8191,ae=re>>>13,pe=A[4]|0,de=pe&8191,Oe=pe>>>13,Le=A[5]|0,ve=Le&8191,xe=Le>>>13,Ee=A[6]|0,le=Ee&8191,we=Ee>>>13,_e=A[7]|0,ce=_e&8191,be=_e>>>13,F=A[8]|0,_=F&8191,M=F>>>13,z=A[9]|0,W=z&8191,Q=z>>>13,ee=D[0]|0,oe=ee&8191,he=ee>>>13,Ce=D[1]|0,me=Ce&8191,De=Ce>>>13,Je=D[2]|0,ke=Je&8191,at=Je>>>13,ut=D[3]|0,Se=ut&8191,Ue=ut>>>13,ze=D[4]|0,Ae=ze&8191,qe=ze>>>13,$e=D[5]|0,Te=$e&8191,Ke=$e>>>13,Ge=D[6]|0,Ne=Ge&8191,Ve=Ge>>>13,je=D[7]|0,Ie=je&8191,Fe=je>>>13,We=D[8]|0,Pe=We&8191,ft=We>>>13,dt=D[9]|0,He=dt&8191,et=dt>>>13;m.negative=l.negative^d.negative,m.length=19,p=Math.imul(te,oe),g=Math.imul(te,he),g=g+Math.imul(P,oe)|0,B=Math.imul(P,he);var Kr=(I+p|0)+((g&8191)<<13)|0;I=(B+(g>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,p=Math.imul(j,oe),g=Math.imul(j,he),g=g+Math.imul(K,oe)|0,B=Math.imul(K,he),p=p+Math.imul(te,me)|0,g=g+Math.imul(te,De)|0,g=g+Math.imul(P,me)|0,B=B+Math.imul(P,De)|0;var Gr=(I+p|0)+((g&8191)<<13)|0;I=(B+(g>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,p=Math.imul(S,oe),g=Math.imul(S,he),g=g+Math.imul(H,oe)|0,B=Math.imul(H,he),p=p+Math.imul(j,me)|0,g=g+Math.imul(j,De)|0,g=g+Math.imul(K,me)|0,B=B+Math.imul(K,De)|0,p=p+Math.imul(te,ke)|0,g=g+Math.imul(te,at)|0,g=g+Math.imul(P,ke)|0,B=B+Math.imul(P,at)|0;var Vr=(I+p|0)+((g&8191)<<13)|0;I=(B+(g>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,p=Math.imul(ie,oe),g=Math.imul(ie,he),g=g+Math.imul(ae,oe)|0,B=Math.imul(ae,he),p=p+Math.imul(S,me)|0,g=g+Math.imul(S,De)|0,g=g+Math.imul(H,me)|0,B=B+Math.imul(H,De)|0,p=p+Math.imul(j,ke)|0,g=g+Math.imul(j,at)|0,g=g+Math.imul(K,ke)|0,B=B+Math.imul(K,at)|0,p=p+Math.imul(te,Se)|0,g=g+Math.imul(te,Ue)|0,g=g+Math.imul(P,Se)|0,B=B+Math.imul(P,Ue)|0;var Wr=(I+p|0)+((g&8191)<<13)|0;I=(B+(g>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,p=Math.imul(de,oe),g=Math.imul(de,he),g=g+Math.imul(Oe,oe)|0,B=Math.imul(Oe,he),p=p+Math.imul(ie,me)|0,g=g+Math.imul(ie,De)|0,g=g+Math.imul(ae,me)|0,B=B+Math.imul(ae,De)|0,p=p+Math.imul(S,ke)|0,g=g+Math.imul(S,at)|0,g=g+Math.imul(H,ke)|0,B=B+Math.imul(H,at)|0,p=p+Math.imul(j,Se)|0,g=g+Math.imul(j,Ue)|0,g=g+Math.imul(K,Se)|0,B=B+Math.imul(K,Ue)|0,p=p+Math.imul(te,Ae)|0,g=g+Math.imul(te,qe)|0,g=g+Math.imul(P,Ae)|0,B=B+Math.imul(P,qe)|0;var Yr=(I+p|0)+((g&8191)<<13)|0;I=(B+(g>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,p=Math.imul(ve,oe),g=Math.imul(ve,he),g=g+Math.imul(xe,oe)|0,B=Math.imul(xe,he),p=p+Math.imul(de,me)|0,g=g+Math.imul(de,De)|0,g=g+Math.imul(Oe,me)|0,B=B+Math.imul(Oe,De)|0,p=p+Math.imul(ie,ke)|0,g=g+Math.imul(ie,at)|0,g=g+Math.imul(ae,ke)|0,B=B+Math.imul(ae,at)|0,p=p+Math.imul(S,Se)|0,g=g+Math.imul(S,Ue)|0,g=g+Math.imul(H,Se)|0,B=B+Math.imul(H,Ue)|0,p=p+Math.imul(j,Ae)|0,g=g+Math.imul(j,qe)|0,g=g+Math.imul(K,Ae)|0,B=B+Math.imul(K,qe)|0,p=p+Math.imul(te,Te)|0,g=g+Math.imul(te,Ke)|0,g=g+Math.imul(P,Te)|0,B=B+Math.imul(P,Ke)|0;var Gt=(I+p|0)+((g&8191)<<13)|0;I=(B+(g>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,p=Math.imul(le,oe),g=Math.imul(le,he),g=g+Math.imul(we,oe)|0,B=Math.imul(we,he),p=p+Math.imul(ve,me)|0,g=g+Math.imul(ve,De)|0,g=g+Math.imul(xe,me)|0,B=B+Math.imul(xe,De)|0,p=p+Math.imul(de,ke)|0,g=g+Math.imul(de,at)|0,g=g+Math.imul(Oe,ke)|0,B=B+Math.imul(Oe,at)|0,p=p+Math.imul(ie,Se)|0,g=g+Math.imul(ie,Ue)|0,g=g+Math.imul(ae,Se)|0,B=B+Math.imul(ae,Ue)|0,p=p+Math.imul(S,Ae)|0,g=g+Math.imul(S,qe)|0,g=g+Math.imul(H,Ae)|0,B=B+Math.imul(H,qe)|0,p=p+Math.imul(j,Te)|0,g=g+Math.imul(j,Ke)|0,g=g+Math.imul(K,Te)|0,B=B+Math.imul(K,Ke)|0,p=p+Math.imul(te,Ne)|0,g=g+Math.imul(te,Ve)|0,g=g+Math.imul(P,Ne)|0,B=B+Math.imul(P,Ve)|0;var Qi=(I+p|0)+((g&8191)<<13)|0;I=(B+(g>>>13)|0)+(Qi>>>26)|0,Qi&=67108863,p=Math.imul(ce,oe),g=Math.imul(ce,he),g=g+Math.imul(be,oe)|0,B=Math.imul(be,he),p=p+Math.imul(le,me)|0,g=g+Math.imul(le,De)|0,g=g+Math.imul(we,me)|0,B=B+Math.imul(we,De)|0,p=p+Math.imul(ve,ke)|0,g=g+Math.imul(ve,at)|0,g=g+Math.imul(xe,ke)|0,B=B+Math.imul(xe,at)|0,p=p+Math.imul(de,Se)|0,g=g+Math.imul(de,Ue)|0,g=g+Math.imul(Oe,Se)|0,B=B+Math.imul(Oe,Ue)|0,p=p+Math.imul(ie,Ae)|0,g=g+Math.imul(ie,qe)|0,g=g+Math.imul(ae,Ae)|0,B=B+Math.imul(ae,qe)|0,p=p+Math.imul(S,Te)|0,g=g+Math.imul(S,Ke)|0,g=g+Math.imul(H,Te)|0,B=B+Math.imul(H,Ke)|0,p=p+Math.imul(j,Ne)|0,g=g+Math.imul(j,Ve)|0,g=g+Math.imul(K,Ne)|0,B=B+Math.imul(K,Ve)|0,p=p+Math.imul(te,Ie)|0,g=g+Math.imul(te,Fe)|0,g=g+Math.imul(P,Ie)|0,B=B+Math.imul(P,Fe)|0;var Ji=(I+p|0)+((g&8191)<<13)|0;I=(B+(g>>>13)|0)+(Ji>>>26)|0,Ji&=67108863,p=Math.imul(_,oe),g=Math.imul(_,he),g=g+Math.imul(M,oe)|0,B=Math.imul(M,he),p=p+Math.imul(ce,me)|0,g=g+Math.imul(ce,De)|0,g=g+Math.imul(be,me)|0,B=B+Math.imul(be,De)|0,p=p+Math.imul(le,ke)|0,g=g+Math.imul(le,at)|0,g=g+Math.imul(we,ke)|0,B=B+Math.imul(we,at)|0,p=p+Math.imul(ve,Se)|0,g=g+Math.imul(ve,Ue)|0,g=g+Math.imul(xe,Se)|0,B=B+Math.imul(xe,Ue)|0,p=p+Math.imul(de,Ae)|0,g=g+Math.imul(de,qe)|0,g=g+Math.imul(Oe,Ae)|0,B=B+Math.imul(Oe,qe)|0,p=p+Math.imul(ie,Te)|0,g=g+Math.imul(ie,Ke)|0,g=g+Math.imul(ae,Te)|0,B=B+Math.imul(ae,Ke)|0,p=p+Math.imul(S,Ne)|0,g=g+Math.imul(S,Ve)|0,g=g+Math.imul(H,Ne)|0,B=B+Math.imul(H,Ve)|0,p=p+Math.imul(j,Ie)|0,g=g+Math.imul(j,Fe)|0,g=g+Math.imul(K,Ie)|0,B=B+Math.imul(K,Fe)|0,p=p+Math.imul(te,Pe)|0,g=g+Math.imul(te,ft)|0,g=g+Math.imul(P,Pe)|0,B=B+Math.imul(P,ft)|0;var Xi=(I+p|0)+((g&8191)<<13)|0;I=(B+(g>>>13)|0)+(Xi>>>26)|0,Xi&=67108863,p=Math.imul(W,oe),g=Math.imul(W,he),g=g+Math.imul(Q,oe)|0,B=Math.imul(Q,he),p=p+Math.imul(_,me)|0,g=g+Math.imul(_,De)|0,g=g+Math.imul(M,me)|0,B=B+Math.imul(M,De)|0,p=p+Math.imul(ce,ke)|0,g=g+Math.imul(ce,at)|0,g=g+Math.imul(be,ke)|0,B=B+Math.imul(be,at)|0,p=p+Math.imul(le,Se)|0,g=g+Math.imul(le,Ue)|0,g=g+Math.imul(we,Se)|0,B=B+Math.imul(we,Ue)|0,p=p+Math.imul(ve,Ae)|0,g=g+Math.imul(ve,qe)|0,g=g+Math.imul(xe,Ae)|0,B=B+Math.imul(xe,qe)|0,p=p+Math.imul(de,Te)|0,g=g+Math.imul(de,Ke)|0,g=g+Math.imul(Oe,Te)|0,B=B+Math.imul(Oe,Ke)|0,p=p+Math.imul(ie,Ne)|0,g=g+Math.imul(ie,Ve)|0,g=g+Math.imul(ae,Ne)|0,B=B+Math.imul(ae,Ve)|0,p=p+Math.imul(S,Ie)|0,g=g+Math.imul(S,Fe)|0,g=g+Math.imul(H,Ie)|0,B=B+Math.imul(H,Fe)|0,p=p+Math.imul(j,Pe)|0,g=g+Math.imul(j,ft)|0,g=g+Math.imul(K,Pe)|0,B=B+Math.imul(K,ft)|0,p=p+Math.imul(te,He)|0,g=g+Math.imul(te,et)|0,g=g+Math.imul(P,He)|0,B=B+Math.imul(P,et)|0;var Zi=(I+p|0)+((g&8191)<<13)|0;I=(B+(g>>>13)|0)+(Zi>>>26)|0,Zi&=67108863,p=Math.imul(W,me),g=Math.imul(W,De),g=g+Math.imul(Q,me)|0,B=Math.imul(Q,De),p=p+Math.imul(_,ke)|0,g=g+Math.imul(_,at)|0,g=g+Math.imul(M,ke)|0,B=B+Math.imul(M,at)|0,p=p+Math.imul(ce,Se)|0,g=g+Math.imul(ce,Ue)|0,g=g+Math.imul(be,Se)|0,B=B+Math.imul(be,Ue)|0,p=p+Math.imul(le,Ae)|0,g=g+Math.imul(le,qe)|0,g=g+Math.imul(we,Ae)|0,B=B+Math.imul(we,qe)|0,p=p+Math.imul(ve,Te)|0,g=g+Math.imul(ve,Ke)|0,g=g+Math.imul(xe,Te)|0,B=B+Math.imul(xe,Ke)|0,p=p+Math.imul(de,Ne)|0,g=g+Math.imul(de,Ve)|0,g=g+Math.imul(Oe,Ne)|0,B=B+Math.imul(Oe,Ve)|0,p=p+Math.imul(ie,Ie)|0,g=g+Math.imul(ie,Fe)|0,g=g+Math.imul(ae,Ie)|0,B=B+Math.imul(ae,Fe)|0,p=p+Math.imul(S,Pe)|0,g=g+Math.imul(S,ft)|0,g=g+Math.imul(H,Pe)|0,B=B+Math.imul(H,ft)|0,p=p+Math.imul(j,He)|0,g=g+Math.imul(j,et)|0,g=g+Math.imul(K,He)|0,B=B+Math.imul(K,et)|0;var es=(I+p|0)+((g&8191)<<13)|0;I=(B+(g>>>13)|0)+(es>>>26)|0,es&=67108863,p=Math.imul(W,ke),g=Math.imul(W,at),g=g+Math.imul(Q,ke)|0,B=Math.imul(Q,at),p=p+Math.imul(_,Se)|0,g=g+Math.imul(_,Ue)|0,g=g+Math.imul(M,Se)|0,B=B+Math.imul(M,Ue)|0,p=p+Math.imul(ce,Ae)|0,g=g+Math.imul(ce,qe)|0,g=g+Math.imul(be,Ae)|0,B=B+Math.imul(be,qe)|0,p=p+Math.imul(le,Te)|0,g=g+Math.imul(le,Ke)|0,g=g+Math.imul(we,Te)|0,B=B+Math.imul(we,Ke)|0,p=p+Math.imul(ve,Ne)|0,g=g+Math.imul(ve,Ve)|0,g=g+Math.imul(xe,Ne)|0,B=B+Math.imul(xe,Ve)|0,p=p+Math.imul(de,Ie)|0,g=g+Math.imul(de,Fe)|0,g=g+Math.imul(Oe,Ie)|0,B=B+Math.imul(Oe,Fe)|0,p=p+Math.imul(ie,Pe)|0,g=g+Math.imul(ie,ft)|0,g=g+Math.imul(ae,Pe)|0,B=B+Math.imul(ae,ft)|0,p=p+Math.imul(S,He)|0,g=g+Math.imul(S,et)|0,g=g+Math.imul(H,He)|0,B=B+Math.imul(H,et)|0;var Nn=(I+p|0)+((g&8191)<<13)|0;I=(B+(g>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,p=Math.imul(W,Se),g=Math.imul(W,Ue),g=g+Math.imul(Q,Se)|0,B=Math.imul(Q,Ue),p=p+Math.imul(_,Ae)|0,g=g+Math.imul(_,qe)|0,g=g+Math.imul(M,Ae)|0,B=B+Math.imul(M,qe)|0,p=p+Math.imul(ce,Te)|0,g=g+Math.imul(ce,Ke)|0,g=g+Math.imul(be,Te)|0,B=B+Math.imul(be,Ke)|0,p=p+Math.imul(le,Ne)|0,g=g+Math.imul(le,Ve)|0,g=g+Math.imul(we,Ne)|0,B=B+Math.imul(we,Ve)|0,p=p+Math.imul(ve,Ie)|0,g=g+Math.imul(ve,Fe)|0,g=g+Math.imul(xe,Ie)|0,B=B+Math.imul(xe,Fe)|0,p=p+Math.imul(de,Pe)|0,g=g+Math.imul(de,ft)|0,g=g+Math.imul(Oe,Pe)|0,B=B+Math.imul(Oe,ft)|0,p=p+Math.imul(ie,He)|0,g=g+Math.imul(ie,et)|0,g=g+Math.imul(ae,He)|0,B=B+Math.imul(ae,et)|0;var ts=(I+p|0)+((g&8191)<<13)|0;I=(B+(g>>>13)|0)+(ts>>>26)|0,ts&=67108863,p=Math.imul(W,Ae),g=Math.imul(W,qe),g=g+Math.imul(Q,Ae)|0,B=Math.imul(Q,qe),p=p+Math.imul(_,Te)|0,g=g+Math.imul(_,Ke)|0,g=g+Math.imul(M,Te)|0,B=B+Math.imul(M,Ke)|0,p=p+Math.imul(ce,Ne)|0,g=g+Math.imul(ce,Ve)|0,g=g+Math.imul(be,Ne)|0,B=B+Math.imul(be,Ve)|0,p=p+Math.imul(le,Ie)|0,g=g+Math.imul(le,Fe)|0,g=g+Math.imul(we,Ie)|0,B=B+Math.imul(we,Fe)|0,p=p+Math.imul(ve,Pe)|0,g=g+Math.imul(ve,ft)|0,g=g+Math.imul(xe,Pe)|0,B=B+Math.imul(xe,ft)|0,p=p+Math.imul(de,He)|0,g=g+Math.imul(de,et)|0,g=g+Math.imul(Oe,He)|0,B=B+Math.imul(Oe,et)|0;var rs=(I+p|0)+((g&8191)<<13)|0;I=(B+(g>>>13)|0)+(rs>>>26)|0,rs&=67108863,p=Math.imul(W,Te),g=Math.imul(W,Ke),g=g+Math.imul(Q,Te)|0,B=Math.imul(Q,Ke),p=p+Math.imul(_,Ne)|0,g=g+Math.imul(_,Ve)|0,g=g+Math.imul(M,Ne)|0,B=B+Math.imul(M,Ve)|0,p=p+Math.imul(ce,Ie)|0,g=g+Math.imul(ce,Fe)|0,g=g+Math.imul(be,Ie)|0,B=B+Math.imul(be,Fe)|0,p=p+Math.imul(le,Pe)|0,g=g+Math.imul(le,ft)|0,g=g+Math.imul(we,Pe)|0,B=B+Math.imul(we,ft)|0,p=p+Math.imul(ve,He)|0,g=g+Math.imul(ve,et)|0,g=g+Math.imul(xe,He)|0,B=B+Math.imul(xe,et)|0;var Ar=(I+p|0)+((g&8191)<<13)|0;I=(B+(g>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,p=Math.imul(W,Ne),g=Math.imul(W,Ve),g=g+Math.imul(Q,Ne)|0,B=Math.imul(Q,Ve),p=p+Math.imul(_,Ie)|0,g=g+Math.imul(_,Fe)|0,g=g+Math.imul(M,Ie)|0,B=B+Math.imul(M,Fe)|0,p=p+Math.imul(ce,Pe)|0,g=g+Math.imul(ce,ft)|0,g=g+Math.imul(be,Pe)|0,B=B+Math.imul(be,ft)|0,p=p+Math.imul(le,He)|0,g=g+Math.imul(le,et)|0,g=g+Math.imul(we,He)|0,B=B+Math.imul(we,et)|0;var ns=(I+p|0)+((g&8191)<<13)|0;I=(B+(g>>>13)|0)+(ns>>>26)|0,ns&=67108863,p=Math.imul(W,Ie),g=Math.imul(W,Fe),g=g+Math.imul(Q,Ie)|0,B=Math.imul(Q,Fe),p=p+Math.imul(_,Pe)|0,g=g+Math.imul(_,ft)|0,g=g+Math.imul(M,Pe)|0,B=B+Math.imul(M,ft)|0,p=p+Math.imul(ce,He)|0,g=g+Math.imul(ce,et)|0,g=g+Math.imul(be,He)|0,B=B+Math.imul(be,et)|0;var is=(I+p|0)+((g&8191)<<13)|0;I=(B+(g>>>13)|0)+(is>>>26)|0,is&=67108863,p=Math.imul(W,Pe),g=Math.imul(W,ft),g=g+Math.imul(Q,Pe)|0,B=Math.imul(Q,ft),p=p+Math.imul(_,He)|0,g=g+Math.imul(_,et)|0,g=g+Math.imul(M,He)|0,B=B+Math.imul(M,et)|0;var ss=(I+p|0)+((g&8191)<<13)|0;I=(B+(g>>>13)|0)+(ss>>>26)|0,ss&=67108863,p=Math.imul(W,He),g=Math.imul(W,et),g=g+Math.imul(Q,He)|0,B=Math.imul(Q,et);var zu=(I+p|0)+((g&8191)<<13)|0;return I=(B+(g>>>13)|0)+(zu>>>26)|0,zu&=67108863,R[0]=Kr,R[1]=Gr,R[2]=Vr,R[3]=Wr,R[4]=Yr,R[5]=Gt,R[6]=Qi,R[7]=Ji,R[8]=Xi,R[9]=Zi,R[10]=es,R[11]=Nn,R[12]=ts,R[13]=rs,R[14]=Ar,R[15]=ns,R[16]=is,R[17]=ss,R[18]=zu,I!==0&&(R[19]=I,m.length++),m};Math.imul||(x=T);function O(l,d,m){m.negative=d.negative^l.negative,m.length=l.length+d.length;for(var A=0,D=0,R=0;R<m.length-1;R++){var I=D;D=0;for(var p=A&67108863,g=Math.min(R,d.length-1),B=Math.max(0,R-l.length+1);B<=g;B++){var Y=R-B,te=l.words[Y]|0,P=d.words[B]|0,J=te*P,j=J&67108863;I=I+(J/67108864|0)|0,j=j+p|0,p=j&67108863,I=I+(j>>>26)|0,D+=I>>>26,I&=67108863}m.words[R]=p,A=I,I=D}return A!==0?m.words[R]=A:m.length--,m._strip()}function k(l,d,m){return O(l,d,m)}s.prototype.mulTo=function(l,d){var m,A=this.length+l.length;return this.length===10&&l.length===10?m=x(this,l,d):A<63?m=T(this,l,d):A<1024?m=O(this,l,d):m=k(this,l,d),m},s.prototype.mul=function(l){var d=new s(null);return d.words=new Array(this.length+l.length),this.mulTo(l,d)},s.prototype.mulf=function(l){var d=new s(null);return d.words=new Array(this.length+l.length),k(this,l,d)},s.prototype.imul=function(l){return this.clone().mulTo(l,this)},s.prototype.imuln=function(l){var d=l<0;d&&(l=-l),n(typeof l=="number"),n(l<67108864);for(var m=0,A=0;A<this.length;A++){var D=(this.words[A]|0)*l,R=(D&67108863)+(m&67108863);m>>=26,m+=D/67108864|0,m+=R>>>26,this.words[A]=R&67108863}return m!==0&&(this.words[A]=m,this.length++),d?this.ineg():this},s.prototype.muln=function(l){return this.clone().imuln(l)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(l){var d=N(l);if(d.length===0)return new s(1);for(var m=this,A=0;A<d.length&&d[A]===0;A++,m=m.sqr());if(++A<d.length)for(var D=m.sqr();A<d.length;A++,D=D.sqr())d[A]!==0&&(m=m.mul(D));return m},s.prototype.iushln=function(l){n(typeof l=="number"&&l>=0);var d=l%26,m=(l-d)/26,A=67108863>>>26-d<<26-d,D;if(d!==0){var R=0;for(D=0;D<this.length;D++){var I=this.words[D]&A,p=(this.words[D]|0)-I<<d;this.words[D]=p|R,R=I>>>26-d}R&&(this.words[D]=R,this.length++)}if(m!==0){for(D=this.length-1;D>=0;D--)this.words[D+m]=this.words[D];for(D=0;D<m;D++)this.words[D]=0;this.length+=m}return this._strip()},s.prototype.ishln=function(l){return n(this.negative===0),this.iushln(l)},s.prototype.iushrn=function(l,d,m){n(typeof l=="number"&&l>=0);var A;d?A=(d-d%26)/26:A=0;var D=l%26,R=Math.min((l-D)/26,this.length),I=67108863^67108863>>>D<<D,p=m;if(A-=R,A=Math.max(0,A),p){for(var g=0;g<R;g++)p.words[g]=this.words[g];p.length=R}if(R!==0)if(this.length>R)for(this.length-=R,g=0;g<this.length;g++)this.words[g]=this.words[g+R];else this.words[0]=0,this.length=1;var B=0;for(g=this.length-1;g>=0&&(B!==0||g>=A);g--){var Y=this.words[g]|0;this.words[g]=B<<26-D|Y>>>D,B=Y&I}return p&&B!==0&&(p.words[p.length++]=B),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(l,d,m){return n(this.negative===0),this.iushrn(l,d,m)},s.prototype.shln=function(l){return this.clone().ishln(l)},s.prototype.ushln=function(l){return this.clone().iushln(l)},s.prototype.shrn=function(l){return this.clone().ishrn(l)},s.prototype.ushrn=function(l){return this.clone().iushrn(l)},s.prototype.testn=function(l){n(typeof l=="number"&&l>=0);var d=l%26,m=(l-d)/26,A=1<<d;if(this.length<=m)return!1;var D=this.words[m];return!!(D&A)},s.prototype.imaskn=function(l){n(typeof l=="number"&&l>=0);var d=l%26,m=(l-d)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(d!==0&&m++,this.length=Math.min(m,this.length),d!==0){var A=67108863^67108863>>>d<<d;this.words[this.length-1]&=A}return this._strip()},s.prototype.maskn=function(l){return this.clone().imaskn(l)},s.prototype.iaddn=function(l){return n(typeof l=="number"),n(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<=l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},s.prototype._iaddn=function(l){this.words[0]+=l;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},s.prototype.isubn=function(l){if(n(typeof l=="number"),n(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},s.prototype.addn=function(l){return this.clone().iaddn(l)},s.prototype.subn=function(l){return this.clone().isubn(l)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(l,d,m){var A=l.length+m,D;this._expand(A);var R,I=0;for(D=0;D<l.length;D++){R=(this.words[D+m]|0)+I;var p=(l.words[D]|0)*d;R-=p&67108863,I=(R>>26)-(p/67108864|0),this.words[D+m]=R&67108863}for(;D<this.length-m;D++)R=(this.words[D+m]|0)+I,I=R>>26,this.words[D+m]=R&67108863;if(I===0)return this._strip();for(n(I===-1),I=0,D=0;D<this.length;D++)R=-(this.words[D]|0)+I,I=R>>26,this.words[D]=R&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(l,d){var m=this.length-l.length,A=this.clone(),D=l,R=D.words[D.length-1]|0,I=this._countBits(R);m=26-I,m!==0&&(D=D.ushln(m),A.iushln(m),R=D.words[D.length-1]|0);var p=A.length-D.length,g;if(d!=="mod"){g=new s(null),g.length=p+1,g.words=new Array(g.length);for(var B=0;B<g.length;B++)g.words[B]=0}var Y=A.clone()._ishlnsubmul(D,1,p);Y.negative===0&&(A=Y,g&&(g.words[p]=1));for(var te=p-1;te>=0;te--){var P=(A.words[D.length+te]|0)*67108864+(A.words[D.length+te-1]|0);for(P=Math.min(P/R|0,67108863),A._ishlnsubmul(D,P,te);A.negative!==0;)P--,A.negative=0,A._ishlnsubmul(D,1,te),A.isZero()||(A.negative^=1);g&&(g.words[te]=P)}return g&&g._strip(),A._strip(),d!=="div"&&m!==0&&A.iushrn(m),{div:g||null,mod:A}},s.prototype.divmod=function(l,d,m){if(n(!l.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var A,D,R;return this.negative!==0&&l.negative===0?(R=this.neg().divmod(l,d),d!=="mod"&&(A=R.div.neg()),d!=="div"&&(D=R.mod.neg(),m&&D.negative!==0&&D.iadd(l)),{div:A,mod:D}):this.negative===0&&l.negative!==0?(R=this.divmod(l.neg(),d),d!=="mod"&&(A=R.div.neg()),{div:A,mod:R.mod}):this.negative&l.negative?(R=this.neg().divmod(l.neg(),d),d!=="div"&&(D=R.mod.neg(),m&&D.negative!==0&&D.isub(l)),{div:R.div,mod:D}):l.length>this.length||this.cmp(l)<0?{div:new s(0),mod:this}:l.length===1?d==="div"?{div:this.divn(l.words[0]),mod:null}:d==="mod"?{div:null,mod:new s(this.modrn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new s(this.modrn(l.words[0]))}:this._wordDiv(l,d)},s.prototype.div=function(l){return this.divmod(l,"div",!1).div},s.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},s.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},s.prototype.divRound=function(l){var d=this.divmod(l);if(d.mod.isZero())return d.div;var m=d.div.negative!==0?d.mod.isub(l):d.mod,A=l.ushrn(1),D=l.andln(1),R=m.cmp(A);return R<0||D===1&&R===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},s.prototype.modrn=function(l){var d=l<0;d&&(l=-l),n(l<=67108863);for(var m=(1<<26)%l,A=0,D=this.length-1;D>=0;D--)A=(m*A+(this.words[D]|0))%l;return d?-A:A},s.prototype.modn=function(l){return this.modrn(l)},s.prototype.idivn=function(l){var d=l<0;d&&(l=-l),n(l<=67108863);for(var m=0,A=this.length-1;A>=0;A--){var D=(this.words[A]|0)+m*67108864;this.words[A]=D/l|0,m=D%l}return this._strip(),d?this.ineg():this},s.prototype.divn=function(l){return this.clone().idivn(l)},s.prototype.egcd=function(l){n(l.negative===0),n(!l.isZero());var d=this,m=l.clone();d.negative!==0?d=d.umod(l):d=d.clone();for(var A=new s(1),D=new s(0),R=new s(0),I=new s(1),p=0;d.isEven()&&m.isEven();)d.iushrn(1),m.iushrn(1),++p;for(var g=m.clone(),B=d.clone();!d.isZero();){for(var Y=0,te=1;!(d.words[0]&te)&&Y<26;++Y,te<<=1);if(Y>0)for(d.iushrn(Y);Y-- >0;)(A.isOdd()||D.isOdd())&&(A.iadd(g),D.isub(B)),A.iushrn(1),D.iushrn(1);for(var P=0,J=1;!(m.words[0]&J)&&P<26;++P,J<<=1);if(P>0)for(m.iushrn(P);P-- >0;)(R.isOdd()||I.isOdd())&&(R.iadd(g),I.isub(B)),R.iushrn(1),I.iushrn(1);d.cmp(m)>=0?(d.isub(m),A.isub(R),D.isub(I)):(m.isub(d),R.isub(A),I.isub(D))}return{a:R,b:I,gcd:m.iushln(p)}},s.prototype._invmp=function(l){n(l.negative===0),n(!l.isZero());var d=this,m=l.clone();d.negative!==0?d=d.umod(l):d=d.clone();for(var A=new s(1),D=new s(0),R=m.clone();d.cmpn(1)>0&&m.cmpn(1)>0;){for(var I=0,p=1;!(d.words[0]&p)&&I<26;++I,p<<=1);if(I>0)for(d.iushrn(I);I-- >0;)A.isOdd()&&A.iadd(R),A.iushrn(1);for(var g=0,B=1;!(m.words[0]&B)&&g<26;++g,B<<=1);if(g>0)for(m.iushrn(g);g-- >0;)D.isOdd()&&D.iadd(R),D.iushrn(1);d.cmp(m)>=0?(d.isub(m),A.isub(D)):(m.isub(d),D.isub(A))}var Y;return d.cmpn(1)===0?Y=A:Y=D,Y.cmpn(0)<0&&Y.iadd(l),Y},s.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var d=this.clone(),m=l.clone();d.negative=0,m.negative=0;for(var A=0;d.isEven()&&m.isEven();A++)d.iushrn(1),m.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;m.isEven();)m.iushrn(1);var D=d.cmp(m);if(D<0){var R=d;d=m,m=R}else if(D===0||m.cmpn(1)===0)break;d.isub(m)}while(!0);return m.iushln(A)},s.prototype.invm=function(l){return this.egcd(l).a.umod(l)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(l){return this.words[0]&l},s.prototype.bincn=function(l){n(typeof l=="number");var d=l%26,m=(l-d)/26,A=1<<d;if(this.length<=m)return this._expand(m+1),this.words[m]|=A,this;for(var D=A,R=m;D!==0&&R<this.length;R++){var I=this.words[R]|0;I+=D,D=I>>>26,I&=67108863,this.words[R]=I}return D!==0&&(this.words[R]=D,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(l){var d=l<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var m;if(this.length>1)m=1;else{d&&(l=-l),n(l<=67108863,"Number is too big");var A=this.words[0]|0;m=A===l?0:A<l?-1:1}return this.negative!==0?-m|0:m},s.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var d=this.ucmp(l);return this.negative!==0?-d|0:d},s.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var d=0,m=this.length-1;m>=0;m--){var A=this.words[m]|0,D=l.words[m]|0;if(A!==D){A<D?d=-1:A>D&&(d=1);break}}return d},s.prototype.gtn=function(l){return this.cmpn(l)===1},s.prototype.gt=function(l){return this.cmp(l)===1},s.prototype.gten=function(l){return this.cmpn(l)>=0},s.prototype.gte=function(l){return this.cmp(l)>=0},s.prototype.ltn=function(l){return this.cmpn(l)===-1},s.prototype.lt=function(l){return this.cmp(l)===-1},s.prototype.lten=function(l){return this.cmpn(l)<=0},s.prototype.lte=function(l){return this.cmp(l)<=0},s.prototype.eqn=function(l){return this.cmpn(l)===0},s.prototype.eq=function(l){return this.cmp(l)===0},s.red=function(l){return new q(l)},s.prototype.toRed=function(l){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(l){return this.red=l,this},s.prototype.forceRed=function(l){return n(!this.red,"Already a number in reduction context"),this._forceRed(l)},s.prototype.redAdd=function(l){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},s.prototype.redIAdd=function(l){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},s.prototype.redSub=function(l){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},s.prototype.redISub=function(l){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},s.prototype.redShl=function(l){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},s.prototype.redMul=function(l){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},s.prototype.redIMul=function(l){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(l){return n(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var L={k256:null,p224:null,p192:null,p25519:null};function $(l,d){this.name=l,this.p=new s(d,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}$.prototype._tmp=function(){var l=new s(null);return l.words=new Array(Math.ceil(this.n/13)),l},$.prototype.ireduce=function(l){var d=l,m;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),m=d.bitLength();while(m>this.n);var A=m<this.n?-1:d.ucmp(this.p);return A===0?(d.words[0]=0,d.length=1):A>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},$.prototype.split=function(l,d){l.iushrn(this.n,0,d)},$.prototype.imulK=function(l){return l.imul(this.k)};function E(){$.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(E,$),E.prototype.split=function(l,d){for(var m=4194303,A=Math.min(l.length,9),D=0;D<A;D++)d.words[D]=l.words[D];if(d.length=A,l.length<=9){l.words[0]=0,l.length=1;return}var R=l.words[9];for(d.words[d.length++]=R&m,D=10;D<l.length;D++){var I=l.words[D]|0;l.words[D-10]=(I&m)<<4|R>>>22,R=I}R>>>=22,l.words[D-10]=R,R===0&&l.length>10?l.length-=10:l.length-=9},E.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var d=0,m=0;m<l.length;m++){var A=l.words[m]|0;d+=A*977,l.words[m]=d&67108863,d=A*64+(d/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function U(){$.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(U,$);function Z(){$.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Z,$);function ne(){$.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(ne,$),ne.prototype.imulK=function(l){for(var d=0,m=0;m<l.length;m++){var A=(l.words[m]|0)*19+d,D=A&67108863;A>>>=26,l.words[m]=D,d=A}return d!==0&&(l.words[l.length++]=d),l},s._prime=function(l){if(L[l])return L[l];var d;if(l==="k256")d=new E;else if(l==="p224")d=new U;else if(l==="p192")d=new Z;else if(l==="p25519")d=new ne;else throw new Error("Unknown prime "+l);return L[l]=d,d};function q(l){if(typeof l=="string"){var d=s._prime(l);this.m=d.p,this.prime=d}else n(l.gtn(1),"modulus must be greater than 1"),this.m=l,this.prime=null}q.prototype._verify1=function(l){n(l.negative===0,"red works only with positives"),n(l.red,"red works only with red numbers")},q.prototype._verify2=function(l,d){n((l.negative|d.negative)===0,"red works only with positives"),n(l.red&&l.red===d.red,"red works only with red numbers")},q.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):(f(l,l.umod(this.m)._forceRed(this)),l)},q.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},q.prototype.add=function(l,d){this._verify2(l,d);var m=l.add(d);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},q.prototype.iadd=function(l,d){this._verify2(l,d);var m=l.iadd(d);return m.cmp(this.m)>=0&&m.isub(this.m),m},q.prototype.sub=function(l,d){this._verify2(l,d);var m=l.sub(d);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},q.prototype.isub=function(l,d){this._verify2(l,d);var m=l.isub(d);return m.cmpn(0)<0&&m.iadd(this.m),m},q.prototype.shl=function(l,d){return this._verify1(l),this.imod(l.ushln(d))},q.prototype.imul=function(l,d){return this._verify2(l,d),this.imod(l.imul(d))},q.prototype.mul=function(l,d){return this._verify2(l,d),this.imod(l.mul(d))},q.prototype.isqr=function(l){return this.imul(l,l.clone())},q.prototype.sqr=function(l){return this.mul(l,l)},q.prototype.sqrt=function(l){if(l.isZero())return l.clone();var d=this.m.andln(3);if(n(d%2===1),d===3){var m=this.m.add(new s(1)).iushrn(2);return this.pow(l,m)}for(var A=this.m.subn(1),D=0;!A.isZero()&&A.andln(1)===0;)D++,A.iushrn(1);n(!A.isZero());var R=new s(1).toRed(this),I=R.redNeg(),p=this.m.subn(1).iushrn(1),g=this.m.bitLength();for(g=new s(2*g*g).toRed(this);this.pow(g,p).cmp(I)!==0;)g.redIAdd(I);for(var B=this.pow(g,A),Y=this.pow(l,A.addn(1).iushrn(1)),te=this.pow(l,A),P=D;te.cmp(R)!==0;){for(var J=te,j=0;J.cmp(R)!==0;j++)J=J.redSqr();n(j<P);var K=this.pow(B,new s(1).iushln(P-j-1));Y=Y.redMul(K),B=K.redSqr(),te=te.redMul(B),P=j}return Y},q.prototype.invm=function(l){var d=l._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},q.prototype.pow=function(l,d){if(d.isZero())return new s(1).toRed(this);if(d.cmpn(1)===0)return l.clone();var m=4,A=new Array(1<<m);A[0]=new s(1).toRed(this),A[1]=l;for(var D=2;D<A.length;D++)A[D]=this.mul(A[D-1],l);var R=A[0],I=0,p=0,g=d.bitLength()%26;for(g===0&&(g=26),D=d.length-1;D>=0;D--){for(var B=d.words[D],Y=g-1;Y>=0;Y--){var te=B>>Y&1;if(R!==A[0]&&(R=this.sqr(R)),te===0&&I===0){p=0;continue}I<<=1,I|=te,p++,!(p!==m&&(D!==0||Y!==0))&&(R=this.mul(R,A[I]),p=0,I=0)}g=26}return R},q.prototype.convertTo=function(l){var d=l.umod(this.m);return d===l?d.clone():d},q.prototype.convertFrom=function(l){var d=l.clone();return d.red=null,d},s.mont=function(l){return new b(l)};function b(l){q.call(this,l),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(b,q),b.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},b.prototype.convertFrom=function(l){var d=this.imod(l.mul(this.rinv));return d.red=null,d},b.prototype.imul=function(l,d){if(l.isZero()||d.isZero())return l.words[0]=0,l.length=1,l;var m=l.imul(d),A=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=m.isub(A).iushrn(this.shift),R=D;return D.cmp(this.m)>=0?R=D.isub(this.m):D.cmpn(0)<0&&(R=D.iadd(this.m)),R._forceRed(this)},b.prototype.mul=function(l,d){if(l.isZero()||d.isZero())return new s(0)._forceRed(this);var m=l.mul(d),A=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=m.isub(A).iushrn(this.shift),R=D;return D.cmp(this.m)>=0?R=D.isub(this.m):D.cmpn(0)<0&&(R=D.iadd(this.m)),R._forceRed(this)},b.prototype.invm=function(l){var d=this.imod(l._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(e,E5)})(I5);var Ye=I5.exports;const x5="bignumber/5.7.0";var Rd=Ye.BN;const ds=new vr(x5),B0={},j2=9007199254740991;function zk(e){return e!=null&&(St.isBigNumber(e)||typeof e=="number"&&e%1===0||typeof e=="string"&&!!e.match(/^-?[0-9]+$/)||Sn(e)||typeof e=="bigint"||ku(e))}let H2=!1;class St{constructor(t,r){t!==B0&&ds.throwError("cannot call constructor directly; use BigNumber.from",vr.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return Qr(it(this).fromTwos(t))}toTwos(t){return Qr(it(this).toTwos(t))}abs(){return this._hex[0]==="-"?St.from(this._hex.substring(1)):this}add(t){return Qr(it(this).add(it(t)))}sub(t){return Qr(it(this).sub(it(t)))}div(t){return St.from(t).isZero()&&kn("division-by-zero","div"),Qr(it(this).div(it(t)))}mul(t){return Qr(it(this).mul(it(t)))}mod(t){const r=it(t);return r.isNeg()&&kn("division-by-zero","mod"),Qr(it(this).umod(r))}pow(t){const r=it(t);return r.isNeg()&&kn("negative-power","pow"),Qr(it(this).pow(r))}and(t){const r=it(t);return(this.isNegative()||r.isNeg())&&kn("unbound-bitwise-result","and"),Qr(it(this).and(r))}or(t){const r=it(t);return(this.isNegative()||r.isNeg())&&kn("unbound-bitwise-result","or"),Qr(it(this).or(r))}xor(t){const r=it(t);return(this.isNegative()||r.isNeg())&&kn("unbound-bitwise-result","xor"),Qr(it(this).xor(r))}mask(t){return(this.isNegative()||t<0)&&kn("negative-width","mask"),Qr(it(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&kn("negative-width","shl"),Qr(it(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&kn("negative-width","shr"),Qr(it(this).shrn(t))}eq(t){return it(this).eq(it(t))}lt(t){return it(this).lt(it(t))}lte(t){return it(this).lte(it(t))}gt(t){return it(this).gt(it(t))}gte(t){return it(this).gte(it(t))}isNegative(){return this._hex[0]==="-"}isZero(){return it(this).isZero()}toNumber(){try{return it(this).toNumber()}catch{kn("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return ds.throwError("this platform does not support BigInt",vr.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?H2||(H2=!0,ds.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?ds.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",vr.errors.UNEXPECTED_ARGUMENT,{}):ds.throwError("BigNumber.toString does not accept parameters",vr.errors.UNEXPECTED_ARGUMENT,{})),it(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof St)return t;if(typeof t=="string")return t.match(/^-?0x[0-9a-f]+$/i)?new St(B0,cl(t)):t.match(/^-?[0-9]+$/)?new St(B0,cl(new Rd(t))):ds.throwArgumentError("invalid BigNumber string","value",t);if(typeof t=="number")return t%1&&kn("underflow","BigNumber.from",t),(t>=j2||t<=-j2)&&kn("overflow","BigNumber.from",t),St.from(String(t));const r=t;if(typeof r=="bigint")return St.from(r.toString());if(ku(r))return St.from(en(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return St.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(Sn(n)||n[0]==="-"&&Sn(n.substring(1))))return St.from(n)}return ds.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!!(t&&t._isBigNumber)}}function cl(e){if(typeof e!="string")return cl(e.toString(16));if(e[0]==="-")return e=e.substring(1),e[0]==="-"&&ds.throwArgumentError("invalid hex","value",e),e=cl(e),e==="0x00"?e:"-"+e;if(e.substring(0,2)!=="0x"&&(e="0x"+e),e==="0x")return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&e.substring(0,4)==="0x00";)e="0x"+e.substring(4);return e}function Qr(e){return St.from(cl(e))}function it(e){const t=St.from(e).toHexString();return t[0]==="-"?new Rd("-"+t.substring(3),16):new Rd(t.substring(2),16)}function kn(e,t,r){const n={fault:e,operation:t};return r!=null&&(n.value=r),ds.throwError(e,vr.errors.NUMERIC_FAULT,n)}function qk(e){return new Rd(e,36).toString(16)}const Lr=new vr(x5),Dc={},M5=St.from(0),R5=St.from(-1);function C5(e,t,r,n){const i={fault:t,operation:r};return n!==void 0&&(i.value=n),Lr.throwError(e,vr.errors.NUMERIC_FAULT,i)}let Tc="0";for(;Tc.length<256;)Tc+=Tc;function _m(e){if(typeof e!="number")try{e=St.from(e).toNumber()}catch{}return typeof e=="number"&&e>=0&&e<=256&&!(e%1)?"1"+Tc.substring(0,e):Lr.throwArgumentError("invalid decimal size","decimals",e)}function L0(e,t){t==null&&(t=0);const r=_m(t);e=St.from(e);const n=e.lt(M5);n&&(e=e.mul(R5));let i=e.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=e.div(r).toString();return r.length===1?e=s:e=s+"."+i,n&&(e="-"+e),e}function as(e,t){t==null&&(t=0);const r=_m(t);(typeof e!="string"||!e.match(/^-?[0-9.]+$/))&&Lr.throwArgumentError("invalid decimal value","value",e);const n=e.substring(0,1)==="-";n&&(e=e.substring(1)),e==="."&&Lr.throwArgumentError("missing value","value",e);const i=e.split(".");i.length>2&&Lr.throwArgumentError("too many decimal points","value",e);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>r.length-1&&C5("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<r.length-1;)o+="0";const a=St.from(s),u=St.from(o);let c=a.mul(r).add(u);return n&&(c=c.mul(R5)),c}let U0=class M1{constructor(t,r,n,i){t!==Dc&&Lr.throwError("cannot use FixedFormat constructor; use FixedFormat.from",vr.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=n,this.decimals=i,this.name=(r?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=_m(i),Object.freeze(this)}static from(t){if(t instanceof M1)return t;typeof t=="number"&&(t=`fixed128x${t}`);let r=!0,n=128,i=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")r=!1;else{const s=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||Lr.throwArgumentError("invalid fixed format","format",t),r=s[1]!=="u",n=parseInt(s[2]),i=parseInt(s[3])}}else if(t){const s=(o,a,u)=>t[o]==null?u:(typeof t[o]!==a&&Lr.throwArgumentError("invalid fixed format ("+o+" not "+a+")","format."+o,t[o]),t[o]);r=s("signed","boolean",r),n=s("width","number",n),i=s("decimals","number",i)}return n%8&&Lr.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&Lr.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new M1(Dc,r,n,i)}},D5=class Pr{constructor(t,r,n,i){t!==Dc&&Lr.throwError("cannot use FixedNumber constructor; use FixedNumber.from",vr.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=r,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&Lr.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const r=as(this._value,this.format.decimals),n=as(t._value,t.format.decimals);return Pr.fromValue(r.add(n),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const r=as(this._value,this.format.decimals),n=as(t._value,t.format.decimals);return Pr.fromValue(r.sub(n),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const r=as(this._value,this.format.decimals),n=as(t._value,t.format.decimals);return Pr.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const r=as(this._value,this.format.decimals),n=as(t._value,t.format.decimals);return Pr.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=Pr.from(t[0],this.format);const n=!t[1].match(/^(0*)$/);return this.isNegative()&&n&&(r=r.subUnsafe(K2.toFormat(r.format))),r}ceiling(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=Pr.from(t[0],this.format);const n=!t[1].match(/^(0*)$/);return!this.isNegative()&&n&&(r=r.addUnsafe(K2.toFormat(r.format))),r}round(t){t==null&&(t=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(t<0||t>80||t%1)&&Lr.throwArgumentError("invalid decimal count","decimals",t),r[1].length<=t)return this;const n=Pr.from("1"+Tc.substring(0,t),this.format),i=jk.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(t){if(t==null)return this._hex;t%8&&Lr.throwArgumentError("invalid byte width","width",t);const r=St.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString();return Bi(r,t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return Pr.fromString(this._value,t)}static fromValue(t,r,n){return n==null&&r!=null&&!zk(r)&&(n=r,r=null),r==null&&(r=0),n==null&&(n="fixed"),Pr.fromString(L0(t,r),U0.from(n))}static fromString(t,r){r==null&&(r="fixed");const n=U0.from(r),i=as(t,n.decimals);!n.signed&&i.lt(M5)&&C5("unsigned value cannot be negative","overflow","value",t);let s=null;n.signed?s=i.toTwos(n.width).toHexString():(s=i.toHexString(),s=Bi(s,n.width/8));const o=L0(i,n.decimals);return new Pr(Dc,s,o,n)}static fromBytes(t,r){r==null&&(r="fixed");const n=U0.from(r);if($t(t).length>n.width/8)throw new Error("overflow");let i=St.from(t);n.signed&&(i=i.fromTwos(n.width));const s=i.toTwos((n.signed?0:1)+n.width).toHexString(),o=L0(i,n.decimals);return new Pr(Dc,s,o,n)}static from(t,r){if(typeof t=="string")return Pr.fromString(t,r);if(ku(t))return Pr.fromBytes(t,r);try{return Pr.fromValue(t,0,r)}catch(n){if(n.code!==vr.errors.INVALID_ARGUMENT)throw n}return Lr.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!!(t&&t._isFixedNumber)}};const K2=D5.from(1),jk=D5.from("0.5"),Hk="strings/5.7.0",Kk=new vr(Hk);var Cd;(function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"})(Cd||(Cd={}));var G2;(function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"})(G2||(G2={}));function $0(e,t=Cd.current){t!=Cd.current&&(Kk.checkNormalize(),e=e.normalize(t));let r=[];for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=e.charCodeAt(n);if(n>=e.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return $t(r)}function Gk(e){if(e.length%4!==0)throw new Error("bad data");let t=[];for(let r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t}function z0(e,t){t||(t=function(i){return[parseInt(i,16)]});let r=0,n={};return e.split(",").forEach(i=>{let s=i.split(":");r+=parseInt(s[0],16),n[r]=t(s[1])}),n}function V2(e){let t=0;return e.split(",").map(r=>{let n=r.split("-");n.length===1?n[1]="0":n[1]===""&&(n[1]="1");let i=t+parseInt(n[0],16);return t=parseInt(n[1],16),{l:i,h:t}})}V2("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(e=>parseInt(e,16)),z0("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),z0("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),z0("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",Gk),V2("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function Vk(e){e=atob(e);const t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return $t(t)}function T5(e,t){t==null&&(t=1);const r=[],n=r.forEach,i=function(s,o){n.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):r.push(a)})};return i(e,t),r}function Wk(e){const t={};for(let r=0;r<e.length;r++){const n=e[r];t[n[0]]=n[1]}return t}function Yk(e){let t=0;function r(){return e[t++]<<8|e[t++]}let n=r(),i=1,s=[0,1];for(let L=1;L<n;L++)s.push(i+=r());let o=r(),a=t;t+=o;let u=0,c=0;function f(){return u==0&&(c=c<<8|e[t++],u=8),c>>--u&1}const h=31,y=Math.pow(2,h),v=y>>>1,w=v>>1,C=y-1;let N=0;for(let L=0;L<h;L++)N=N<<1|f();let T=[],x=0,O=y;for(;;){let L=Math.floor(((N-x+1)*i-1)/O),$=0,E=n;for(;E-$>1;){let ne=$+E>>>1;L<s[ne]?E=ne:$=ne}if($==0)break;T.push($);let U=x+Math.floor(O*s[$]/i),Z=x+Math.floor(O*s[$+1]/i)-1;for(;!((U^Z)&v);)N=N<<1&C|f(),U=U<<1&C,Z=Z<<1&C|1;for(;U&~Z&w;)N=N&v|N<<1&C>>>1|f(),U=U<<1^v,Z=(Z^v)<<1|v|1;x=U,O=1+Z-U}let k=n-4;return T.map(L=>{switch(L-k){case 3:return k+65792+(e[a++]<<16|e[a++]<<8|e[a++]);case 2:return k+256+(e[a++]<<8|e[a++]);case 1:return k+e[a++];default:return L-1}})}function Qk(e){let t=0;return()=>e[t++]}function Jk(e){return Qk(Yk(e))}function Xk(e){return e&1?~e>>1:e>>1}function Zk(e,t){let r=Array(e);for(let n=0;n<e;n++)r[n]=1+t();return r}function W2(e,t){let r=Array(e);for(let n=0,i=-1;n<e;n++)r[n]=i+=1+t();return r}function eF(e,t){let r=Array(e);for(let n=0,i=0;n<e;n++)r[n]=i+=Xk(t());return r}function Dd(e,t){let r=W2(e(),e),n=e(),i=W2(n,e),s=Zk(n,e);for(let o=0;o<n;o++)for(let a=0;a<s[o];a++)r.push(i[o]+a);return t?r.map(o=>t[o]):r}function tF(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(nF(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(iF(r,e))}return Wk(T5(t))}function rF(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(r)}return t}function N5(e,t,r){let n=Array(e).fill(void 0).map(()=>[]);for(let i=0;i<t;i++)eF(e,r).forEach((s,o)=>n[o].push(s));return n}function nF(e,t){let r=1+t(),n=t(),i=rF(t),s=N5(i.length,1+e,t);return T5(s.map((o,a)=>{const u=o[0],c=o.slice(1);return Array(i[a]).fill(void 0).map((f,h)=>{let y=h*n;return[u+h*r,c.map(v=>v+y)]})}))}function iF(e,t){let r=1+t();return N5(r,1+e,t).map(n=>[n[0],n.slice(1)])}function sF(e){let t=Dd(e).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let c=Dd(e,t);if(c.length==0)break;n.push({set:new Set(c),node:r()})}n.sort((c,f)=>f.set.size-c.set.size);let i=e(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,u=i==2;return{branches:n,valid:s,fe0f:o,save:a,check:u}}}function oF(){return Jk(Vk("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const ff=oF();new Set(Dd(ff)),new Set(Dd(ff)),tF(ff),sF(ff);const aF=new Uint8Array(32);aF.fill(0);const uF=`Ethereum Signed Message:
`;function P5(e){return typeof e=="string"&&(e=$0(e)),Em(kk([$0(uF),$0(String(e.length)),e]))}const cF="address/5.7.0",yc=new vr(cF);function Y2(e){Sn(e,20)||yc.throwArgumentError("invalid address","address",e),e=e.toLowerCase();const t=e.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=t[i].charCodeAt(0);const n=$t(Em(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(t[i]=t[i].toUpperCase()),(n[i>>1]&15)>=8&&(t[i+1]=t[i+1].toUpperCase());return"0x"+t.join("")}const lF=9007199254740991;function fF(e){return Math.log10?Math.log10(e):Math.log(e)/Math.LN10}const Sm={};for(let e=0;e<10;e++)Sm[String(e)]=String(e);for(let e=0;e<26;e++)Sm[String.fromCharCode(65+e)]=String(10+e);const Q2=Math.floor(fF(lF));function dF(e){e=e.toUpperCase(),e=e.substring(4)+e.substring(0,2)+"00";let t=e.split("").map(n=>Sm[n]).join("");for(;t.length>=Q2;){let n=t.substring(0,Q2);t=parseInt(n,10)%97+t.substring(n.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}function hF(e){let t=null;if(typeof e!="string"&&yc.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))e.substring(0,2)!=="0x"&&(e="0x"+e),t=Y2(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&yc.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==dF(e)&&yc.throwArgumentError("bad icap checksum","address",e),t=qk(e.substring(4));t.length<40;)t="0"+t;t=Y2("0x"+t)}else yc.throwArgumentError("invalid address","address",e);return t}function nc(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}const pF=new Uint8Array(32);pF.fill(0),St.from(-1);const gF=St.from(0),mF=St.from(1);St.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Bi(mF.toHexString(),32),Bi(gF.toHexString(),32);var Ei={},ot={},Dl=O5;function O5(e,t){if(!e)throw new Error(t||"Assertion failed")}O5.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var R1={exports:{}};typeof Object.create=="function"?R1.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:R1.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var yF=Dl,vF=R1.exports;ot.inherits=vF;function bF(e,t){return(e.charCodeAt(t)&64512)!==55296||t<0||t+1>=e.length?!1:(e.charCodeAt(t+1)&64512)===56320}function wF(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e=="string")if(t){if(t==="hex")for(e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var s=e.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):bF(e,i)?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128)}else for(i=0;i<e.length;i++)r[i]=e[i]|0;return r}ot.toArray=wF;function EF(e){for(var t="",r=0;r<e.length;r++)t+=F5(e[r].toString(16));return t}ot.toHex=EF;function k5(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}ot.htonl=k5;function _F(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];t==="little"&&(i=k5(i)),r+=B5(i.toString(16))}return r}ot.toHex32=_F;function F5(e){return e.length===1?"0"+e:e}ot.zero2=F5;function B5(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}ot.zero8=B5;function SF(e,t,r,n){var i=r-t;yF(i%4===0);for(var s=new Array(i/4),o=0,a=t;o<s.length;o++,a+=4){var u;n==="big"?u=e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3]:u=e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a],s[o]=u>>>0}return s}ot.join32=SF;function AF(e,t){for(var r=new Array(e.length*4),n=0,i=0;n<e.length;n++,i+=4){var s=e[n];t==="big"?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=s&255):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=s&255)}return r}ot.split32=AF;function IF(e,t){return e>>>t|e<<32-t}ot.rotr32=IF;function xF(e,t){return e<<t|e>>>32-t}ot.rotl32=xF;function MF(e,t){return e+t>>>0}ot.sum32=MF;function RF(e,t,r){return e+t+r>>>0}ot.sum32_3=RF;function CF(e,t,r,n){return e+t+r+n>>>0}ot.sum32_4=CF;function DF(e,t,r,n,i){return e+t+r+n+i>>>0}ot.sum32_5=DF;function TF(e,t,r,n){var i=e[t],s=e[t+1],o=n+s>>>0,a=(o<n?1:0)+r+i;e[t]=a>>>0,e[t+1]=o}ot.sum64=TF;function NF(e,t,r,n){var i=t+n>>>0,s=(i<t?1:0)+e+r;return s>>>0}ot.sum64_hi=NF;function PF(e,t,r,n){var i=t+n;return i>>>0}ot.sum64_lo=PF;function OF(e,t,r,n,i,s,o,a){var u=0,c=t;c=c+n>>>0,u+=c<t?1:0,c=c+s>>>0,u+=c<s?1:0,c=c+a>>>0,u+=c<a?1:0;var f=e+r+i+o+u;return f>>>0}ot.sum64_4_hi=OF;function kF(e,t,r,n,i,s,o,a){var u=t+n+s+a;return u>>>0}ot.sum64_4_lo=kF;function FF(e,t,r,n,i,s,o,a,u,c){var f=0,h=t;h=h+n>>>0,f+=h<t?1:0,h=h+s>>>0,f+=h<s?1:0,h=h+a>>>0,f+=h<a?1:0,h=h+c>>>0,f+=h<c?1:0;var y=e+r+i+o+u+f;return y>>>0}ot.sum64_5_hi=FF;function BF(e,t,r,n,i,s,o,a,u,c){var f=t+n+s+a+c;return f>>>0}ot.sum64_5_lo=BF;function LF(e,t,r){var n=t<<32-r|e>>>r;return n>>>0}ot.rotr64_hi=LF;function UF(e,t,r){var n=e<<32-r|t>>>r;return n>>>0}ot.rotr64_lo=UF;function $F(e,t,r){return e>>>r}ot.shr64_hi=$F;function zF(e,t,r){var n=e<<32-r|t>>>r;return n>>>0}ot.shr64_lo=zF;var Fu={},J2=ot,qF=Dl;function df(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Fu.BlockHash=df,df.prototype.update=function(e,t){if(e=J2.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=J2.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},df.prototype.digest=function(e){return this.update(this._pad()),qF(this.pending===null),this._digest(e)},df.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=e&255}else for(n[i++]=e&255,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,s=8;s<this.padLength;s++)n[i++]=0;return n};var Ca={},Yi={},jF=ot,Li=jF.rotr32;function HF(e,t,r,n){if(e===0)return L5(t,r,n);if(e===1||e===3)return $5(t,r,n);if(e===2)return U5(t,r,n)}Yi.ft_1=HF;function L5(e,t,r){return e&t^~e&r}Yi.ch32=L5;function U5(e,t,r){return e&t^e&r^t&r}Yi.maj32=U5;function $5(e,t,r){return e^t^r}Yi.p32=$5;function KF(e){return Li(e,2)^Li(e,13)^Li(e,22)}Yi.s0_256=KF;function GF(e){return Li(e,6)^Li(e,11)^Li(e,25)}Yi.s1_256=GF;function VF(e){return Li(e,7)^Li(e,18)^e>>>3}Yi.g0_256=VF;function WF(e){return Li(e,17)^Li(e,19)^e>>>10}Yi.g1_256=WF;var yu=ot,YF=Fu,QF=Yi,q0=yu.rotl32,ic=yu.sum32,JF=yu.sum32_5,XF=QF.ft_1,z5=YF.BlockHash,ZF=[1518500249,1859775393,2400959708,3395469782];function xi(){if(!(this instanceof xi))return new xi;z5.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}yu.inherits(xi,z5);var eB=xi;xi.blockSize=512,xi.outSize=160,xi.hmacStrength=80,xi.padLength=64,xi.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=q0(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],u=this.h[4];for(n=0;n<r.length;n++){var c=~~(n/20),f=JF(q0(i,5),XF(c,s,o,a),u,r[n],ZF[c]);u=a,a=o,o=q0(s,30),s=i,i=f}this.h[0]=ic(this.h[0],i),this.h[1]=ic(this.h[1],s),this.h[2]=ic(this.h[2],o),this.h[3]=ic(this.h[3],a),this.h[4]=ic(this.h[4],u)},xi.prototype._digest=function(e){return e==="hex"?yu.toHex32(this.h,"big"):yu.split32(this.h,"big")};var vu=ot,tB=Fu,Bu=Yi,rB=Dl,ti=vu.sum32,nB=vu.sum32_4,iB=vu.sum32_5,sB=Bu.ch32,oB=Bu.maj32,aB=Bu.s0_256,uB=Bu.s1_256,cB=Bu.g0_256,lB=Bu.g1_256,q5=tB.BlockHash,fB=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Mi(){if(!(this instanceof Mi))return new Mi;q5.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=fB,this.W=new Array(64)}vu.inherits(Mi,q5);var j5=Mi;Mi.blockSize=512,Mi.outSize=256,Mi.hmacStrength=192,Mi.padLength=64,Mi.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=nB(lB(r[n-2]),r[n-7],cB(r[n-15]),r[n-16]);var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],u=this.h[4],c=this.h[5],f=this.h[6],h=this.h[7];for(rB(this.k.length===r.length),n=0;n<r.length;n++){var y=iB(h,uB(u),sB(u,c,f),this.k[n],r[n]),v=ti(aB(i),oB(i,s,o));h=f,f=c,c=u,u=ti(a,y),a=o,o=s,s=i,i=ti(y,v)}this.h[0]=ti(this.h[0],i),this.h[1]=ti(this.h[1],s),this.h[2]=ti(this.h[2],o),this.h[3]=ti(this.h[3],a),this.h[4]=ti(this.h[4],u),this.h[5]=ti(this.h[5],c),this.h[6]=ti(this.h[6],f),this.h[7]=ti(this.h[7],h)},Mi.prototype._digest=function(e){return e==="hex"?vu.toHex32(this.h,"big"):vu.split32(this.h,"big")};var C1=ot,H5=j5;function ms(){if(!(this instanceof ms))return new ms;H5.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}C1.inherits(ms,H5);var dB=ms;ms.blockSize=512,ms.outSize=224,ms.hmacStrength=192,ms.padLength=64,ms.prototype._digest=function(e){return e==="hex"?C1.toHex32(this.h.slice(0,7),"big"):C1.split32(this.h.slice(0,7),"big")};var ln=ot,hB=Fu,pB=Dl,Ui=ln.rotr64_hi,$i=ln.rotr64_lo,K5=ln.shr64_hi,G5=ln.shr64_lo,Ls=ln.sum64,j0=ln.sum64_hi,H0=ln.sum64_lo,gB=ln.sum64_4_hi,mB=ln.sum64_4_lo,yB=ln.sum64_5_hi,vB=ln.sum64_5_lo,V5=hB.BlockHash,bB=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ui(){if(!(this instanceof ui))return new ui;V5.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=bB,this.W=new Array(160)}ln.inherits(ui,V5);var W5=ui;ui.blockSize=1024,ui.outSize=512,ui.hmacStrength=192,ui.padLength=128,ui.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=DB(r[n-4],r[n-3]),s=TB(r[n-4],r[n-3]),o=r[n-14],a=r[n-13],u=RB(r[n-30],r[n-29]),c=CB(r[n-30],r[n-29]),f=r[n-32],h=r[n-31];r[n]=gB(i,s,o,a,u,c,f,h),r[n+1]=mB(i,s,o,a,u,c,f,h)}},ui.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],u=this.h[5],c=this.h[6],f=this.h[7],h=this.h[8],y=this.h[9],v=this.h[10],w=this.h[11],C=this.h[12],N=this.h[13],T=this.h[14],x=this.h[15];pB(this.k.length===r.length);for(var O=0;O<r.length;O+=2){var k=T,L=x,$=xB(h,y),E=MB(h,y),U=wB(h,y,v,w,C),Z=EB(h,y,v,w,C,N),ne=this.k[O],q=this.k[O+1],b=r[O],l=r[O+1],d=yB(k,L,$,E,U,Z,ne,q,b,l),m=vB(k,L,$,E,U,Z,ne,q,b,l);k=AB(n,i),L=IB(n,i),$=_B(n,i,s,o,a),E=SB(n,i,s,o,a,u);var A=j0(k,L,$,E),D=H0(k,L,$,E);T=C,x=N,C=v,N=w,v=h,w=y,h=j0(c,f,d,m),y=H0(f,f,d,m),c=a,f=u,a=s,u=o,s=n,o=i,n=j0(d,m,A,D),i=H0(d,m,A,D)}Ls(this.h,0,n,i),Ls(this.h,2,s,o),Ls(this.h,4,a,u),Ls(this.h,6,c,f),Ls(this.h,8,h,y),Ls(this.h,10,v,w),Ls(this.h,12,C,N),Ls(this.h,14,T,x)},ui.prototype._digest=function(e){return e==="hex"?ln.toHex32(this.h,"big"):ln.split32(this.h,"big")};function wB(e,t,r,n,i){var s=e&r^~e&i;return s<0&&(s+=4294967296),s}function EB(e,t,r,n,i,s){var o=t&n^~t&s;return o<0&&(o+=4294967296),o}function _B(e,t,r,n,i){var s=e&r^e&i^r&i;return s<0&&(s+=4294967296),s}function SB(e,t,r,n,i,s){var o=t&n^t&s^n&s;return o<0&&(o+=4294967296),o}function AB(e,t){var r=Ui(e,t,28),n=Ui(t,e,2),i=Ui(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function IB(e,t){var r=$i(e,t,28),n=$i(t,e,2),i=$i(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function xB(e,t){var r=Ui(e,t,14),n=Ui(e,t,18),i=Ui(t,e,9),s=r^n^i;return s<0&&(s+=4294967296),s}function MB(e,t){var r=$i(e,t,14),n=$i(e,t,18),i=$i(t,e,9),s=r^n^i;return s<0&&(s+=4294967296),s}function RB(e,t){var r=Ui(e,t,1),n=Ui(e,t,8),i=K5(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function CB(e,t){var r=$i(e,t,1),n=$i(e,t,8),i=G5(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function DB(e,t){var r=Ui(e,t,19),n=Ui(t,e,29),i=K5(e,t,6),s=r^n^i;return s<0&&(s+=4294967296),s}function TB(e,t){var r=$i(e,t,19),n=$i(t,e,29),i=G5(e,t,6),s=r^n^i;return s<0&&(s+=4294967296),s}var D1=ot,Y5=W5;function ys(){if(!(this instanceof ys))return new ys;Y5.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}D1.inherits(ys,Y5);var NB=ys;ys.blockSize=1024,ys.outSize=384,ys.hmacStrength=192,ys.padLength=128,ys.prototype._digest=function(e){return e==="hex"?D1.toHex32(this.h.slice(0,12),"big"):D1.split32(this.h.slice(0,12),"big")},Ca.sha1=eB,Ca.sha224=dB,Ca.sha256=j5,Ca.sha384=NB,Ca.sha512=W5;var Q5={},Ko=ot,PB=Fu,hf=Ko.rotl32,X2=Ko.sum32,sc=Ko.sum32_3,Z2=Ko.sum32_4,J5=PB.BlockHash;function _i(){if(!(this instanceof _i))return new _i;J5.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Ko.inherits(_i,J5),Q5.ripemd160=_i,_i.blockSize=512,_i.outSize=160,_i.hmacStrength=192,_i.padLength=64,_i.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],s=this.h[3],o=this.h[4],a=r,u=n,c=i,f=s,h=o,y=0;y<80;y++){var v=X2(hf(Z2(r,eb(y,n,i,s),e[FB[y]+t],OB(y)),LB[y]),o);r=o,o=s,s=hf(i,10),i=n,n=v,v=X2(hf(Z2(a,eb(79-y,u,c,f),e[BB[y]+t],kB(y)),UB[y]),h),a=h,h=f,f=hf(c,10),c=u,u=v}v=sc(this.h[1],i,f),this.h[1]=sc(this.h[2],s,h),this.h[2]=sc(this.h[3],o,a),this.h[3]=sc(this.h[4],r,u),this.h[4]=sc(this.h[0],n,c),this.h[0]=v},_i.prototype._digest=function(e){return e==="hex"?Ko.toHex32(this.h,"little"):Ko.split32(this.h,"little")};function eb(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function OB(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function kB(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var FB=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],BB=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],LB=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],UB=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],$B=ot,zB=Dl;function ru(e,t,r){if(!(this instanceof ru))return new ru(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init($B.toArray(t,r))}var qB=ru;ru.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),zB(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)},ru.prototype.update=function(e,t){return this.inner.update(e,t),this},ru.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=ot,t.common=Fu,t.sha=Ca,t.ripemd=Q5,t.hmac=qB,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(Ei);function Lu(e,t,r){return r={path:t,exports:{},require:function(n,i){return jB(n,i??r.path)}},e(r,r.exports),r.exports}function jB(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Am=X5;function X5(e,t){if(!e)throw new Error(t||"Assertion failed")}X5.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var li=Lu(function(e,t){var r=t;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var u=[];if(typeof o!="string"){for(var c=0;c<o.length;c++)u[c]=o[c]|0;return u}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var c=0;c<o.length;c+=2)u.push(parseInt(o[c]+o[c+1],16))}else for(var c=0;c<o.length;c++){var f=o.charCodeAt(c),h=f>>8,y=f&255;h?u.push(h,y):u.push(y)}return u}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",u=0;u<o.length;u++)a+=i(o[u].toString(16));return a}r.toHex=s,r.encode=function(o,a){return a==="hex"?s(o):o}}),In=Lu(function(e,t){var r=t;r.assert=Am,r.toArray=li.toArray,r.zero2=li.zero2,r.toHex=li.toHex,r.encode=li.encode;function n(u,c,f){var h=new Array(Math.max(u.bitLength(),f)+1);h.fill(0);for(var y=1<<c+1,v=u.clone(),w=0;w<h.length;w++){var C,N=v.andln(y-1);v.isOdd()?(N>(y>>1)-1?C=(y>>1)-N:C=N,v.isubn(C)):C=0,h[w]=C,v.iushrn(1)}return h}r.getNAF=n;function i(u,c){var f=[[],[]];u=u.clone(),c=c.clone();for(var h=0,y=0,v;u.cmpn(-h)>0||c.cmpn(-y)>0;){var w=u.andln(3)+h&3,C=c.andln(3)+y&3;w===3&&(w=-1),C===3&&(C=-1);var N;w&1?(v=u.andln(7)+h&7,(v===3||v===5)&&C===2?N=-w:N=w):N=0,f[0].push(N);var T;C&1?(v=c.andln(7)+y&7,(v===3||v===5)&&w===2?T=-C:T=C):T=0,f[1].push(T),2*h===N+1&&(h=1-h),2*y===T+1&&(y=1-y),u.iushrn(1),c.iushrn(1)}return f}r.getJSF=i;function s(u,c,f){var h="_"+c;u.prototype[c]=function(){return this[h]!==void 0?this[h]:this[h]=f.call(this)}}r.cachedProperty=s;function o(u){return typeof u=="string"?r.toArray(u,"hex"):u}r.parseBytes=o;function a(u){return new Ye(u,"hex","le")}r.intFromLE=a}),pf=In.getNAF,HB=In.getJSF,Td=In.assert;function Gs(e,t){this.type=e,this.p=new Ye(t.p,16),this.red=t.prime?Ye.red(t.prime):Ye.mont(this.p),this.zero=new Ye(0).toRed(this.red),this.one=new Ye(1).toRed(this.red),this.two=new Ye(2).toRed(this.red),this.n=t.n&&new Ye(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var pa=Gs;Gs.prototype.point=function(){throw new Error("Not implemented")},Gs.prototype.validate=function(){throw new Error("Not implemented")},Gs.prototype._fixedNafMul=function(e,t){Td(e.precomputed);var r=e._getDoubles(),n=pf(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2===0?2:1);i/=3;var s=[],o,a;for(o=0;o<n.length;o+=r.step){a=0;for(var u=o+r.step-1;u>=o;u--)a=(a<<1)+n[u];s.push(a)}for(var c=this.jpoint(null,null,null),f=this.jpoint(null,null,null),h=i;h>0;h--){for(o=0;o<s.length;o++)a=s[o],a===h?f=f.mixedAdd(r.points[o]):a===-h&&(f=f.mixedAdd(r.points[o].neg()));c=c.add(f)}return c.toP()},Gs.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=pf(t,r,this._bitLength),o=this.jpoint(null,null,null),a=s.length-1;a>=0;a--){for(var u=0;a>=0&&s[a]===0;a--)u++;if(a>=0&&u++,o=o.dblp(u),a<0)break;var c=s[a];Td(c!==0),e.type==="affine"?c>0?o=o.mixedAdd(i[c-1>>1]):o=o.mixedAdd(i[-c-1>>1].neg()):c>0?o=o.add(i[c-1>>1]):o=o.add(i[-c-1>>1].neg())}return e.type==="affine"?o.toP():o},Gs.prototype._wnafMulAdd=function(e,t,r,n,i){var s=this._wnafT1,o=this._wnafT2,a=this._wnafT3,u=0,c,f,h;for(c=0;c<n;c++){h=t[c];var y=h._getNAFPoints(e);s[c]=y.wnd,o[c]=y.points}for(c=n-1;c>=1;c-=2){var v=c-1,w=c;if(s[v]!==1||s[w]!==1){a[v]=pf(r[v],s[v],this._bitLength),a[w]=pf(r[w],s[w],this._bitLength),u=Math.max(a[v].length,u),u=Math.max(a[w].length,u);continue}var C=[t[v],null,null,t[w]];t[v].y.cmp(t[w].y)===0?(C[1]=t[v].add(t[w]),C[2]=t[v].toJ().mixedAdd(t[w].neg())):t[v].y.cmp(t[w].y.redNeg())===0?(C[1]=t[v].toJ().mixedAdd(t[w]),C[2]=t[v].add(t[w].neg())):(C[1]=t[v].toJ().mixedAdd(t[w]),C[2]=t[v].toJ().mixedAdd(t[w].neg()));var N=[-3,-1,-5,-7,0,7,5,1,3],T=HB(r[v],r[w]);for(u=Math.max(T[0].length,u),a[v]=new Array(u),a[w]=new Array(u),f=0;f<u;f++){var x=T[0][f]|0,O=T[1][f]|0;a[v][f]=N[(x+1)*3+(O+1)],a[w][f]=0,o[v]=C}}var k=this.jpoint(null,null,null),L=this._wnafT4;for(c=u;c>=0;c--){for(var $=0;c>=0;){var E=!0;for(f=0;f<n;f++)L[f]=a[f][c]|0,L[f]!==0&&(E=!1);if(!E)break;$++,c--}if(c>=0&&$++,k=k.dblp($),c<0)break;for(f=0;f<n;f++){var U=L[f];U!==0&&(U>0?h=o[f][U-1>>1]:U<0&&(h=o[f][-U-1>>1].neg()),h.type==="affine"?k=k.mixedAdd(h):k=k.add(h))}}for(c=0;c<n;c++)o[c]=null;return i?k:k.toP()};function Fn(e,t){this.curve=e,this.type=t,this.precomputed=null}Gs.BasePoint=Fn,Fn.prototype.eq=function(){throw new Error("Not implemented")},Fn.prototype.validate=function(){return this.curve.validate(this)},Gs.prototype.decodePoint=function(e,t){e=In.toArray(e,t);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*r){e[0]===6?Td(e[e.length-1]%2===0):e[0]===7&&Td(e[e.length-1]%2===1);var n=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return n}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")},Fn.prototype.encodeCompressed=function(e){return this.encode(e,!0)},Fn.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},Fn.prototype.encode=function(e,t){return In.encode(this._encode(t),e)},Fn.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},Fn.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1},Fn.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var s=0;s<e;s++)n=n.dbl();r.push(n)}return{step:e,points:r}},Fn.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=r===1?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},Fn.prototype._getBeta=function(){return null},Fn.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var Im=Lu(function(e){typeof Object.create=="function"?e.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}}),KB=In.assert;function qn(e){pa.call(this,"short",e),this.a=new Ye(e.a,16).toRed(this.red),this.b=new Ye(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Im(qn,pa);var GB=qn;qn.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,r;if(e.beta)t=new Ye(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=n[0].cmp(n[1])<0?n[0]:n[1],t=t.toRed(this.red)}if(e.lambda)r=new Ye(e.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))===0?r=i[0]:(r=i[1],KB(this.g.mul(r).x.cmp(this.g.x.redMul(t))===0))}var s;return e.basis?s=e.basis.map(function(o){return{a:new Ye(o.a,16),b:new Ye(o.b,16)}}):s=this._getEndoBasis(r),{beta:t,lambda:r,basis:s}}},qn.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Ye.mont(e),r=new Ye(2).toRed(t).redInvm(),n=r.redNeg(),i=new Ye(3).toRed(t).redNeg().redSqrt().redMul(r),s=n.redAdd(i).fromRed(),o=n.redSub(i).fromRed();return[s,o]},qn.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,n=this.n.clone(),i=new Ye(1),s=new Ye(0),o=new Ye(0),a=new Ye(1),u,c,f,h,y,v,w,C=0,N,T;r.cmpn(0)!==0;){var x=n.div(r);N=n.sub(x.mul(r)),T=o.sub(x.mul(i));var O=a.sub(x.mul(s));if(!f&&N.cmp(t)<0)u=w.neg(),c=i,f=N.neg(),h=T;else if(f&&++C===2)break;w=N,n=r,r=N,o=i,i=T,a=s,s=O}y=N.neg(),v=T;var k=f.sqr().add(h.sqr()),L=y.sqr().add(v.sqr());return L.cmp(k)>=0&&(y=u,v=c),f.negative&&(f=f.neg(),h=h.neg()),y.negative&&(y=y.neg(),v=v.neg()),[{a:f,b:h},{a:y,b:v}]},qn.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),s=r.b.neg().mul(e).divRound(this.n),o=i.mul(r.a),a=s.mul(n.a),u=i.mul(r.b),c=s.mul(n.b),f=e.sub(o).sub(a),h=u.add(c).neg();return{k1:f,k2:h}},qn.prototype.pointFromX=function(e,t){e=new Ye(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(n.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},qn.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return r.redSqr().redISub(i).cmpn(0)===0},qn.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(t[s]),a=e[s],u=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),u=u.neg(!0)),n[s*2]=a,n[s*2+1]=u,i[s*2]=o.k1,i[s*2+1]=o.k2}for(var c=this._wnafMulAdd(1,n,i,s*2,r),f=0;f<s*2;f++)n[f]=null,i[f]=null;return c};function ir(e,t,r,n){pa.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ye(t,16),this.y=new Ye(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Im(ir,pa.BasePoint),qn.prototype.point=function(e,t,r){return new ir(this,e,t,r)},qn.prototype.pointFromJSON=function(e,t){return ir.fromJSON(this,e,t)},ir.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(i){return r.point(i.x.redMul(r.endo.beta),i.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},ir.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},ir.fromJSON=function(e,t,r){typeof t=="string"&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(o){return e.point(o[0],o[1],r)}var s=t[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(i))}},n},ir.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},ir.prototype.isInfinity=function(){return this.inf},ir.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},ir.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),s=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},ir.prototype.getX=function(){return this.x.fromRed()},ir.prototype.getY=function(){return this.y.fromRed()},ir.prototype.mul=function(e){return e=new Ye(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},ir.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},ir.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},ir.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},ir.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(i){return i.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},ir.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function gr(e,t,r,n){pa.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ye(0)):(this.x=new Ye(t,16),this.y=new Ye(r,16),this.z=new Ye(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Im(gr,pa.BasePoint),qn.prototype.jpoint=function(e,t,r){return new gr(this,e,t,r)},gr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},gr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},gr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),s=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=s.redSub(o);if(a.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),f=c.redMul(a),h=n.redMul(c),y=u.redSqr().redIAdd(f).redISub(h).redISub(h),v=u.redMul(h.redISub(y)).redISub(s.redMul(f)),w=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(y,v,w)},gr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,s=e.y.redMul(t).redMul(this.z),o=r.redSub(n),a=i.redSub(s);if(o.cmpn(0)===0)return a.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),c=u.redMul(o),f=r.redMul(u),h=a.redSqr().redIAdd(c).redISub(f).redISub(f),y=a.redMul(f.redISub(h)).redISub(i.redMul(c)),v=this.z.redMul(o);return this.curve.jpoint(h,y,v)},gr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,s=this.x,o=this.y,a=this.z,u=a.redSqr().redSqr(),c=o.redAdd(o);for(t=0;t<e;t++){var f=s.redSqr(),h=c.redSqr(),y=h.redSqr(),v=f.redAdd(f).redIAdd(f).redIAdd(n.redMul(u)),w=s.redMul(h),C=v.redSqr().redISub(w.redAdd(w)),N=w.redISub(C),T=v.redMul(N);T=T.redIAdd(T).redISub(y);var x=c.redMul(a);t+1<e&&(u=u.redMul(y)),s=C,a=x,c=T}return this.curve.jpoint(s,c.redMul(i),a)},gr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},gr.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(o).redISub(o),c=s.redIAdd(s);c=c.redIAdd(c),c=c.redIAdd(c),e=u,t=a.redMul(o.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),h=this.y.redSqr(),y=h.redSqr(),v=this.x.redAdd(h).redSqr().redISub(f).redISub(y);v=v.redIAdd(v);var w=f.redAdd(f).redIAdd(f),C=w.redSqr(),N=y.redIAdd(y);N=N.redIAdd(N),N=N.redIAdd(N),e=C.redISub(v).redISub(v),t=w.redMul(v.redISub(e)).redISub(N),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,t,r)},gr.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(o).redISub(o);e=u;var c=s.redIAdd(s);c=c.redIAdd(c),c=c.redIAdd(c),t=a.redMul(o.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),h=this.y.redSqr(),y=this.x.redMul(h),v=this.x.redSub(f).redMul(this.x.redAdd(f));v=v.redAdd(v).redIAdd(v);var w=y.redIAdd(y);w=w.redIAdd(w);var C=w.redAdd(w);e=v.redSqr().redISub(C),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(f);var N=h.redSqr();N=N.redIAdd(N),N=N.redIAdd(N),N=N.redIAdd(N),t=v.redMul(w.redISub(e)).redISub(N)}return this.curve.jpoint(e,t,r)},gr.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),s=t.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(i)),u=t.redAdd(t);u=u.redIAdd(u);var c=u.redMul(o),f=a.redSqr().redISub(c.redAdd(c)),h=c.redISub(f),y=o.redSqr();y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y);var v=a.redMul(h).redISub(y),w=r.redAdd(r).redMul(n);return this.curve.jpoint(f,v,w)},gr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),s=i.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(n);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(s);var a=o.redSqr(),u=n.redIAdd(n);u=u.redIAdd(u),u=u.redIAdd(u),u=u.redIAdd(u);var c=i.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(u),f=t.redMul(c);f=f.redIAdd(f),f=f.redIAdd(f);var h=this.x.redMul(a).redISub(f);h=h.redIAdd(h),h=h.redIAdd(h);var y=this.y.redMul(c.redMul(u.redISub(c)).redISub(o.redMul(a)));y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y);var v=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,y,v)},gr.prototype.mul=function(e,t){return e=new Ye(e,t),this.curve._wnafMul(this,e)},gr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)===0},gr.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}},gr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},gr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var $f=Lu(function(e,t){var r=t;r.base=pa,r.short=GB,r.mont=null,r.edwards=null}),zf=Lu(function(e,t){var r=t,n=In.assert;function i(a){a.type==="short"?this.curve=new $f.short(a):a.type==="edwards"?this.curve=new $f.edwards(a):this.curve=new $f.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,u){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var c=new i(u);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:c}),c}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Ei.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Ei.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Ei.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Ei.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Ei.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ei.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ei.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Ei.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function Vs(e){if(!(this instanceof Vs))return new Vs(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=li.toArray(e.entropy,e.entropyEnc||"hex"),r=li.toArray(e.nonce,e.nonceEnc||"hex"),n=li.toArray(e.pers,e.persEnc||"hex");Am(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var tb=Vs;Vs.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},Vs.prototype._hmac=function(){return new Ei.hmac(this.hash,this.K)},Vs.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},Vs.prototype.reseed=function(e,t,r,n){typeof t!="string"&&(n=r,r=t,t=null),e=li.toArray(e,t),r=li.toArray(r,n),Am(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},Vs.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(n=r,r=t,t=null),r&&(r=li.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var s=i.slice(0,e);return this._update(r),this._reseed++,li.encode(s,t)};var K0=In.assert;function Cr(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var G0=Cr;Cr.fromPublic=function(e,t,r){return t instanceof Cr?t:new Cr(e,{pub:t,pubEnc:r})},Cr.fromPrivate=function(e,t,r){return t instanceof Cr?t:new Cr(e,{priv:t,privEnc:r})},Cr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Cr.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},Cr.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv},Cr.prototype._importPrivate=function(e,t){this.priv=new Ye(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},Cr.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?K0(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&K0(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},Cr.prototype.derive=function(e){return e.validate()||K0(e.validate(),"public point not validated"),e.mul(this.priv).getX()},Cr.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},Cr.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},Cr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var VB=In.assert;function Th(e,t){if(e instanceof Th)return e;this._importDER(e,t)||(VB(e.r&&e.s,"Signature without r or s"),this.r=new Ye(e.r,16),this.s=new Ye(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var gf=Th;function WB(){this.place=0}function V0(e,t){var r=e[t.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,s=0,o=t.place;s<n;s++,o++)i<<=8,i|=e[o],i>>>=0;return i<=127?!1:(t.place=o,i)}function rb(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}Th.prototype._importDER=function(e,t){e=In.toArray(e,t);var r=new WB;if(e[r.place++]!==48)return!1;var n=V0(e,r);if(n===!1||n+r.place!==e.length||e[r.place++]!==2)return!1;var i=V0(e,r);if(i===!1)return!1;var s=e.slice(r.place,i+r.place);if(r.place+=i,e[r.place++]!==2)return!1;var o=V0(e,r);if(o===!1||e.length!==o+r.place)return!1;var a=e.slice(r.place,o+r.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;return this.r=new Ye(s),this.s=new Ye(a),this.recoveryParam=null,!0};function W0(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}Th.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),r[0]&128&&(r=[0].concat(r)),t=rb(t),r=rb(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var n=[2];W0(n,t.length),n=n.concat(t),n.push(2),W0(n,r.length);var i=n.concat(r),s=[48];return W0(s,i.length),s=s.concat(i),In.encode(s,e)};var YB=function(){throw new Error("unsupported")},Z5=In.assert;function $n(e){if(!(this instanceof $n))return new $n(e);typeof e=="string"&&(Z5(Object.prototype.hasOwnProperty.call(zf,e),"Unknown curve "+e),e=zf[e]),e instanceof zf.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var QB=$n;$n.prototype.keyPair=function(e){return new G0(this,e)},$n.prototype.keyFromPrivate=function(e,t){return G0.fromPrivate(this,e,t)},$n.prototype.keyFromPublic=function(e,t){return G0.fromPublic(this,e,t)},$n.prototype.genKeyPair=function(e){e||(e={});for(var t=new tb({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||YB(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new Ye(2));;){var i=new Ye(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},$n.prototype._truncateToN=function(e,t){var r=e.byteLength()*8-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},$n.prototype.sign=function(e,t,r,n){typeof r=="object"&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new Ye(e,16));for(var i=this.n.byteLength(),s=t.getPrivate().toArray("be",i),o=e.toArray("be",i),a=new tb({hash:this.hash,entropy:s,nonce:o,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new Ye(1)),c=0;;c++){var f=n.k?n.k(c):new Ye(a.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(u)>=0)){var h=this.g.mul(f);if(!h.isInfinity()){var y=h.getX(),v=y.umod(this.n);if(v.cmpn(0)!==0){var w=f.invm(this.n).mul(v.mul(t.getPrivate()).iadd(e));if(w=w.umod(this.n),w.cmpn(0)!==0){var C=(h.getY().isOdd()?1:0)|(y.cmp(v)!==0?2:0);return n.canonical&&w.cmp(this.nh)>0&&(w=this.n.sub(w),C^=1),new gf({r:v,s:w,recoveryParam:C})}}}}}},$n.prototype.verify=function(e,t,r,n){e=this._truncateToN(new Ye(e,16)),r=this.keyFromPublic(r,n),t=new gf(t,"hex");var i=t.r,s=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o=s.invm(this.n),a=o.mul(e).umod(this.n),u=o.mul(i).umod(this.n),c;return this.curve._maxwellTrick?(c=this.g.jmulAdd(a,r.getPublic(),u),c.isInfinity()?!1:c.eqXToP(i)):(c=this.g.mulAdd(a,r.getPublic(),u),c.isInfinity()?!1:c.getX().umod(this.n).cmp(i)===0)},$n.prototype.recoverPubKey=function(e,t,r,n){Z5((3&r)===r,"The recovery param is more than two bits"),t=new gf(t,n);var i=this.n,s=new Ye(e),o=t.r,a=t.s,u=r&1,c=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?o=this.curve.pointFromX(o.add(this.curve.n),u):o=this.curve.pointFromX(o,u);var f=t.r.invm(i),h=i.sub(s).mul(f).umod(i),y=a.mul(f).umod(i);return this.g.mulAdd(h,o,y)},$n.prototype.getKeyRecoveryParam=function(e,t,r,n){if(t=new gf(t,n),t.recoveryParam!==null)return t.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(e,t,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var JB=Lu(function(e,t){var r=t;r.version="6.5.4",r.utils=In,r.rand=function(){throw new Error("unsupported")},r.curve=$f,r.curves=zf,r.ec=QB,r.eddsa=null}),XB=JB.ec;const ZB="signing-key/5.7.0",T1=new vr(ZB);let Y0=null;function qs(){return Y0||(Y0=new XB("secp256k1")),Y0}class eL{constructor(t){nc(this,"curve","secp256k1"),nc(this,"privateKey",en(t)),Bk(this.privateKey)!==32&&T1.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=qs().keyFromPrivate($t(this.privateKey));nc(this,"publicKey","0x"+r.getPublic(!1,"hex")),nc(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),nc(this,"_isSigningKey",!0)}_addPoint(t){const r=qs().keyFromPublic($t(this.publicKey)),n=qs().keyFromPublic($t(t));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(t){const r=qs().keyFromPrivate($t(this.privateKey)),n=$t(t);n.length!==32&&T1.throwArgumentError("bad digest length","digest",t);const i=r.sign(n,{canonical:!0});return A5({recoveryParam:i.recoveryParam,r:Bi("0x"+i.r.toString(16),32),s:Bi("0x"+i.s.toString(16),32)})}computeSharedSecret(t){const r=qs().keyFromPrivate($t(this.privateKey)),n=qs().keyFromPublic($t(eE(t)));return Bi("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(t){return!!(t&&t._isSigningKey)}}function tL(e,t){const r=A5(t),n={r:$t(r.r),s:$t(r.s)};return"0x"+qs().recoverPubKey($t(e),n,r.recoveryParam).encode("hex",!1)}function eE(e,t){const r=$t(e);return r.length===32?new eL(r).publicKey:r.length===33?"0x"+qs().keyFromPublic(r).getPublic(!1,"hex"):r.length===65?en(r):T1.throwArgumentError("invalid public or private key","key","[REDACTED]")}var nb;(function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"})(nb||(nb={}));function rL(e){const t=eE(e);return hF(q2(Em(q2(t,1)),12))}function nL(e,t){return rL(tL($t(e),t))}const iL="https://rpc.walletconnect.org/v1";async function sL(e,t,r,n,i,s){switch(r.t){case"eip191":return oL(e,t,r.s);case"eip1271":return await aL(e,t,r.s,n,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}function oL(e,t,r){return nL(P5(t),r).toLowerCase()===e.toLowerCase()}async function aL(e,t,r,n,i,s){try{const o="0x1626ba7e",a="0000000000000000000000000000000000000000000000000000000000000040",u="0000000000000000000000000000000000000000000000000000000000000041",c=r.substring(2),f=P5(t).substring(2),h=o+f+a+u+c,y=await fetch(`${s||iL}/?chainId=${n}&projectId=${i}`,{method:"POST",body:JSON.stringify({id:uL(),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:h},"latest"]})}),{result:v}=await y.json();return v?v.slice(0,o.length).toLowerCase()===o.toLowerCase():!1}catch(o){return console.error("isValidEip1271Signature: ",o),!1}}function uL(){return Date.now()+Math.floor(Math.random()*1e3)}var cL=Object.defineProperty,lL=Object.defineProperties,fL=Object.getOwnPropertyDescriptors,ib=Object.getOwnPropertySymbols,dL=Object.prototype.hasOwnProperty,hL=Object.prototype.propertyIsEnumerable,sb=(e,t,r)=>t in e?cL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,pL=(e,t)=>{for(var r in t||(t={}))dL.call(t,r)&&sb(e,r,t[r]);if(ib)for(var r of ib(t))hL.call(t,r)&&sb(e,r,t[r]);return e},gL=(e,t)=>lL(e,fL(t));const mL="did:pkh:",xm=e=>e==null?void 0:e.split(":"),tE=e=>{const t=e&&xm(e);if(t)return e.includes(mL)?t[3]:t[1]},ob=e=>{const t=e&&xm(e);if(t)return t[2]+":"+t[3]},Nd=e=>{const t=e&&xm(e);if(t)return t.pop()};async function ab(e){const{cacao:t,projectId:r}=e,{s:n,p:i}=t,s=rE(i,i.iss),o=Nd(i.iss);return await sL(o,s,n,tE(i.iss),r)}const rE=(e,t)=>{const r=`${e.domain} wants you to sign in with your Ethereum account:`,n=Nd(t);if(!e.aud&&!e.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=e.statement||void 0;const s=`URI: ${e.aud||e.uri}`,o=`Version: ${e.version}`,a=`Chain ID: ${tE(t)}`,u=`Nonce: ${e.nonce}`,c=`Issued At: ${e.iat}`,f=e.exp?`Expiration Time: ${e.exp}`:void 0,h=e.nbf?`Not Before: ${e.nbf}`:void 0,y=e.requestId?`Request ID: ${e.requestId}`:void 0,v=e.resources?`Resources:${e.resources.map(C=>`
- ${C}`).join("")}`:void 0,w=qf(e.resources);if(w){const C=ll(w);i=IL(i,C)}return[r,n,"",i,"",s,o,a,u,c,f,h,y,v].filter(C=>C!=null).join(`
`)};function yL(e){return Buffer.from(JSON.stringify(e)).toString("base64")}function vL(e){return JSON.parse(Buffer.from(e,"base64").toString("utf-8"))}function na(e){if(!e)throw new Error("No recap provided, value is undefined");if(!e.att)throw new Error("No `att` property found");const t=Object.keys(e.att);if(!(t!=null&&t.length))throw new Error("No resources found in `att` property");t.forEach(r=>{const n=e.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(i=>{const s=n[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function bL(e,t,r,n={}){return r==null||r.sort((i,s)=>i.localeCompare(s)),{att:{[e]:wL(t,r,n)}}}function wL(e,t,r={}){t=t==null?void 0:t.sort((i,s)=>i.localeCompare(s));const n=t.map(i=>({[`${e}/${i}`]:[r]}));return Object.assign({},...n)}function nE(e){return na(e),`urn:recap:${yL(e).replace(/=/g,"")}`}function ll(e){const t=vL(e.replace("urn:recap:",""));return na(t),t}function EL(e,t,r){const n=bL(e,t,r);return nE(n)}function _L(e){return e&&e.includes("urn:recap:")}function SL(e,t){const r=ll(e),n=ll(t),i=AL(r,n);return nE(i)}function AL(e,t){na(e),na(t);const r=Object.keys(e.att).concat(Object.keys(t.att)).sort((i,s)=>i.localeCompare(s)),n={att:{}};return r.forEach(i=>{var s,o;Object.keys(((s=e.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=t.att)==null?void 0:o[i])||{})).sort((a,u)=>a.localeCompare(u)).forEach(a=>{var u,c;n.att[i]=gL(pL({},n.att[i]),{[a]:((u=e.att[i])==null?void 0:u[a])||((c=t.att[i])==null?void 0:c[a])})})}),n}function IL(e="",t){na(t);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(r))return e;const n=[];let i=0;Object.keys(t.att).forEach(a=>{const u=Object.keys(t.att[a]).map(h=>({ability:h.split("/")[0],action:h.split("/")[1]}));u.sort((h,y)=>h.action.localeCompare(y.action));const c={};u.forEach(h=>{c[h.ability]||(c[h.ability]=[]),c[h.ability].push(h.action)});const f=Object.keys(c).map(h=>(i++,`(${i}) '${h}': '${c[h].join("', '")}' for '${a}'.`));n.push(f.join(", ").replace(".,","."))});const s=n.join(" "),o=`${r}${s}`;return`${e?e+" ":""}${o}`}function ub(e){var t;const r=ll(e);na(r);const n=(t=r.att)==null?void 0:t.eip155;return n?Object.keys(n).map(i=>i.split("/")[1]):[]}function cb(e){const t=ll(e);na(t);const r=[];return Object.values(t.att).forEach(n=>{Object.values(n).forEach(i=>{var s;(s=i==null?void 0:i[0])!=null&&s.chains&&r.push(i[0].chains)})}),[...new Set(r.flat())]}function qf(e){if(!e)return;const t=e==null?void 0:e[e.length-1];return _L(t)?t:void 0}const iE="base10",$r="base16",Js="base64pad",oc="base64url",Tl="utf8",sE=0,Ss=1,Nl=2,xL=0,lb=1,Nc=12,Mm=32;function ML(){const e=fm.generateKeyPair();return{privateKey:lr(e.secretKey,$r),publicKey:lr(e.publicKey,$r)}}function N1(){const e=mo.randomBytes(Mm);return lr(e,$r)}function RL(e,t){const r=fm.sharedKey(ur(e,$r),ur(t,$r),!0),n=new KN(Il.SHA256,r).expand(Mm);return lr(n,$r)}function jf(e){const t=Il.hash(ur(e,$r));return lr(t,$r)}function ps(e){const t=Il.hash(ur(e,Tl));return lr(t,$r)}function oE(e){return ur(`${e}`,iE)}function ia(e){return Number(lr(e,iE))}function CL(e){const t=oE(typeof e.type<"u"?e.type:sE);if(ia(t)===Ss&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof e.senderPublicKey<"u"?ur(e.senderPublicKey,$r):void 0,n=typeof e.iv<"u"?ur(e.iv,$r):mo.randomBytes(Nc),i=new cm.ChaCha20Poly1305(ur(e.symKey,$r)).seal(n,ur(e.message,Tl));return aE({type:t,sealed:i,iv:n,senderPublicKey:r,encoding:e.encoding})}function DL(e,t){const r=oE(Nl),n=mo.randomBytes(Nc),i=ur(e,Tl);return aE({type:r,sealed:i,iv:n,encoding:t})}function TL(e){const t=new cm.ChaCha20Poly1305(ur(e.symKey,$r)),{sealed:r,iv:n}=fl({encoded:e.encoded,encoding:e==null?void 0:e.encoding}),i=t.open(n,r);if(i===null)throw new Error("Failed to decrypt");return lr(i,Tl)}function NL(e,t){const{sealed:r}=fl({encoded:e,encoding:t});return lr(r,Tl)}function aE(e){const{encoding:t=Js}=e;if(ia(e.type)===Nl)return lr(Lf([e.type,e.sealed]),t);if(ia(e.type)===Ss){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return lr(Lf([e.type,e.senderPublicKey,e.iv,e.sealed]),t)}return lr(Lf([e.type,e.iv,e.sealed]),t)}function fl(e){const{encoded:t,encoding:r=Js}=e,n=ur(t,r),i=n.slice(xL,lb),s=lb;if(ia(i)===Ss){const c=s+Mm,f=c+Nc,h=n.slice(s,c),y=n.slice(c,f),v=n.slice(f);return{type:i,sealed:v,iv:y,senderPublicKey:h}}if(ia(i)===Nl){const c=n.slice(s),f=mo.randomBytes(Nc);return{type:i,sealed:c,iv:f}}const o=s+Nc,a=n.slice(s,o),u=n.slice(o);return{type:i,sealed:u,iv:a}}function PL(e,t){const r=fl({encoded:e,encoding:t==null?void 0:t.encoding});return uE({type:ia(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?lr(r.senderPublicKey,$r):void 0,receiverPublicKey:t==null?void 0:t.receiverPublicKey})}function uE(e){const t=(e==null?void 0:e.type)||sE;if(t===Ss){if(typeof(e==null?void 0:e.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(e==null?void 0:e.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e==null?void 0:e.senderPublicKey,receiverPublicKey:e==null?void 0:e.receiverPublicKey}}function fb(e){return e.type===Ss&&typeof e.senderPublicKey=="string"&&typeof e.receiverPublicKey=="string"}function db(e){return e.type===Nl}function OL(e){return new dm.ec("p256").keyFromPublic({x:Buffer.from(e.x,"base64").toString("hex"),y:Buffer.from(e.y,"base64").toString("hex")},"hex")}function kL(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");const r=t.length%4;return r>0&&(t+="=".repeat(4-r)),t}function FL(e){return Buffer.from(kL(e),"base64")}function BL(e,t){const[r,n,i]=e.split("."),s=FL(i);if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32).toString("hex"),a=s.slice(32,64).toString("hex"),u=`${r}.${n}`,c=new Il.SHA256().update(Buffer.from(u)).digest(),f=OL(t),h=Buffer.from(c).toString("hex");if(!f.verify(h,{r:o,s:a}))throw new Error("Invalid signature");return b1(e).payload}const LL="irn";function P1(e){return(e==null?void 0:e.relay)||{protocol:LL}}function vc(e){const t=uk[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}var UL=Object.defineProperty,$L=Object.defineProperties,zL=Object.getOwnPropertyDescriptors,hb=Object.getOwnPropertySymbols,qL=Object.prototype.hasOwnProperty,jL=Object.prototype.propertyIsEnumerable,pb=(e,t,r)=>t in e?UL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,gb=(e,t)=>{for(var r in t||(t={}))qL.call(t,r)&&pb(e,r,t[r]);if(hb)for(var r of hb(t))jL.call(t,r)&&pb(e,r,t[r]);return e},HL=(e,t)=>$L(e,zL(t));function KL(e,t="-"){const r={},n="relay"+t;return Object.keys(e).forEach(i=>{if(i.startsWith(n)){const s=i.replace(n,""),o=e[i];r[s]=o}}),r}function mb(e){if(!e.includes("wc:")){const u=w5(e);u!=null&&u.includes("wc:")&&(e=u)}e=e.includes("wc://")?e.replace("wc://",""):e,e=e.includes("wc:")?e.replace("wc:",""):e;const t=e.indexOf(":"),r=e.indexOf("?")!==-1?e.indexOf("?"):void 0,n=e.substring(0,t),i=e.substring(t+1,r).split("@"),s=typeof r<"u"?e.substring(r):"",o=ul.parse(s),a=typeof o.methods=="string"?o.methods.split(","):void 0;return{protocol:n,topic:GL(i[0]),version:parseInt(i[1],10),symKey:o.symKey,relay:KL(o),methods:a,expiryTimestamp:o.expiryTimestamp?parseInt(o.expiryTimestamp,10):void 0}}function GL(e){return e.startsWith("//")?e.substring(2):e}function VL(e,t="-"){const r="relay",n={};return Object.keys(e).forEach(i=>{const s=r+t+i;e[i]&&(n[s]=e[i])}),n}function yb(e){return`${e.protocol}:${e.topic}@${e.version}?`+ul.stringify(gb(HL(gb({symKey:e.symKey},VL(e.relay)),{expiryTimestamp:e.expiryTimestamp}),e.methods?{methods:e.methods.join(",")}:{}))}function mf(e,t,r){return`${e}?wc_ev=${r}&topic=${t}`}function Uu(e){const t=[];return e.forEach(r=>{const[n,i]=r.split(":");t.push(`${n}:${i}`)}),t}function WL(e){const t=[];return Object.values(e).forEach(r=>{t.push(...Uu(r.accounts))}),t}function YL(e,t){const r=[];return Object.values(e).forEach(n=>{Uu(n.accounts).includes(t)&&r.push(...n.methods)}),r}function QL(e,t){const r=[];return Object.values(e).forEach(n=>{Uu(n.accounts).includes(t)&&r.push(...n.events)}),r}function JL(e){const t={};return e==null||e.forEach(r=>{const[n,i]=r.split(":");t[n]||(t[n]={accounts:[],chains:[],events:[]}),t[n].accounts.push(r),t[n].chains.push(`${n}:${i}`)}),t}function vb(e,t){t=t.map(n=>n.replace("did:pkh:",""));const r=JL(t);for(const[n,i]of Object.entries(r))i.methods?i.methods=Sk(i.methods,e):i.methods=e,i.events=["chainChanged","accountsChanged"];return r}const XL={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},ZL={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function ge(e,t){const{message:r,code:n}=ZL[e];return{message:t?`${r} ${t}`:r,code:n}}function Et(e,t){const{message:r,code:n}=XL[e];return{message:t?`${r} ${t}`:r,code:n}}function Pl(e,t){return!!Array.isArray(e)}function Pd(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function rn(e){return typeof e>"u"}function Ht(e,t){return t&&rn(e)?!0:typeof e=="string"&&!!e.trim().length}function Rm(e,t){return typeof e=="number"&&!isNaN(e)}function eU(e,t){const{requiredNamespaces:r}=t,n=Object.keys(e.namespaces),i=Object.keys(r);let s=!0;return Lo(i,n)?(n.forEach(o=>{const{accounts:a,methods:u,events:c}=e.namespaces[o],f=Uu(a),h=r[o];(!Lo(h5(o,h),f)||!Lo(h.methods,u)||!Lo(h.events,c))&&(s=!1)}),s):!1}function Od(e){return Ht(e,!1)&&e.includes(":")?e.split(":").length===2:!1}function tU(e){if(Ht(e,!1)&&e.includes(":")){const t=e.split(":");if(t.length===3){const r=t[0]+":"+t[1];return!!t[2]&&Od(r)}}return!1}function rU(e){function t(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(Ht(e,!1)){if(t(e))return!0;const r=w5(e);return t(r)}}catch{}return!1}function nU(e){var t;return(t=e==null?void 0:e.proposer)==null?void 0:t.publicKey}function iU(e){return e==null?void 0:e.topic}function sU(e,t){let r=null;return Ht(e==null?void 0:e.publicKey,!1)||(r=ge("MISSING_OR_INVALID",`${t} controller public key should be a string`)),r}function bb(e){let t=!0;return Pl(e)?e.length&&(t=e.every(r=>Ht(r,!1))):t=!1,t}function oU(e,t,r){let n=null;return Pl(t)&&t.length?t.forEach(i=>{n||Od(i)||(n=Et("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):Od(e)||(n=Et("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function aU(e,t,r){let n=null;return Object.entries(e).forEach(([i,s])=>{if(n)return;const o=oU(i,h5(i,s),`${t} ${r}`);o&&(n=o)}),n}function uU(e,t){let r=null;return Pl(e)?e.forEach(n=>{r||tU(n)||(r=Et("UNSUPPORTED_ACCOUNTS",`${t}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=Et("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function cU(e,t){let r=null;return Object.values(e).forEach(n=>{if(r)return;const i=uU(n==null?void 0:n.accounts,`${t} namespace`);i&&(r=i)}),r}function lU(e,t){let r=null;return bb(e==null?void 0:e.methods)?bb(e==null?void 0:e.events)||(r=Et("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):r=Et("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),r}function cE(e,t){let r=null;return Object.values(e).forEach(n=>{if(r)return;const i=lU(n,`${t}, namespace`);i&&(r=i)}),r}function fU(e,t,r){let n=null;if(e&&Pd(e)){const i=cE(e,t);i&&(n=i);const s=aU(e,t,r);s&&(n=s)}else n=ge("MISSING_OR_INVALID",`${t}, ${r} should be an object with data`);return n}function Q0(e,t){let r=null;if(e&&Pd(e)){const n=cE(e,t);n&&(r=n);const i=cU(e,t);i&&(r=i)}else r=ge("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return r}function lE(e){return Ht(e.protocol,!0)}function dU(e,t){let r=!1;return e?e&&Pl(e)&&e.length&&e.forEach(n=>{r=lE(n)}):r=!0,r}function hU(e){return typeof e=="number"}function Zr(e){return typeof e<"u"&&typeof e!==null}function pU(e){return!(!e||typeof e!="object"||!e.code||!Rm(e.code)||!e.message||!Ht(e.message,!1))}function gU(e){return!(rn(e)||!Ht(e.method,!1))}function mU(e){return!(rn(e)||rn(e.result)&&rn(e.error)||!Rm(e.id)||!Ht(e.jsonrpc,!1))}function yU(e){return!(rn(e)||!Ht(e.name,!1))}function wb(e,t){return!(!Od(t)||!WL(e).includes(t))}function vU(e,t,r){return Ht(r,!1)?YL(e,t).includes(r):!1}function bU(e,t,r){return Ht(r,!1)?QL(e,t).includes(r):!1}function Eb(e,t,r){let n=null;const i=wU(e),s=EU(t),o=Object.keys(i),a=Object.keys(s),u=_b(Object.keys(e)),c=_b(Object.keys(t)),f=u.filter(h=>!c.includes(h));return f.length&&(n=ge("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${f.toString()}
      Received: ${Object.keys(t).toString()}`)),Lo(o,a)||(n=ge("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(t).forEach(h=>{if(!h.includes(":")||n)return;const y=Uu(t[h].accounts);y.includes(h)||(n=ge("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${h}
        Required: ${h}
        Approved: ${y.toString()}`))}),o.forEach(h=>{n||(Lo(i[h].methods,s[h].methods)?Lo(i[h].events,s[h].events)||(n=ge("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${h}`)):n=ge("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${h}`))}),n}function wU(e){const t={};return Object.keys(e).forEach(r=>{var n;r.includes(":")?t[r]=e[r]:(n=e[r].chains)==null||n.forEach(i=>{t[i]={methods:e[r].methods,events:e[r].events}})}),t}function _b(e){return[...new Set(e.map(t=>t.includes(":")?t.split(":")[0]:t))]}function EU(e){const t={};return Object.keys(e).forEach(r=>{if(r.includes(":"))t[r]=e[r];else{const n=Uu(e[r].accounts);n==null||n.forEach(i=>{t[i]={accounts:e[r].accounts.filter(s=>s.includes(`${i}:`)),methods:e[r].methods,events:e[r].events}})}}),t}function _U(e,t){return Rm(e)&&e<=t.max&&e>=t.min}function Sb(){const e=Cl();return new Promise(t=>{switch(e){case En.browser:t(SU());break;case En.reactNative:t(AU());break;case En.node:t(IU());break;default:t(!0)}})}function SU(){return Rl()&&(navigator==null?void 0:navigator.onLine)}async function AU(){if(Ou()&&typeof global<"u"&&global!=null&&global.NetInfo){const e=await(global==null?void 0:global.NetInfo.fetch());return e==null?void 0:e.isConnected}return!0}function IU(){return!0}function xU(e){switch(Cl()){case En.browser:MU(e);break;case En.reactNative:RU(e);break}}function MU(e){!Ou()&&Rl()&&(window.addEventListener("online",()=>e(!0)),window.addEventListener("offline",()=>e(!1)))}function RU(e){Ou()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(t=>e(t==null?void 0:t.isConnected)))}const J0={};class ac{static get(t){return J0[t]}static set(t,r){J0[t]=r}static delete(t){delete J0[t]}}const CU="PARSE_ERROR",DU="INVALID_REQUEST",TU="METHOD_NOT_FOUND",NU="INVALID_PARAMS",fE="INTERNAL_ERROR",Cm="SERVER_ERROR",PU=[-32700,-32600,-32601,-32602,-32603],Pc={[CU]:{code:-32700,message:"Parse error"},[DU]:{code:-32600,message:"Invalid Request"},[TU]:{code:-32601,message:"Method not found"},[NU]:{code:-32602,message:"Invalid params"},[fE]:{code:-32603,message:"Internal error"},[Cm]:{code:-32e3,message:"Server error"}},dE=Cm;function OU(e){return PU.includes(e)}function Ab(e){return Object.keys(Pc).includes(e)?Pc[e]:Pc[dE]}function kU(e){const t=Object.values(Pc).find(r=>r.code===e);return t||Pc[dE]}function FU(e,t,r){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${t}`):e}var hE={},us={},Ib;function BU(){if(Ib)return us;Ib=1,Object.defineProperty(us,"__esModule",{value:!0}),us.isBrowserCryptoAvailable=us.getSubtleCrypto=us.getBrowerCrypto=void 0;function e(){return(yn==null?void 0:yn.crypto)||(yn==null?void 0:yn.msCrypto)||{}}us.getBrowerCrypto=e;function t(){const n=e();return n.subtle||n.webkitSubtle}us.getSubtleCrypto=t;function r(){return!!e()&&!!t()}return us.isBrowserCryptoAvailable=r,us}var cs={},xb;function LU(){if(xb)return cs;xb=1,Object.defineProperty(cs,"__esModule",{value:!0}),cs.isBrowser=cs.isNode=cs.isReactNative=void 0;function e(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}cs.isReactNative=e;function t(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}cs.isNode=t;function r(){return!e()&&!t()}return cs.isBrowser=r,cs}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=wl;t.__exportStar(BU(),e),t.__exportStar(LU(),e)})(hE);function js(e=3){const t=Date.now()*Math.pow(10,e),r=Math.floor(Math.random()*Math.pow(10,e));return t+r}function Uo(e=6){return BigInt(js(e))}function $o(e,t,r){return{id:r||js(),jsonrpc:"2.0",method:e,params:t}}function Dm(e,t){return{id:e,jsonrpc:"2.0",result:t}}function Tm(e,t,r){return{id:e,jsonrpc:"2.0",error:UU(t)}}function UU(e,t){return typeof e>"u"?Ab(fE):(typeof e=="string"&&(e=Object.assign(Object.assign({},Ab(Cm)),{message:e})),OU(e.code)&&(e=kU(e.code)),e)}class $U{}class zU extends $U{constructor(){super()}}class qU extends zU{constructor(t){super()}}const jU="^wss?:";function HU(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(!(!t||!t.length))return t[0]}function KU(e,t){const r=HU(e);return typeof r>"u"?!1:new RegExp(t).test(r)}function Mb(e){return KU(e,jU)}function GU(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}function pE(e){return typeof e=="object"&&"id"in e&&"jsonrpc"in e&&e.jsonrpc==="2.0"}function Nm(e){return pE(e)&&"method"in e}function Nh(e){return pE(e)&&(Si(e)||zn(e))}function Si(e){return"result"in e}function zn(e){return"error"in e}class VU extends qU{constructor(t){super(t),this.events=new Rn.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async request(t,r){return this.requestStrict($o(t.method,t.params||[],t.id||Uo().toString()),r)}async requestStrict(t,r){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${t.id}`,s=>{zn(s)?i(s.error):n(s.result)});try{await this.connection.send(t,r)}catch(s){i(s)}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),Nh(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&t.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),typeof t=="string"&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",t=>this.onPayload(t)),this.connection.on("close",t=>this.onClose(t)),this.connection.on("error",t=>this.events.emit("error",t)),this.connection.on("register_error",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const WU=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),YU=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",Rb=e=>e.split("?")[0],Cb=10,QU=WU();class JU{constructor(t){if(this.url=t,this.events=new Rn.EventEmitter,this.registering=!1,!Mb(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async open(t=this.url){await this.register(t)}async close(){return new Promise((t,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),t()},this.socket.close()})}async send(t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(ta(t))}catch(r){this.onError(t.id,r)}}register(t=this.url){if(!Mb(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=t,this.registering=!0,new Promise((r,n)=>{const i=new URLSearchParams(t).get("origin"),s=hE.isReactNative()?{headers:{origin:i}}:{rejectUnauthorized:!GU(t)},o=new QU(t,[],s);YU()?o.onerror=a=>{const u=a;n(this.emitError(u.error))}:o.on("error",a=>{n(this.emitError(a))}),o.onopen=()=>{this.onOpen(o),r(o)}})}onOpen(t){t.onmessage=r=>this.onPayload(r),t.onclose=r=>this.onClose(r),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(typeof t.data>"u")return;const r=typeof t.data=="string"?du(t.data):t.data;this.events.emit("payload",r)}onError(t,r){const n=this.parseError(r),i=n.message||n.toString(),s=Tm(t,i);this.events.emit("payload",s)}parseError(t,r=this.url){return FU(t,Rb(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>Cb&&this.events.setMaxListeners(Cb)}emitError(t){const r=this.parseError(new Error((t==null?void 0:t.message)||`WebSocket connection failed for host: ${Rb(this.url)}`));return this.events.emit("register_error",r),r}}var kd={exports:{}};kd.exports;(function(e,t){var r=200,n="__lodash_hash_undefined__",i=1,s=2,o=9007199254740991,a="[object Arguments]",u="[object Array]",c="[object AsyncFunction]",f="[object Boolean]",h="[object Date]",y="[object Error]",v="[object Function]",w="[object GeneratorFunction]",C="[object Map]",N="[object Number]",T="[object Null]",x="[object Object]",O="[object Promise]",k="[object Proxy]",L="[object RegExp]",$="[object Set]",E="[object String]",U="[object Symbol]",Z="[object Undefined]",ne="[object WeakMap]",q="[object ArrayBuffer]",b="[object DataView]",l="[object Float32Array]",d="[object Float64Array]",m="[object Int8Array]",A="[object Int16Array]",D="[object Int32Array]",R="[object Uint8Array]",I="[object Uint8ClampedArray]",p="[object Uint16Array]",g="[object Uint32Array]",B=/[\\^$.*+?()[\]{}|]/g,Y=/^\[object .+?Constructor\]$/,te=/^(?:0|[1-9]\d*)$/,P={};P[l]=P[d]=P[m]=P[A]=P[D]=P[R]=P[I]=P[p]=P[g]=!0,P[a]=P[u]=P[q]=P[f]=P[b]=P[h]=P[y]=P[v]=P[C]=P[N]=P[x]=P[L]=P[$]=P[E]=P[ne]=!1;var J=typeof yn=="object"&&yn&&yn.Object===Object&&yn,j=typeof self=="object"&&self&&self.Object===Object&&self,K=J||j||Function("return this")(),G=t&&!t.nodeType&&t,S=G&&!0&&e&&!e.nodeType&&e,H=S&&S.exports===G,re=H&&J.process,ie=function(){try{return re&&re.binding&&re.binding("util")}catch{}}(),ae=ie&&ie.isTypedArray;function pe(V,X){for(var ue=-1,Me=V==null?0:V.length,Mt=0,Ze=[];++ue<Me;){var Ft=V[ue];X(Ft,ue,V)&&(Ze[Mt++]=Ft)}return Ze}function de(V,X){for(var ue=-1,Me=X.length,Mt=V.length;++ue<Me;)V[Mt+ue]=X[ue];return V}function Oe(V,X){for(var ue=-1,Me=V==null?0:V.length;++ue<Me;)if(X(V[ue],ue,V))return!0;return!1}function Le(V,X){for(var ue=-1,Me=Array(V);++ue<V;)Me[ue]=X(ue);return Me}function ve(V){return function(X){return V(X)}}function xe(V,X){return V.has(X)}function Ee(V,X){return V==null?void 0:V[X]}function le(V){var X=-1,ue=Array(V.size);return V.forEach(function(Me,Mt){ue[++X]=[Mt,Me]}),ue}function we(V,X){return function(ue){return V(X(ue))}}function _e(V){var X=-1,ue=Array(V.size);return V.forEach(function(Me){ue[++X]=Me}),ue}var ce=Array.prototype,be=Function.prototype,F=Object.prototype,_=K["__core-js_shared__"],M=be.toString,z=F.hasOwnProperty,W=function(){var V=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||"");return V?"Symbol(src)_1."+V:""}(),Q=F.toString,ee=RegExp("^"+M.call(z).replace(B,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),oe=H?K.Buffer:void 0,he=K.Symbol,Ce=K.Uint8Array,me=F.propertyIsEnumerable,De=ce.splice,Je=he?he.toStringTag:void 0,ke=Object.getOwnPropertySymbols,at=oe?oe.isBuffer:void 0,ut=we(Object.keys,Object),Se=ya(K,"DataView"),Ue=ya(K,"Map"),ze=ya(K,"Promise"),Ae=ya(K,"Set"),qe=ya(K,"WeakMap"),$e=ya(Object,"create"),Te=bo(Se),Ke=bo(Ue),Ge=bo(ze),Ne=bo(Ae),Ve=bo(qe),je=he?he.prototype:void 0,Ie=je?je.valueOf:void 0;function Fe(V){var X=-1,ue=V==null?0:V.length;for(this.clear();++X<ue;){var Me=V[X];this.set(Me[0],Me[1])}}function We(){this.__data__=$e?$e(null):{},this.size=0}function Pe(V){var X=this.has(V)&&delete this.__data__[V];return this.size-=X?1:0,X}function ft(V){var X=this.__data__;if($e){var ue=X[V];return ue===n?void 0:ue}return z.call(X,V)?X[V]:void 0}function dt(V){var X=this.__data__;return $e?X[V]!==void 0:z.call(X,V)}function He(V,X){var ue=this.__data__;return this.size+=this.has(V)?0:1,ue[V]=$e&&X===void 0?n:X,this}Fe.prototype.clear=We,Fe.prototype.delete=Pe,Fe.prototype.get=ft,Fe.prototype.has=dt,Fe.prototype.set=He;function et(V){var X=-1,ue=V==null?0:V.length;for(this.clear();++X<ue;){var Me=V[X];this.set(Me[0],Me[1])}}function Kr(){this.__data__=[],this.size=0}function Gr(V){var X=this.__data__,ue=kl(X,V);if(ue<0)return!1;var Me=X.length-1;return ue==Me?X.pop():De.call(X,ue,1),--this.size,!0}function Vr(V){var X=this.__data__,ue=kl(X,V);return ue<0?void 0:X[ue][1]}function Wr(V){return kl(this.__data__,V)>-1}function Yr(V,X){var ue=this.__data__,Me=kl(ue,V);return Me<0?(++this.size,ue.push([V,X])):ue[Me][1]=X,this}et.prototype.clear=Kr,et.prototype.delete=Gr,et.prototype.get=Vr,et.prototype.has=Wr,et.prototype.set=Yr;function Gt(V){var X=-1,ue=V==null?0:V.length;for(this.clear();++X<ue;){var Me=V[X];this.set(Me[0],Me[1])}}function Qi(){this.size=0,this.__data__={hash:new Fe,map:new(Ue||et),string:new Fe}}function Ji(V){var X=Fl(this,V).delete(V);return this.size-=X?1:0,X}function Xi(V){return Fl(this,V).get(V)}function Zi(V){return Fl(this,V).has(V)}function es(V,X){var ue=Fl(this,V),Me=ue.size;return ue.set(V,X),this.size+=ue.size==Me?0:1,this}Gt.prototype.clear=Qi,Gt.prototype.delete=Ji,Gt.prototype.get=Xi,Gt.prototype.has=Zi,Gt.prototype.set=es;function Nn(V){var X=-1,ue=V==null?0:V.length;for(this.__data__=new Gt;++X<ue;)this.add(V[X])}function ts(V){return this.__data__.set(V,n),this}function rs(V){return this.__data__.has(V)}Nn.prototype.add=Nn.prototype.push=ts,Nn.prototype.has=rs;function Ar(V){var X=this.__data__=new et(V);this.size=X.size}function ns(){this.__data__=new et,this.size=0}function is(V){var X=this.__data__,ue=X.delete(V);return this.size=X.size,ue}function ss(V){return this.__data__.get(V)}function zu(V){return this.__data__.has(V)}function VE(V,X){var ue=this.__data__;if(ue instanceof et){var Me=ue.__data__;if(!Ue||Me.length<r-1)return Me.push([V,X]),this.size=++ue.size,this;ue=this.__data__=new Gt(Me)}return ue.set(V,X),this.size=ue.size,this}Ar.prototype.clear=ns,Ar.prototype.delete=is,Ar.prototype.get=ss,Ar.prototype.has=zu,Ar.prototype.set=VE;function WE(V,X){var ue=Bl(V),Me=!ue&&c_(V),Mt=!ue&&!Me&&kh(V),Ze=!ue&&!Me&&!Mt&&Gm(V),Ft=ue||Me||Mt||Ze,nr=Ft?Le(V.length,String):[],pr=nr.length;for(var Nt in V)z.call(V,Nt)&&!(Ft&&(Nt=="length"||Mt&&(Nt=="offset"||Nt=="parent")||Ze&&(Nt=="buffer"||Nt=="byteLength"||Nt=="byteOffset")||i_(Nt,pr)))&&nr.push(Nt);return nr}function kl(V,X){for(var ue=V.length;ue--;)if(qm(V[ue][0],X))return ue;return-1}function YE(V,X,ue){var Me=X(V);return Bl(V)?Me:de(Me,ue(V))}function qu(V){return V==null?V===void 0?Z:T:Je&&Je in Object(V)?r_(V):u_(V)}function Lm(V){return ju(V)&&qu(V)==a}function Um(V,X,ue,Me,Mt){return V===X?!0:V==null||X==null||!ju(V)&&!ju(X)?V!==V&&X!==X:QE(V,X,ue,Me,Um,Mt)}function QE(V,X,ue,Me,Mt,Ze){var Ft=Bl(V),nr=Bl(X),pr=Ft?u:Ps(V),Nt=nr?u:Ps(X);pr=pr==a?x:pr,Nt=Nt==a?x:Nt;var pn=pr==x,Xn=Nt==x,Ir=pr==Nt;if(Ir&&kh(V)){if(!kh(X))return!1;Ft=!0,pn=!1}if(Ir&&!pn)return Ze||(Ze=new Ar),Ft||Gm(V)?$m(V,X,ue,Me,Mt,Ze):e_(V,X,pr,ue,Me,Mt,Ze);if(!(ue&i)){var Pn=pn&&z.call(V,"__wrapped__"),On=Xn&&z.call(X,"__wrapped__");if(Pn||On){var Os=Pn?V.value():V,os=On?X.value():X;return Ze||(Ze=new Ar),Mt(Os,os,ue,Me,Ze)}}return Ir?(Ze||(Ze=new Ar),t_(V,X,ue,Me,Mt,Ze)):!1}function JE(V){if(!Km(V)||o_(V))return!1;var X=jm(V)?ee:Y;return X.test(bo(V))}function XE(V){return ju(V)&&Hm(V.length)&&!!P[qu(V)]}function ZE(V){if(!a_(V))return ut(V);var X=[];for(var ue in Object(V))z.call(V,ue)&&ue!="constructor"&&X.push(ue);return X}function $m(V,X,ue,Me,Mt,Ze){var Ft=ue&i,nr=V.length,pr=X.length;if(nr!=pr&&!(Ft&&pr>nr))return!1;var Nt=Ze.get(V);if(Nt&&Ze.get(X))return Nt==X;var pn=-1,Xn=!0,Ir=ue&s?new Nn:void 0;for(Ze.set(V,X),Ze.set(X,V);++pn<nr;){var Pn=V[pn],On=X[pn];if(Me)var Os=Ft?Me(On,Pn,pn,X,V,Ze):Me(Pn,On,pn,V,X,Ze);if(Os!==void 0){if(Os)continue;Xn=!1;break}if(Ir){if(!Oe(X,function(os,wo){if(!xe(Ir,wo)&&(Pn===os||Mt(Pn,os,ue,Me,Ze)))return Ir.push(wo)})){Xn=!1;break}}else if(!(Pn===On||Mt(Pn,On,ue,Me,Ze))){Xn=!1;break}}return Ze.delete(V),Ze.delete(X),Xn}function e_(V,X,ue,Me,Mt,Ze,Ft){switch(ue){case b:if(V.byteLength!=X.byteLength||V.byteOffset!=X.byteOffset)return!1;V=V.buffer,X=X.buffer;case q:return!(V.byteLength!=X.byteLength||!Ze(new Ce(V),new Ce(X)));case f:case h:case N:return qm(+V,+X);case y:return V.name==X.name&&V.message==X.message;case L:case E:return V==X+"";case C:var nr=le;case $:var pr=Me&i;if(nr||(nr=_e),V.size!=X.size&&!pr)return!1;var Nt=Ft.get(V);if(Nt)return Nt==X;Me|=s,Ft.set(V,X);var pn=$m(nr(V),nr(X),Me,Mt,Ze,Ft);return Ft.delete(V),pn;case U:if(Ie)return Ie.call(V)==Ie.call(X)}return!1}function t_(V,X,ue,Me,Mt,Ze){var Ft=ue&i,nr=zm(V),pr=nr.length,Nt=zm(X),pn=Nt.length;if(pr!=pn&&!Ft)return!1;for(var Xn=pr;Xn--;){var Ir=nr[Xn];if(!(Ft?Ir in X:z.call(X,Ir)))return!1}var Pn=Ze.get(V);if(Pn&&Ze.get(X))return Pn==X;var On=!0;Ze.set(V,X),Ze.set(X,V);for(var Os=Ft;++Xn<pr;){Ir=nr[Xn];var os=V[Ir],wo=X[Ir];if(Me)var Vm=Ft?Me(wo,os,Ir,X,V,Ze):Me(os,wo,Ir,V,X,Ze);if(!(Vm===void 0?os===wo||Mt(os,wo,ue,Me,Ze):Vm)){On=!1;break}Os||(Os=Ir=="constructor")}if(On&&!Os){var Ll=V.constructor,Ul=X.constructor;Ll!=Ul&&"constructor"in V&&"constructor"in X&&!(typeof Ll=="function"&&Ll instanceof Ll&&typeof Ul=="function"&&Ul instanceof Ul)&&(On=!1)}return Ze.delete(V),Ze.delete(X),On}function zm(V){return YE(V,d_,n_)}function Fl(V,X){var ue=V.__data__;return s_(X)?ue[typeof X=="string"?"string":"hash"]:ue.map}function ya(V,X){var ue=Ee(V,X);return JE(ue)?ue:void 0}function r_(V){var X=z.call(V,Je),ue=V[Je];try{V[Je]=void 0;var Me=!0}catch{}var Mt=Q.call(V);return Me&&(X?V[Je]=ue:delete V[Je]),Mt}var n_=ke?function(V){return V==null?[]:(V=Object(V),pe(ke(V),function(X){return me.call(V,X)}))}:h_,Ps=qu;(Se&&Ps(new Se(new ArrayBuffer(1)))!=b||Ue&&Ps(new Ue)!=C||ze&&Ps(ze.resolve())!=O||Ae&&Ps(new Ae)!=$||qe&&Ps(new qe)!=ne)&&(Ps=function(V){var X=qu(V),ue=X==x?V.constructor:void 0,Me=ue?bo(ue):"";if(Me)switch(Me){case Te:return b;case Ke:return C;case Ge:return O;case Ne:return $;case Ve:return ne}return X});function i_(V,X){return X=X??o,!!X&&(typeof V=="number"||te.test(V))&&V>-1&&V%1==0&&V<X}function s_(V){var X=typeof V;return X=="string"||X=="number"||X=="symbol"||X=="boolean"?V!=="__proto__":V===null}function o_(V){return!!W&&W in V}function a_(V){var X=V&&V.constructor,ue=typeof X=="function"&&X.prototype||F;return V===ue}function u_(V){return Q.call(V)}function bo(V){if(V!=null){try{return M.call(V)}catch{}try{return V+""}catch{}}return""}function qm(V,X){return V===X||V!==V&&X!==X}var c_=Lm(function(){return arguments}())?Lm:function(V){return ju(V)&&z.call(V,"callee")&&!me.call(V,"callee")},Bl=Array.isArray;function l_(V){return V!=null&&Hm(V.length)&&!jm(V)}var kh=at||p_;function f_(V,X){return Um(V,X)}function jm(V){if(!Km(V))return!1;var X=qu(V);return X==v||X==w||X==c||X==k}function Hm(V){return typeof V=="number"&&V>-1&&V%1==0&&V<=o}function Km(V){var X=typeof V;return V!=null&&(X=="object"||X=="function")}function ju(V){return V!=null&&typeof V=="object"}var Gm=ae?ve(ae):XE;function d_(V){return l_(V)?WE(V):ZE(V)}function h_(){return[]}function p_(){return!1}e.exports=f_})(kd,kd.exports);var XU=kd.exports;const ZU=Fd(XU),gE="wc",mE=2,Pm="core",Gi=`${gE}@2:${Pm}:`,e$={name:Pm,logger:"error"},t$={database:":memory:"},r$="crypto",Db="client_ed25519_seed",n$=ye.ONE_DAY,i$="keychain",s$="0.3",o$="messages",a$="0.3",u$=ye.SIX_HOURS,c$="publisher",yE="irn",l$="error",vE="wss://relay.walletconnect.org",f$="relayer",Fr={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},d$="_subscription",Bn={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},h$=.1,O1="2.17.0",vt={link_mode:"link_mode",relay:"relay"},p$="0.3",g$="WALLETCONNECT_CLIENT_ID",Tb="WALLETCONNECT_LINK_MODE_APPS",Ai={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},m$="subscription",y$="0.3",v$=ye.FIVE_SECONDS*1e3,b$="pairing",w$="0.3",uc={wc_pairingDelete:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:ye.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:ye.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:ye.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:0},res:{ttl:ye.ONE_DAY,prompt:!1,tag:0}}},Oo={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},ri={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},E$="history",_$="0.3",S$="expirer",Ln={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},A$="0.3",I$="verify-api",x$="https://verify.walletconnect.com",bE="https://verify.walletconnect.org",Oc=bE,M$=`${Oc}/v3`,R$=[x$,bE],C$="echo",D$="https://echo.walletconnect.com",bi={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},ls={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},ni={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Io={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},xo={authenticated_session_approve_started:"authenticated_session_approve_started",authenticated_session_not_expired:"authenticated_session_not_expired",chains_caip2_compliant:"chains_caip2_compliant",chains_evm_compliant:"chains_evm_compliant",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve",authenticated_session_approve_publish_success:"authenticated_session_approve_publish_success"},cc={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",missing_session_authenticate_request:"missing_session_authenticate_request",session_authenticate_request_expired:"session_authenticate_request_expired",chains_caip2_compliant_failure:"chains_caip2_compliant_failure",chains_evm_compliant_failure:"chains_evm_compliant_failure",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},T$=.1,N$="event-client",P$=86400,O$="https://pulse.walletconnect.org/batch";function k$(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=e.length,u=e.charAt(0),c=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function h(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";for(var C=0,N=0,T=0,x=w.length;T!==x&&w[T]===0;)T++,C++;for(var O=(x-T)*f+1>>>0,k=new Uint8Array(O);T!==x;){for(var L=w[T],$=0,E=O-1;(L!==0||$<N)&&E!==-1;E--,$++)L+=256*k[E]>>>0,k[E]=L%a>>>0,L=L/a>>>0;if(L!==0)throw new Error("Non-zero carry");N=$,T++}for(var U=O-N;U!==O&&k[U]===0;)U++;for(var Z=u.repeat(C);U<O;++U)Z+=e.charAt(k[U]);return Z}function y(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;var C=0;if(w[C]!==" "){for(var N=0,T=0;w[C]===u;)N++,C++;for(var x=(w.length-C)*c+1>>>0,O=new Uint8Array(x);w[C];){var k=r[w.charCodeAt(C)];if(k===255)return;for(var L=0,$=x-1;(k!==0||L<T)&&$!==-1;$--,L++)k+=a*O[$]>>>0,O[$]=k%256>>>0,k=k/256>>>0;if(k!==0)throw new Error("Non-zero carry");T=L,C++}if(w[C]!==" "){for(var E=x-T;E!==x&&O[E]===0;)E++;for(var U=new Uint8Array(N+(x-E)),Z=N;E!==x;)U[Z++]=O[E++];return U}}}function v(w){var C=y(w);if(C)return C;throw new Error(`Non-${t} character`)}return{encode:h,decodeUnsafe:y,decode:v}}var F$=k$,B$=F$;const wE=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},L$=e=>new TextEncoder().encode(e),U$=e=>new TextDecoder().decode(e);class $${constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class z${constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return EE(this,t)}}class q${constructor(t){this.decoders=t}or(t){return EE(this,t)}decode(t){const r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const EE=(e,t)=>new q$({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class j${constructor(t,r,n,i){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new $$(t,r,n),this.decoder=new z$(t,r,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const Ph=({name:e,prefix:t,encode:r,decode:n})=>new j$(e,t,r,n),Ol=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:i}=B$(r,t);return Ph({prefix:e,name:t,encode:n,decode:s=>wE(i(s))})},H$=(e,t,r,n)=>{const i={};for(let f=0;f<t.length;++f)i[t[f]]=f;let s=e.length;for(;e[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,u=0,c=0;for(let f=0;f<s;++f){const h=i[e[f]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<r|h,a+=r,a>=8&&(a-=8,o[c++]=255&u>>a)}if(a>=r||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return o},K$=(e,t,r)=>{const n=t[t.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let u=0;u<e.length;++u)for(a=a<<8|e[u],o+=8;o>r;)o-=r,s+=t[i&a>>o];if(o&&(s+=t[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},Sr=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>Ph({prefix:t,name:e,encode(i){return K$(i,n,r)},decode(i){return H$(i,n,r,e)}}),G$=Ph({prefix:"\0",name:"identity",encode:e=>U$(e),decode:e=>L$(e)});var V$=Object.freeze({__proto__:null,identity:G$});const W$=Sr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Y$=Object.freeze({__proto__:null,base2:W$});const Q$=Sr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var J$=Object.freeze({__proto__:null,base8:Q$});const X$=Ol({prefix:"9",name:"base10",alphabet:"0123456789"});var Z$=Object.freeze({__proto__:null,base10:X$});const ez=Sr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),tz=Sr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var rz=Object.freeze({__proto__:null,base16:ez,base16upper:tz});const nz=Sr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),iz=Sr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),sz=Sr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),oz=Sr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),az=Sr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),uz=Sr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),cz=Sr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),lz=Sr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),fz=Sr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var dz=Object.freeze({__proto__:null,base32:nz,base32upper:iz,base32pad:sz,base32padupper:oz,base32hex:az,base32hexupper:uz,base32hexpad:cz,base32hexpadupper:lz,base32z:fz});const hz=Ol({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),pz=Ol({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var gz=Object.freeze({__proto__:null,base36:hz,base36upper:pz});const mz=Ol({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),yz=Ol({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var vz=Object.freeze({__proto__:null,base58btc:mz,base58flickr:yz});const bz=Sr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),wz=Sr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Ez=Sr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),_z=Sr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Sz=Object.freeze({__proto__:null,base64:bz,base64pad:wz,base64url:Ez,base64urlpad:_z});const _E=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),Az=_E.reduce((e,t,r)=>(e[r]=t,e),[]),Iz=_E.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function xz(e){return e.reduce((t,r)=>(t+=Az[r],t),"")}function Mz(e){const t=[];for(const r of e){const n=Iz[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}const Rz=Ph({prefix:"🚀",name:"base256emoji",encode:xz,decode:Mz});var Cz=Object.freeze({__proto__:null,base256emoji:Rz}),Dz=SE,Nb=128,Tz=127,Nz=~Tz,Pz=Math.pow(2,31);function SE(e,t,r){t=t||[],r=r||0;for(var n=r;e>=Pz;)t[r++]=e&255|Nb,e/=128;for(;e&Nz;)t[r++]=e&255|Nb,e>>>=7;return t[r]=e|0,SE.bytes=r-n+1,t}var Oz=k1,kz=128,Pb=127;function k1(e,n){var r=0,n=n||0,i=0,s=n,o,a=e.length;do{if(s>=a)throw k1.bytes=0,new RangeError("Could not decode varint");o=e[s++],r+=i<28?(o&Pb)<<i:(o&Pb)*Math.pow(2,i),i+=7}while(o>=kz);return k1.bytes=s-n,r}var Fz=Math.pow(2,7),Bz=Math.pow(2,14),Lz=Math.pow(2,21),Uz=Math.pow(2,28),$z=Math.pow(2,35),zz=Math.pow(2,42),qz=Math.pow(2,49),jz=Math.pow(2,56),Hz=Math.pow(2,63),Kz=function(e){return e<Fz?1:e<Bz?2:e<Lz?3:e<Uz?4:e<$z?5:e<zz?6:e<qz?7:e<jz?8:e<Hz?9:10},Gz={encode:Dz,decode:Oz,encodingLength:Kz},AE=Gz;const Ob=(e,t,r=0)=>(AE.encode(e,t,r),t),kb=e=>AE.encodingLength(e),F1=(e,t)=>{const r=t.byteLength,n=kb(e),i=n+kb(r),s=new Uint8Array(i+r);return Ob(e,s,0),Ob(r,s,n),s.set(t,i),new Vz(e,r,t,s)};class Vz{constructor(t,r,n,i){this.code=t,this.size=r,this.digest=n,this.bytes=i}}const IE=({name:e,code:t,encode:r})=>new Wz(e,t,r);class Wz{constructor(t,r,n){this.name=t,this.code=r,this.encode=n}digest(t){if(t instanceof Uint8Array){const r=this.encode(t);return r instanceof Uint8Array?F1(this.code,r):r.then(n=>F1(this.code,n))}else throw Error("Unknown type, must be binary type")}}const xE=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Yz=IE({name:"sha2-256",code:18,encode:xE("SHA-256")}),Qz=IE({name:"sha2-512",code:19,encode:xE("SHA-512")});var Jz=Object.freeze({__proto__:null,sha256:Yz,sha512:Qz});const ME=0,Xz="identity",RE=wE,Zz=e=>F1(ME,RE(e)),eq={code:ME,name:Xz,encode:RE,digest:Zz};var tq=Object.freeze({__proto__:null,identity:eq});new TextEncoder,new TextDecoder;const Fb={...V$,...Y$,...J$,...Z$,...rz,...dz,...gz,...vz,...Sz,...Cz};({...Jz,...tq});function rq(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}function CE(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const Bb=CE("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),X0=CE("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=rq(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),nq={utf8:Bb,"utf-8":Bb,hex:Fb.base16,latin1:X0,ascii:X0,binary:X0,...Fb};function iq(e,t="utf8"){const r=nq[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}class sq{constructor(t,r){this.core=t,this.logger=r,this.keychain=new Map,this.name=i$,this.version=s$,this.initialized=!1,this.storagePrefix=Gi,this.init=async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}},this.has=n=>(this.isInitialized(),this.keychain.has(n)),this.set=async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()},this.get=n=>{this.isInitialized();const i=this.keychain.get(n);if(typeof i>"u"){const{message:s}=ge("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(s)}return i},this.del=async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()},this.core=t,this.logger=Hr(r,this.name)}get context(){return hn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(t){await this.core.storage.setItem(this.storageKey,m5(t))}async getKeyChain(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?y5(t):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:t}=ge("NOT_INITIALIZED",this.name);throw new Error(t)}}}class oq{constructor(t,r,n){this.core=t,this.logger=r,this.name=r$,this.randomSessionIdentifier=N1(),this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=i=>(this.isInitialized(),this.keychain.has(i)),this.getClientId=async()=>{this.isInitialized();const i=await this.getClientSeed(),s=d2(i);return T4(s.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const i=ML();return this.setPrivateKey(i.publicKey,i.privateKey)},this.signJWT=async i=>{this.isInitialized();const s=await this.getClientSeed(),o=d2(s),a=this.randomSessionIdentifier;return await tN(a,i,n$,o)},this.generateSharedKey=(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),u=RL(a,s);return this.setSymKey(u,o)},this.setSymKey=async(i,s)=>{this.isInitialized();const o=s||jf(i);return await this.keychain.set(o,i),o},this.deleteKeyPair=async i=>{this.isInitialized(),await this.keychain.del(i)},this.deleteSymKey=async i=>{this.isInitialized(),await this.keychain.del(i)},this.encode=async(i,s,o)=>{this.isInitialized();const a=uE(o),u=ta(s);if(db(a))return DL(u,o==null?void 0:o.encoding);if(fb(a)){const y=a.senderPublicKey,v=a.receiverPublicKey;i=await this.generateSharedKey(y,v)}const c=this.getSymKey(i),{type:f,senderPublicKey:h}=a;return CL({type:f,symKey:c,message:u,senderPublicKey:h,encoding:o==null?void 0:o.encoding})},this.decode=async(i,s,o)=>{this.isInitialized();const a=PL(s,o);if(db(a)){const u=NL(s,o==null?void 0:o.encoding);return du(u)}if(fb(a)){const u=a.receiverPublicKey,c=a.senderPublicKey;i=await this.generateSharedKey(u,c)}try{const u=this.getSymKey(i),c=TL({symKey:u,encoded:s,encoding:o==null?void 0:o.encoding});return du(c)}catch(u){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(u)}},this.getPayloadType=(i,s=Js)=>{const o=fl({encoded:i,encoding:s});return ia(o.type)},this.getPayloadSenderPublicKey=(i,s=Js)=>{const o=fl({encoded:i,encoding:s});return o.senderPublicKey?lr(o.senderPublicKey,$r):void 0},this.core=t,this.logger=Hr(r,this.name),this.keychain=n||new sq(this.core,this.logger)}get context(){return hn(this.logger)}async setPrivateKey(t,r){return await this.keychain.set(t,r),t}getPrivateKey(t){return this.keychain.get(t)}async getClientSeed(){let t="";try{t=this.keychain.get(Db)}catch{t=N1(),await this.keychain.set(Db,t)}return iq(t,"base16")}getSymKey(t){return this.keychain.get(t)}isInitialized(){if(!this.initialized){const{message:t}=ge("NOT_INITIALIZED",this.name);throw new Error(t)}}}class aq extends oD{constructor(t,r){super(t,r),this.logger=t,this.core=r,this.messages=new Map,this.name=o$,this.version=a$,this.initialized=!1,this.storagePrefix=Gi,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}},this.set=async(n,i)=>{this.isInitialized();const s=ps(i);let o=this.messages.get(n);return typeof o>"u"&&(o={}),typeof o[s]<"u"||(o[s]=i,this.messages.set(n,o),await this.persist()),s},this.get=n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i},this.has=(n,i)=>{this.isInitialized();const s=this.get(n),o=ps(i);return typeof s[o]<"u"},this.del=async n=>{this.isInitialized(),this.messages.delete(n),await this.persist()},this.logger=Hr(t,this.name),this.core=r}get context(){return hn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(t){await this.core.storage.setItem(this.storageKey,m5(t))}async getRelayerMessages(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?y5(t):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:t}=ge("NOT_INITIALIZED",this.name);throw new Error(t)}}}class uq extends aD{constructor(t,r){super(t,r),this.relayer=t,this.logger=r,this.events=new Rn.EventEmitter,this.name=c$,this.queue=new Map,this.publishTimeout=ye.toMiliseconds(ye.ONE_MINUTE),this.failedPublishTimeout=ye.toMiliseconds(ye.ONE_SECOND),this.needsTransportRestart=!1,this.publish=async(n,i,s)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}});const a=(s==null?void 0:s.ttl)||u$,u=P1(s),c=(s==null?void 0:s.prompt)||!1,f=(s==null?void 0:s.tag)||0,h=(s==null?void 0:s.id)||Uo().toString(),y={topic:n,message:i,opts:{ttl:a,relay:u,prompt:c,tag:f,id:h,attestation:s==null?void 0:s.attestation}},v=`Failed to publish payload, please try again. id:${h} tag:${f}`,w=Date.now();let C,N=1;try{for(;C===void 0;){if(Date.now()-w>this.publishTimeout)throw new Error(v);this.logger.trace({id:h,attempts:N},`publisher.publish - attempt ${N}`),C=await await eu(this.rpcPublish(n,i,a,u,c,f,h,s==null?void 0:s.attestation).catch(T=>this.logger.warn(T)),this.publishTimeout,v),N++,C||await new Promise(T=>setTimeout(T,this.failedPublishTimeout))}this.relayer.events.emit(Fr.publish,y),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{id:h,topic:n,message:i,opts:s}})}catch(T){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(T),(o=s==null?void 0:s.internal)!=null&&o.throwOnFailedPublish)throw T;this.queue.set(h,y)}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.relayer=t,this.logger=Hr(r,this.name),this.registerEventListeners()}get context(){return hn(this.logger)}rpcPublish(t,r,n,i,s,o,a,u){var c,f,h,y;const v={method:vc(i.protocol).publish,params:{topic:t,message:r,ttl:n,prompt:s,tag:o,attestation:u},id:a};return rn((c=v.params)==null?void 0:c.prompt)&&((f=v.params)==null||delete f.prompt),rn((h=v.params)==null?void 0:h.tag)&&((y=v.params)==null||delete y.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:v}),this.relayer.request(v)}removeRequestFromQueue(t){this.queue.delete(t)}checkQueue(){this.queue.forEach(async t=>{const{topic:r,message:n,opts:i}=t;await this.publish(r,n,i)})}registerEventListeners(){this.relayer.core.heartbeat.on(xu.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Fr.connection_stalled);return}this.checkQueue()}),this.relayer.on(Fr.message_ack,t=>{this.removeRequestFromQueue(t.id.toString())})}}class cq{constructor(){this.map=new Map,this.set=(t,r)=>{const n=this.get(t);this.exists(t,r)||this.map.set(t,[...n,r])},this.get=t=>this.map.get(t)||[],this.exists=(t,r)=>this.get(t).includes(r),this.delete=(t,r)=>{if(typeof r>"u"){this.map.delete(t);return}if(!this.map.has(t))return;const n=this.get(t);if(!this.exists(t,r))return;const i=n.filter(s=>s!==r);if(!i.length){this.map.delete(t);return}this.map.set(t,i)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var lq=Object.defineProperty,fq=Object.defineProperties,dq=Object.getOwnPropertyDescriptors,Lb=Object.getOwnPropertySymbols,hq=Object.prototype.hasOwnProperty,pq=Object.prototype.propertyIsEnumerable,Ub=(e,t,r)=>t in e?lq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,lc=(e,t)=>{for(var r in t||(t={}))hq.call(t,r)&&Ub(e,r,t[r]);if(Lb)for(var r of Lb(t))pq.call(t,r)&&Ub(e,r,t[r]);return e},Z0=(e,t)=>fq(e,dq(t));class gq extends lD{constructor(t,r){super(t,r),this.relayer=t,this.logger=r,this.subscriptions=new Map,this.topicMap=new cq,this.events=new Rn.EventEmitter,this.name=m$,this.version=y$,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=Gi,this.subscribeTimeout=ye.toMiliseconds(ye.ONE_MINUTE),this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.pendingBatchMessages=[],this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId(),await this.restore()),this.initialized=!0},this.subscribe=async(n,i)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{const s=P1(i),o={topic:n,relay:s,transportType:i==null?void 0:i.transportType};this.pending.set(n,o);const a=await this.rpcSubscribe(n,s,i==null?void 0:i.transportType);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}})),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}},this.unsubscribe=async(n,i)=>{await this.restartToComplete(),this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)},this.isSubscribed=async n=>{if(this.topics.includes(n))return!0;const i=`${this.pendingSubscriptionWatchLabel}_${n}`;return await new Promise((s,o)=>{const a=new ye.Watch;a.start(i);const u=setInterval(()=>{!this.pending.has(n)&&this.topics.includes(n)&&(clearInterval(u),a.stop(i),s(!0)),a.elapsed(i)>=v$&&(clearInterval(u),a.stop(i),o(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1)},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.start=async()=>{await this.onConnect()},this.stop=async()=>{await this.onDisconnect()},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=t,this.logger=Hr(r,this.name),this.clientId=""}get context(){return hn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(t,r){let n=!1;try{n=this.getSubscription(t).topic===r}catch{}return n}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(t,r){const n=this.topicMap.get(t);await Promise.all(n.map(async i=>await this.unsubscribeById(t,i,r)))}async unsubscribeById(t,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:n}});try{const i=P1(n);await this.rpcUnsubscribe(t,r,i);const s=Et("USER_DISCONNECTED",`${this.name}, ${t}`);await this.onUnsubscribe(t,r,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(t,r,n=vt.relay){n===vt.relay&&await this.restartToComplete();const i={method:vc(r.protocol).subscribe,params:{topic:t}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});try{const s=ps(t+this.clientId);return n===vt.link_mode?(setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(i).catch(o=>this.logger.warn(o))},ye.toMiliseconds(ye.ONE_SECOND)),s):await await eu(this.relayer.request(i).catch(o=>this.logger.warn(o)),this.subscribeTimeout)?s:null}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Fr.connection_stalled)}return null}async rpcBatchSubscribe(t){if(!t.length)return;const r=t[0].relay,n={method:vc(r.protocol).batchSubscribe,params:{topics:t.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{return await await eu(this.relayer.request(n).catch(i=>this.logger.warn(i)),this.subscribeTimeout)}catch{this.relayer.events.emit(Fr.connection_stalled)}}async rpcBatchFetchMessages(t){if(!t.length)return;const r=t[0].relay,n={method:vc(r.protocol).batchFetchMessages,params:{topics:t.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let i;try{i=await await eu(this.relayer.request(n).catch(s=>this.logger.warn(s)),this.subscribeTimeout)}catch{this.relayer.events.emit(Fr.connection_stalled)}return i}rpcUnsubscribe(t,r,n){const i={method:vc(n.protocol).unsubscribe,params:{topic:t,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(t,r){this.setSubscription(t,Z0(lc({},r),{id:t})),this.pending.delete(r.topic)}onBatchSubscribe(t){t.length&&t.forEach(r=>{this.setSubscription(r.id,lc({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(t,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,t)&&this.deleteSubscription(r,n),await this.relayer.messages.del(t)}async setRelayerSubscriptions(t){await this.relayer.core.storage.setItem(this.storageKey,t)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(t,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:t,subscription:r}),this.addSubscription(t,r)}addSubscription(t,r){this.subscriptions.set(t,lc({},r)),this.topicMap.set(r.topic,t),this.events.emit(Ai.created,r)}getSubscription(t){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:t});const r=this.subscriptions.get(t);if(!r){const{message:n}=ge("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(n)}return r}deleteSubscription(t,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:t,reason:r});const n=this.getSubscription(t);this.subscriptions.delete(t),this.topicMap.delete(n.topic,t),this.events.emit(Ai.deleted,Z0(lc({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Ai.sync)}async reset(){if(this.cached.length){const t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<t;r++){const n=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchFetchMessages(n),await this.batchSubscribe(n)}}this.events.emit(Ai.resubscribed)}async restore(){try{const t=await this.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(this.subscriptions.size){const{message:r}=ge("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(t){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(t)}}async batchSubscribe(t){if(!t.length)return;const r=await this.rpcBatchSubscribe(t);Pl(r)&&this.onBatchSubscribe(r.map((n,i)=>Z0(lc({},t[i]),{id:n})))}async batchFetchMessages(t){if(!t.length)return;this.logger.trace(`Fetching batch messages for ${t.length} subscriptions`);const r=await this.rpcBatchFetchMessages(t);r&&r.messages&&(this.pendingBatchMessages=this.pendingBatchMessages.concat(r.messages))}async onConnect(){await this.restart(),this.onEnable()}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||!this.relayer.connected)return;const t=[];this.pending.forEach(r=>{t.push(r)}),await this.batchSubscribe(t),this.pendingBatchMessages.length&&(await this.relayer.handleBatchMessageEvents(this.pendingBatchMessages),this.pendingBatchMessages=[])}registerEventListeners(){this.relayer.core.heartbeat.on(xu.pulse,async()=>{await this.checkPending()}),this.events.on(Ai.created,async t=>{const r=Ai.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),await this.persist()}),this.events.on(Ai.deleted,async t=>{const r=Ai.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=ge("NOT_INITIALIZED",this.name);throw new Error(t)}}async restartToComplete(){!this.relayer.connected&&!this.relayer.connecting&&await this.relayer.transportOpen(),this.restartInProgress&&await new Promise(t=>{const r=setInterval(()=>{this.restartInProgress||(clearInterval(r),t())},this.pollingInterval)})}}var mq=Object.defineProperty,$b=Object.getOwnPropertySymbols,yq=Object.prototype.hasOwnProperty,vq=Object.prototype.propertyIsEnumerable,zb=(e,t,r)=>t in e?mq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,bq=(e,t)=>{for(var r in t||(t={}))yq.call(t,r)&&zb(e,r,t[r]);if($b)for(var r of $b(t))vq.call(t,r)&&zb(e,r,t[r]);return e};class wq extends uD{constructor(t){super(t),this.protocol="wc",this.version=2,this.events=new Rn.EventEmitter,this.name=f$,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","stalled","interrupted"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.heartBeatTimeout=ye.toMiliseconds(ye.THIRTY_SECONDS+ye.ONE_SECOND),this.request=async r=>{var n,i;this.logger.debug("Publishing Request Payload");const s=r.id||Uo().toString();await this.toEstablishConnection();try{const o=this.provider.request(r);this.requestsInFlight.set(s,{promise:o,request:r}),this.logger.trace({id:s,method:r.method,topic:(n=r.params)==null?void 0:n.topic},"relayer.request - attempt to publish...");const a=await new Promise(async(u,c)=>{const f=()=>{c(new Error(`relayer.request - publish interrupted, id: ${s}`))};this.provider.on(Bn.disconnect,f);const h=await o;this.provider.off(Bn.disconnect,f),u(h)});return this.logger.trace({id:s,method:r.method,topic:(i=r.params)==null?void 0:i.topic},"relayer.request - published"),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}finally{this.requestsInFlight.delete(s)}},this.resetPingTimeout=()=>{if(Md())try{clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,n,i;(i=(n=(r=this.provider)==null?void 0:r.connection)==null?void 0:n.socket)==null||i.terminate()},this.heartBeatTimeout)}catch(r){this.logger.warn(r)}},this.onPayloadHandler=r=>{this.onProviderPayload(r),this.resetPingTimeout()},this.onConnectHandler=()=>{this.logger.trace("relayer connected"),this.startPingTimeout(),this.events.emit(Fr.connect)},this.onDisconnectHandler=()=>{this.logger.trace("relayer disconnected"),this.onProviderDisconnect()},this.onProviderErrorHandler=r=>{this.logger.error(r),this.events.emit(Fr.error,r),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(Bn.payload,this.onPayloadHandler),this.provider.on(Bn.connect,this.onConnectHandler),this.provider.on(Bn.disconnect,this.onDisconnectHandler),this.provider.on(Bn.error,this.onProviderErrorHandler)},this.core=t.core,this.logger=typeof t.logger<"u"&&typeof t.logger!="string"?Hr(t.logger,this.name):dh(im({level:t.logger||l$})),this.messages=new aq(this.logger,t.core),this.subscriber=new gq(this,this.logger),this.publisher=new uq(this,this.logger),this.relayUrl=(t==null?void 0:t.relayUrl)||vE,this.projectId=t.projectId,this.bundleId=mk(),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.cached.length>0)try{await this.transportOpen()}catch(t){this.logger.warn(t)}}get context(){return hn(this.logger)}get connected(){var t,r,n;return((n=(r=(t=this.provider)==null?void 0:t.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1}get connecting(){var t,r,n;return((n=(r=(t=this.provider)==null?void 0:t.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0}async publish(t,r,n){this.isInitialized(),await this.publisher.publish(t,r,n),await this.recordMessageEvent({topic:t,message:r,publishedAt:Date.now(),transportType:vt.relay})}async subscribe(t,r){var n;this.isInitialized(),(r==null?void 0:r.transportType)==="relay"&&await this.toEstablishConnection();let i=((n=this.subscriber.topicMap.get(t))==null?void 0:n[0])||"",s;const o=a=>{a.topic===t&&(this.subscriber.off(Ai.created,o),s())};return await Promise.all([new Promise(a=>{s=a,this.subscriber.on(Ai.created,o)}),new Promise(async a=>{i=await this.subscriber.subscribe(t,r)||i,a()})]),i}async unsubscribe(t,r){this.isInitialized(),await this.subscriber.unsubscribe(t,r)}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async transportDisconnect(){if(!this.hasExperiencedNetworkDisruption&&this.connected&&this.requestsInFlight.size>0)try{await Promise.all(Array.from(this.requestsInFlight.values()).map(t=>t.promise))}catch(t){this.logger.warn(t)}this.hasExperiencedNetworkDisruption||this.connected?await eu(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(t){await this.confirmOnlineStateOrThrow(),t&&t!==this.relayUrl&&(this.relayUrl=t,await this.transportDisconnect()),await this.createProvider(),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;try{await new Promise(async(r,n)=>{const i=()=>{this.provider.off(Bn.disconnect,i),n(new Error("Connection interrupted while trying to subscribe"))};this.provider.on(Bn.disconnect,i),await eu(this.provider.connect(),ye.toMiliseconds(ye.ONE_MINUTE),`Socket stalled when trying to connect to ${this.relayUrl}`).catch(s=>{n(s)}).finally(()=>{clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0}),this.subscriber.start().catch(s=>{this.logger.error(s),this.onDisconnectHandler()}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){this.logger.error(r);const n=r;if(this.hasExperiencedNetworkDisruption=!0,!this.isConnectionStalled(n.message))throw r}finally{this.connectionAttemptInProgress=!1}}async restartTransport(t){this.connectionAttemptInProgress||(this.relayUrl=t||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await Sb())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(t){if((t==null?void 0:t.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=t.sort((n,i)=>n.publishedAt-i.publishedAt);this.logger.trace(`Batch of ${r.length} message events sorted`);for(const n of r)try{await this.onMessageEvent(n)}catch(i){this.logger.warn(i)}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(t,r){const{topic:n}=t;if(!r.sessionExists){const i=Xt(ye.FIVE_MINUTES),s={topic:n,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,s)}this.events.emit(Fr.message,t),await this.recordMessageEvent(t)}startPingTimeout(){var t,r,n,i,s;if(Md())try{(r=(t=this.provider)==null?void 0:t.connection)!=null&&r.socket&&((s=(i=(n=this.provider)==null?void 0:n.connection)==null?void 0:i.socket)==null||s.once("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o)}}isConnectionStalled(t){return this.staleConnectionErrors.some(r=>t.includes(r))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const t=await this.core.crypto.signJWT(this.relayUrl);this.provider=new VU(new JU(wk({sdkVersion:O1,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(t){const{topic:r,message:n}=t;await this.messages.set(r,n)}async shouldIgnoreMessageEvent(t){const{topic:r,message:n}=t;if(!n||n.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isSubscribed(r))return this.logger.debug(`Ignoring message for non-subscribed topic ${r}`),!0;const i=this.messages.has(r,n);return i&&this.logger.debug(`Ignoring duplicate message: ${n}`),i}async onProviderPayload(t){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),Nm(t)){if(!t.method.endsWith(d$))return;const r=t.params,{topic:n,message:i,publishedAt:s,attestation:o}=r.data,a={topic:n,message:i,publishedAt:s,transportType:vt.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(bq({type:"event",event:r.id},a)),this.events.emit(r.id,a),await this.acknowledgePayload(t),await this.onMessageEvent(a)}else Nh(t)&&this.events.emit(Fr.message_ack,t)}async onMessageEvent(t){await this.shouldIgnoreMessageEvent(t)||(this.events.emit(Fr.message,t),await this.recordMessageEvent(t))}async acknowledgePayload(t){const r=Dm(t.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(Bn.payload,this.onPayloadHandler),this.provider.off(Bn.connect,this.onConnectHandler),this.provider.off(Bn.disconnect,this.onDisconnectHandler),this.provider.off(Bn.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let t=await Sb();xU(async r=>{t!==r&&(t=r,r?await this.restartTransport().catch(n=>this.logger.error(n)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){await this.subscriber.stop(),this.requestsInFlight.clear(),clearTimeout(this.pingTimeout),this.events.emit(Fr.disconnect),this.connectionAttemptInProgress=!1,!this.transportExplicitlyClosed&&(this.reconnectTimeout||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(t=>this.logger.error(t))},ye.toMiliseconds(h$))))}isInitialized(){if(!this.initialized){const{message:t}=ge("NOT_INITIALIZED",this.name);throw new Error(t)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&(this.connectionAttemptInProgress&&await new Promise(t=>{const r=setInterval(()=>{this.connected&&(clearInterval(r),t())},this.connectionStatusPollingInterval)}),await this.transportOpen())}}var Eq=Object.defineProperty,qb=Object.getOwnPropertySymbols,_q=Object.prototype.hasOwnProperty,Sq=Object.prototype.propertyIsEnumerable,jb=(e,t,r)=>t in e?Eq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Hb=(e,t)=>{for(var r in t||(t={}))_q.call(t,r)&&jb(e,r,t[r]);if(qb)for(var r of qb(t))Sq.call(t,r)&&jb(e,r,t[r]);return e};class ga extends cD{constructor(t,r,n,i=Gi,s=void 0){super(t,r,n,i),this.core=t,this.logger=r,this.name=n,this.map=new Map,this.version=p$,this.cached=[],this.initialized=!1,this.storagePrefix=Gi,this.recentlyDeleted=[],this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!rn(o)?this.map.set(this.getKey(o),o):nU(o)?this.map.set(o.id,o):iU(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)},this.set=async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())},this.get=o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o)),this.getAll=o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(u=>ZU(a[u],o[u]))):this.values),this.update=async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const u=Hb(Hb({},this.getData(o)),a);this.map.set(o,u),await this.persist()},this.delete=async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())},this.logger=Hr(r,this.name),this.storagePrefix=i,this.getKey=s}get context(){return hn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(t){this.recentlyDeleted.push(t),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(t){await this.core.storage.setItem(this.storageKey,t)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(t){const r=this.map.get(t);if(!r){if(this.recentlyDeleted.includes(t)){const{message:i}=ge("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${t}`);throw this.logger.error(i),new Error(i)}const{message:n}=ge("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const t=await this.getDataStore();if(typeof t>"u"||!t.length)return;if(this.map.size){const{message:r}=ge("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(t){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(t)}}isInitialized(){if(!this.initialized){const{message:t}=ge("NOT_INITIALIZED",this.name);throw new Error(t)}}}class Aq{constructor(t,r){this.core=t,this.logger=r,this.name=b$,this.version=w$,this.events=new $g,this.initialized=!1,this.storagePrefix=Gi,this.ignoredPayloadTypes=[Ss],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]},this.create=async n=>{this.isInitialized();const i=N1(),s=await this.core.crypto.setSymKey(i),o=Xt(ye.FIVE_MINUTES),a={protocol:yE},u={topic:s,expiry:o,relay:a,active:!1,methods:n==null?void 0:n.methods},c=yb({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:n==null?void 0:n.methods});return this.events.emit(Oo.create,u),this.core.expirer.set(s,o),await this.pairings.set(s,u),await this.core.relayer.subscribe(s,{transportType:n==null?void 0:n.transportType}),{topic:s,uri:c}},this.pair=async n=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:n==null?void 0:n.uri,trace:[bi.pairing_started]}});this.isValidPair(n,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:u,methods:c}=mb(n.uri);i.props.properties.topic=s,i.addTrace(bi.pairing_uri_validation_success),i.addTrace(bi.pairing_uri_not_expired);let f;if(this.pairings.keys.includes(s)){if(f=this.pairings.get(s),i.addTrace(bi.existing_pairing),f.active)throw i.setError(ls.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(bi.pairing_not_expired)}const h=u||Xt(ye.FIVE_MINUTES),y={topic:s,relay:a,expiry:h,active:!1,methods:c};this.core.expirer.set(s,h),await this.pairings.set(s,y),i.addTrace(bi.store_new_pairing),n.activatePairing&&await this.activate({topic:s}),this.events.emit(Oo.create,y),i.addTrace(bi.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(bi.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(ls.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(v){throw i.setError(ls.subscribe_pairing_topic_failure),v}return i.addTrace(bi.subscribe_pairing_topic_success),y},this.activate=async({topic:n})=>{this.isInitialized();const i=Xt(ye.THIRTY_DAYS);this.core.expirer.set(n,i),await this.pairings.update(n,{active:!0,expiry:i})},this.ping=async n=>{this.isInitialized(),await this.isValidPing(n);const{topic:i}=n;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:u}=Po();this.events.once(tt("pairing_ping",s),({error:c})=>{c?u(c):a()}),await o()}},this.updateExpiry=async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})},this.updateMetadata=async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Et("USER_DISCONNECTED")),await this.deletePairing(i))},this.formatUriFromPairing=n=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=n,u=this.core.crypto.keychain.get(i);return yb({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:u,relay:s,expiryTimestamp:o,methods:a})},this.sendRequest=async(n,i,s)=>{const o=$o(i,s),a=await this.core.crypto.encode(n,o),u=uc[i].req;return this.core.history.set(n,o),this.core.relayer.publish(n,a,u),o.id},this.sendResult=async(n,i,s)=>{const o=Dm(n,s),a=await this.core.crypto.encode(i,o),u=await this.core.history.get(i,n),c=uc[u.request.method].res;await this.core.relayer.publish(i,a,c),await this.core.history.resolve(o)},this.sendError=async(n,i,s)=>{const o=Tm(n,s),a=await this.core.crypto.encode(i,o),u=await this.core.history.get(i,n),c=uc[u.request.method]?uc[u.request.method].res:uc.unregistered_method.res;await this.core.relayer.publish(i,a,c),await this.core.history.resolve(o)},this.deletePairing=async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,Et("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])},this.cleanup=async()=>{const n=this.pairings.getAll().filter(i=>zs(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))},this.onRelayEventRequest=n=>{const{topic:i,payload:s}=n;switch(s.method){case"wc_pairingPing":return this.onPairingPingRequest(i,s);case"wc_pairingDelete":return this.onPairingDeleteRequest(i,s);default:return this.onUnknownRpcMethodRequest(i,s)}},this.onRelayEventResponse=async n=>{const{topic:i,payload:s}=n,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}},this.onPairingPingRequest=async(n,i)=>{const{id:s}=i;try{this.isValidPing({topic:n}),await this.sendResult(s,n,!0),this.events.emit(Oo.ping,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}},this.onPairingPingResponse=(n,i)=>{const{id:s}=i;setTimeout(()=>{Si(i)?this.events.emit(tt("pairing_ping",s),{}):zn(i)&&this.events.emit(tt("pairing_ping",s),{error:i.error})},500)},this.onPairingDeleteRequest=async(n,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(Oo.delete,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}},this.onUnknownRpcMethodRequest=async(n,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=Et("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,n,a),this.logger.error(a)}catch(a){await this.sendError(s,n,a),this.logger.error(a)}},this.onUnknownRpcMethodResponse=n=>{this.registeredMethods.includes(n)||this.logger.error(Et("WC_METHOD_UNSUPPORTED",n))},this.isValidPair=(n,i)=>{var s;if(!Zr(n)){const{message:a}=ge("MISSING_OR_INVALID",`pair() params: ${n}`);throw i.setError(ls.malformed_pairing_uri),new Error(a)}if(!rU(n.uri)){const{message:a}=ge("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw i.setError(ls.malformed_pairing_uri),new Error(a)}const o=mb(n==null?void 0:n.uri);if(!((s=o==null?void 0:o.relay)!=null&&s.protocol)){const{message:a}=ge("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(ls.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=ge("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(ls.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&ye.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){i.setError(ls.pairing_expired);const{message:a}=ge("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}},this.isValidPing=async n=>{if(!Zr(n)){const{message:s}=ge("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidDisconnect=async n=>{if(!Zr(n)){const{message:s}=ge("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidPairingTopic=async n=>{if(!Ht(n,!1)){const{message:i}=ge("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){const{message:i}=ge("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(zs(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:i}=ge("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}},this.core=t,this.logger=Hr(r,this.name),this.pairings=new ga(this.core,this.logger,this.name,this.storagePrefix)}get context(){return hn(this.logger)}isInitialized(){if(!this.initialized){const{message:t}=ge("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){this.core.relayer.on(Fr.message,async t=>{const{topic:r,message:n,transportType:i}=t;if(!this.pairings.keys.includes(r)||i===vt.link_mode||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))return;const s=await this.core.crypto.decode(r,n);try{Nm(s)?(this.core.history.set(r,s),this.onRelayEventRequest({topic:r,payload:s})):Nh(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:r,payload:s}),this.core.history.delete(r,s.id))}catch(o){this.logger.error(o)}})}registerExpirerEvents(){this.core.expirer.on(Ln.expired,async t=>{const{topic:r}=b5(t.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(Oo.expire,{topic:r}))})}}class Iq extends sD{constructor(t,r){super(t,r),this.core=t,this.logger=r,this.records=new Map,this.events=new Rn.EventEmitter,this.name=E$,this.version=_$,this.cached=[],this.initialized=!1,this.storagePrefix=Gi,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(n,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:s,expiry:Xt(ye.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(ri.created,o)},this.resolve=async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=zn(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.persist(),this.events.emit(ri.updated,i))},this.get=async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i)),this.delete=(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===n){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(ri.deleted,s)}}),this.persist()},this.exists=async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1),this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=Hr(r,this.name)}get context(){return hn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const t=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:$o(r.request.method,r.request.params,r.id),chainId:r.chainId};return t.push(n)}),t}async setJsonRpcRecords(t){await this.core.storage.setItem(this.storageKey,t)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(t){this.isInitialized();const r=this.records.get(t);if(!r){const{message:n}=ge("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(ri.sync)}async restore(){try{const t=await this.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(this.records.size){const{message:r}=ge("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}}registerEventListeners(){this.events.on(ri.created,t=>{const r=ri.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t})}),this.events.on(ri.updated,t=>{const r=ri.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t})}),this.events.on(ri.deleted,t=>{const r=ri.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t})}),this.core.heartbeat.on(xu.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let t=!1;this.records.forEach(r=>{ye.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(ri.deleted,r,!1),t=!0)}),t&&this.persist()}catch(t){this.logger.warn(t)}}isInitialized(){if(!this.initialized){const{message:t}=ge("NOT_INITIALIZED",this.name);throw new Error(t)}}}class xq extends fD{constructor(t,r){super(t,r),this.core=t,this.logger=r,this.expirations=new Map,this.events=new Rn.EventEmitter,this.name=S$,this.version=A$,this.cached=[],this.initialized=!1,this.storagePrefix=Gi,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=n=>{try{const i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}},this.set=(n,i)=>{this.isInitialized();const s=this.formatTarget(n),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(Ln.created,{target:s,expiration:o})},this.get=n=>{this.isInitialized();const i=this.formatTarget(n);return this.getExpiration(i)},this.del=n=>{if(this.isInitialized(),this.has(n)){const i=this.formatTarget(n),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Ln.deleted,{target:i,expiration:s})}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=Hr(r,this.name)}get context(){return hn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(t){if(typeof t=="string")return Ek(t);if(typeof t=="number")return _k(t);const{message:r}=ge("UNKNOWN_TYPE",`Target type: ${typeof t}`);throw new Error(r)}async setExpirations(t){await this.core.storage.setItem(this.storageKey,t)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Ln.sync)}async restore(){try{const t=await this.getExpirations();if(typeof t>"u"||!t.length)return;if(this.expirations.size){const{message:r}=ge("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(t){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(t)}}getExpiration(t){const r=this.expirations.get(t);if(!r){const{message:n}=ge("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(t,r){const{expiry:n}=r;ye.toMiliseconds(n)-Date.now()<=0&&this.expire(t,r)}expire(t,r){this.expirations.delete(t),this.events.emit(Ln.expired,{target:t,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((t,r)=>this.checkExpiry(r,t))}registerEventListeners(){this.core.heartbeat.on(xu.pulse,()=>this.checkExpirations()),this.events.on(Ln.created,t=>{const r=Ln.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()}),this.events.on(Ln.expired,t=>{const r=Ln.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()}),this.events.on(Ln.deleted,t=>{const r=Ln.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=ge("NOT_INITIALIZED",this.name);throw new Error(t)}}}var Ct={};Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.getLocalStorage=Ct.getLocalStorageOrThrow=Ct.getCrypto=Ct.getCryptoOrThrow=Ct.getLocation=Ct.getLocationOrThrow=Ct.getNavigator=Ct.getNavigatorOrThrow=DE=Ct.getDocument=Ct.getDocumentOrThrow=Ct.getFromWindowOrThrow=Ct.getFromWindow=void 0;function ma(e){let t;return typeof window<"u"&&typeof window[e]<"u"&&(t=window[e]),t}Ct.getFromWindow=ma;function $u(e){const t=ma(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}Ct.getFromWindowOrThrow=$u;function Mq(){return $u("document")}Ct.getDocumentOrThrow=Mq;function Rq(){return ma("document")}var DE=Ct.getDocument=Rq;function Cq(){return $u("navigator")}Ct.getNavigatorOrThrow=Cq;function Dq(){return ma("navigator")}Ct.getNavigator=Dq;function Tq(){return $u("location")}Ct.getLocationOrThrow=Tq;function Nq(){return ma("location")}Ct.getLocation=Nq;function Pq(){return $u("crypto")}Ct.getCryptoOrThrow=Pq;function Oq(){return ma("crypto")}Ct.getCrypto=Oq;function kq(){return $u("localStorage")}Ct.getLocalStorageOrThrow=kq;function Fq(){return ma("localStorage")}Ct.getLocalStorage=Fq;class Bq extends dD{constructor(t,r,n){super(t,r,n),this.core=t,this.logger=r,this.store=n,this.name=I$,this.verifyUrlV3=M$,this.storagePrefix=Gi,this.version=mE,this.init=async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&ye.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))},this.register=async i=>{if(!Rl()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,u=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const c=DE(),f=this.startAbortTimer(ye.ONE_SECOND*5),h=await new Promise((y,v)=>{const w=()=>{window.removeEventListener("message",N),c.body.removeChild(C),v("attestation aborted")};this.abortController.signal.addEventListener("abort",w);const C=c.createElement("iframe");C.src=u,C.style.display="none",C.addEventListener("error",w,{signal:this.abortController.signal});const N=T=>{if(T.data&&typeof T.data=="string")try{const x=JSON.parse(T.data);if(x.type==="verify_attestation"){if(b1(x.attestation).payload.id!==o)return;clearInterval(f),c.body.removeChild(C),this.abortController.signal.removeEventListener("abort",w),window.removeEventListener("message",N),y(x.attestation===null?"":x.attestation)}}catch(x){this.logger.warn(x)}};c.body.appendChild(C),window.addEventListener("message",N,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",h),h}catch(c){this.logger.warn(c)}return""},this.resolve=async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(b1(s).payload.id!==a)return;const c=await this.isValidJwtAttestation(s);if(c){if(!c.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return c}}if(!o)return;const u=this.getVerifyUrl(i==null?void 0:i.verifyUrl);return this.fetchAttestation(o,u)},this.fetchAttestation=async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(ye.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0},this.getVerifyUrl=i=>{let s=i||Oc;return R$.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${Oc}`),s=Oc),s},this.fetchPublicKey=async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(ye.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}},this.persistPublicKey=async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i},this.removePublicKey=async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0},this.isValidJwtAttestation=async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}},this.getPublicKey=async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey(),this.fetchAndPersistPublicKey=async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i},this.validateAttestation=(i,s)=>{const o=BL(i,s.publicKey),a={hasExpired:ye.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}},this.logger=Hr(r,this.name),this.abortController=new AbortController,this.isDevEnv=wm(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return hn(this.logger)}startAbortTimer(t){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),ye.toMiliseconds(t))}}class Lq extends hD{constructor(t,r){super(t,r),this.projectId=t,this.logger=r,this.context=C$,this.registerDeviceToken=async n=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=n,u=`${D$}/${this.projectId}/clients`;await fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})},this.logger=Hr(r,this.context)}}var Uq=Object.defineProperty,Kb=Object.getOwnPropertySymbols,$q=Object.prototype.hasOwnProperty,zq=Object.prototype.propertyIsEnumerable,Gb=(e,t,r)=>t in e?Uq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,fc=(e,t)=>{for(var r in t||(t={}))$q.call(t,r)&&Gb(e,r,t[r]);if(Kb)for(var r of Kb(t))zq.call(t,r)&&Gb(e,r,t[r]);return e};class qq extends pD{constructor(t,r,n=!0){super(t,r,n),this.core=t,this.logger=r,this.context=N$,this.storagePrefix=Gi,this.storageVersion=T$,this.events=new Map,this.shouldPersist=!1,this.init=async()=>{if(!wm())try{const i={eventId:k2(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:g5(this.core.relayer.protocol,this.core.relayer.version,O1)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}},this.createEvent=i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:u}}=i,c=k2(),f=this.core.projectId||"",h=Date.now(),y=fc({eventId:c,timestamp:h,props:{event:s,type:o,properties:{topic:a,trace:u}},bundleId:f,domain:this.getAppDomain()},this.setMethods(c));return this.telemetryEnabled&&(this.events.set(c,y),this.shouldPersist=!0),y},this.getEvent=i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(u=>u.props.properties.topic===o);if(a)return fc(fc({},a),this.setMethods(a.eventId))},this.deleteEvent=i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0},this.setEventListeners=()=>{this.core.heartbeat.on(xu.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{ye.fromMiliseconds(Date.now())-ye.fromMiliseconds(i.timestamp)>P$&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})},this.setMethods=i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)}),this.addTrace=(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)},this.setError=(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)},this.persist=async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1},this.restore=async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,fc(fc({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}},this.submit=async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}},this.sendEvent=async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${O$}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${O1}${s}`,{method:"POST",body:JSON.stringify(i)})},this.getAppDomain=()=>p5().url,this.logger=Hr(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var jq=Object.defineProperty,Vb=Object.getOwnPropertySymbols,Hq=Object.prototype.hasOwnProperty,Kq=Object.prototype.propertyIsEnumerable,Wb=(e,t,r)=>t in e?jq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Yb=(e,t)=>{for(var r in t||(t={}))Hq.call(t,r)&&Wb(e,r,t[r]);if(Vb)for(var r of Vb(t))Kq.call(t,r)&&Wb(e,r,t[r]);return e};class Om extends iD{constructor(t){var r;super(t),this.protocol=gE,this.version=mE,this.name=Pm,this.events=new Rn.EventEmitter,this.initialized=!1,this.on=(o,a)=>this.events.on(o,a),this.once=(o,a)=>this.events.once(o,a),this.off=(o,a)=>this.events.off(o,a),this.removeListener=(o,a)=>this.events.removeListener(o,a),this.dispatchEnvelope=({topic:o,message:a,sessionExists:u})=>{if(!o||!a)return;const c={topic:o,message:a,publishedAt:Date.now(),transportType:vt.link_mode};this.relayer.onLinkMessageEvent(c,{sessionExists:u})},this.projectId=t==null?void 0:t.projectId,this.relayUrl=(t==null?void 0:t.relayUrl)||vE,this.customStoragePrefix=t!=null&&t.customStoragePrefix?`:${t.customStoragePrefix}`:"";const n=im({level:typeof(t==null?void 0:t.logger)=="string"&&t.logger?t.logger:e$.logger}),{logger:i,chunkLoggerController:s}=nD({opts:n,maxSizeInBytes:t==null?void 0:t.maxLogBlobSizeInBytes,loggerOverride:t==null?void 0:t.logger});this.logChunkController=s,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var o,a;(o=this.logChunkController)!=null&&o.downloadLogsBlobInBrowser&&((a=this.logChunkController)==null||a.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Hr(i,this.name),this.heartbeat=new JR,this.crypto=new oq(this,this.logger,t==null?void 0:t.keychain),this.history=new Iq(this,this.logger),this.expirer=new xq(this,this.logger),this.storage=t!=null&&t.storage?t.storage:new CC(Yb(Yb({},t$),t==null?void 0:t.storageOptions)),this.relayer=new wq({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Aq(this,this.logger),this.verify=new Bq(this,this.logger,this.storage),this.echoClient=new Lq(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new qq(this,this.logger,t==null?void 0:t.telemetryEnabled)}static async init(t){const r=new Om(t);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(g$,n),r}get context(){return hn(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var t;return(t=this.logChunkController)==null?void 0:t.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(t){this.linkModeSupportedApps.includes(t)||(this.linkModeSupportedApps.push(t),await this.storage.setItem(Tb,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.eventClient.init(),this.linkModeSupportedApps=await this.storage.getItem(Tb)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(t){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,t),this.logger.error(t.message),t}}}const Gq=Om,TE="wc",NE=2,PE="client",km=`${TE}@${NE}:${PE}:`,ep={name:PE,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.org"},Qb="WALLETCONNECT_DEEPLINK_CHOICE",Vq="proposal",Wq="Proposal expired",Yq="session",xa=ye.SEVEN_DAYS,Qq="engine",sr={wc_sessionPropose:{req:{ttl:ye.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:1104},res:{ttl:ye.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:1106},res:{ttl:ye.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:ye.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:ye.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:1112},res:{ttl:ye.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:1114},res:{ttl:ye.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:ye.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:ye.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1119}}},tp={min:ye.FIVE_MINUTES,max:ye.SEVEN_DAYS},vi={idle:"IDLE",active:"ACTIVE"},Jq="request",Xq=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],Zq="wc",ej="auth",tj="authKeys",rj="pairingTopics",nj="requests",Oh=`${Zq}@${1.5}:${ej}:`,Hf=`${Oh}:PUB_KEY`;var ij=Object.defineProperty,sj=Object.defineProperties,oj=Object.getOwnPropertyDescriptors,Jb=Object.getOwnPropertySymbols,aj=Object.prototype.hasOwnProperty,uj=Object.prototype.propertyIsEnumerable,Xb=(e,t,r)=>t in e?ij(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Lt=(e,t)=>{for(var r in t||(t={}))aj.call(t,r)&&Xb(e,r,t[r]);if(Jb)for(var r of Jb(t))uj.call(t,r)&&Xb(e,r,t[r]);return e},ii=(e,t)=>sj(e,oj(t));class cj extends mD{constructor(t){super(t),this.name=Qq,this.events=new $g,this.initialized=!1,this.requestQueue={state:vi.idle,queue:[]},this.sessionRequestQueue={state:vi.idle,queue:[]},this.requestQueueDelay=ye.ONE_SECOND,this.expectedPairingMethodMap=new Map,this.recentlyDeletedMap=new Map,this.recentlyDeletedLimit=200,this.relayMessageCache=[],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(sr)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},ye.toMiliseconds(this.requestQueueDelay)))},this.connect=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const n=ii(Lt({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n);const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,relays:u}=n;let c=i,f,h=!1;try{c&&(h=this.client.core.pairing.pairings.get(c).active)}catch(k){throw this.client.logger.error(`connect() -> pairing.get(${c}) failed`),k}if(!c||!h){const{topic:k,uri:L}=await this.client.core.pairing.create();c=k,f=L}if(!c){const{message:k}=ge("NO_MATCHING_KEY",`connect() pairing topic: ${c}`);throw new Error(k)}const y=await this.client.core.crypto.generateKeyPair(),v=sr.wc_sessionPropose.req.ttl||ye.FIVE_MINUTES,w=Xt(v),C=Lt({requiredNamespaces:s,optionalNamespaces:o,relays:u??[{protocol:yE}],proposer:{publicKey:y,metadata:this.client.metadata},expiryTimestamp:w,pairingTopic:c},a&&{sessionProperties:a}),{reject:N,resolve:T,done:x}=Po(v,Wq);this.events.once(tt("session_connect"),async({error:k,session:L})=>{if(k)N(k);else if(L){L.self.publicKey=y;const $=ii(Lt({},L),{pairingTopic:C.pairingTopic,requiredNamespaces:C.requiredNamespaces,optionalNamespaces:C.optionalNamespaces,transportType:vt.relay});await this.client.session.set(L.topic,$),await this.setExpiry(L.topic,L.expiry),c&&await this.client.core.pairing.updateMetadata({topic:c,metadata:L.peer.metadata}),this.cleanupDuplicatePairings($),T($)}});const O=await this.sendRequest({topic:c,method:"wc_sessionPropose",params:C,throwOnFailedPublish:!0});return await this.setProposal(O,Lt({id:O},C)),{uri:f,approval:x}},this.pair=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(n){throw this.client.logger.error("pair() failed"),n}},this.approve=async r=>{var n,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(n=r==null?void 0:r.id)==null?void 0:n.toString(),trace:[ni.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(U){throw o.setError(Io.no_internet_connection),U}try{await this.isValidProposalId(r==null?void 0:r.id)}catch(U){throw this.client.logger.error(`approve() -> proposal.get(${r==null?void 0:r.id}) failed`),o.setError(Io.proposal_not_found),U}try{await this.isValidApprove(r)}catch(U){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(Io.session_approve_namespace_validation_failure),U}const{id:a,relayProtocol:u,namespaces:c,sessionProperties:f,sessionConfig:h}=r,y=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:v,proposer:w,requiredNamespaces:C,optionalNamespaces:N}=y;let T=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:v});T||(T=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:ni.session_approve_started,properties:{topic:v,trace:[ni.session_approve_started,ni.session_namespaces_validation_success]}}));const x=await this.client.core.crypto.generateKeyPair(),O=w.publicKey,k=await this.client.core.crypto.generateSharedKey(x,O),L=Lt(Lt({relay:{protocol:u??"irn"},namespaces:c,controller:{publicKey:x,metadata:this.client.metadata},expiry:Xt(xa)},f&&{sessionProperties:f}),h&&{sessionConfig:h}),$=vt.relay;T.addTrace(ni.subscribing_session_topic);try{await this.client.core.relayer.subscribe(k,{transportType:$})}catch(U){throw T.setError(Io.subscribe_session_topic_failure),U}T.addTrace(ni.subscribe_session_topic_success);const E=ii(Lt({},L),{topic:k,requiredNamespaces:C,optionalNamespaces:N,pairingTopic:v,acknowledged:!1,self:L.controller,peer:{publicKey:w.publicKey,metadata:w.metadata},controller:x,transportType:vt.relay});await this.client.session.set(k,E),T.addTrace(ni.store_session);try{T.addTrace(ni.publishing_session_settle),await this.sendRequest({topic:k,method:"wc_sessionSettle",params:L,throwOnFailedPublish:!0}).catch(U=>{throw T==null||T.setError(Io.session_settle_publish_failure),U}),T.addTrace(ni.session_settle_publish_success),T.addTrace(ni.publishing_session_approve),await this.sendResult({id:a,topic:v,result:{relay:{protocol:u??"irn"},responderPublicKey:x},throwOnFailedPublish:!0}).catch(U=>{throw T==null||T.setError(Io.session_approve_publish_failure),U}),T.addTrace(ni.session_approve_publish_success)}catch(U){throw this.client.logger.error(U),this.client.session.delete(k,Et("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(k),U}return this.client.core.eventClient.deleteEvent({eventId:T.eventId}),await this.client.core.pairing.updateMetadata({topic:v,metadata:w.metadata}),await this.client.proposal.delete(a,Et("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:v}),await this.setExpiry(k,Xt(xa)),{topic:k,acknowledged:()=>Promise.resolve(this.client.session.get(k))}},this.reject=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:n,reason:i}=r;let s;try{s=this.client.proposal.get(n).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${n}) failed`),o}s&&(await this.sendError({id:n,topic:s,error:i,rpcOpts:sr.wc_sessionPropose.reject}),await this.client.proposal.delete(n,Et("USER_DISCONNECTED")))},this.update=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(h){throw this.client.logger.error("update() -> isValidUpdate() failed"),h}const{topic:n,namespaces:i}=r,{done:s,resolve:o,reject:a}=Po(),u=js(),c=Uo().toString(),f=this.client.session.get(n).namespaces;return this.events.once(tt("session_update",u),({error:h})=>{h?a(h):o()}),await this.client.session.update(n,{namespaces:i}),await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:u,relayRpcId:c}).catch(h=>{this.client.logger.error(h),this.client.session.update(n,{namespaces:f}),a(h)}),{acknowledged:s}},this.extend=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(u){throw this.client.logger.error("extend() -> isValidExtend() failed"),u}const{topic:n}=r,i=js(),{done:s,resolve:o,reject:a}=Po();return this.events.once(tt("session_extend",i),({error:u})=>{u?a(u):o()}),await this.setExpiry(n,Xt(xa)),this.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(u=>{a(u)}),{acknowledged:s}},this.request=async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(w){throw this.client.logger.error("request() -> isValidRequest() failed"),w}const{chainId:n,request:i,topic:s,expiry:o=sr.wc_sessionRequest.req.ttl}=r,a=this.client.session.get(s);(a==null?void 0:a.transportType)===vt.relay&&await this.confirmOnlineStateOrThrow();const u=js(),c=Uo().toString(),{done:f,resolve:h,reject:y}=Po(o,"Request expired. Please try again.");this.events.once(tt("session_request",u),({error:w,result:C})=>{w?y(w):h(C)});const v=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);return v?(await this.sendRequest({clientRpcId:u,relayRpcId:c,topic:s,method:"wc_sessionRequest",params:{request:ii(Lt({},i),{expiryTimestamp:Xt(o)}),chainId:n},expiry:o,throwOnFailedPublish:!0,appLink:v}).catch(w=>y(w)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:u}),await f()):await Promise.all([new Promise(async w=>{await this.sendRequest({clientRpcId:u,relayRpcId:c,topic:s,method:"wc_sessionRequest",params:{request:ii(Lt({},i),{expiryTimestamp:Xt(o)}),chainId:n},expiry:o,throwOnFailedPublish:!0}).catch(C=>y(C)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:u}),w()}),new Promise(async w=>{var C;if(!((C=a.sessionConfig)!=null&&C.disableDeepLink)){const N=await xk(this.client.core.storage,Qb);await Ak({id:u,topic:s,wcDeepLink:N})}w()}),f()]).then(w=>w[2])},this.respond=async r=>{this.isInitialized(),await this.isValidRespond(r);const{topic:n,response:i}=r,{id:s}=i,o=this.client.session.get(n);o.transportType===vt.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);Si(i)?await this.sendResult({id:s,topic:n,result:i.result,throwOnFailedPublish:!0,appLink:a}):zn(i)&&await this.sendError({id:s,topic:n,error:i.error,appLink:a}),this.cleanupAfterResponse(r)},this.ping=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:n}=r;if(this.client.session.keys.includes(n)){const i=js(),s=Uo().toString(),{done:o,resolve:a,reject:u}=Po();this.events.once(tt("session_ping",i),({error:c})=>{c?u(c):a()}),await Promise.all([this.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(n)&&await this.client.core.pairing.ping({topic:n})},this.emit=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);const{topic:n,event:i,chainId:s}=r,o=Uo().toString();await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o})},this.disconnect=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);const{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:Et("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{const{message:i}=ge("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(i)}},this.find=r=>(this.isInitialized(),this.client.session.getAll().filter(n=>eU(n,r))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.authenticate=async(r,n)=>{var i;this.isInitialized(),this.isValidAuthenticate(r);const s=n&&this.client.core.linkModeSupportedApps.includes(n)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?vt.link_mode:vt.relay;o===vt.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:u="",uri:c,domain:f,nonce:h,type:y,exp:v,nbf:w,methods:C=[],expiry:N}=r,T=[...r.resources||[]],{topic:x,uri:O}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:x,uri:O}});const k=await this.client.core.crypto.generateKeyPair(),L=jf(k);if(await Promise.all([this.client.auth.authKeys.set(Hf,{responseTopic:L,publicKey:k}),this.client.auth.pairingTopics.set(L,{topic:L,pairingTopic:x})]),await this.client.core.relayer.subscribe(L,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${x}`),C.length>0){const{namespace:R}=O0(a[0]);let I=EL(R,"request",C);qf(T)&&(I=SL(I,T.pop())),T.push(I)}const $=N&&N>sr.wc_sessionAuthenticate.req.ttl?N:sr.wc_sessionAuthenticate.req.ttl,E={authPayload:{type:y??"caip122",chains:a,statement:u,aud:c,domain:f,version:"1",nonce:h,iat:new Date().toISOString(),exp:v,nbf:w,resources:T},requester:{publicKey:k,metadata:this.client.metadata},expiryTimestamp:Xt($)},U={eip155:{chains:a,methods:[...new Set(["personal_sign",...C])],events:["chainChanged","accountsChanged"]}},Z={requiredNamespaces:{},optionalNamespaces:U,relays:[{protocol:"irn"}],pairingTopic:x,proposer:{publicKey:k,metadata:this.client.metadata},expiryTimestamp:Xt(sr.wc_sessionPropose.req.ttl)},{done:ne,resolve:q,reject:b}=Po($,"Request expired"),l=async({error:R,session:I})=>{if(this.events.off(tt("session_request",m),d),R)b(R);else if(I){I.self.publicKey=k,await this.client.session.set(I.topic,I),await this.setExpiry(I.topic,I.expiry),x&&await this.client.core.pairing.updateMetadata({topic:x,metadata:I.peer.metadata});const p=this.client.session.get(I.topic);await this.deleteProposal(A),q({session:p})}},d=async R=>{var I,p,g;if(await this.deletePendingAuthRequest(m,{message:"fulfilled",code:0}),R.error){const K=Et("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return R.error.code===K.code?void 0:(this.events.off(tt("session_connect"),l),b(R.error.message))}await this.deleteProposal(A),this.events.off(tt("session_connect"),l);const{cacaos:B,responder:Y}=R.result,te=[],P=[];for(const K of B){await ab({cacao:K,projectId:this.client.core.projectId})||(this.client.logger.error(K,"Signature verification failed"),b(Et("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:G}=K,S=qf(G.resources),H=[ob(G.iss)],re=Nd(G.iss);if(S){const ie=ub(S),ae=cb(S);te.push(...ie),H.push(...ae)}for(const ie of H)P.push(`${ie}:${re}`)}const J=await this.client.core.crypto.generateSharedKey(k,Y.publicKey);let j;te.length>0&&(j={topic:J,acknowledged:!0,self:{publicKey:k,metadata:this.client.metadata},peer:Y,controller:Y.publicKey,expiry:Xt(xa),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:x,namespaces:vb([...new Set(te)],[...new Set(P)]),transportType:o},await this.client.core.relayer.subscribe(J,{transportType:o}),await this.client.session.set(J,j),x&&await this.client.core.pairing.updateMetadata({topic:x,metadata:Y.metadata}),j=this.client.session.get(J)),(I=this.client.metadata.redirect)!=null&&I.linkMode&&(p=Y.metadata.redirect)!=null&&p.linkMode&&(g=Y.metadata.redirect)!=null&&g.universal&&n&&(this.client.core.addLinkModeSupportedApp(Y.metadata.redirect.universal),this.client.session.update(J,{transportType:vt.link_mode})),q({auths:B,session:j})},m=js(),A=js();this.events.once(tt("session_connect"),l),this.events.once(tt("session_request",m),d);let D;try{if(s){const R=$o("wc_sessionAuthenticate",E,m);this.client.core.history.set(x,R);const I=await this.client.core.crypto.encode("",R,{type:Nl,encoding:oc});D=mf(n,x,I)}else await Promise.all([this.sendRequest({topic:x,method:"wc_sessionAuthenticate",params:E,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:m}),this.sendRequest({topic:x,method:"wc_sessionPropose",params:Z,expiry:sr.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:A})])}catch(R){throw this.events.off(tt("session_connect"),l),this.events.off(tt("session_request",m),d),R}return await this.setProposal(A,Lt({id:A},Z)),await this.setAuthRequest(m,{request:ii(Lt({},E),{verifyContext:{}}),pairingTopic:x,transportType:o}),{uri:D??O,response:ne}},this.approveSessionAuthenticate=async r=>{const{id:n,auths:i}=r,s=this.client.core.eventClient.createEvent({properties:{topic:n.toString(),trace:[xo.authenticated_session_approve_started]}});try{this.isInitialized()}catch(N){throw s.setError(cc.no_internet_connection),N}const o=this.getPendingAuthRequest(n);if(!o)throw s.setError(cc.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${n}`);const a=o.transportType||vt.relay;a===vt.relay&&await this.confirmOnlineStateOrThrow();const u=o.requester.publicKey,c=await this.client.core.crypto.generateKeyPair(),f=jf(u),h={type:Ss,receiverPublicKey:u,senderPublicKey:c},y=[],v=[];for(const N of i){if(!await ab({cacao:N,projectId:this.client.core.projectId})){s.setError(cc.invalid_cacao);const L=Et("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:n,topic:f,error:L,encodeOpts:h}),new Error(L.message)}s.addTrace(xo.cacaos_verified);const{p:T}=N,x=qf(T.resources),O=[ob(T.iss)],k=Nd(T.iss);if(x){const L=ub(x),$=cb(x);y.push(...L),O.push(...$)}for(const L of O)v.push(`${L}:${k}`)}const w=await this.client.core.crypto.generateSharedKey(c,u);s.addTrace(xo.create_authenticated_session_topic);let C;if((y==null?void 0:y.length)>0){C={topic:w,acknowledged:!0,self:{publicKey:c,metadata:this.client.metadata},peer:{publicKey:u,metadata:o.requester.metadata},controller:u,expiry:Xt(xa),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:vb([...new Set(y)],[...new Set(v)]),transportType:a},s.addTrace(xo.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(w,{transportType:a})}catch(N){throw s.setError(cc.subscribe_authenticated_session_topic_failure),N}s.addTrace(xo.subscribe_authenticated_session_topic_success),await this.client.session.set(w,C),s.addTrace(xo.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(xo.publishing_authenticated_session_approve);try{await this.sendResult({topic:f,id:n,result:{cacaos:i,responder:{publicKey:c,metadata:this.client.metadata}},encodeOpts:h,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(N){throw s.setError(cc.authenticated_session_approve_publish_failure),N}return await this.client.auth.requests.delete(n,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:C}},this.rejectSessionAuthenticate=async r=>{this.isInitialized();const{id:n,reason:i}=r,s=this.getPendingAuthRequest(n);if(!s)throw new Error(`Could not find pending auth request with id ${n}`);s.transportType===vt.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),u=jf(o),c={type:Ss,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:n,topic:u,error:i,encodeOpts:c,rpcOpts:sr.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(n,{message:"rejected",code:0}),await this.client.proposal.delete(n,Et("USER_DISCONNECTED"))},this.formatAuthMessage=r=>{this.isInitialized();const{request:n,iss:i}=r;return rE(n,i)},this.processRelayMessageCache=()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)},this.cleanupDuplicatePairings=async r=>{if(r.pairingTopic)try{const n=this.client.core.pairing.pairings.get(r.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===r.peer.metadata.url&&s.topic&&s.topic!==n.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}},this.deleteSession=async r=>{var n;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=r,{self:u}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Et("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(u.publicKey)&&await this.client.core.crypto.deleteKeyPair(u.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(Qb).catch(c=>this.client.logger.warn(c)),this.getPendingSessionRequests().forEach(c=>{c.topic===i&&this.deletePendingSessionRequest(c.id,Et("USER_DISCONNECTED"))}),i===((n=this.sessionRequestQueue.queue[0])==null?void 0:n.topic)&&(this.sessionRequestQueue.state=vi.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})},this.deleteProposal=async(r,n)=>{if(n)try{const i=this.client.proposal.get(r),s=this.client.core.eventClient.getEvent({topic:i.pairingTopic});s==null||s.setError(Io.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(r,Et("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")},this.deletePendingSessionRequest=async(r,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==r),i&&(this.sessionRequestQueue.state=vi.idle,this.client.events.emit("session_request_expire",{id:r}))},this.deletePendingAuthRequest=async(r,n,i=!1)=>{await Promise.all([this.client.auth.requests.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)])},this.setExpiry=async(r,n)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,n),await this.client.session.update(r,{expiry:n}))},this.setProposal=async(r,n)=>{this.client.core.expirer.set(r,Xt(sr.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,n)},this.setAuthRequest=async(r,n)=>{const{request:i,pairingTopic:s,transportType:o=vt.relay}=n;this.client.core.expirer.set(r,i.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:r,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})},this.setPendingSessionRequest=async r=>{const{id:n,topic:i,params:s,verifyContext:o}=r,a=s.request.expiryTimestamp||Xt(sr.wc_sessionRequest.req.ttl);this.client.core.expirer.set(n,a),await this.client.pendingRequest.set(n,{id:n,topic:i,params:s,verifyContext:o})},this.sendRequest=async r=>{const{topic:n,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:u,throwOnFailedPublish:c,appLink:f}=r,h=$o(i,s,u);let y;const v=!!f;try{const N=v?oc:Js;y=await this.client.core.crypto.encode(n,h,{encoding:N})}catch(N){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),N}let w;if(Xq.includes(i)){const N=ps(JSON.stringify(h)),T=ps(y);w=await this.client.core.verify.register({id:T,decryptedId:N})}const C=sr[i].req;if(C.attestation=w,o&&(C.ttl=o),a&&(C.id=a),this.client.core.history.set(n,h),v){const N=mf(f,n,y);await global.Linking.openURL(N,this.client.name)}else{const N=sr[i].req;o&&(N.ttl=o),a&&(N.id=a),c?(N.internal=ii(Lt({},N.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,y,N)):this.client.core.relayer.publish(n,y,N).catch(T=>this.client.logger.error(T))}return h.id},this.sendResult=async r=>{const{id:n,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:u}=r,c=Dm(n,s);let f;const h=u&&typeof(global==null?void 0:global.Linking)<"u";try{const v=h?oc:Js;f=await this.client.core.crypto.encode(i,c,ii(Lt({},a||{}),{encoding:v}))}catch(v){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),v}let y;try{y=await this.client.core.history.get(i,n)}catch(v){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${n}) failed`),v}if(h){const v=mf(u,i,f);await global.Linking.openURL(v,this.client.name)}else{const v=sr[y.request.method].res;o?(v.internal=ii(Lt({},v.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,f,v)):this.client.core.relayer.publish(i,f,v).catch(w=>this.client.logger.error(w))}await this.client.core.history.resolve(c)},this.sendError=async r=>{const{id:n,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:u}=r,c=Tm(n,s);let f;const h=u&&typeof(global==null?void 0:global.Linking)<"u";try{const v=h?oc:Js;f=await this.client.core.crypto.encode(i,c,ii(Lt({},o||{}),{encoding:v}))}catch(v){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),v}let y;try{y=await this.client.core.history.get(i,n)}catch(v){throw this.client.logger.error(`sendError() -> history.get(${i}, ${n}) failed`),v}if(h){const v=mf(u,i,f);await global.Linking.openURL(v,this.client.name)}else{const v=a||sr[y.request.method].res;this.client.core.relayer.publish(i,f,v)}await this.client.core.history.resolve(c)},this.cleanup=async()=>{const r=[],n=[];this.client.session.getAll().forEach(i=>{let s=!1;zs(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&r.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{zs(i.expiryTimestamp)&&n.push(i.id)}),await Promise.all([...r.map(i=>this.deleteSession({topic:i})),...n.map(i=>this.deleteProposal(i))])},this.onRelayEventRequest=async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===vi.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=vi.active;const r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=vi.idle},this.processRequest=async r=>{const{topic:n,payload:i,attestation:s,transportType:o,encryptedId:a}=r,u=i.method;if(!this.shouldIgnorePairingRequest({topic:n,requestMethod:u}))switch(u){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:n,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(n,i);case"wc_sessionPing":return await this.onSessionPingRequest(n,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(n,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${u}`)}},this.onRelayEventResponse=async r=>{const{topic:n,payload:i,transportType:s}=r,o=(await this.client.core.history.get(n,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}},this.onRelayEventUnknownPayload=r=>{const{topic:n}=r,{message:i}=ge("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)},this.shouldIgnorePairingRequest=r=>{const{topic:n,requestMethod:i}=r,s=this.expectedPairingMethodMap.get(n);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)},this.onSessionProposeRequest=async r=>{const{topic:n,payload:i,attestation:s,encryptedId:o}=r,{params:a,id:u}=i;try{const c=this.client.core.eventClient.getEvent({topic:n});this.isValidConnect(Lt({},i.params));const f=a.expiryTimestamp||Xt(sr.wc_sessionPropose.req.ttl),h=Lt({id:u,pairingTopic:n,expiryTimestamp:f},a);await this.setProposal(u,h);const y=await this.getVerifyContext({attestationId:s,hash:ps(JSON.stringify(i)),encryptedId:o,metadata:h.proposer.metadata});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),c==null||c.setError(ls.proposal_listener_not_found)),c==null||c.addTrace(bi.emit_session_proposal),this.client.events.emit("session_proposal",{id:u,params:h,verifyContext:y})}catch(c){await this.sendError({id:u,topic:n,error:c,rpcOpts:sr.wc_sessionPropose.autoReject}),this.client.logger.error(c)}},this.onSessionProposeResponse=async(r,n,i)=>{const{id:s}=n;if(Si(n)){const{result:o}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const u=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:u});const c=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:c});const f=await this.client.core.crypto.generateSharedKey(u,c);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:f});const h=await this.client.core.relayer.subscribe(f,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:h}),await this.client.core.pairing.activate({topic:r})}else if(zn(n)){await this.client.proposal.delete(s,Et("USER_DISCONNECTED"));const o=tt("session_connect");if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(tt("session_connect"),{error:n.error})}},this.onSessionSettleRequest=async(r,n)=>{const{id:i,params:s}=n;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:u,namespaces:c,sessionProperties:f,sessionConfig:h}=n.params,y=ii(Lt(Lt({topic:r,relay:o,expiry:u,namespaces:c,acknowledged:!0,pairingTopic:"",requiredNamespaces:{},optionalNamespaces:{},controller:a.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},f&&{sessionProperties:f}),h&&{sessionConfig:h}),{transportType:vt.relay}),v=tt("session_connect");if(this.events.listenerCount(v)===0)throw new Error(`emitting ${v} without any listeners 997`);this.events.emit(tt("session_connect"),{session:y}),await this.sendResult({id:n.id,topic:r,result:!0,throwOnFailedPublish:!0})}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}},this.onSessionSettleResponse=async(r,n)=>{const{id:i}=n;Si(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(tt("session_approve",i),{})):zn(n)&&(await this.client.session.delete(r,Et("USER_DISCONNECTED")),this.events.emit(tt("session_approve",i),{error:n.error}))},this.onSessionUpdateRequest=async(r,n)=>{const{params:i,id:s}=n;try{const o=`${r}_session_update`,a=ac.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.info(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:r,error:Et("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Lt({topic:r},i));try{ac.set(o,s),await this.client.session.update(r,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0})}catch(u){throw ac.delete(o),u}this.client.events.emit("session_update",{id:s,topic:r,params:i})}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}},this.isRequestOutOfSync=(r,n)=>parseInt(n.toString().slice(0,-3))<=parseInt(r.toString().slice(0,-3)),this.onSessionUpdateResponse=(r,n)=>{const{id:i}=n,s=tt("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Si(n)?this.events.emit(tt("session_update",i),{}):zn(n)&&this.events.emit(tt("session_update",i),{error:n.error})},this.onSessionExtendRequest=async(r,n)=>{const{id:i}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,Xt(xa)),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}},this.onSessionExtendResponse=(r,n)=>{const{id:i}=n,s=tt("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Si(n)?this.events.emit(tt("session_extend",i),{}):zn(n)&&this.events.emit(tt("session_extend",i),{error:n.error})},this.onSessionPingRequest=async(r,n)=>{const{id:i}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}},this.onSessionPingResponse=(r,n)=>{const{id:i}=n,s=tt("session_ping",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);setTimeout(()=>{Si(n)?this.events.emit(tt("session_ping",i),{}):zn(n)&&this.events.emit(tt("session_ping",i),{error:n.error})},500)},this.onSessionDeleteRequest=async(r,n)=>{const{id:i}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),Promise.all([new Promise(s=>{this.client.core.relayer.once(Fr.publish,async()=>{s(await this.deleteSession({topic:r,id:i}))})}),this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:Et("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}},this.onSessionRequest=async r=>{var n,i,s;const{topic:o,payload:a,attestation:u,encryptedId:c,transportType:f}=r,{id:h,params:y}=a;try{await this.isValidRequest(Lt({topic:o},y));const v=this.client.session.get(o),w=await this.getVerifyContext({attestationId:u,hash:ps(JSON.stringify($o("wc_sessionRequest",y,h))),encryptedId:c,metadata:v.peer.metadata,transportType:f}),C={id:h,topic:o,params:y,verifyContext:w};await this.setPendingSessionRequest(C),f===vt.link_mode&&(n=v.peer.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp((i=v.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(C):(this.addSessionRequestToSessionRequestQueue(C),this.processSessionRequestQueue())}catch(v){await this.sendError({id:h,topic:o,error:v}),this.client.logger.error(v)}},this.onSessionRequestResponse=(r,n)=>{const{id:i}=n,s=tt("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Si(n)?this.events.emit(tt("session_request",i),{result:n.result}):zn(n)&&this.events.emit(tt("session_request",i),{error:n.error})},this.onSessionEventRequest=async(r,n)=>{const{id:i,params:s}=n;try{const o=`${r}_session_event_${s.event.name}`,a=ac.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(Lt({topic:r},s)),this.client.events.emit("session_event",{id:i,topic:r,params:s}),ac.set(o,i)}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}},this.onSessionAuthenticateResponse=(r,n)=>{const{id:i}=n;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:n}),Si(n)?this.events.emit(tt("session_request",i),{result:n.result}):zn(n)&&this.events.emit(tt("session_request",i),{error:n.error})},this.onSessionAuthenticateRequest=async r=>{var n;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:u}=r;try{const{requester:c,authPayload:f,expiryTimestamp:h}=s.params,y=await this.getVerifyContext({attestationId:o,hash:ps(JSON.stringify(s)),encryptedId:a,metadata:c.metadata,transportType:u}),v={requester:c,pairingTopic:i,id:s.id,authPayload:f,verifyContext:y,expiryTimestamp:h};await this.setAuthRequest(s.id,{request:v,pairingTopic:i,transportType:u}),u===vt.link_mode&&(n=c.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp(c.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:y})}catch(c){this.client.logger.error(c);const f=s.params.requester.publicKey,h=await this.client.core.crypto.generateKeyPair(),y=this.getAppLinkIfEnabled(s.params.requester.metadata,u),v={type:Ss,receiverPublicKey:f,senderPublicKey:h};await this.sendError({id:s.id,topic:i,error:c,encodeOpts:v,rpcOpts:sr.wc_sessionAuthenticate.autoReject,appLink:y})}},this.addSessionRequestToSessionRequestQueue=r=>{this.sessionRequestQueue.queue.push(r)},this.cleanupAfterResponse=r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=vi.idle,this.processSessionRequestQueue()},ye.toMiliseconds(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:r,error:n})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===r&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=tt("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(tt("session_request",s.request.id),{error:n})})},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===vi.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=vi.active,this.emitSessionRequest(r)}catch(n){this.client.logger.error(n)}},this.emitSessionRequest=r=>{this.client.events.emit("session_request",r)},this.onPairingCreated=r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;const n=this.client.proposal.getAll().find(i=>i.pairingTopic===r.topic);n&&this.onSessionProposeRequest({topic:r.topic,payload:$o("wc_sessionPropose",{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties},n.id)})},this.isValidConnect=async r=>{if(!Zr(r)){const{message:u}=ge("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(u)}const{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,relays:a}=r;if(rn(n)||await this.isValidPairingTopic(n),!dU(a)){const{message:u}=ge("MISSING_OR_INVALID",`connect() relays: ${a}`);throw new Error(u)}!rn(i)&&Pd(i)!==0&&this.validateNamespaces(i,"requiredNamespaces"),!rn(s)&&Pd(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),rn(o)||this.validateSessionProps(o,"sessionProperties")},this.validateNamespaces=(r,n)=>{const i=fU(r,"connect()",n);if(i)throw new Error(i.message)},this.isValidApprove=async r=>{if(!Zr(r))throw new Error(ge("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:i,relayProtocol:s,sessionProperties:o}=r;this.checkRecentlyDeleted(n),await this.isValidProposalId(n);const a=this.client.proposal.get(n),u=Q0(i,"approve()");if(u)throw new Error(u.message);const c=Eb(a.requiredNamespaces,i,"approve()");if(c)throw new Error(c.message);if(!Ht(s,!0)){const{message:f}=ge("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(f)}rn(o)||this.validateSessionProps(o,"sessionProperties")},this.isValidReject=async r=>{if(!Zr(r)){const{message:s}=ge("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(s)}const{id:n,reason:i}=r;if(this.checkRecentlyDeleted(n),await this.isValidProposalId(n),!pU(i)){const{message:s}=ge("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}},this.isValidSessionSettleRequest=r=>{if(!Zr(r)){const{message:c}=ge("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(c)}const{relay:n,controller:i,namespaces:s,expiry:o}=r;if(!lE(n)){const{message:c}=ge("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(c)}const a=sU(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const u=Q0(s,"onSessionSettleRequest()");if(u)throw new Error(u.message);if(zs(o)){const{message:c}=ge("EXPIRED","onSessionSettleRequest()");throw new Error(c)}},this.isValidUpdate=async r=>{if(!Zr(r)){const{message:u}=ge("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(u)}const{topic:n,namespaces:i}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const s=this.client.session.get(n),o=Q0(i,"update()");if(o)throw new Error(o.message);const a=Eb(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)},this.isValidExtend=async r=>{if(!Zr(r)){const{message:i}=ge("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(i)}const{topic:n}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n)},this.isValidRequest=async r=>{if(!Zr(r)){const{message:u}=ge("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(u)}const{topic:n,request:i,chainId:s,expiry:o}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!wb(a,s)){const{message:u}=ge("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(u)}if(!gU(i)){const{message:u}=ge("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(u)}if(!vU(a,s,i.method)){const{message:u}=ge("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(u)}if(o&&!_U(o,tp)){const{message:u}=ge("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${tp.min} and ${tp.max}`);throw new Error(u)}},this.isValidRespond=async r=>{var n;if(!Zr(r)){const{message:o}=ge("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(o)}const{topic:i,response:s}=r;try{await this.isValidSessionTopic(i)}catch(o){throw(n=r==null?void 0:r.response)!=null&&n.id&&this.cleanupAfterResponse(r),o}if(!mU(s)){const{message:o}=ge("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}},this.isValidPing=async r=>{if(!Zr(r)){const{message:i}=ge("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.isValidEmit=async r=>{if(!Zr(r)){const{message:a}=ge("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}const{topic:n,event:i,chainId:s}=r;await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!wb(o,s)){const{message:a}=ge("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!yU(i)){const{message:a}=ge("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!bU(o,s,i.name)){const{message:a}=ge("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}},this.isValidDisconnect=async r=>{if(!Zr(r)){const{message:i}=ge("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.isValidAuthenticate=r=>{const{chains:n,uri:i,domain:s,nonce:o}=r;if(!Array.isArray(n)||n.length===0)throw new Error("chains is required and must be a non-empty array");if(!Ht(i,!1))throw new Error("uri is required parameter");if(!Ht(s,!1))throw new Error("domain is required parameter");if(!Ht(o,!1))throw new Error("nonce is required parameter");if([...new Set(n.map(u=>O0(u).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=O0(n[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")},this.getVerifyContext=async r=>{const{attestationId:n,hash:i,encryptedId:s,metadata:o,transportType:a}=r,u={verified:{verifyUrl:o.verifyUrl||Oc,validation:"UNKNOWN",origin:o.url||""}};try{if(a===vt.link_mode){const f=this.getAppLinkIfEnabled(o,a);return u.verified.validation=f&&new URL(f).origin===new URL(o.url).origin?"VALID":"INVALID",u}const c=await this.client.core.verify.resolve({attestationId:n,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});c&&(u.verified.origin=c.origin,u.verified.isScam=c.isScam,u.verified.validation=c.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(c){this.client.logger.warn(c)}return this.client.logger.debug(`Verify context: ${JSON.stringify(u)}`),u},this.validateSessionProps=(r,n)=>{Object.values(r).forEach(i=>{if(!Ht(i,!1)){const{message:s}=ge("MISSING_OR_INVALID",`${n} must be in Record<string, string> format. Received: ${JSON.stringify(i)}`);throw new Error(s)}})},this.getPendingAuthRequest=r=>{const n=this.client.auth.requests.get(r);return typeof n=="object"?n:void 0},this.addToRecentlyDeleted=(r,n)=>{if(this.recentlyDeletedMap.set(r,n),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}},this.checkRecentlyDeleted=r=>{const n=this.recentlyDeletedMap.get(r);if(n){const{message:i}=ge("MISSING_OR_INVALID",`Record was recently deleted - ${n}: ${r}`);throw new Error(i)}},this.isLinkModeEnabled=(r,n)=>{var i,s,o,a,u,c,f,h,y;return!r||n!==vt.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((c=(u=this.client.metadata)==null?void 0:u.redirect)==null?void 0:c.universal)!==""&&((f=r==null?void 0:r.redirect)==null?void 0:f.universal)!==void 0&&((h=r==null?void 0:r.redirect)==null?void 0:h.universal)!==""&&((y=r==null?void 0:r.redirect)==null?void 0:y.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"},this.getAppLinkIfEnabled=(r,n)=>{var i;return this.isLinkModeEnabled(r,n)?(i=r==null?void 0:r.redirect)==null?void 0:i.universal:void 0},this.handleLinkModeMessage=({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;const n=O2(r,"topic")||"",i=decodeURIComponent(O2(r,"wc_ev")||""),s=this.client.session.keys.includes(n);s&&this.client.session.update(n,{transportType:vt.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:i,sessionExists:s})},this.registerLinkModeListeners=async()=>{var r;if(wm()||Ou()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){const n=global==null?void 0:global.Linking;if(typeof n<"u"){n.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await n.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}}isInitialized(){if(!this.initialized){const{message:t}=ge("NOT_INITIALIZED",this.name);throw new Error(t)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Fr.message,t=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(t):this.onRelayMessage(t)})}async onRelayMessage(t){const{topic:r,message:n,attestation:i,transportType:s}=t,{publicKey:o}=this.client.auth.authKeys.keys.includes(Hf)?this.client.auth.authKeys.get(Hf):{responseTopic:void 0,publicKey:void 0},a=await this.client.core.crypto.decode(r,n,{receiverPublicKey:o,encoding:s===vt.link_mode?oc:Js});try{Nm(a)?(this.client.core.history.set(r,a),this.onRelayEventRequest({topic:r,payload:a,attestation:i,transportType:s,encryptedId:ps(n)})):Nh(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:r,payload:a,transportType:s}),this.client.core.history.delete(r,a.id)):this.onRelayEventUnknownPayload({topic:r,payload:a,transportType:s})}catch(u){this.client.logger.error(u)}}registerExpirerEvents(){this.client.core.expirer.on(Ln.expired,async t=>{const{topic:r,id:n}=b5(t.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,ge("EXPIRED"),!0);if(n&&this.client.auth.requests.keys.includes(n))return await this.deletePendingAuthRequest(n,ge("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(Oo.create,t=>this.onPairingCreated(t)),this.client.core.pairing.events.on(Oo.delete,t=>{this.addToRecentlyDeleted(t.topic,"pairing")})}isValidPairingTopic(t){if(!Ht(t,!1)){const{message:r}=ge("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:r}=ge("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(r)}if(zs(this.client.core.pairing.pairings.get(t).expiry)){const{message:r}=ge("EXPIRED",`pairing topic: ${t}`);throw new Error(r)}}async isValidSessionTopic(t){if(!Ht(t,!1)){const{message:r}=ge("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw new Error(r)}if(this.checkRecentlyDeleted(t),!this.client.session.keys.includes(t)){const{message:r}=ge("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw new Error(r)}if(zs(this.client.session.get(t).expiry)){await this.deleteSession({topic:t});const{message:r}=ge("EXPIRED",`session topic: ${t}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(t)){const{message:r}=ge("MISSING_OR_INVALID",`session topic does not exist in keychain: ${t}`);throw await this.deleteSession({topic:t}),new Error(r)}}async isValidSessionOrPairingTopic(t){if(this.checkRecentlyDeleted(t),this.client.session.keys.includes(t))await this.isValidSessionTopic(t);else if(this.client.core.pairing.pairings.keys.includes(t))this.isValidPairingTopic(t);else if(Ht(t,!1)){const{message:r}=ge("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw new Error(r)}else{const{message:r}=ge("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw new Error(r)}}async isValidProposalId(t){if(!hU(t)){const{message:r}=ge("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw new Error(r)}if(!this.client.proposal.keys.includes(t)){const{message:r}=ge("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw new Error(r)}if(zs(this.client.proposal.get(t).expiryTimestamp)){await this.deleteProposal(t);const{message:r}=ge("EXPIRED",`proposal id: ${t}`);throw new Error(r)}}}class lj extends ga{constructor(t,r){super(t,r,Vq,km),this.core=t,this.logger=r}}class fj extends ga{constructor(t,r){super(t,r,Yq,km),this.core=t,this.logger=r}}class dj extends ga{constructor(t,r){super(t,r,Jq,km,n=>n.id),this.core=t,this.logger=r}}class hj extends ga{constructor(t,r){super(t,r,tj,Oh,()=>Hf),this.core=t,this.logger=r}}class pj extends ga{constructor(t,r){super(t,r,rj,Oh),this.core=t,this.logger=r}}class gj extends ga{constructor(t,r){super(t,r,nj,Oh,n=>n.id),this.core=t,this.logger=r}}class mj{constructor(t,r){this.core=t,this.logger=r,this.authKeys=new hj(this.core,this.logger),this.pairingTopics=new pj(this.core,this.logger),this.requests=new gj(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}class Fm extends gD{constructor(t){super(t),this.protocol=TE,this.version=NE,this.name=ep.name,this.events=new Rn.EventEmitter,this.on=(n,i)=>this.events.on(n,i),this.once=(n,i)=>this.events.once(n,i),this.off=(n,i)=>this.events.off(n,i),this.removeListener=(n,i)=>this.events.removeListener(n,i),this.removeAllListeners=n=>this.events.removeAllListeners(n),this.connect=async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}},this.pair=async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}},this.approve=async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}},this.reject=async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}},this.update=async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}},this.extend=async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}},this.request=async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}},this.respond=async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}},this.ping=async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}},this.emit=async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}},this.disconnect=async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}},this.find=n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}},this.authenticate=async(n,i)=>{try{return await this.engine.authenticate(n,i)}catch(s){throw this.logger.error(s.message),s}},this.formatAuthMessage=n=>{try{return this.engine.formatAuthMessage(n)}catch(i){throw this.logger.error(i.message),i}},this.approveSessionAuthenticate=async n=>{try{return await this.engine.approveSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}},this.rejectSessionAuthenticate=async n=>{try{return await this.engine.rejectSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}},this.name=(t==null?void 0:t.name)||ep.name,this.metadata=(t==null?void 0:t.metadata)||p5(),this.signConfig=t==null?void 0:t.signConfig;const r=typeof(t==null?void 0:t.logger)<"u"&&typeof(t==null?void 0:t.logger)!="string"?t.logger:dh(im({level:(t==null?void 0:t.logger)||ep.logger}));this.core=(t==null?void 0:t.core)||new Gq(t),this.logger=Hr(r,this.name),this.session=new fj(this.core,this.logger),this.proposal=new lj(this.core,this.logger),this.pendingRequest=new dj(this.core,this.logger),this.engine=new cj(this),this.auth=new mj(this.core,this.logger)}static async init(t){const r=new Fm(t);return await r.initialize(),r}get context(){return hn(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),this.engine.processRelayMessageCache()}catch(t){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(t.message),t}}}function yj(){return typeof navigator<"u"&&/android/i.test(navigator.userAgent)}function vj(){return typeof navigator<"u"&&/iPhone|iPod/.test(navigator.userAgent)}function bj(){return typeof navigator<"u"&&/iPad/.test(navigator.userAgent)}function OE(){return vj()||bj()}function B1(){return yj()||OE()}let ja=function(e){return e.FLOW_AUTHN="flow_authn",e.FLOW_PRE_AUTHZ="flow_pre_authz",e.FLOW_AUTHZ="flow_authz",e.FLOW_USER_SIGN="flow_user_sign",e}({}),kE=function(e){return e.SESSION_REQUEST="session_proposal",e.SIGNING_REQUEST="signing_request",e}({});async function FE(e){let{client:t,existingPairing:r}=e;const n=await Su(),i={flow:{methods:[ja.FLOW_AUTHN,ja.FLOW_PRE_AUTHZ,ja.FLOW_AUTHZ,ja.FLOW_USER_SIGN],chains:[`flow:${n}`],events:["chainChanged","accountsChanged"]}},{uri:s,approval:o}=await t.connect({pairingTopic:r==null?void 0:r.topic,requiredNamespaces:i});if(!s)throw new Error("FCL-WC: Error creating session proposal. Could not create a proposal URI.");return{uri:s,approval:o}}const BE=async e=>{let{method:t,body:r,session:n,client:i,abortSignal:s}=e;const[o,a,u]=wj(n),c=JSON.stringify({...r,addr:a,address:u}),f=await Promise.race([i.request({topic:n.topic,chainId:o,request:{method:t,params:[c]}}),new Promise((h,y)=>{s!=null&&s.aborted&&y(new Error("WalletConnect Request aborted")),s==null||s.addEventListener("abort",()=>{y(new Error("WalletConnect Request aborted"))})})]);if(!(typeof f!="object"||f==null))switch(f.status){case"APPROVED":return f.data;case"DECLINED":throw new Error(`Declined: ${f.reason||"No reason supplied"}`);case"REDIRECT":return f.data;default:throw new Error("Declined: No reason supplied")}};function wj(e){const[t,r,n]=Object.values(e.namespaces).map(o=>o.accounts).flat().filter(o=>o.startsWith("flow:"))[0].split(":");return[`${t}:${r}`,n,n]}const LE="fcl-plugin-service-walletconnect",Ej="WC/RPC",_j=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{projectId:"",includeBaseWC:!1,wallets:[],wcRequestHook:null,pairingModalOverride:null};return{name:LE,f_type:"ServicePlugin",type:"discovery-service",serviceStrategy:{method:Ej,exec:Sj(e,t,ER(()=>import("./index-DgzO3kmL.js").then(r=>r.i),[]).then(r=>r.WalletConnectModal))},services:[]}},Sj=(e,t,r)=>{let{wcRequestHook:n,pairingModalOverride:i}=t;return async s=>{let{service:o,body:a,opts:u,abortSignal:c}=s;const f=await e;se(!!f,"WalletConnect is not initialized");let h,y,v;const w=o.endpoint,C=T(o),N=f.pairing.getAll({active:!0});if(N.length>0&&(y=N==null?void 0:N.find(O=>{var k;return((k=O.peerMetadata)==null?void 0:k.url)===o.uid})),f.session.length>0){const O=f.session.keys.length-1;h=f.session.get(f.session.keys.at(O))}return B1()&&(u.windowRef?v=u.windowRef:v=window.open("","_blank")),h==null&&(h=await new Promise((O,k)=>{function L(){k("Declined: Externally Halted")}Aj(r)({service:o,onClose:L,appLink:C,windowRef:v,client:f,method:w,pairing:y,wcRequestHook:n,pairingModalOverride:i,abortSignal:c}).then(O,k)})),n&&n instanceof Function&&n({type:kE.SIGNING_REQUEST,method:w,service:o,session:h??null,pairing:y??null,uri:null}),B1()&&w!==ja.FLOW_AUTHN&&x(),await BE({method:w,body:a,session:h,client:f,abortSignal:c}).finally(()=>{v&&!v.closed&&v.close()});function T(O){let{uid:k}=O;return k&&/^(ftp|http|https):\/\/[^ "]+$/.test(k)||lt({title:"WalletConnect Service Warning",message:`service.uid should be a valid universal link url. Found: ${k}`,level:It.warn}),k}function x(){if(v)if(C.startsWith("http")&&!OE()){const O=document.createElement("a");O.href=C,O.target="_blank",O.rel="noreferrer noopener",O.click()}else v.location.href=C;else lt({title:"Problem opening deep link in new window",message:"Window failed to open (was it blocked by the browser?)",level:It.warn})}}};function Aj(e){return async t=>{var C;let{service:r,onClose:n,appLink:i,windowRef:s,client:o,method:a,pairing:u,wcRequestHook:c,pairingModalOverride:f,abortSignal:h}=t;const y=(C=o.opts)==null?void 0:C.projectId;se(!!y,"Cannot establish connection, WalletConnect projectId is undefined");let v=null,w;try{const{uri:N,approval:T}=await FE({client:o,existingPairing:u});if(v=N,c&&c instanceof Function&&c({type:kE.SESSION_REQUEST,method:a,service:r,session:null,pairing:u??null,uri:N??null}),B1()){const O=new URLSearchParams({uri:N}).toString();let k=u==null?i+"?"+O:i;s.location.href=k}else u||(f?f(N,n):(w=new(await e)({projectId:y,walletConnectVersion:2}),w.openModal({uri:N,onClose:n})));return await Promise.race([T(),new Promise((O,k)=>{h!=null&&h.aborted&&k(new Error("Session request aborted")),h==null||h.addEventListener("abort",()=>{k(new Error("Session request aborted"))})})])}catch(N){throw N instanceof Error&&lt({title:`${N.name} Error establishing WalletConnect session`,message:`
          ${N.message}
          uri: ${v}
        `,level:It.error}),n(),N}finally{s&&!s.closed&&s.close(),w==null||w.closeModal()}}}const Ij="wss://relay.walletconnect.com",xj="debug";let bc=Promise.resolve(null);const Mj=async e=>{let{projectId:t,metadata:r}=e;se(t!=null,"FCL Wallet Connect Error: WalletConnect projectId is required");try{return Fm.init({logger:xj,relayUrl:Ij,projectId:t,metadata:r})}catch(n){throw n instanceof Error&&lt({title:`${n.name} fcl-wc Init Client`,message:n.message,level:It.error}),n}},Rj=e=>{const{FclWcServicePlugin:t,clientPromise:r}=Cj(e);return LM.authn.update(),{FclWcServicePlugin:t,clientPromise:r}},Cj=e=>{let{projectId:t,metadata:r,includeBaseWC:n=!1,wcRequestHook:i=null,pairingModalOverride:s=null,wallets:o=[]}=e;if(typeof window>"u")throw new Error("FCL Wallet Connect Plugin can only be initialized in the browser");return bc=Promise.resolve(bc).catch(()=>null).then(u=>u||Mj({projectId:t,metadata:r})).catch(u=>{throw lt({title:"WalletConnect Client Initialization Error",message:u.message?u.message:u,level:It.error}),u}),{FclWcServicePlugin:_j(bc,{projectId:t,includeBaseWC:n,wcRequestHook:i,pairingModalOverride:s,wallets:o}),clientPromise:bc}};async function UE(){return bc.then(e=>{if(!e)throw new Error("WalletConnect client not initialized");return e})}const $E="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",Dj=$E.length;function Bm(){let e="",t=32;for(;t--;)e+=$E[Math.random()*Dj|0];return e}const Tj=globalThis.AbortController||require("abort-controller");function Nj(e){const t=new Tj;return e!=null&&e.aborted&&t.abort(),e==null||e.addEventListener("abort",()=>t.abort()),t}let rp=function(e){return e.NOTIFY_QRCODE_CONNECTING="notifyQrCodeConnecting",e.NOTIFY_QRCODE_CONNECTED="notifyQrCodeConnected",e.NOTIFY_QRCODE_ERROR="notifyQrCodeError",e}({}),Zb=function(e){return e.REQUEST_WALLETCONNECT_QRCODE="requestWalletConnectQrCode",e.EXEC_SERVICE="execService",e}({});const e3="APPROVED",Pj=e=>{let{onExecResult:t,execStrategyOpts:r,execStrategyArgs:n,abortSignal:i}=e;return async s=>{var a;let{service:o}=s;try{const u=await ch({...r,service:o,config:r.config,abortSignal:i},...n.slice(1));if((((a=qi(u))==null?void 0:a.status)||e3)===e3)return t(u),null;throw new Error((u==null?void 0:u.reason)||"Service was declined")}catch(u){throw new Error((u==null?void 0:u.message)||"Service execution failed")}}},Oj=e=>{let{rpc:t,onExecResult:r,authnBody:n,abortSignal:i}=e;const s=kj({rpc:t,authnBody:n});return async o=>{if(i.aborted)throw new Error("Handler has been terminated");const a=await UE(),{uri:u,approval:c}=await FE({client:a});return s({uri:u,approval:c,onExecResult:r}),{uri:u}}};function kj(e){let{rpc:t,authnBody:r}=e;return n=>{let{uri:i,approval:s,onExecResult:o}=n;setTimeout(async()=>{try{const a=await UE(),u=await s();t.notify(rp.NOTIFY_QRCODE_CONNECTING,{uri:i});const c=await BE({method:ja.FLOW_AUTHN,body:r,session:u,client:a});t.notify(rp.NOTIFY_QRCODE_CONNECTED,{uri:i}),o(c)}catch(a){t.notify(rp.NOTIFY_QRCODE_ERROR,{uri:i,error:a==null?void 0:a.message})}},0)}}function Fj(e){let{onExecResult:t,body:r,opts:n,args:i,abortSignal:s}=e;const o=new vR({notifications:[]});return o.on(Zb.REQUEST_WALLETCONNECT_QRCODE,Oj({rpc:o,onExecResult:t,authnBody:r,abortSignal:s})),o.on(Zb.EXEC_SERVICE,Pj({onExecResult:t,execStrategyOpts:n,execStrategyArgs:i,abortSignal:s})),{connect:o.connect.bind(o),receive:o.receive.bind(o)}}async function Bj(e){let{customRpc:t,opts:r,args:n,abortSignal:i}=e;const s={...r.config,client:{...r.config.client,discoveryRpcEnabled:!0}};return ch({...r,config:s,customRpc:t,abortSignal:i},...n.slice(1))}const t3="authn";async function Lj(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[n]=t,{body:i,abortSignal:s,service:o}=n;if((o==null?void 0:o.type)!==t3)return console.error(`ERROR: Invalid service type for FCL Discovery execStrategyHook, expected "${t3}" but got "${o==null?void 0:o.type}"`),ch(...t);const a=Nj(s);let u;const c=new Promise(async(f,h)=>{const y=Fj({onExecResult:f,body:i,opts:n,args:t,abortSignal:a.signal});u=Bj({customRpc:y,opts:n,args:t,abortSignal:a.signal}).then(f,h)});return await c.catch(()=>{}),await Promise.race([new Promise(f=>setTimeout(f,1e3)),u]).catch(()=>{}),a.abort(),c}const yf="FCL_IFRAME",Uj=`
  position:fixed;
  top: 0px;
  right: 0px;
  bottom: 0px;
  left: 0px;
  height: 100%;
  width: 100vw;
  display:block;
  background:rgba(0,0,0,0.25);
  z-index: 2147483647;
  box-sizing: border-box;
  color-scheme: light;
`;function zE(e){se(!document.getElementById(yf),"Attempt at triggering multiple Frames",{src:e});const t=document.createElement("iframe");t.src=e,t.id=yf,t.allow="usb *; hid *; clipboard-write",t.frameBorder="0",t.style.cssText=Uj,document.body.append(t);const r=()=>{document.getElementById(yf)&&document.getElementById(yf).remove()};return[t.contentWindow,r]}const $j="FCL_POP";let gn=null,r3=null;function zj(e,t,r,n,i){const s=r.top.outerHeight/2+r.top.screenY-i/2,o=r.top.outerWidth/2+r.top.screenX-n/2,a=r.open(e,t,`toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=${n}, height=${i}, top=${s}, left=${o}`);if(!a)throw new Error("Popup failed to open (was it blocked by a popup blocker?)");return a}function qE(e){return gn==null||gn!=null&&gn.closed?gn=zj(e,$j,window,640,770):(r3!==e&&gn.location.replace(e),gn.focus()),r3=e,[gn,()=>{gn&&!gn.closed&&gn.close(),gn=null}]}let Jr=null,n3=null;function jE(e){if(Jr==null||Jr!=null&&Jr.closed){if(Jr=window.open(e,"_blank"),!Jr)throw new Error("Tab failed to open (was it blocked by the browser?)")}else n3!==e&&Jr.location.replace(e),Jr.focus();return n3=e,[Jr,()=>{Jr&&!Jr.closed&&Jr.close(),Jr=null}]}const qj=()=>typeof window>"u",jj=()=>{try{return{can:!qj(),get:async t=>JSON.parse(sessionStorage.getItem(t)),put:async(t,r)=>sessionStorage.setItem(t,JSON.stringify(r))}}catch{return null}},Hj=()=>({"discovery.wallet.method.default":"IFRAME/RPC","fcl.storage.default":jj()}),Mo=()=>{};function Kj(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null)return{send:Mo,close:Mo};const r=t.onClose||Mo,n=t.onMessage||Mo,i=t.onReady||Mo,s=t.onResponse||Mo,o=t.onCustomRpc||Mo;let a,u;const c=lh({close:f,send:h,onReady:i,onResponse:s,onMessage:n,onCustomRpc:o,getSource:()=>a});return window.addEventListener("message",c),[a,u]=zE(bl(e)),{send:h,close:f};function f(){try{window.removeEventListener("message",c),u(),r()}catch(y){console.error("Frame Close Error",y)}}function h(y){try{a.postMessage(JSON.parse(JSON.stringify(y||{})),"*")}catch(v){console.error("Frame Send Error",y,v)}}}const sa="1.12.1";function Gj(e){let{service:t,body:r,config:n,customRpc:i,abortSignal:s,opts:o}=e;return new Promise((a,u)=>{const c=Bm(),f=o.includeOlderJsonRpcCall,{close:h}=Kj(t,{async onReady(y,v){let{send:w}=v;try{w({type:"FCL:VIEW:READY:RESPONSE",fclVersion:sa,body:r,service:{params:t.params,data:t.data,type:t.type},config:n}),w({fclVersion:sa,type:"FCL:FRAME:READY:RESPONSE",body:r,service:{params:t.params,data:t.data,type:t.type},config:n,deprecated:{message:"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),f&&w({jsonrpc:"2.0",id:c,method:"fcl:sign",params:[r,t.params],deprecated:{message:"jsonrpc is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),i==null||i.connect({send:C=>{w({type:"FCL:VIEW:CUSTOM_RPC",payload:C})}})}catch(C){throw C}},onResponse(y,v){let{close:w}=v;try{if(typeof y.data!="object")return;const C=qi(y.data);switch(C.status){case"APPROVED":a(C.data),w();break;case"DECLINED":u(`Declined: ${C.reason||"No reason supplied"}`),w();break;case"REDIRECT":a(C),w();break;default:u("Declined: No reason supplied"),w();break}}catch(C){throw console.error("execIframeRPC onResponse error",C),C}},onMessage(y,v){let{close:w}=v;try{if(typeof y.data!="object"||y.data.jsonrpc!=="2.0"||y.data.id!==c)return;const C=qi(y.data.result);switch(C.status){case"APPROVED":a(C.data),w();break;case"DECLINED":u(`Declined: ${C.reason||"No reason supplied"}`),w();break;case"REDIRECT":a(C),w();break;default:u("Declined: No reason supplied"),w();break}}catch(C){throw console.error("execIframeRPC onMessage error",C),C}},onClose(){u("Declined: Externally Halted")},onCustomRpc(y){i==null||i.receive(y)}});s&&(s.aborted&&(u("Declined: Aborted"),h()),s.addEventListener("abort",()=>{u("Declined: Aborted"),h()}))})}const Ro=()=>{};function Vj(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null)return{send:Ro,close:Ro};const r=t.onClose||Ro,n=t.onMessage||Ro,i=t.onReady||Ro,s=t.onResponse||Ro,o=t.onCustomRpc||Ro;let a,u;const c=lh({close:h,send:y,onReady:i,onResponse:s,onMessage:n,onCustomRpc:o,getSource:()=>a});window.addEventListener("message",c),[a,u]=qE(bl(e));const f=setInterval(function(){a&&a.closed&&h()},500);return{send:y,close:h};function h(){try{window.removeEventListener("message",c),clearInterval(f),u(),r()}catch(v){console.error("Popup Close Error",v)}}function y(v){try{a.postMessage(JSON.parse(JSON.stringify(v||{})),"*")}catch(w){console.error("Popup Send Error",v,w)}}}function Wj(e){let{service:t,body:r,config:n,abortSignal:i,customRpc:s,opts:o}=e;return new Promise((a,u)=>{const c=Bm(),{redir:f,includeOlderJsonRpcCall:h}=o,{close:y}=Vj(t,{customRpc:s,async onReady(v,w){let{send:C}=w;try{C({fclVersion:sa,type:"FCL:VIEW:READY:RESPONSE",body:r,service:{params:t.params,data:t.data,type:t.type},config:n}),C({fclVersion:sa,type:"FCL:FRAME:READY:RESPONSE",body:r,service:{params:t.params,data:t.data,type:t.type},config:n,deprecated:{message:"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),h&&C({jsonrpc:"2.0",id:c,method:"fcl:sign",params:[r,t.params]}),s==null||s.connect({send:N=>{C({type:"FCL:VIEW:CUSTOM_RPC",payload:N})}})}catch(N){throw N}},onResponse(v,w){let{close:C}=w;try{if(typeof v.data!="object")return;const N=qi(v.data);switch(N.status){case"APPROVED":a(N.data),!f&&C();break;case"DECLINED":u(`Declined: ${N.reason||"No reason supplied"}`),C();break;case"REDIRECT":a(N),C();break;default:u("Declined: No reason supplied"),C();break}}catch(N){throw console.error("execPopRPC onResponse error",N),N}},onMessage(v,w){let{close:C}=w;try{if(typeof v.data!="object"||v.data.jsonrpc!=="2.0"||v.data.id!==c)return;const N=qi(v.data.result);switch(N.status){case"APPROVED":a(N.data),!f&&C();break;case"DECLINED":u(`Declined: ${N.reason||"No reason supplied"}`),C();break;case"REDIRECT":a(N),C();break;default:u("Declined: No reason supplied"),C();break}}catch(N){throw console.error("execPopRPC onMessage error",N),N}},onClose(){u("Declined: Externally Halted")},onCustomRpc(v){s==null||s.receive(v)}});i&&(i.aborted&&(u("Declined: Aborted"),y()),i.addEventListener("abort",()=>{u("Declined: Aborted"),y()}))})}const Co=()=>{};function Yj(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null)return{send:Co,close:Co};const r=t.onClose||Co,n=t.onMessage||Co,i=t.onReady||Co,s=t.onResponse||Co,o=t.onCustomRpc||Co;let a,u;const c=lh({close:h,send:y,onReady:i,onResponse:s,onMessage:n,onCustomRpc:o,getSource:()=>a});window.addEventListener("message",c),[a,u]=jE(bl(e));const f=setInterval(function(){a&&a.closed&&h()},500);return{send:y,close:h};function h(){try{window.removeEventListener("message",c),clearInterval(f),u(),r()}catch(v){console.error("Tab Close Error",v)}}function y(v){try{a.postMessage(JSON.parse(JSON.stringify(v||{})),"*")}catch(w){console.error("Tab Send Error",v,w)}}}function Qj(e){let{service:t,body:r,config:n,abortSignal:i,customRpc:s,opts:o}=e;return new Promise((a,u)=>{const c=Bm(),{redir:f,includeOlderJsonRpcCall:h}=o,{close:y}=Yj(t,{customRpc:s,async onReady(v,w){let{send:C}=w;try{C({fclVersion:sa,type:"FCL:VIEW:READY:RESPONSE",body:r,service:{params:t.params,data:t.data,type:t.type},config:n}),C({fclVersion:sa,type:"FCL:FRAME:READY:RESPONSE",body:r,service:{params:t.params,data:t.data,type:t.type},config:n,deprecated:{message:"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),h&&C({jsonrpc:"2.0",id:c,method:"fcl:sign",params:[r,t.params]}),s==null||s.connect({send:N=>{C({type:"FCL:VIEW:CUSTOM_RPC",payload:N})}})}catch(N){throw N}},onResponse(v,w){let{close:C}=w;try{if(typeof v.data!="object")return;const N=qi(v.data);switch(N.status){case"APPROVED":a(N.data),!f&&C();break;case"DECLINED":u(`Declined: ${N.reason||"No reason supplied"}`),C();break;case"REDIRECT":a(N),C();break;default:u("Declined: No reason supplied"),C();break}}catch(N){throw console.error("execPopRPC onResponse error",N),N}},onMessage(v,w){let{close:C}=w;try{if(typeof v.data!="object"||v.data.jsonrpc!=="2.0"||v.data.id!==c)return;const N=qi(v.data.result);switch(N.status){case"APPROVED":a(N.data),!f&&C();break;case"DECLINED":u(`Declined: ${N.reason||"No reason supplied"}`),C();break;case"REDIRECT":a(N),C();break;default:u("Declined: No reason supplied"),C();break}}catch(N){throw console.error("execPopRPC onMessage error",N),N}},onClose(){u("Declined: Externally Halted")},onCustomRpc(v){s==null||s.receive(v)}});i&&(i.aborted&&(y(),u("Declined: Aborted")),i.addEventListener("abort",()=>{y(),u("Declined: Aborted")}))})}const Do=()=>{};function Jj(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null)return{send:Do,close:Do};const r=t.onClose||Do,n=t.onMessage||Do,i=t.onReady||Do,s=t.onResponse||Do,o=t.onCustomRpc||Do,a=lh({close:u,send:c,onReady:i,onResponse:s,onMessage:n,onCustomRpc:o});return window.addEventListener("message",a),c({service:e}),{send:c,close:u};function u(){try{window.removeEventListener("message",a),r()}catch(f){console.error("Ext Close Error",f)}}function c(f){try{window&&window.postMessage(JSON.parse(JSON.stringify(f||{})),"*")}catch(h){console.error("Ext Send Error",f,h)}}}function Xj(e){let{service:t,body:r,config:n,abortSignal:i,customRpc:s,opts:o}=e;return new Promise((a,u)=>{const{close:c}=Jj(t,{async onReady(f,h){let{send:y}=h;try{y({fclVersion:sa,type:"FCL:VIEW:READY:RESPONSE",body:r,service:{params:t.params,data:t.data,type:t.type},config:n}),s==null||s.connect({send:v=>{y({type:"FCL:VIEW:CUSTOM_RPC",body:v})}})}catch(v){throw v}},onResponse(f,h){let{close:y}=h;try{if(typeof f.data!="object")return;const v=qi(f.data);switch(v.status){case"APPROVED":a(v.data),y();break;case"DECLINED":u(`Declined: ${v.reason||"No reason supplied"}`),y();break;case"REDIRECT":a(v),y();break;default:u("Declined: No reason supplied"),y();break}}catch(v){throw console.error("execExtRPC onResponse error",v),v}},onClose(){u("Declined: Externally Halted")},onCustomRpc(f){s==null||s.receive(f)}});i&&(i.aborted&&(c(),u("Declined: Aborted")),i.addEventListener("abort",()=>{c(),u("Declined: Aborted")}))})}const i3=()=>{throw new Error("Strategy util has not been implemented on this platform")},Zj={"VIEW/IFRAME":zE,"VIEW/POP":qE,"VIEW/TAB":jE,"VIEW/MOBILE_BROWSER":i3,"VIEW/DEEPLINK":i3};async function s3(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{serviceEndpoint:()=>{}};const{serviceEndpoint:r}=t;try{return Zj[e.method](r(e),t)}catch(n){throw console.error("execLocal({service, opts = {}})",n,{service:e,opts:t}),n}}const eH={[bn["HTTP/RPC"]]:Uv(s3),[bn["HTTP/POST"]]:Uv(s3),[bn["IFRAME/RPC"]]:Gj,[bn["POP/RPC"]]:Wj,[bn["TAB/RPC"]]:Qj,[bn["EXT/RPC"]]:Xj},tH=typeof window>"u",rH=e=>{const t=e["app.detail.title"],r=e["app.detail.icon"],n=e["app.detail.description"],i=e["app.detail.url"];return{name:t??document.title,description:n??"",url:i??window.location.origin,icons:r?[r]:[]}};function nH(){if(tH)return;let e=null,t=!1;Be.subscribe(async r=>{const n={"walletconnect.projectId":r["walletconnect.projectId"],"app.detail.title":r["app.detail.title"],"app.detail.icon":r["app.detail.icon"],"app.detail.description":r["app.detail.description"],"app.detail.url":r["app.detail.url"]},i=n["walletconnect.projectId"],s=e;if(e=JSON.stringify(n,null,2),t){s!==e&&console.warn(`FCL WalletConnect Plugin has been already loaded with different configuration. It is not possible to change the configuration after the plugin has been loaded.

Previous configuration:
${s}

Current configuration:
${e}`);return}if(!!!i)return;if(se(!!i,"FCL Configuration value for 'walletconnect.projectId' is required"),Dv.getPlugins().has(LE)){t||console.warn("It seems like the FCL WalletConnect plugins has been already loaded manually. This is no longer necessary, please see the documentation for more information."),t=!0;return}t=!0;const{clientPromise:a,FclWcServicePlugin:u}=Rj({projectId:i,metadata:rH(n)});Dv.add([u])})}const HE={execStrategy:Lj},L1=dR({platform:"web",discovery:HE}),Es=a4({platform:"web",discovery:HE}),KE=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Es().authenticate(e)},iH=()=>Es().unauthenticate();Es().authorization;Be(Hj());e4({coreStrategies:eH});nH();const sH=new dm.ec("p256");let GE="";fetch("challenge_bot.pkey").then(e=>e.text()).then(e=>{GE=e}).catch(e=>console.error(e));const oH=e=>{const t=new X6.SHA3(256);return t.update(pt.Buffer.from(e,"hex")),t.digest()};function aH(e){const r=sH.keyFromPrivate(pt.Buffer.from(GE,"hex")).sign(oH(e)),n=32,i=r.r.toArrayLike(pt.Buffer,"be",n),s=r.s.toArrayLike(pt.Buffer,"be",n);return pt.Buffer.concat([i,s]).toString("hex")}const o3=({message:e,addr:t,keyId:r,roles:{proposer:n,authorizer:i,payer:s},voucher:o})=>({addr:t,keyId:r,signature:aH(e)}),U1="0xcc31d33a54094cb3",nu=async e=>({...e},{...e,addr:U1,keyId:0,signingFunction:o3});function uH(){const[e,t]=oo.useState(""),r="universal",n=async()=>{try{const i=await L1({cadence:`
                    #allowAccountLinking

                    transaction {
                        prepare(signer: auth(IssueAccountCapabilityController, PublishInboxCapability) &Account) {
                        
                            // Issue a fully-entitled account capability
                            let capability = signer.capabilities
                                .account
                                .issue<auth(Storage, Contracts, Keys, Inbox, Capabilities) &Account>()
                                
                            // Publish the capability for the specified recipient
                            signer.inbox.publish(capability, name: "${r}", recipient: 0xcc31d33a54094cb3)
                        }
                    }`,args:()=>[],proposer:Es,payer:Es,authorizations:[Es]}),s=await Rs(i).onceSealed();console.log(s);const o=(await Es().snapshot()).addr,a=await L1({cadence:`
                    transaction {
                        prepare(signer: auth(ClaimInboxCapability, SaveValue) &Account) {
                            let capabilityName = "${r}"
                            let providerAddress:Address = ${o}
                            // Claim the capability published by the web app account
                            let capability = signer.inbox
                                .claim<auth(Storage, Contracts, Keys, Inbox, Capabilities) &Account>(
                                    capabilityName,
                                    provider: providerAddress
                                ) ?? panic(
                                    "Capability with name ".concat(capabilityName)
                                    .concat(" from provider ").concat(providerAddress.toString())
                                    .concat(" not found")
                                )
                            
                            signer.storage.save(capability, to: StoragePath(identifier: "${o}")!)
                        }
                    }`,args:()=>[],proposer:nu,payer:nu,authorizations:[nu]}),u=await Rs(a).onceSealed();console.log(u),t(`Account linked successfully. Transaction ID: ${a}`)}catch(i){console.error("Error linking account: ",i),t("Error linking account.")}};return kr.jsxs("div",{children:[kr.jsx("button",{onClick:n,children:"Link Account for Signing"}),kr.jsx("p",{children:e})]})}const np={testnet:{accessNode:"https://rest-testnet.onflow.org",discoveryWallet:"https://fcl-discovery.onflow.org/testnet/authn",discoveryAuthnEndpoint:"https://fcl-discovery.onflow.org/api/testnet/authn"},mainnet:{accessNode:"https://rest-mainnet.onflow.org",discoveryWallet:"https://fcl-discovery.onflow.org/authn",discoveryAuthnEndpoint:"https://fcl-discovery.onflow.org/api/authn"}},vf="testnet",cH="e3624d56cc1e2e09d8955265c4238290";Be({"app.detail.title":"Test DApp","app.detail.icon":"","flow.network":vf,"accessNode.api":np[vf].accessNode,"discovery.wallet":np[vf].discoveryWallet,"discovery.authn.endpoint":np[vf].discoveryAuthnEndpoint,"walletconnect.projectId":cH});function lH(){oo.useEffect(()=>{KE().catch(console.error)},[]);const[e,t]=oo.useState({sealed:!1,id:""}),r=async()=>{try{const n=(await Es().snapshot()).addr,o=await L1({cadence:`
                    import FungibleToken from 0x9a0766d93b6608b7
                    import FlowToken from 0x7e60df042a9c0868
                    
    
                    transaction(amount: UFix64, to: Address) {
                        // The Vault resource that holds the tokens that are being transferred
                        let sentVault: @{FungibleToken.Vault}
                    
                        prepare (signer: auth(Capabilities, LoadValue) &Account) {
                            
                            let capability = signer.storage.load<Capability<auth(Storage, Contracts, Keys, Inbox, Capabilities) &Account>>(from: StoragePath(identifier: "${n}")!)!
                            
                            let vaultRef = capability.borrow()!.storage.borrow<auth(FungibleToken.Withdraw) &FlowToken.Vault>(from: /storage/flowTokenVault)!
                            
                            // let vaultRef = capability.borrow<auth(FungibleToken.Withdraw) &FlowToken.Vault>(/storage/flowTokenVault)!

                            self.sentVault <- vaultRef.withdraw(amount: amount)                      
                        }
                        
                        execute {
                            
                            // Get a reference to the recipient's Receiver
                            let receiverRef = getAccount(to)
                                .capabilities
                                .borrow<&{FungibleToken.Receiver}>(/public/flowTokenReceiver) 
                                ?? panic("Could not borrow receiver reference to the recipient's Vault")
                    
                            // Deposit the withdrawn tokens in the recipient's receiver
                            receiverRef.deposit(from: <-self.sentVault)
                        }
                    }
                `,args:(u,c)=>[u(.5,c.UFix64),u(U1,c.Address)],proposer:nu,payer:nu,authorizations:[nu]}),a=await Rs(o).onceSealed();console.log("Success!"),console.log("Transaction"),console.log(a),console.log(`Transaction ID: ${o}`),t({sealed:!0,id:o})}catch(n){t({sealed:!1,id:"Transaction failed"}),console.error("Error while executing transaction: ",n)}};return kr.jsxs("div",{className:"Transaction",children:[kr.jsx("button",{onClick:r,children:"Send Transaction!"}),kr.jsxs("p",{children:["Transaction ID: ",e.id]}),kr.jsxs("p",{children:["Transaction Sealed: ",e.sealed?"Yes":"No"]})]})}function fH(){const[e,t]=oo.useState({loggedIn:!1,addr:""});return oo.useEffect(()=>{Es.subscribe(t)},[]),kr.jsxs("div",{className:"App",children:[kr.jsx("button",{onClick:KE,children:"Log In"}),kr.jsx("button",{onClick:iH,children:"Log Out"}),kr.jsx("p",{children:e.loggedIn?`Welcome, ${e.addr}!`:"Please log in."}),e.loggedIn&&kr.jsx(uH,{}),e.loggedIn&&kr.jsx(lH,{})]})}w6(document.getElementById("root")).render(kr.jsx(oo.StrictMode,{children:kr.jsx(fH,{})}));export{ER as _};
